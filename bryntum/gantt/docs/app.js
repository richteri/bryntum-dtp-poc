window.guides={Customization:{Localization:"guides/customization/localization.md","Rendering and styling":"guides/customization/rendering_and_styling.md",Responsive:"guides/customization/responsive.md"},Integration:{Angular:"guides/integration/angular.md",React:"guides/integration/react.md",Vue:"guides/integration/vue.md"},Grid:{Columns:"guides/grid/columns.md",Features:"guides/grid/features.md"},Introduction:"guides/readme.md","Getting started":"guides/getting_started.md","Project data":"guides/project_data.md",Calendars:"guides/calendars.md","Enabling features":"guides/features.md","Crud manager":"guides/crud_manager.md",Licenses:"guides/licenses.md","What's New":{"2.0.0":"guides/upgrades/2.0.0.md","2.1.0":"guides/upgrades/2.1.0.md","2.1.6":"guides/upgrades/2.1.6.md"}};(function(){function g(g){"use strict";var A={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `Â«Â«Â«` and `Â»Â»Â»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===g)return JSON.parse(JSON.stringify(A));var C={};for(var I in A)A.hasOwnProperty(I)&&(C[I]=A[I].defaultValue);return C}function A(g,A){"use strict";var C=A?"Error in "+A+" extension->":"Error in unnamed extension",e={valid:!0,error:""};I.helper.isArray(g)||(g=[g]);for(var r=0;r<g.length;++r){var t=C+" sub-extension "+r+": ",a=g[r];if("object"!=typeof a)return e.valid=!1,e.error=t+"must be an object, but "+typeof a+" given",e;if(!I.helper.isString(a.type))return e.valid=!1,e.error=t+'property "type" must be a string, but '+typeof a.type+" given",e;var n=a.type=a.type.toLowerCase();if("language"===n&&(n=a.type="lang"),"html"===n&&(n=a.type="output"),"lang"!==n&&"output"!==n&&"listener"!==n)return e.valid=!1,e.error=t+"type "+n+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',e;if("listener"===n){if(I.helper.isUndefined(a.listeners))return e.valid=!1,e.error=t+'. Extensions of type "listener" must have a property called "listeners"',e}else if(I.helper.isUndefined(a.filter)&&I.helper.isUndefined(a.regex))return e.valid=!1,e.error=t+n+' extensions must define either a "regex" property or a "filter" method',e;if(a.listeners){if("object"!=typeof a.listeners)return e.valid=!1,e.error=t+'"listeners" property must be an object but '+typeof a.listeners+" given",e;for(var o in a.listeners)if(a.listeners.hasOwnProperty(o)&&"function"!=typeof a.listeners[o])return e.valid=!1,e.error=t+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+o+" must be a function but "+typeof a.listeners[o]+" given",e}if(a.filter){if("function"!=typeof a.filter)return e.valid=!1,e.error=t+'"filter" must be a function, but '+typeof a.filter+" given",e}else if(a.regex){if(I.helper.isString(a.regex)&&(a.regex=new RegExp(a.regex,"g")),!(a.regex instanceof RegExp))return e.valid=!1,e.error=t+'"regex" property must either be a string or a RegExp object, but '+typeof a.regex+" given",e;if(I.helper.isUndefined(a.replace))return e.valid=!1,e.error=t+'"regex" extensions must implement a replace string or function',e}}return e}function C(g,A){"use strict";return"Â¨E"+A.charCodeAt(0)+"E"}var I={},e={},r={},t=g(!0),a="vanilla",n={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:g(!0),allOn:function(){"use strict";var A=g(!0),C={};for(var I in A)A.hasOwnProperty(I)&&(C[I]=!0);return C}()};I.helper={},I.extensions={},I.setOption=function(g,A){"use strict";return t[g]=A,this},I.getOption=function(g){"use strict";return t[g]},I.getOptions=function(){"use strict";return t},I.resetOptions=function(){"use strict";t=g(!0)},I.setFlavor=function(g){"use strict";if(!n.hasOwnProperty(g))throw Error(g+" flavor was not found");I.resetOptions();var A=n[g];a=g;for(var C in A)A.hasOwnProperty(C)&&(t[C]=A[C])},I.getFlavor=function(){"use strict";return a},I.getFlavorOptions=function(g){"use strict";if(n.hasOwnProperty(g))return n[g]},I.getDefaultOptions=function(A){"use strict";return g(A)},I.subParser=function(g,A){"use strict";if(I.helper.isString(g)){if(void 0===A){if(e.hasOwnProperty(g))return e[g];throw Error("SubParser named "+g+" not registered!")}e[g]=A}},I.extension=function(g,C){"use strict";if(!I.helper.isString(g))throw Error("Extension 'name' must be a string");if(g=I.helper.stdExtName(g),I.helper.isUndefined(C)){if(!r.hasOwnProperty(g))throw Error("Extension named "+g+" is not registered!");return r[g]}"function"==typeof C&&(C=C()),I.helper.isArray(C)||(C=[C]);var e=A(C,g);if(!e.valid)throw Error(e.error);r[g]=C},I.getAllExtensions=function(){"use strict";return r},I.removeExtension=function(g){"use strict";delete r[g]},I.resetExtensions=function(){"use strict";r={}},I.validateExtension=function(g){"use strict";var C=A(g,null);return!!C.valid||(console.warn(C.error),!1)},I.hasOwnProperty("helper")||(I.helper={}),I.helper.isString=function(g){"use strict";return"string"==typeof g||g instanceof String},I.helper.isFunction=function(g){"use strict";return g&&"[object Function]"==={}.toString.call(g)},I.helper.isArray=function(g){"use strict";return Array.isArray(g)},I.helper.isUndefined=function(g){"use strict";return void 0===g},I.helper.forEach=function(g,A){"use strict";if(I.helper.isUndefined(g))throw new Error("obj param is required");if(I.helper.isUndefined(A))throw new Error("callback param is required");if(!I.helper.isFunction(A))throw new Error("callback param must be a function/closure");if("function"==typeof g.forEach)g.forEach(A);else if(I.helper.isArray(g))for(var C=0;C<g.length;C++)A(g[C],C,g);else{if("object"!=typeof g)throw new Error("obj does not seem to be an array or an iterable object");for(var e in g)g.hasOwnProperty(e)&&A(g[e],e,g)}},I.helper.stdExtName=function(g){"use strict";return g.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},I.helper.escapeCharactersCallback=C,I.helper.escapeCharacters=function(g,A,I){"use strict";var e="(["+A.replace(/([\[\]\\])/g,"\\$1")+"])";I&&(e="\\\\"+e);var r=new RegExp(e,"g");return g=g.replace(r,C)};var o=function(g,A,C,I){"use strict";var e,r,t,a,n,o=I||"",s=o.indexOf("g")>-1,i=new RegExp(A+"|"+C,"g"+o.replace(/g/g,"")),l=new RegExp(A,o.replace(/g/g,"")),c=[];do{for(e=0;t=i.exec(g);)if(l.test(t[0]))e++||(a=(r=i.lastIndex)-t[0].length);else if(e&&!--e){n=t.index+t[0].length;var u={left:{start:a,end:r},match:{start:r,end:t.index},right:{start:t.index,end:n},wholeMatch:{start:a,end:n}};if(c.push(u),!s)return c}}while(e&&(i.lastIndex=r));return c};I.helper.matchRecursiveRegExp=function(g,A,C,I){"use strict";for(var e=o(g,A,C,I),r=[],t=0;t<e.length;++t)r.push([g.slice(e[t].wholeMatch.start,e[t].wholeMatch.end),g.slice(e[t].match.start,e[t].match.end),g.slice(e[t].left.start,e[t].left.end),g.slice(e[t].right.start,e[t].right.end)]);return r},I.helper.replaceRecursiveRegExp=function(g,A,C,e,r){"use strict";if(!I.helper.isFunction(A)){var t=A;A=function(){return t}}var a=o(g,C,e,r),n=g,s=a.length;if(s>0){var i=[];0!==a[0].wholeMatch.start&&i.push(g.slice(0,a[0].wholeMatch.start));for(var l=0;l<s;++l)i.push(A(g.slice(a[l].wholeMatch.start,a[l].wholeMatch.end),g.slice(a[l].match.start,a[l].match.end),g.slice(a[l].left.start,a[l].left.end),g.slice(a[l].right.start,a[l].right.end))),l<s-1&&i.push(g.slice(a[l].wholeMatch.end,a[l+1].wholeMatch.start));a[s-1].wholeMatch.end<g.length&&i.push(g.slice(a[s-1].wholeMatch.end)),n=i.join("")}return n},I.helper.regexIndexOf=function(g,A,C){"use strict";if(!I.helper.isString(g))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(A instanceof RegExp==!1)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var e=g.substring(C||0).search(A);return e>=0?e+(C||0):e},I.helper.splitAtIndex=function(g,A){"use strict";if(!I.helper.isString(g))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[g.substring(0,A),g.substring(A)]},I.helper.encodeEmailAddress=function(g){"use strict";var A=[function(g){return"&#"+g.charCodeAt(0)+";"},function(g){return"&#x"+g.charCodeAt(0).toString(16)+";"},function(g){return g}];return g=g.replace(/./g,function(g){if("@"===g)g=A[Math.floor(2*Math.random())](g);else{var C=Math.random();g=C>.9?A[2](g):C>.45?A[1](g):A[0](g)}return g})},"undefined"==typeof console&&(console={warn:function(g){"use strict";alert(g)},log:function(g){"use strict";alert(g)},error:function(g){"use strict";throw g}}),I.helper.regexes={asteriskDashAndColon:/([*_:~])/g},I.helper.emojis={"+1":"ğŸ‘","-1":"ğŸ‘",100:"ğŸ’¯",1234:"ğŸ”¢","1st_place_medal":"ğŸ¥‡","2nd_place_medal":"ğŸ¥ˆ","3rd_place_medal":"ğŸ¥‰","8ball":"ğŸ±",a:"ğŸ…°ï¸",ab:"ğŸ†",abc:"ğŸ”¤",abcd:"ğŸ”¡",accept:"ğŸ‰‘",aerial_tramway:"ğŸš¡",airplane:"âœˆï¸",alarm_clock:"â°",alembic:"âš—ï¸",alien:"ğŸ‘½",ambulance:"ğŸš‘",amphora:"ğŸº",anchor:"âš“ï¸",angel:"ğŸ‘¼",anger:"ğŸ’¢",angry:"ğŸ˜ ",anguished:"ğŸ˜§",ant:"ğŸœ",apple:"ğŸ",aquarius:"â™’ï¸",aries:"â™ˆï¸",arrow_backward:"â—€ï¸",arrow_double_down:"â¬",arrow_double_up:"â«",arrow_down:"â¬‡ï¸",arrow_down_small:"ğŸ”½",arrow_forward:"â–¶ï¸",arrow_heading_down:"â¤µï¸",arrow_heading_up:"â¤´ï¸",arrow_left:"â¬…ï¸",arrow_lower_left:"â†™ï¸",arrow_lower_right:"â†˜ï¸",arrow_right:"â¡ï¸",arrow_right_hook:"â†ªï¸",arrow_up:"â¬†ï¸",arrow_up_down:"â†•ï¸",arrow_up_small:"ğŸ”¼",arrow_upper_left:"â†–ï¸",arrow_upper_right:"â†—ï¸",arrows_clockwise:"ğŸ”ƒ",arrows_counterclockwise:"ğŸ”„",art:"ğŸ¨",articulated_lorry:"ğŸš›",artificial_satellite:"ğŸ›°",astonished:"ğŸ˜²",athletic_shoe:"ğŸ‘Ÿ",atm:"ğŸ§",atom_symbol:"âš›ï¸",avocado:"ğŸ¥‘",b:"ğŸ…±ï¸",baby:"ğŸ‘¶",baby_bottle:"ğŸ¼",baby_chick:"ğŸ¤",baby_symbol:"ğŸš¼",back:"ğŸ”™",bacon:"ğŸ¥“",badminton:"ğŸ¸",baggage_claim:"ğŸ›„",baguette_bread:"ğŸ¥–",balance_scale:"âš–ï¸",balloon:"ğŸˆ",ballot_box:"ğŸ—³",ballot_box_with_check:"â˜‘ï¸",bamboo:"ğŸ",banana:"ğŸŒ",bangbang:"â€¼ï¸",bank:"ğŸ¦",bar_chart:"ğŸ“Š",barber:"ğŸ’ˆ",baseball:"âš¾ï¸",basketball:"ğŸ€",basketball_man:"â›¹ï¸",basketball_woman:"â›¹ï¸&zwj;â™€ï¸",bat:"ğŸ¦‡",bath:"ğŸ›€",bathtub:"ğŸ›",battery:"ğŸ”‹",beach_umbrella:"ğŸ–",bear:"ğŸ»",bed:"ğŸ›",bee:"ğŸ",beer:"ğŸº",beers:"ğŸ»",beetle:"ğŸ",beginner:"ğŸ”°",bell:"ğŸ””",bellhop_bell:"ğŸ›",bento:"ğŸ±",biking_man:"ğŸš´",bike:"ğŸš²",biking_woman:"ğŸš´&zwj;â™€ï¸",bikini:"ğŸ‘™",biohazard:"â˜£ï¸",bird:"ğŸ¦",birthday:"ğŸ‚",black_circle:"âš«ï¸",black_flag:"ğŸ´",black_heart:"ğŸ–¤",black_joker:"ğŸƒ",black_large_square:"â¬›ï¸",black_medium_small_square:"â—¾ï¸",black_medium_square:"â—¼ï¸",black_nib:"âœ’ï¸",black_small_square:"â–ªï¸",black_square_button:"ğŸ”²",blonde_man:"ğŸ‘±",blonde_woman:"ğŸ‘±&zwj;â™€ï¸",blossom:"ğŸŒ¼",blowfish:"ğŸ¡",blue_book:"ğŸ“˜",blue_car:"ğŸš™",blue_heart:"ğŸ’™",blush:"ğŸ˜Š",boar:"ğŸ—",boat:"â›µï¸",bomb:"ğŸ’£",book:"ğŸ“–",bookmark:"ğŸ”–",bookmark_tabs:"ğŸ“‘",books:"ğŸ“š",boom:"ğŸ’¥",boot:"ğŸ‘¢",bouquet:"ğŸ’",bowing_man:"ğŸ™‡",bow_and_arrow:"ğŸ¹",bowing_woman:"ğŸ™‡&zwj;â™€ï¸",bowling:"ğŸ³",boxing_glove:"ğŸ¥Š",boy:"ğŸ‘¦",bread:"ğŸ",bride_with_veil:"ğŸ‘°",bridge_at_night:"ğŸŒ‰",briefcase:"ğŸ’¼",broken_heart:"ğŸ’”",bug:"ğŸ›",building_construction:"ğŸ—",bulb:"ğŸ’¡",bullettrain_front:"ğŸš…",bullettrain_side:"ğŸš„",burrito:"ğŸŒ¯",bus:"ğŸšŒ",business_suit_levitating:"ğŸ•´",busstop:"ğŸš",bust_in_silhouette:"ğŸ‘¤",busts_in_silhouette:"ğŸ‘¥",butterfly:"ğŸ¦‹",cactus:"ğŸŒµ",cake:"ğŸ°",calendar:"ğŸ“†",call_me_hand:"ğŸ¤™",calling:"ğŸ“²",camel:"ğŸ«",camera:"ğŸ“·",camera_flash:"ğŸ“¸",camping:"ğŸ•",cancer:"â™‹ï¸",candle:"ğŸ•¯",candy:"ğŸ¬",canoe:"ğŸ›¶",capital_abcd:"ğŸ” ",capricorn:"â™‘ï¸",car:"ğŸš—",card_file_box:"ğŸ—ƒ",card_index:"ğŸ“‡",card_index_dividers:"ğŸ—‚",carousel_horse:"ğŸ ",carrot:"ğŸ¥•",cat:"ğŸ±",cat2:"ğŸˆ",cd:"ğŸ’¿",chains:"â›“",champagne:"ğŸ¾",chart:"ğŸ’¹",chart_with_downwards_trend:"ğŸ“‰",chart_with_upwards_trend:"ğŸ“ˆ",checkered_flag:"ğŸ",cheese:"ğŸ§€",cherries:"ğŸ’",cherry_blossom:"ğŸŒ¸",chestnut:"ğŸŒ°",chicken:"ğŸ”",children_crossing:"ğŸš¸",chipmunk:"ğŸ¿",chocolate_bar:"ğŸ«",christmas_tree:"ğŸ„",church:"â›ªï¸",cinema:"ğŸ¦",circus_tent:"ğŸª",city_sunrise:"ğŸŒ‡",city_sunset:"ğŸŒ†",cityscape:"ğŸ™",cl:"ğŸ†‘",clamp:"ğŸ—œ",clap:"ğŸ‘",clapper:"ğŸ¬",classical_building:"ğŸ›",clinking_glasses:"ğŸ¥‚",clipboard:"ğŸ“‹",clock1:"ğŸ•",clock10:"ğŸ•™",clock1030:"ğŸ•¥",clock11:"ğŸ•š",clock1130:"ğŸ•¦",clock12:"ğŸ•›",clock1230:"ğŸ•§",clock130:"ğŸ•œ",clock2:"ğŸ•‘",clock230:"ğŸ•",clock3:"ğŸ•’",clock330:"ğŸ•",clock4:"ğŸ•“",clock430:"ğŸ•Ÿ",clock5:"ğŸ•”",clock530:"ğŸ• ",clock6:"ğŸ••",clock630:"ğŸ•¡",clock7:"ğŸ•–",clock730:"ğŸ•¢",clock8:"ğŸ•—",clock830:"ğŸ•£",clock9:"ğŸ•˜",clock930:"ğŸ•¤",closed_book:"ğŸ“•",closed_lock_with_key:"ğŸ”",closed_umbrella:"ğŸŒ‚",cloud:"â˜ï¸",cloud_with_lightning:"ğŸŒ©",cloud_with_lightning_and_rain:"â›ˆ",cloud_with_rain:"ğŸŒ§",cloud_with_snow:"ğŸŒ¨",clown_face:"ğŸ¤¡",clubs:"â™£ï¸",cocktail:"ğŸ¸",coffee:"â˜•ï¸",coffin:"âš°ï¸",cold_sweat:"ğŸ˜°",comet:"â˜„ï¸",computer:"ğŸ’»",computer_mouse:"ğŸ–±",confetti_ball:"ğŸŠ",confounded:"ğŸ˜–",confused:"ğŸ˜•",congratulations:"ãŠ—ï¸",construction:"ğŸš§",construction_worker_man:"ğŸ‘·",construction_worker_woman:"ğŸ‘·&zwj;â™€ï¸",control_knobs:"ğŸ›",convenience_store:"ğŸª",cookie:"ğŸª",cool:"ğŸ†’",policeman:"ğŸ‘®",copyright:"Â©ï¸",corn:"ğŸŒ½",couch_and_lamp:"ğŸ›‹",couple:"ğŸ‘«",couple_with_heart_woman_man:"ğŸ’‘",couple_with_heart_man_man:"ğŸ‘¨&zwj;â¤ï¸&zwj;ğŸ‘¨",couple_with_heart_woman_woman:"ğŸ‘©&zwj;â¤ï¸&zwj;ğŸ‘©",couplekiss_man_man:"ğŸ‘¨&zwj;â¤ï¸&zwj;ğŸ’‹&zwj;ğŸ‘¨",couplekiss_man_woman:"ğŸ’",couplekiss_woman_woman:"ğŸ‘©&zwj;â¤ï¸&zwj;ğŸ’‹&zwj;ğŸ‘©",cow:"ğŸ®",cow2:"ğŸ„",cowboy_hat_face:"ğŸ¤ ",crab:"ğŸ¦€",crayon:"ğŸ–",credit_card:"ğŸ’³",crescent_moon:"ğŸŒ™",cricket:"ğŸ",crocodile:"ğŸŠ",croissant:"ğŸ¥",crossed_fingers:"ğŸ¤",crossed_flags:"ğŸŒ",crossed_swords:"âš”ï¸",crown:"ğŸ‘‘",cry:"ğŸ˜¢",crying_cat_face:"ğŸ˜¿",crystal_ball:"ğŸ”®",cucumber:"ğŸ¥’",cupid:"ğŸ’˜",curly_loop:"â°",currency_exchange:"ğŸ’±",curry:"ğŸ›",custard:"ğŸ®",customs:"ğŸ›ƒ",cyclone:"ğŸŒ€",dagger:"ğŸ—¡",dancer:"ğŸ’ƒ",dancing_women:"ğŸ‘¯",dancing_men:"ğŸ‘¯&zwj;â™‚ï¸",dango:"ğŸ¡",dark_sunglasses:"ğŸ•¶",dart:"ğŸ¯",dash:"ğŸ’¨",date:"ğŸ“…",deciduous_tree:"ğŸŒ³",deer:"ğŸ¦Œ",department_store:"ğŸ¬",derelict_house:"ğŸš",desert:"ğŸœ",desert_island:"ğŸ",desktop_computer:"ğŸ–¥",male_detective:"ğŸ•µï¸",diamond_shape_with_a_dot_inside:"ğŸ’ ",diamonds:"â™¦ï¸",disappointed:"ğŸ˜",disappointed_relieved:"ğŸ˜¥",dizzy:"ğŸ’«",dizzy_face:"ğŸ˜µ",do_not_litter:"ğŸš¯",dog:"ğŸ¶",dog2:"ğŸ•",dollar:"ğŸ’µ",dolls:"ğŸ",dolphin:"ğŸ¬",door:"ğŸšª",doughnut:"ğŸ©",dove:"ğŸ•Š",dragon:"ğŸ‰",dragon_face:"ğŸ²",dress:"ğŸ‘—",dromedary_camel:"ğŸª",drooling_face:"ğŸ¤¤",droplet:"ğŸ’§",drum:"ğŸ¥",duck:"ğŸ¦†",dvd:"ğŸ“€","e-mail":"ğŸ“§",eagle:"ğŸ¦…",ear:"ğŸ‘‚",ear_of_rice:"ğŸŒ¾",earth_africa:"ğŸŒ",earth_americas:"ğŸŒ",earth_asia:"ğŸŒ",egg:"ğŸ¥š",eggplant:"ğŸ†",eight_pointed_black_star:"âœ´ï¸",eight_spoked_asterisk:"âœ³ï¸",electric_plug:"ğŸ”Œ",elephant:"ğŸ˜",email:"âœ‰ï¸",end:"ğŸ”š",envelope_with_arrow:"ğŸ“©",euro:"ğŸ’¶",european_castle:"ğŸ°",european_post_office:"ğŸ¤",evergreen_tree:"ğŸŒ²",exclamation:"â—ï¸",expressionless:"ğŸ˜‘",eye:"ğŸ‘",eye_speech_bubble:"ğŸ‘&zwj;ğŸ—¨",eyeglasses:"ğŸ‘“",eyes:"ğŸ‘€",face_with_head_bandage:"ğŸ¤•",face_with_thermometer:"ğŸ¤’",fist_oncoming:"ğŸ‘Š",factory:"ğŸ­",fallen_leaf:"ğŸ‚",family_man_woman_boy:"ğŸ‘ª",family_man_boy:"ğŸ‘¨&zwj;ğŸ‘¦",family_man_boy_boy:"ğŸ‘¨&zwj;ğŸ‘¦&zwj;ğŸ‘¦",family_man_girl:"ğŸ‘¨&zwj;ğŸ‘§",family_man_girl_boy:"ğŸ‘¨&zwj;ğŸ‘§&zwj;ğŸ‘¦",family_man_girl_girl:"ğŸ‘¨&zwj;ğŸ‘§&zwj;ğŸ‘§",family_man_man_boy:"ğŸ‘¨&zwj;ğŸ‘¨&zwj;ğŸ‘¦",family_man_man_boy_boy:"ğŸ‘¨&zwj;ğŸ‘¨&zwj;ğŸ‘¦&zwj;ğŸ‘¦",family_man_man_girl:"ğŸ‘¨&zwj;ğŸ‘¨&zwj;ğŸ‘§",family_man_man_girl_boy:"ğŸ‘¨&zwj;ğŸ‘¨&zwj;ğŸ‘§&zwj;ğŸ‘¦",family_man_man_girl_girl:"ğŸ‘¨&zwj;ğŸ‘¨&zwj;ğŸ‘§&zwj;ğŸ‘§",family_man_woman_boy_boy:"ğŸ‘¨&zwj;ğŸ‘©&zwj;ğŸ‘¦&zwj;ğŸ‘¦",family_man_woman_girl:"ğŸ‘¨&zwj;ğŸ‘©&zwj;ğŸ‘§",family_man_woman_girl_boy:"ğŸ‘¨&zwj;ğŸ‘©&zwj;ğŸ‘§&zwj;ğŸ‘¦",family_man_woman_girl_girl:"ğŸ‘¨&zwj;ğŸ‘©&zwj;ğŸ‘§&zwj;ğŸ‘§",family_woman_boy:"ğŸ‘©&zwj;ğŸ‘¦",family_woman_boy_boy:"ğŸ‘©&zwj;ğŸ‘¦&zwj;ğŸ‘¦",family_woman_girl:"ğŸ‘©&zwj;ğŸ‘§",family_woman_girl_boy:"ğŸ‘©&zwj;ğŸ‘§&zwj;ğŸ‘¦",family_woman_girl_girl:"ğŸ‘©&zwj;ğŸ‘§&zwj;ğŸ‘§",family_woman_woman_boy:"ğŸ‘©&zwj;ğŸ‘©&zwj;ğŸ‘¦",family_woman_woman_boy_boy:"ğŸ‘©&zwj;ğŸ‘©&zwj;ğŸ‘¦&zwj;ğŸ‘¦",family_woman_woman_girl:"ğŸ‘©&zwj;ğŸ‘©&zwj;ğŸ‘§",family_woman_woman_girl_boy:"ğŸ‘©&zwj;ğŸ‘©&zwj;ğŸ‘§&zwj;ğŸ‘¦",family_woman_woman_girl_girl:"ğŸ‘©&zwj;ğŸ‘©&zwj;ğŸ‘§&zwj;ğŸ‘§",fast_forward:"â©",fax:"ğŸ“ ",fearful:"ğŸ˜¨",feet:"ğŸ¾",female_detective:"ğŸ•µï¸&zwj;â™€ï¸",ferris_wheel:"ğŸ¡",ferry:"â›´",field_hockey:"ğŸ‘",file_cabinet:"ğŸ—„",file_folder:"ğŸ“",film_projector:"ğŸ“½",film_strip:"ğŸ",fire:"ğŸ”¥",fire_engine:"ğŸš’",fireworks:"ğŸ†",first_quarter_moon:"ğŸŒ“",first_quarter_moon_with_face:"ğŸŒ›",fish:"ğŸŸ",fish_cake:"ğŸ¥",fishing_pole_and_fish:"ğŸ£",fist_raised:"âœŠ",fist_left:"ğŸ¤›",fist_right:"ğŸ¤œ",flags:"ğŸ",flashlight:"ğŸ”¦",fleur_de_lis:"âšœï¸",flight_arrival:"ğŸ›¬",flight_departure:"ğŸ›«",floppy_disk:"ğŸ’¾",flower_playing_cards:"ğŸ´",flushed:"ğŸ˜³",fog:"ğŸŒ«",foggy:"ğŸŒ",football:"ğŸˆ",footprints:"ğŸ‘£",fork_and_knife:"ğŸ´",fountain:"â›²ï¸",fountain_pen:"ğŸ–‹",four_leaf_clover:"ğŸ€",fox_face:"ğŸ¦Š",framed_picture:"ğŸ–¼",free:"ğŸ†“",fried_egg:"ğŸ³",fried_shrimp:"ğŸ¤",fries:"ğŸŸ",frog:"ğŸ¸",frowning:"ğŸ˜¦",frowning_face:"â˜¹ï¸",frowning_man:"ğŸ™&zwj;â™‚ï¸",frowning_woman:"ğŸ™",middle_finger:"ğŸ–•",fuelpump:"â›½ï¸",full_moon:"ğŸŒ•",full_moon_with_face:"ğŸŒ",funeral_urn:"âš±ï¸",game_die:"ğŸ²",gear:"âš™ï¸",gem:"ğŸ’",gemini:"â™Šï¸",ghost:"ğŸ‘»",gift:"ğŸ",gift_heart:"ğŸ’",girl:"ğŸ‘§",globe_with_meridians:"ğŸŒ",goal_net:"ğŸ¥…",goat:"ğŸ",golf:"â›³ï¸",golfing_man:"ğŸŒï¸",golfing_woman:"ğŸŒï¸&zwj;â™€ï¸",gorilla:"ğŸ¦",grapes:"ğŸ‡",green_apple:"ğŸ",green_book:"ğŸ“—",green_heart:"ğŸ’š",green_salad:"ğŸ¥—",grey_exclamation:"â•",grey_question:"â”",grimacing:"ğŸ˜¬",grin:"ğŸ˜",grinning:"ğŸ˜€",guardsman:"ğŸ’‚",guardswoman:"ğŸ’‚&zwj;â™€ï¸",guitar:"ğŸ¸",gun:"ğŸ”«",haircut_woman:"ğŸ’‡",haircut_man:"ğŸ’‡&zwj;â™‚ï¸",hamburger:"ğŸ”",hammer:"ğŸ”¨",hammer_and_pick:"âš’",hammer_and_wrench:"ğŸ› ",hamster:"ğŸ¹",hand:"âœ‹",handbag:"ğŸ‘œ",handshake:"ğŸ¤",hankey:"ğŸ’©",hatched_chick:"ğŸ¥",hatching_chick:"ğŸ£",headphones:"ğŸ§",hear_no_evil:"ğŸ™‰",heart:"â¤ï¸",heart_decoration:"ğŸ’Ÿ",heart_eyes:"ğŸ˜",heart_eyes_cat:"ğŸ˜»",heartbeat:"ğŸ’“",heartpulse:"ğŸ’—",hearts:"â™¥ï¸",heavy_check_mark:"âœ”ï¸",heavy_division_sign:"â—",heavy_dollar_sign:"ğŸ’²",heavy_heart_exclamation:"â£ï¸",heavy_minus_sign:"â–",heavy_multiplication_x:"âœ–ï¸",heavy_plus_sign:"â•",helicopter:"ğŸš",herb:"ğŸŒ¿",hibiscus:"ğŸŒº",high_brightness:"ğŸ”†",high_heel:"ğŸ‘ ",hocho:"ğŸ”ª",hole:"ğŸ•³",honey_pot:"ğŸ¯",horse:"ğŸ´",horse_racing:"ğŸ‡",hospital:"ğŸ¥",hot_pepper:"ğŸŒ¶",hotdog:"ğŸŒ­",hotel:"ğŸ¨",hotsprings:"â™¨ï¸",hourglass:"âŒ›ï¸",hourglass_flowing_sand:"â³",house:"ğŸ ",house_with_garden:"ğŸ¡",houses:"ğŸ˜",hugs:"ğŸ¤—",hushed:"ğŸ˜¯",ice_cream:"ğŸ¨",ice_hockey:"ğŸ’",ice_skate:"â›¸",icecream:"ğŸ¦",id:"ğŸ†”",ideograph_advantage:"ğŸ‰",imp:"ğŸ‘¿",inbox_tray:"ğŸ“¥",incoming_envelope:"ğŸ“¨",tipping_hand_woman:"ğŸ’",information_source:"â„¹ï¸",innocent:"ğŸ˜‡",interrobang:"â‰ï¸",iphone:"ğŸ“±",izakaya_lantern:"ğŸ®",jack_o_lantern:"ğŸƒ",japan:"ğŸ—¾",japanese_castle:"ğŸ¯",japanese_goblin:"ğŸ‘º",japanese_ogre:"ğŸ‘¹",jeans:"ğŸ‘–",joy:"ğŸ˜‚",joy_cat:"ğŸ˜¹",joystick:"ğŸ•¹",kaaba:"ğŸ•‹",key:"ğŸ”‘",keyboard:"âŒ¨ï¸",keycap_ten:"ğŸ”Ÿ",kick_scooter:"ğŸ›´",kimono:"ğŸ‘˜",kiss:"ğŸ’‹",kissing:"ğŸ˜—",kissing_cat:"ğŸ˜½",kissing_closed_eyes:"ğŸ˜š",kissing_heart:"ğŸ˜˜",kissing_smiling_eyes:"ğŸ˜™",kiwi_fruit:"ğŸ¥",koala:"ğŸ¨",koko:"ğŸˆ",label:"ğŸ·",large_blue_circle:"ğŸ”µ",large_blue_diamond:"ğŸ”·",large_orange_diamond:"ğŸ”¶",last_quarter_moon:"ğŸŒ—",last_quarter_moon_with_face:"ğŸŒœ",latin_cross:"âœï¸",laughing:"ğŸ˜†",leaves:"ğŸƒ",ledger:"ğŸ“’",left_luggage:"ğŸ›…",left_right_arrow:"â†”ï¸",leftwards_arrow_with_hook:"â†©ï¸",lemon:"ğŸ‹",leo:"â™Œï¸",leopard:"ğŸ†",level_slider:"ğŸš",libra:"â™ï¸",light_rail:"ğŸšˆ",link:"ğŸ”—",lion:"ğŸ¦",lips:"ğŸ‘„",lipstick:"ğŸ’„",lizard:"ğŸ¦",lock:"ğŸ”’",lock_with_ink_pen:"ğŸ”",lollipop:"ğŸ­",loop:"â¿",loud_sound:"ğŸ”Š",loudspeaker:"ğŸ“¢",love_hotel:"ğŸ©",love_letter:"ğŸ’Œ",low_brightness:"ğŸ”…",lying_face:"ğŸ¤¥",m:"â“‚ï¸",mag:"ğŸ”",mag_right:"ğŸ”",mahjong:"ğŸ€„ï¸",mailbox:"ğŸ“«",mailbox_closed:"ğŸ“ª",mailbox_with_mail:"ğŸ“¬",mailbox_with_no_mail:"ğŸ“­",man:"ğŸ‘¨",man_artist:"ğŸ‘¨&zwj;ğŸ¨",man_astronaut:"ğŸ‘¨&zwj;ğŸš€",man_cartwheeling:"ğŸ¤¸&zwj;â™‚ï¸",man_cook:"ğŸ‘¨&zwj;ğŸ³",man_dancing:"ğŸ•º",man_facepalming:"ğŸ¤¦&zwj;â™‚ï¸",man_factory_worker:"ğŸ‘¨&zwj;ğŸ­",man_farmer:"ğŸ‘¨&zwj;ğŸŒ¾",man_firefighter:"ğŸ‘¨&zwj;ğŸš’",man_health_worker:"ğŸ‘¨&zwj;âš•ï¸",man_in_tuxedo:"ğŸ¤µ",man_judge:"ğŸ‘¨&zwj;âš–ï¸",man_juggling:"ğŸ¤¹&zwj;â™‚ï¸",man_mechanic:"ğŸ‘¨&zwj;ğŸ”§",man_office_worker:"ğŸ‘¨&zwj;ğŸ’¼",man_pilot:"ğŸ‘¨&zwj;âœˆï¸",man_playing_handball:"ğŸ¤¾&zwj;â™‚ï¸",man_playing_water_polo:"ğŸ¤½&zwj;â™‚ï¸",man_scientist:"ğŸ‘¨&zwj;ğŸ”¬",man_shrugging:"ğŸ¤·&zwj;â™‚ï¸",man_singer:"ğŸ‘¨&zwj;ğŸ¤",man_student:"ğŸ‘¨&zwj;ğŸ“",man_teacher:"ğŸ‘¨&zwj;ğŸ«",man_technologist:"ğŸ‘¨&zwj;ğŸ’»",man_with_gua_pi_mao:"ğŸ‘²",man_with_turban:"ğŸ‘³",tangerine:"ğŸŠ",mans_shoe:"ğŸ‘",mantelpiece_clock:"ğŸ•°",maple_leaf:"ğŸ",martial_arts_uniform:"ğŸ¥‹",mask:"ğŸ˜·",massage_woman:"ğŸ’†",massage_man:"ğŸ’†&zwj;â™‚ï¸",meat_on_bone:"ğŸ–",medal_military:"ğŸ–",medal_sports:"ğŸ…",mega:"ğŸ“£",melon:"ğŸˆ",memo:"ğŸ“",men_wrestling:"ğŸ¤¼&zwj;â™‚ï¸",menorah:"ğŸ•",mens:"ğŸš¹",metal:"ğŸ¤˜",metro:"ğŸš‡",microphone:"ğŸ¤",microscope:"ğŸ”¬",milk_glass:"ğŸ¥›",milky_way:"ğŸŒŒ",minibus:"ğŸš",minidisc:"ğŸ’½",mobile_phone_off:"ğŸ“´",money_mouth_face:"ğŸ¤‘",money_with_wings:"ğŸ’¸",moneybag:"ğŸ’°",monkey:"ğŸ’",monkey_face:"ğŸµ",monorail:"ğŸš",moon:"ğŸŒ”",mortar_board:"ğŸ“",mosque:"ğŸ•Œ",motor_boat:"ğŸ›¥",motor_scooter:"ğŸ›µ",motorcycle:"ğŸ",motorway:"ğŸ›£",mount_fuji:"ğŸ—»",mountain:"â›°",mountain_biking_man:"ğŸšµ",mountain_biking_woman:"ğŸšµ&zwj;â™€ï¸",mountain_cableway:"ğŸš ",mountain_railway:"ğŸš",mountain_snow:"ğŸ”",mouse:"ğŸ­",mouse2:"ğŸ",movie_camera:"ğŸ¥",moyai:"ğŸ—¿",mrs_claus:"ğŸ¤¶",muscle:"ğŸ’ª",mushroom:"ğŸ„",musical_keyboard:"ğŸ¹",musical_note:"ğŸµ",musical_score:"ğŸ¼",mute:"ğŸ”‡",nail_care:"ğŸ’…",name_badge:"ğŸ“›",national_park:"ğŸ",nauseated_face:"ğŸ¤¢",necktie:"ğŸ‘”",negative_squared_cross_mark:"â",nerd_face:"ğŸ¤“",neutral_face:"ğŸ˜",new:"ğŸ†•",new_moon:"ğŸŒ‘",new_moon_with_face:"ğŸŒš",newspaper:"ğŸ“°",newspaper_roll:"ğŸ—",next_track_button:"â­",ng:"ğŸ†–",no_good_man:"ğŸ™…&zwj;â™‚ï¸",no_good_woman:"ğŸ™…",night_with_stars:"ğŸŒƒ",no_bell:"ğŸ”•",no_bicycles:"ğŸš³",no_entry:"â›”ï¸",no_entry_sign:"ğŸš«",no_mobile_phones:"ğŸ“µ",no_mouth:"ğŸ˜¶",no_pedestrians:"ğŸš·",no_smoking:"ğŸš­","non-potable_water":"ğŸš±",nose:"ğŸ‘ƒ",notebook:"ğŸ““",notebook_with_decorative_cover:"ğŸ“”",notes:"ğŸ¶",nut_and_bolt:"ğŸ”©",o:"â­•ï¸",o2:"ğŸ…¾ï¸",ocean:"ğŸŒŠ",octopus:"ğŸ™",oden:"ğŸ¢",office:"ğŸ¢",oil_drum:"ğŸ›¢",ok:"ğŸ†—",ok_hand:"ğŸ‘Œ",ok_man:"ğŸ™†&zwj;â™‚ï¸",ok_woman:"ğŸ™†",old_key:"ğŸ—",older_man:"ğŸ‘´",older_woman:"ğŸ‘µ",om:"ğŸ•‰",on:"ğŸ”›",oncoming_automobile:"ğŸš˜",oncoming_bus:"ğŸš",oncoming_police_car:"ğŸš”",oncoming_taxi:"ğŸš–",open_file_folder:"ğŸ“‚",open_hands:"ğŸ‘",open_mouth:"ğŸ˜®",open_umbrella:"â˜‚ï¸",ophiuchus:"â›",orange_book:"ğŸ“™",orthodox_cross:"â˜¦ï¸",outbox_tray:"ğŸ“¤",owl:"ğŸ¦‰",ox:"ğŸ‚",package:"ğŸ“¦",page_facing_up:"ğŸ“„",page_with_curl:"ğŸ“ƒ",pager:"ğŸ“Ÿ",paintbrush:"ğŸ–Œ",palm_tree:"ğŸŒ´",pancakes:"ğŸ¥",panda_face:"ğŸ¼",paperclip:"ğŸ“",paperclips:"ğŸ–‡",parasol_on_ground:"â›±",parking:"ğŸ…¿ï¸",part_alternation_mark:"ã€½ï¸",partly_sunny:"â›…ï¸",passenger_ship:"ğŸ›³",passport_control:"ğŸ›‚",pause_button:"â¸",peace_symbol:"â˜®ï¸",peach:"ğŸ‘",peanuts:"ğŸ¥œ",pear:"ğŸ",pen:"ğŸ–Š",pencil2:"âœï¸",penguin:"ğŸ§",pensive:"ğŸ˜”",performing_arts:"ğŸ­",persevere:"ğŸ˜£",person_fencing:"ğŸ¤º",pouting_woman:"ğŸ™",phone:"â˜ï¸",pick:"â›",pig:"ğŸ·",pig2:"ğŸ–",pig_nose:"ğŸ½",pill:"ğŸ’Š",pineapple:"ğŸ",ping_pong:"ğŸ“",pisces:"â™“ï¸",pizza:"ğŸ•",place_of_worship:"ğŸ›",plate_with_cutlery:"ğŸ½",play_or_pause_button:"â¯",point_down:"ğŸ‘‡",point_left:"ğŸ‘ˆ",point_right:"ğŸ‘‰",point_up:"â˜ï¸",point_up_2:"ğŸ‘†",police_car:"ğŸš“",policewoman:"ğŸ‘®&zwj;â™€ï¸",poodle:"ğŸ©",popcorn:"ğŸ¿",post_office:"ğŸ£",postal_horn:"ğŸ“¯",postbox:"ğŸ“®",potable_water:"ğŸš°",potato:"ğŸ¥”",pouch:"ğŸ‘",poultry_leg:"ğŸ—",pound:"ğŸ’·",rage:"ğŸ˜¡",pouting_cat:"ğŸ˜¾",pouting_man:"ğŸ™&zwj;â™‚ï¸",pray:"ğŸ™",prayer_beads:"ğŸ“¿",pregnant_woman:"ğŸ¤°",previous_track_button:"â®",prince:"ğŸ¤´",princess:"ğŸ‘¸",printer:"ğŸ–¨",purple_heart:"ğŸ’œ",purse:"ğŸ‘›",pushpin:"ğŸ“Œ",put_litter_in_its_place:"ğŸš®",question:"â“",rabbit:"ğŸ°",rabbit2:"ğŸ‡",racehorse:"ğŸ",racing_car:"ğŸ",radio:"ğŸ“»",radio_button:"ğŸ”˜",radioactive:"â˜¢ï¸",railway_car:"ğŸšƒ",railway_track:"ğŸ›¤",rainbow:"ğŸŒˆ",rainbow_flag:"ğŸ³ï¸&zwj;ğŸŒˆ",raised_back_of_hand:"ğŸ¤š",raised_hand_with_fingers_splayed:"ğŸ–",raised_hands:"ğŸ™Œ",raising_hand_woman:"ğŸ™‹",raising_hand_man:"ğŸ™‹&zwj;â™‚ï¸",ram:"ğŸ",ramen:"ğŸœ",rat:"ğŸ€",record_button:"âº",recycle:"â™»ï¸",red_circle:"ğŸ”´",registered:"Â®ï¸",relaxed:"â˜ºï¸",relieved:"ğŸ˜Œ",reminder_ribbon:"ğŸ—",repeat:"ğŸ”",repeat_one:"ğŸ”‚",rescue_worker_helmet:"â›‘",restroom:"ğŸš»",revolving_hearts:"ğŸ’",rewind:"âª",rhinoceros:"ğŸ¦",ribbon:"ğŸ€",rice:"ğŸš",rice_ball:"ğŸ™",rice_cracker:"ğŸ˜",rice_scene:"ğŸ‘",right_anger_bubble:"ğŸ—¯",ring:"ğŸ’",robot:"ğŸ¤–",rocket:"ğŸš€",rofl:"ğŸ¤£",roll_eyes:"ğŸ™„",roller_coaster:"ğŸ¢",rooster:"ğŸ“",rose:"ğŸŒ¹",rosette:"ğŸµ",rotating_light:"ğŸš¨",round_pushpin:"ğŸ“",rowing_man:"ğŸš£",rowing_woman:"ğŸš£&zwj;â™€ï¸",rugby_football:"ğŸ‰",running_man:"ğŸƒ",running_shirt_with_sash:"ğŸ½",running_woman:"ğŸƒ&zwj;â™€ï¸",sa:"ğŸˆ‚ï¸",sagittarius:"â™ï¸",sake:"ğŸ¶",sandal:"ğŸ‘¡",santa:"ğŸ…",satellite:"ğŸ“¡",saxophone:"ğŸ·",school:"ğŸ«",school_satchel:"ğŸ’",scissors:"âœ‚ï¸",scorpion:"ğŸ¦‚",scorpius:"â™ï¸",scream:"ğŸ˜±",scream_cat:"ğŸ™€",scroll:"ğŸ“œ",seat:"ğŸ’º",secret:"ãŠ™ï¸",see_no_evil:"ğŸ™ˆ",seedling:"ğŸŒ±",selfie:"ğŸ¤³",shallow_pan_of_food:"ğŸ¥˜",shamrock:"â˜˜ï¸",shark:"ğŸ¦ˆ",shaved_ice:"ğŸ§",sheep:"ğŸ‘",shell:"ğŸš",shield:"ğŸ›¡",shinto_shrine:"â›©",ship:"ğŸš¢",shirt:"ğŸ‘•",shopping:"ğŸ›",shopping_cart:"ğŸ›’",shower:"ğŸš¿",shrimp:"ğŸ¦",signal_strength:"ğŸ“¶",six_pointed_star:"ğŸ”¯",ski:"ğŸ¿",skier:"â›·",skull:"ğŸ’€",skull_and_crossbones:"â˜ ï¸",sleeping:"ğŸ˜´",sleeping_bed:"ğŸ›Œ",sleepy:"ğŸ˜ª",slightly_frowning_face:"ğŸ™",slightly_smiling_face:"ğŸ™‚",slot_machine:"ğŸ°",small_airplane:"ğŸ›©",small_blue_diamond:"ğŸ”¹",small_orange_diamond:"ğŸ”¸",small_red_triangle:"ğŸ”º",small_red_triangle_down:"ğŸ”»",smile:"ğŸ˜„",smile_cat:"ğŸ˜¸",smiley:"ğŸ˜ƒ",smiley_cat:"ğŸ˜º",smiling_imp:"ğŸ˜ˆ",smirk:"ğŸ˜",smirk_cat:"ğŸ˜¼",smoking:"ğŸš¬",snail:"ğŸŒ",snake:"ğŸ",sneezing_face:"ğŸ¤§",snowboarder:"ğŸ‚",snowflake:"â„ï¸",snowman:"â›„ï¸",snowman_with_snow:"â˜ƒï¸",sob:"ğŸ˜­",soccer:"âš½ï¸",soon:"ğŸ”œ",sos:"ğŸ†˜",sound:"ğŸ”‰",space_invader:"ğŸ‘¾",spades:"â™ ï¸",spaghetti:"ğŸ",sparkle:"â‡ï¸",sparkler:"ğŸ‡",sparkles:"âœ¨",sparkling_heart:"ğŸ’–",speak_no_evil:"ğŸ™Š",speaker:"ğŸ”ˆ",speaking_head:"ğŸ—£",speech_balloon:"ğŸ’¬",speedboat:"ğŸš¤",spider:"ğŸ•·",spider_web:"ğŸ•¸",spiral_calendar:"ğŸ—“",spiral_notepad:"ğŸ—’",spoon:"ğŸ¥„",squid:"ğŸ¦‘",stadium:"ğŸŸ",star:"â­ï¸",star2:"ğŸŒŸ",star_and_crescent:"â˜ªï¸",star_of_david:"âœ¡ï¸",stars:"ğŸŒ ",station:"ğŸš‰",statue_of_liberty:"ğŸ—½",steam_locomotive:"ğŸš‚",stew:"ğŸ²",stop_button:"â¹",stop_sign:"ğŸ›‘",stopwatch:"â±",straight_ruler:"ğŸ“",strawberry:"ğŸ“",stuck_out_tongue:"ğŸ˜›",stuck_out_tongue_closed_eyes:"ğŸ˜",stuck_out_tongue_winking_eye:"ğŸ˜œ",studio_microphone:"ğŸ™",stuffed_flatbread:"ğŸ¥™",sun_behind_large_cloud:"ğŸŒ¥",sun_behind_rain_cloud:"ğŸŒ¦",sun_behind_small_cloud:"ğŸŒ¤",sun_with_face:"ğŸŒ",sunflower:"ğŸŒ»",sunglasses:"ğŸ˜",sunny:"â˜€ï¸",sunrise:"ğŸŒ…",sunrise_over_mountains:"ğŸŒ„",surfing_man:"ğŸ„",surfing_woman:"ğŸ„&zwj;â™€ï¸",sushi:"ğŸ£",suspension_railway:"ğŸšŸ",sweat:"ğŸ˜“",sweat_drops:"ğŸ’¦",sweat_smile:"ğŸ˜…",sweet_potato:"ğŸ ",swimming_man:"ğŸŠ",swimming_woman:"ğŸŠ&zwj;â™€ï¸",symbols:"ğŸ”£",synagogue:"ğŸ•",syringe:"ğŸ’‰",taco:"ğŸŒ®",tada:"ğŸ‰",tanabata_tree:"ğŸ‹",taurus:"â™‰ï¸",taxi:"ğŸš•",tea:"ğŸµ",telephone_receiver:"ğŸ“",telescope:"ğŸ”­",tennis:"ğŸ¾",tent:"â›ºï¸",thermometer:"ğŸŒ¡",thinking:"ğŸ¤”",thought_balloon:"ğŸ’­",ticket:"ğŸ«",tickets:"ğŸŸ",tiger:"ğŸ¯",tiger2:"ğŸ…",timer_clock:"â²",tipping_hand_man:"ğŸ’&zwj;â™‚ï¸",tired_face:"ğŸ˜«",tm:"â„¢ï¸",toilet:"ğŸš½",tokyo_tower:"ğŸ—¼",tomato:"ğŸ…",tongue:"ğŸ‘…",top:"ğŸ”",tophat:"ğŸ©",tornado:"ğŸŒª",trackball:"ğŸ–²",tractor:"ğŸšœ",traffic_light:"ğŸš¥",train:"ğŸš‹",train2:"ğŸš†",tram:"ğŸšŠ",triangular_flag_on_post:"ğŸš©",triangular_ruler:"ğŸ“",trident:"ğŸ”±",triumph:"ğŸ˜¤",trolleybus:"ğŸš",trophy:"ğŸ†",tropical_drink:"ğŸ¹",tropical_fish:"ğŸ ",truck:"ğŸšš",trumpet:"ğŸº",tulip:"ğŸŒ·",tumbler_glass:"ğŸ¥ƒ",turkey:"ğŸ¦ƒ",turtle:"ğŸ¢",tv:"ğŸ“º",twisted_rightwards_arrows:"ğŸ”€",two_hearts:"ğŸ’•",two_men_holding_hands:"ğŸ‘¬",two_women_holding_hands:"ğŸ‘­",u5272:"ğŸˆ¹",u5408:"ğŸˆ´",u55b6:"ğŸˆº",u6307:"ğŸˆ¯ï¸",u6708:"ğŸˆ·ï¸",u6709:"ğŸˆ¶",u6e80:"ğŸˆµ",u7121:"ğŸˆšï¸",u7533:"ğŸˆ¸",u7981:"ğŸˆ²",u7a7a:"ğŸˆ³",umbrella:"â˜”ï¸",unamused:"ğŸ˜’",underage:"ğŸ”",unicorn:"ğŸ¦„",unlock:"ğŸ”“",up:"ğŸ†™",upside_down_face:"ğŸ™ƒ",v:"âœŒï¸",vertical_traffic_light:"ğŸš¦",vhs:"ğŸ“¼",vibration_mode:"ğŸ“³",video_camera:"ğŸ“¹",video_game:"ğŸ®",violin:"ğŸ»",virgo:"â™ï¸",volcano:"ğŸŒ‹",volleyball:"ğŸ",vs:"ğŸ†š",vulcan_salute:"ğŸ––",walking_man:"ğŸš¶",walking_woman:"ğŸš¶&zwj;â™€ï¸",waning_crescent_moon:"ğŸŒ˜",waning_gibbous_moon:"ğŸŒ–",warning:"âš ï¸",wastebasket:"ğŸ—‘",watch:"âŒšï¸",water_buffalo:"ğŸƒ",watermelon:"ğŸ‰",wave:"ğŸ‘‹",wavy_dash:"ã€°ï¸",waxing_crescent_moon:"ğŸŒ’",wc:"ğŸš¾",weary:"ğŸ˜©",wedding:"ğŸ’’",weight_lifting_man:"ğŸ‹ï¸",weight_lifting_woman:"ğŸ‹ï¸&zwj;â™€ï¸",whale:"ğŸ³",whale2:"ğŸ‹",wheel_of_dharma:"â˜¸ï¸",wheelchair:"â™¿ï¸",white_check_mark:"âœ…",white_circle:"âšªï¸",white_flag:"ğŸ³ï¸",white_flower:"ğŸ’®",white_large_square:"â¬œï¸",white_medium_small_square:"â—½ï¸",white_medium_square:"â—»ï¸",white_small_square:"â–«ï¸",white_square_button:"ğŸ”³",wilted_flower:"ğŸ¥€",wind_chime:"ğŸ",wind_face:"ğŸŒ¬",wine_glass:"ğŸ·",wink:"ğŸ˜‰",wolf:"ğŸº",woman:"ğŸ‘©",woman_artist:"ğŸ‘©&zwj;ğŸ¨",woman_astronaut:"ğŸ‘©&zwj;ğŸš€",woman_cartwheeling:"ğŸ¤¸&zwj;â™€ï¸",woman_cook:"ğŸ‘©&zwj;ğŸ³",woman_facepalming:"ğŸ¤¦&zwj;â™€ï¸",woman_factory_worker:"ğŸ‘©&zwj;ğŸ­",woman_farmer:"ğŸ‘©&zwj;ğŸŒ¾",woman_firefighter:"ğŸ‘©&zwj;ğŸš’",woman_health_worker:"ğŸ‘©&zwj;âš•ï¸",woman_judge:"ğŸ‘©&zwj;âš–ï¸",woman_juggling:"ğŸ¤¹&zwj;â™€ï¸",woman_mechanic:"ğŸ‘©&zwj;ğŸ”§",woman_office_worker:"ğŸ‘©&zwj;ğŸ’¼",woman_pilot:"ğŸ‘©&zwj;âœˆï¸",woman_playing_handball:"ğŸ¤¾&zwj;â™€ï¸",woman_playing_water_polo:"ğŸ¤½&zwj;â™€ï¸",woman_scientist:"ğŸ‘©&zwj;ğŸ”¬",woman_shrugging:"ğŸ¤·&zwj;â™€ï¸",woman_singer:"ğŸ‘©&zwj;ğŸ¤",woman_student:"ğŸ‘©&zwj;ğŸ“",woman_teacher:"ğŸ‘©&zwj;ğŸ«",woman_technologist:"ğŸ‘©&zwj;ğŸ’»",woman_with_turban:"ğŸ‘³&zwj;â™€ï¸",womans_clothes:"ğŸ‘š",womans_hat:"ğŸ‘’",women_wrestling:"ğŸ¤¼&zwj;â™€ï¸",womens:"ğŸšº",world_map:"ğŸ—º",worried:"ğŸ˜Ÿ",wrench:"ğŸ”§",writing_hand:"âœï¸",x:"âŒ",yellow_heart:"ğŸ’›",yen:"ğŸ’´",yin_yang:"â˜¯ï¸",yum:"ğŸ˜‹",zap:"âš¡ï¸",zipper_mouth_face:"ğŸ¤",zzz:"ğŸ’¤",octocat:'<img width="20" height="20" align="absmiddle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAOwUlEQVR42uVbCVyO6RbPmn0sw9gZS0aZO4y5GTEUE2ObxjZjrbHEJVy3sWS5pkaWxjLEkCVDSbSgFLdESaWSLIVUSIi4kvb9f895vi/zbbR+yZ339/tbnu99n/ec/3Oe85xznufV0CjDBaAdwZqwnzCJ0FXjHV70/i8J5oQDhCFV8cJdq1atwqxZs+Ds7Iz4+HhqwgXCLELNKlK6G2Ej4e6lS5ewZcsWzJgxA+fOnWNZFqvzxT1v3boF/qcsBg0ahP3796OwsJAFWKYuIqjfPoS9cXFxWL58Obp06SInh5aWFr//jjoJWLlu3TolAorRuXNn7Ny5k4W4Spgj81xrgj5hLmED4RDhlNRygglBhADCSakpWxFMCHoETUJTwrYHDx7A1NT0je9nPHz4kN/fXl0EeI0aNeqtAjB69+4NPz8/FsSdlXvy5An8/f1hZ2cHCwsLGBsbY/To0cJy9PT0MGDAAAwePBhGRkbClNesWYODBw8iODgYOTk53M/d9evXo27duiW++8iRI3z/ZHURENOjR48ShSjGuHHjhHJ16tQp9TOKaNWqlZKpvw1MHluQOpSvk5eXh5YtW5ZbmarAvHnzmIBd6iCgXnZ2Npo1a1atCWAfwY5SHQTUKCoqQocOHao1AebmHBJgi7p8QBDP6epMwKFDvMDAWF0ELLS1ta3WBNy9e5cJMFIXAdvt7e2rNQHDhw9nAv5D+KKylV9y8+bNCi1pVYWZM2cyCfaVTcDdsqzH7xpBQRxcwqyylLdi5/K+KM/Q0dFhAqIri4Bn1T0AUgVpdmhYUeVHnD59+r1TnjF27Fgm4HhFCThoYmLyXhLQoEGD4mRKsyIE3OrZs+d7SQCDCyZcNSqv8k1evXoFTU3NUr+wzUcfYqRBf8yb/C2WzfoBFoTF08fBdMIITDD8CsP1+kL30x7Q6dYZH7drjfZ0f4fWLdG1Q1t81qMLBvTRwejB/TBl1BDMnzQGS2dMxKo5k7Fs9iSY/jAaBvR8Pc26pZaH02quLZSXgO6xsbGlelGnli1wZKcVMqN8gKcRwItrf+K/VB95doXaLwOJIVSzOU/+2Re5kV7IuuyJrIhTyLt6mmztLBBPNZLHoUAy9fE8UvJ8ikxfj8PwJPQErJeYlkquTZs2MQFLykuANgc/Jb2kn3Z3ZMaQUrmxwO1zyAo7gfRAJ6RfOIyMEFdkXj5F8BTK5lzxQv610yi8QcFatI8gQoCIK7x+hojwRnaE5H4JTiEj9Pjr/rJDqcZyn9b4ovu45LYbdWvXeqtsXMHiSlZ5CegRExPz1hd83PYj5POo0QinXyLFg48hnZTOiQ1Dzr1IZEaeQRoJn0HKZIR7lA2kfHrQUerXHTlx4ZL+rnjjFRGRGeYB5MUj2GnbW+XbuJFrp1heXgI6JCYmvvUFN1x3Aek3SWkapRAXMeJFGS8ge2Xfuog0toaykED3Mpk8+shOk+sv68Y50V9WuKewBKt5094o39atW/mRf5WXgIYZGRlo3Lixys4nj6A6Z1YMcqRCpwU4ouDlUyHk/QA/hNttR25Wlvh/ZthJUsil9ATQ/axkYbqEzDgfL0Ts/x35+aLyTES7IY36Q6w/+Q4/tP6wuUoZ9+7dy7ebVmQZjO/atavKzn32rAdeXkd6KCkXdAxZ13yFcLFnvPD73zrDVrsdTs6eggKSuSjjORHkUGoC0i86Iyc6QPQX7eqMnTodYNuzHU4vnosiaitMSUSavwMy6d3IvEUrzViVMrq5uXEX4ytCgL++vr5Sx7Vr1cIDX0dKkQJfj37Rs3jw1sBxkwlwGD4Ax3+ciN1faCHW76xQRFgAOcjSEMBkIe0x8nLzcez7kTg8Rh/uxuOxR/cTJISFSfq7eATpZCk8CAfXLVFJwIULXHnHoIoQYLtw4UKljps2aogXQcQuef/XAiMDKY+S4DhyEFwpDnCj9f+Afl8EbbWRTANaAdihlYoAMn8aZzyNuYODX/eD29TvRH/7v+qN8H27JdOAyWQfQQ74xPafVRLAPox9WUlK6hIGEgx4f00Kg2JcvHhRqeP6FIwknXemyen/2gLIIeC/CYk49M0AuE4xgtu0sThg8AUCN62TEuBdRgJo2Y+Kxh9D/k59SQiwH9QHobt3SAk4KSGA4oWjm1YqyVi8U6Soj4yOrHM/jTAyKVby/PnzIoNi8L+L4eXlpXoFcLcTgc1rAlISkJeXDxeK2A6P1hdTwI6mQPTJE+WbAlnJyE7PhNO3Q3BkrKGYWtxfHMkkmQLO0ilwA7+vXqAkn66urtBLUZ9iHfm30NBQaPAf165dA0d9vP2UlJSEp0+f4vHjx3j06JH4e+rUqUovcNmyGkiNEkLwklXsBG+ecMUOnfbYod1emG5uboFKJ8jPFVD0l0dBUHqoPDHpQeQEb0qc4FUHe3KAbYUT9JgzDbwOFL5MfN0fXkXhJ5PxSvLt2LFD1Ah5u4z1YJ14l4qnBe8v3rhxAzz4PAVG8nLHivIP0dHRiIiIQGRkpEgmrl69ClW1QBMjQ7LDW8hmU+RRI69ckJIkhL7jfRJBm62R+TJVYq6h0jhBRslsivqenT2MF/7OyI70VmkFhWnPJaS6OyPkt43IycqR9EfWlH7JDQUUTuNhCHR7Ke9YcRp/5coVoQPrcvnyZURFRYmBZlLS0kR8MVLD29sbnp6e8PHxQUBAgCgn8YO8E3z79m3BGKeVc+bMkXuBZt06SA12F/F5Go0gR4C8HBalPZMPXKL8lQKhPAqF+f97KXFyNx6HQsoPsshJ/kmAp2TKkJLISpXvjyxNhMYcDVLOEO+lPDi8B5mamipkZx1YF9YpJCRErAy+vr5CZ9ZdWABhDGEYYTBhAOFz3g4nfMJelNCbkNCpUye5F034mvxIPi1/FM+zQCw0k5B9O0iEr5kRXkqhMJOVf9NXIHjtT7hmaymSoBzKETimkAuFpaF1dkwI9RcmIYaXv3BJXoGCuyIgk5WpefPmKCgoYK46SmX/RKoL69Sfl0WuFEl1HlmWJXE5z6WmTZvKJxxmxkIQ3AuU5APk6NICj4hRT6eITTEEzqWk55HHPjz3cxJhNF5cxeNT9kj2cRDTQjEkzpDtjyyCic5l5fEA7uSHFEefR5pPsahrb2B9QkICFHeJ51HunkdLIg0VLY0BFKdLwllVHp4dHyvst3QuEiiju21vA/+VZkiluIKt4I3RIfWXQ4QgKUxkni47LJWUP3PmjHo2RxVI+CebmKJP6EiFDVurxUgmExe5PHlnPAkn8w4QqW62NCVmYopozid5H0CI9RKE21ggJeAYEeMnfitOnRn5XCfgeJ+VTosWQU8MOc6ZE0cqnUm4fv165SrPBVHCfMI4TowUfmOfsIcdJh92kBWmUcP6GDt8EDZbzIffH5tx3/ewSFjw5LKk0MEFEkZenDBjgew7Yiog5brkt+QrknvJmhIp4Apw/A1bVpjhG/0v5d7Vrl07bNu2TelUSqUoz8uI3Z49OEtBAy+TdP1CqKtwHzvQUxxgTJs2TeX5gdq1a0ObSmCjh+jB+NuvRamL1+3ls77HCip1rTSdJP5eNnMizKndjMLoH42G4bthX+FzHS3UVVEC69evH3799VeKMXJZrlWKclUGAZ5jxoxB02ZNsNlxH74aagBHZyex986HlVTczyGmI58h4CjL2toa48ePFxsUPEotWrQoc0GT0/C2bduiY8eO4ISMcxLeoOFYhS6qm2EpoZG65jmbv+dPSyRZlt5QfVjvtX19AOFNL+aDFNI4m0eFc9Ho5ORkaGtrl5kAVp6DMOk88efEjLe++ZhclZwHTJHEHbs4YOCmLj2645fdvwnTK42zoXtaEHwNDQ3LXdZm5yad3/2r+gQmDsRnIF5KAldX6zdsgG/GG8F44Vzcu3eP2y1K6GPr2rVrK1zbnz59Or/LoaoJCPZ4kCZsjw9GECL79OmDj9q2wb+320C3/5fgPQO6Vrzh+fpcDqxXr16lbHBwgkZXm6okYJr0ECMrX5vraiJ1lArEjrEnzWuOqemiYj9spGd2ee478XkiPsJakmJ83qA05/8qXNurJFLiunXrhpo1a6LxB02wyHIFZpovgOHwYfjZ0hK2lH5u2rwZ5suWYv5ycyUlmjRpgl69eimlrFy3kwuoyOvXr19frm3RokVMwPZ3TYC57E6xVq+e6KzVDSaL/oEp82Zh8IhhWLjGAp/p9oX5ujVKBNjY2MDV1VWuzd3dXaTesm2biUQuZ8u28elSPmKr8a4vdog8GnJpcT1N1KHUuBbt0jSgWuGbzJh3mVhh2TYHBwdxjFa2jVcZnvPVlQBOLXdZWlqW2ZFxNYYVlm07fPgwAgMD5dr4OD5HeHLFFxM+O42DGtXhIkFaMQlcUjIzM0P37t1Ro0YNpZPjPJcVK7SOjo5ybU5OTqIAo0gAh97VlgAZIj4l8Pn4WFaO64ocuXG6zJtDbMqySnC7IgF8uptLVrJtq1evFuWqak+A4j4i4TNpltiJ8LPiNFFFwNGjRyWFyfedAFUny/joekkEuLi4KK0CfykCeFnkiu1flgBeFtl3/D8SsMbKykpOifv37ysRcPz4cVHKUiSA8wwNdR9/VTMBSh9Y8S4Nf2qnSICiBbDzVCRg9uzZTMC+94kAv6FDh8opwRsVHPjItnl4eEDxHNLKlStFXV+2javQ/M1SpZe+1KA4L4G7WDG57fSm/OUbXiqG0ewAFYOeYcN4fwZhvLkp2y4tftrxcltdlf/w+fPn4qNGxTCYU2m6nrRu3VqunT/EoiuZvw6TTZHpyuNNmEaNGsndP3fu3OJAq1N1JOAHDmyKheVtNP4OkE2crULRAW7fvl20EyyLy24a8p+/7WISFixYIMLt4t82bNhQYjXqXREgPq3j74mlX3AmSL8E1eOPIBXnuVT5OsVZpuLnOMeOHeN7vifwiYhYzhC5IpwlOXj1QXWdBmy/XWU/X+UqMZfKBw4cKAobHPlJlZe9h6tOu+7cuSN2dg0MDMSSyZUpmXvaSD+crq/xvl0k9BTCRa7qEPq+5T4t6ffF52WVV+f1P6zyLG30bsU4AAAAAElFTkSuQmCC">',showdown:'<img width="20" height="20" align="absmiddle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAECtaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzA2NyA3OS4xNTc3NDcsIDIwMTUvMDMvMzAtMjM6NDA6NDIgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTUtMDEtMTVUMjE6MDE6MTlaPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNy0xMC0yNFQxMzozMTozMCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTctMTAtMjRUMTM6MzE6MzArMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8cGhvdG9zaG9wOklDQ1Byb2ZpbGU+c1JHQiBJRUM2MTk2Ni0yLjE8L3Bob3Rvc2hvcDpJQ0NQcm9maWxlPgogICAgICAgICA8cGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgICAgIDxyZGY6QmFnPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+UyAtPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5TIC08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpCYWc+CiAgICAgICAgIDwvcGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6N2NkMzQxNzctOWYyZi0yNDRiLWEyYjQtMzU1MzJkY2Y1MWJiPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD5hZG9iZTpkb2NpZDpwaG90b3Nob3A6M2E1YzgxYmYtYjhiNy0xMWU3LTk0NDktYTQ2MzdlZjJkNjMzPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6NjBDNUFFNjVGNjlDRTQxMTk0NUE4NTVFM0JDQTdFRUI8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NjBDNUFFNjVGNjlDRTQxMTk0NUE4NTVFM0JDQTdFRUI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTUtMDEtMTVUMjE6MDE6MTlaPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6ODZjNjBkMGQtOGY0Yy01ZTRlLWEwMjQtODI4ZWQyNTIwZDc3PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE3LTEwLTI0VDEzOjMxOjMwKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjdjZDM0MTc3LTlmMmYtMjQ0Yi1hMmI0LTM1NTMyZGNmNTFiYjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNy0xMC0yNFQxMzozMTozMCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6ODZjNjBkMGQtOGY0Yy01ZTRlLWEwMjQtODI4ZWQyNTIwZDc3PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjYwQzVBRTY1RjY5Q0U0MTE5NDVBODU1RTNCQ0E3RUVCPC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICAgICA8c3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6NjBDNUFFNjVGNjlDRTQxMTk0NUE4NTVFM0JDQTdFRUI8L3N0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NjQ8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NjQ8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pse7bzcAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA1JJREFUeNrsm1+OmlAUhz+aeS9dwZggJn1AnRUMO6jpBgZXULuC2hWUWUGZBTSxKyiuoA4mfUBMnB04K5g+9DihRBHlyh/lJLwIXLgf99xzzu9etZeXFy7Z3nDh1gBoAFy4XeVtQNO0zNcapmUDfUBPnFoBfhQGq6IBaHmjwD4Ahmk5wAD4kKG5J8CNwsAFaHe6DvA9cc0wCgOv8gDka3vA9RHNPgo0D7hNnJtGYWBXxgV2dH4MfMnRRA+Y1WIO2NJ5F/ikoKm3tYsChmkNFHW+fmHQMC1dfHaXPQP3wM1yMdc2B/AOGALTWobBmI1Shu0UGCwX83XyRBQGawHntTtdG5gUNfxVu4CTNqNv6/wWGL7kCc+1AmCYVisl3I2ydD4GYZUCs7IjoLXrxHIx9w9tLAqDCfBwDrXAY457x+cAoCfuwRGjYFUnAGk+PsjR7s8Dn1VeLWCYVlpDw+VivjVHSHt+u9PVJbzGzZXQWTkAkz0V31fATUaEsjVJlQBs4FeGcteLgzgbAALBA+4y3voAeJL8nA0AHfClnM1qm1HhnYUidCSE+KzvSSJUTwAxCOMcpfETMFYpfRUKIAbCFhC3OTJJJwqDWS0BxED0JZ4Pjix1P2+E0loCSMBwyK4S/xc1ojBwag8gMU84cvTKGgmlAYhngu1O9xAXuVE5J1QCQCz3bwHuHvdQui5QKQAxEO6eEKpsFCgTRSXkvdoxSlBMCxhJJbgrrbZRtHCiShN0pRB6PeQ3ckBw2K0oKXMBVYJIP+Nvh9qulFivGoBt1lLQxowT2ykBXCfnhZIglgYACWmqXQv+baioBYCeiCQHm+QEg1O7RhF7hO4OhSAhcJKSFU7qBGADwZeqMMuXn6TUBw8qlaMrirNb4LdhWlP+SWD+cjFfxTpuS2GUpik+o3jFSEkqbJiWn0P0OMSGqlWiOu0TvD+FRHZKAE+oW+cfRmEwqlsesJJEJs8y91QqP+9UL6lqEtz2gpuNEY5sm9sIHln2DRa2aFKGJtiXkZEMiWtgVvRKUSUFkSKt2S7fAGgAXLYpmQQXf36MUChTZdUa2u8/rkvPA6Tz30r4eH3ybcBS5gJ6SaNXb+aABkA1AMxKenclBZLW/He4cYEGwEXb3wEASelexk6LIIIAAAAASUVORK5CYII=">'},I.Converter=function(g){"use strict";function C(g,C){if(C=C||null,I.helper.isString(g)){if(g=I.helper.stdExtName(g),C=g,I.extensions[g])return console.warn("DEPRECATION WARNING: "+g+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(g,C){"function"==typeof g&&(g=g(new I.Converter));I.helper.isArray(g)||(g=[g]);var e=A(g,C);if(!e.valid)throw Error(e.error);for(var r=0;r<g.length;++r)switch(g[r].type){case"lang":s.push(g[r]);break;case"output":i.push(g[r]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(I.extensions[g],g);if(I.helper.isUndefined(r[g]))throw Error('Extension "'+g+'" could not be loaded. It was either not found or is not a valid extension.');g=r[g]}"function"==typeof g&&(g=g()),I.helper.isArray(g)||(g=[g]);var t=A(g,C);if(!t.valid)throw Error(t.error);for(var a=0;a<g.length;++a){switch(g[a].type){case"lang":s.push(g[a]);break;case"output":i.push(g[a])}if(g[a].hasOwnProperty("listeners"))for(var n in g[a].listeners)g[a].listeners.hasOwnProperty(n)&&e(n,g[a].listeners[n])}}function e(g,A){if(!I.helper.isString(g))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof g+" given");if("function"!=typeof A)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof A+" given");l.hasOwnProperty(g)||(l[g]=[]),l[g].push(A)}var o={},s=[],i=[],l={},c=a,u={parsed:{},raw:"",format:""};!function(){g=g||{};for(var A in t)t.hasOwnProperty(A)&&(o[A]=t[A]);if("object"!=typeof g)throw Error("Converter expects the passed parameter to be an object, but "+typeof g+" was passed instead.");for(var e in g)g.hasOwnProperty(e)&&(o[e]=g[e]);o.extensions&&I.helper.forEach(o.extensions,C)}(),this._dispatch=function(g,A,C,I){if(l.hasOwnProperty(g))for(var e=0;e<l[g].length;++e){var r=l[g][e](g,A,this,C,I);r&&void 0!==r&&(A=r)}return A},this.listen=function(g,A){return e(g,A),this},this.makeHtml=function(g){if(!g)return g;var A={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:s,outputModifiers:i,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return g=g.replace(/Â¨/g,"Â¨T"),g=g.replace(/\$/g,"Â¨D"),g=g.replace(/\r\n/g,"\n"),g=g.replace(/\r/g,"\n"),g=g.replace(/\u00A0/g," "),o.smartIndentationFix&&(g=function(g){var A=g.match(/^\s*/)[0].length,C=new RegExp("^\\s{0,"+A+"}","gm");return g.replace(C,"")}(g)),g="\n\n"+g+"\n\n",g=I.subParser("detab")(g,o,A),g=g.replace(/^[ \t]+$/gm,""),I.helper.forEach(s,function(C){g=I.subParser("runExtension")(C,g,o,A)}),g=I.subParser("metadata")(g,o,A),g=I.subParser("hashPreCodeTags")(g,o,A),g=I.subParser("githubCodeBlocks")(g,o,A),g=I.subParser("hashHTMLBlocks")(g,o,A),g=I.subParser("hashCodeTags")(g,o,A),g=I.subParser("stripLinkDefinitions")(g,o,A),g=I.subParser("blockGamut")(g,o,A),g=I.subParser("unhashHTMLSpans")(g,o,A),g=I.subParser("unescapeSpecialChars")(g,o,A),g=g.replace(/Â¨D/g,"$$"),g=g.replace(/Â¨T/g,"Â¨"),g=I.subParser("completeHTMLDocument")(g,o,A),I.helper.forEach(i,function(C){g=I.subParser("runExtension")(C,g,o,A)}),u=A.metadata,g},this.setOption=function(g,A){o[g]=A},this.getOption=function(g){return o[g]},this.getOptions=function(){return o},this.addExtension=function(g,A){C(g,A=A||null)},this.useExtension=function(g){C(g)},this.setFlavor=function(g){if(!n.hasOwnProperty(g))throw Error(g+" flavor was not found");var A=n[g];c=g;for(var C in A)A.hasOwnProperty(C)&&(o[C]=A[C])},this.getFlavor=function(){return c},this.removeExtension=function(g){I.helper.isArray(g)||(g=[g]);for(var A=0;A<g.length;++A){for(var C=g[A],e=0;e<s.length;++e)s[e]===C&&s[e].splice(e,1);for(;0<i.length;++e)i[0]===C&&i[0].splice(e,1)}},this.getAllExtensions=function(){return{language:s,output:i}},this.getMetadata=function(g){return g?u.raw:u.parsed},this.getMetadataFormat=function(){return u.format},this._setMetadataPair=function(g,A){u.parsed[g]=A},this._setMetadataFormat=function(g){u.format=g},this._setMetadataRaw=function(g){u.raw=g}},I.subParser("anchors",function(g,A,C){"use strict";var e=function(g,e,r,t,a,n,o){if(I.helper.isUndefined(o)&&(o=""),r=r.toLowerCase(),g.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)t="";else if(!t){if(r||(r=e.toLowerCase().replace(/ ?\n/g," ")),t="#"+r,I.helper.isUndefined(C.gUrls[r]))return g;t=C.gUrls[r],I.helper.isUndefined(C.gTitles[r])||(o=C.gTitles[r])}var s='<a href="'+(t=t.replace(I.helper.regexes.asteriskDashAndColon,I.helper.escapeCharactersCallback))+'"';return""!==o&&null!==o&&(s+=' title="'+(o=(o=o.replace(/"/g,"&quot;")).replace(I.helper.regexes.asteriskDashAndColon,I.helper.escapeCharactersCallback))+'"'),A.openLinksInNewWindow&&!/^#/.test(t)&&(s+=' target="Â¨E95Eblank"'),s+=">"+e+"</a>"};return g=(g=C.converter._dispatch("anchors.before",g,A,C)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,e),g=g.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,e),g=g.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,e),g=g.replace(/\[([^\[\]]+)]()()()()()/g,e),A.ghMentions&&(g=g.replace(/(^|\s)(\\)?(@([a-z\d\-]+))(?=[.!?;,[\]()]|\s|$)/gim,function(g,C,e,r,t){if("\\"===e)return C+r;if(!I.helper.isString(A.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var a=A.ghMentionsLink.replace(/\{u}/g,t),n="";return A.openLinksInNewWindow&&(n=' target="Â¨E95Eblank"'),C+'<a href="'+a+'"'+n+">"+r+"</a>"})),g=C.converter._dispatch("anchors.after",g,A,C)});var s=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,i=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,l=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,c=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,u=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,d=function(g){"use strict";return function(A,C,e,r,t,a,n){var o=e=e.replace(I.helper.regexes.asteriskDashAndColon,I.helper.escapeCharactersCallback),s="",i="",l=C||"",c=n||"";return/^www\./i.test(e)&&(e=e.replace(/^www\./i,"http://www.")),g.excludeTrailingPunctuationFromURLs&&a&&(s=a),g.openLinksInNewWindow&&(i=' target="Â¨E95Eblank"'),l+'<a href="'+e+'"'+i+">"+o+"</a>"+s+c}},p=function(g,A){"use strict";return function(C,e,r){var t="mailto:";return e=e||"",r=I.subParser("unescapeSpecialChars")(r,g,A),g.encodeEmails?(t=I.helper.encodeEmailAddress(t+r),r=I.helper.encodeEmailAddress(r)):t+=r,e+'<a href="'+t+'">'+r+"</a>"}};I.subParser("autoLinks",function(g,A,C){"use strict";return g=C.converter._dispatch("autoLinks.before",g,A,C),g=g.replace(l,d(A)),g=g.replace(u,p(A,C)),g=C.converter._dispatch("autoLinks.after",g,A,C)}),I.subParser("simplifiedAutoLinks",function(g,A,C){"use strict";return A.simplifiedAutoLink?(g=C.converter._dispatch("simplifiedAutoLinks.before",g,A,C),g=A.excludeTrailingPunctuationFromURLs?g.replace(i,d(A)):g.replace(s,d(A)),g=g.replace(c,p(A,C)),g=C.converter._dispatch("simplifiedAutoLinks.after",g,A,C)):g}),I.subParser("blockGamut",function(g,A,C){"use strict";return g=C.converter._dispatch("blockGamut.before",g,A,C),g=I.subParser("blockQuotes")(g,A,C),g=I.subParser("headers")(g,A,C),g=I.subParser("horizontalRule")(g,A,C),g=I.subParser("lists")(g,A,C),g=I.subParser("codeBlocks")(g,A,C),g=I.subParser("tables")(g,A,C),g=I.subParser("hashHTMLBlocks")(g,A,C),g=I.subParser("paragraphs")(g,A,C),g=C.converter._dispatch("blockGamut.after",g,A,C)}),I.subParser("blockQuotes",function(g,A,C){"use strict";g=C.converter._dispatch("blockQuotes.before",g,A,C),g+="\n\n";var e=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return A.splitAdjacentBlockquotes&&(e=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),g=g.replace(e,function(g){return g=g.replace(/^[ \t]*>[ \t]?/gm,""),g=g.replace(/Â¨0/g,""),g=g.replace(/^[ \t]+$/gm,""),g=I.subParser("githubCodeBlocks")(g,A,C),g=I.subParser("blockGamut")(g,A,C),g=g.replace(/(^|\n)/g,"$1  "),g=g.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(g,A){var C=A;return C=C.replace(/^  /gm,"Â¨0"),C=C.replace(/Â¨0/g,"")}),I.subParser("hashBlock")("<blockquote>\n"+g+"\n</blockquote>",A,C)}),g=C.converter._dispatch("blockQuotes.after",g,A,C)}),I.subParser("codeBlocks",function(g,A,C){"use strict";g=C.converter._dispatch("codeBlocks.before",g,A,C);return g=(g+="Â¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=Â¨0))/g,function(g,e,r){var t=e,a=r,n="\n";return t=I.subParser("outdent")(t,A,C),t=I.subParser("encodeCode")(t,A,C),t=I.subParser("detab")(t,A,C),t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,""),A.omitExtraWLInCodeBlocks&&(n=""),t="<pre><code>"+t+n+"</code></pre>",I.subParser("hashBlock")(t,A,C)+a}),g=g.replace(/Â¨0/,""),g=C.converter._dispatch("codeBlocks.after",g,A,C)}),I.subParser("codeSpans",function(g,A,C){"use strict";return void 0===(g=C.converter._dispatch("codeSpans.before",g,A,C))&&(g=""),g=g.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(g,e,r,t){var a=t;return a=a.replace(/^([ \t]*)/g,""),a=a.replace(/[ \t]*$/g,""),a=I.subParser("encodeCode")(a,A,C),a=e+"<code>"+a+"</code>",a=I.subParser("hashHTMLSpans")(a,A,C)}),g=C.converter._dispatch("codeSpans.after",g,A,C)}),I.subParser("completeHTMLDocument",function(g,A,C){"use strict";if(!A.completeHTMLDocument)return g;g=C.converter._dispatch("completeHTMLDocument.before",g,A,C);var I="html",e="<!DOCTYPE HTML>\n",r="",t='<meta charset="utf-8">\n',a="",n="";void 0!==C.metadata.parsed.doctype&&(e="<!DOCTYPE "+C.metadata.parsed.doctype+">\n","html"!==(I=C.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==I||(t='<meta charset="utf-8">'));for(var o in C.metadata.parsed)if(C.metadata.parsed.hasOwnProperty(o))switch(o.toLowerCase()){case"doctype":break;case"title":r="<title>"+C.metadata.parsed.title+"</title>\n";break;case"charset":t="html"===I||"html5"===I?'<meta charset="'+C.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+C.metadata.parsed.charset+'">\n';break;case"language":case"lang":a=' lang="'+C.metadata.parsed[o]+'"',n+='<meta name="'+o+'" content="'+C.metadata.parsed[o]+'">\n';break;default:n+='<meta name="'+o+'" content="'+C.metadata.parsed[o]+'">\n'}return g=e+"<html"+a+">\n<head>\n"+r+t+n+"</head>\n<body>\n"+g.trim()+"\n</body>\n</html>",g=C.converter._dispatch("completeHTMLDocument.after",g,A,C)}),I.subParser("detab",function(g,A,C){"use strict";return g=C.converter._dispatch("detab.before",g,A,C),g=g.replace(/\t(?=\t)/g,"    "),g=g.replace(/\t/g,"Â¨AÂ¨B"),g=g.replace(/Â¨B(.+?)Â¨A/g,function(g,A){for(var C=A,I=4-C.length%4,e=0;e<I;e++)C+=" ";return C}),g=g.replace(/Â¨A/g,"    "),g=g.replace(/Â¨B/g,""),g=C.converter._dispatch("detab.after",g,A,C)}),I.subParser("ellipsis",function(g,A,C){"use strict";return g=C.converter._dispatch("ellipsis.before",g,A,C),g=g.replace(/\.\.\./g,"â€¦"),g=C.converter._dispatch("ellipsis.after",g,A,C)}),I.subParser("emoji",function(g,A,C){"use strict";if(!A.emoji)return g;return g=(g=C.converter._dispatch("emoji.before",g,A,C)).replace(/:([\S]+?):/g,function(g,A){return I.helper.emojis.hasOwnProperty(A)?I.helper.emojis[A]:g}),g=C.converter._dispatch("emoji.after",g,A,C)}),I.subParser("encodeAmpsAndAngles",function(g,A,C){"use strict";return g=C.converter._dispatch("encodeAmpsAndAngles.before",g,A,C),g=g.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),g=g.replace(/<(?![a-z\/?$!])/gi,"&lt;"),g=g.replace(/</g,"&lt;"),g=g.replace(/>/g,"&gt;"),g=C.converter._dispatch("encodeAmpsAndAngles.after",g,A,C)}),I.subParser("encodeBackslashEscapes",function(g,A,C){"use strict";return g=C.converter._dispatch("encodeBackslashEscapes.before",g,A,C),g=g.replace(/\\(\\)/g,I.helper.escapeCharactersCallback),g=g.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,I.helper.escapeCharactersCallback),g=C.converter._dispatch("encodeBackslashEscapes.after",g,A,C)}),I.subParser("encodeCode",function(g,A,C){"use strict";return g=C.converter._dispatch("encodeCode.before",g,A,C),g=g.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,I.helper.escapeCharactersCallback),g=C.converter._dispatch("encodeCode.after",g,A,C)}),I.subParser("escapeSpecialCharsWithinTagAttributes",function(g,A,C){"use strict";return g=(g=C.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",g,A,C)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,function(g){return g.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,I.helper.escapeCharactersCallback)}),g=g.replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,function(g){return g.replace(/([\\`*_~=|])/g,I.helper.escapeCharactersCallback)}),g=C.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",g,A,C)}),I.subParser("githubCodeBlocks",function(g,A,C){"use strict";return A.ghCodeBlocks?(g=C.converter._dispatch("githubCodeBlocks.before",g,A,C),g+="Â¨0",g=g.replace(/(?:^|\n)(```+|~~~+)([^\s`~]*)\n([\s\S]*?)\n\1/g,function(g,e,r,t){var a=A.omitExtraWLInCodeBlocks?"":"\n";return t=I.subParser("encodeCode")(t,A,C),t=I.subParser("detab")(t,A,C),t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,""),t="<pre><code"+(r?' class="'+r+" language-"+r+'"':"")+">"+t+a+"</code></pre>",t=I.subParser("hashBlock")(t,A,C),"\n\nÂ¨G"+(C.ghCodeBlocks.push({text:g,codeblock:t})-1)+"G\n\n"}),g=g.replace(/Â¨0/,""),C.converter._dispatch("githubCodeBlocks.after",g,A,C)):g}),I.subParser("hashBlock",function(g,A,C){"use strict";return g=C.converter._dispatch("hashBlock.before",g,A,C),g=g.replace(/(^\n+|\n+$)/g,""),g="\n\nÂ¨K"+(C.gHtmlBlocks.push(g)-1)+"K\n\n",g=C.converter._dispatch("hashBlock.after",g,A,C)}),I.subParser("hashCodeTags",function(g,A,C){"use strict";g=C.converter._dispatch("hashCodeTags.before",g,A,C);return g=I.helper.replaceRecursiveRegExp(g,function(g,e,r,t){var a=r+I.subParser("encodeCode")(e,A,C)+t;return"Â¨C"+(C.gHtmlSpans.push(a)-1)+"C"},"<code\\b[^>]*>","</code>","gim"),g=C.converter._dispatch("hashCodeTags.after",g,A,C)}),I.subParser("hashElement",function(g,A,C){"use strict";return function(g,A){var I=A;return I=I.replace(/\n\n/g,"\n"),I=I.replace(/^\n/,""),I=I.replace(/\n+$/g,""),I="\n\nÂ¨K"+(C.gHtmlBlocks.push(I)-1)+"K\n\n"}}),I.subParser("hashHTMLBlocks",function(g,A,C){"use strict";g=C.converter._dispatch("hashHTMLBlocks.before",g,A,C);var e=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],r=function(g,A,I,e){var r=g;return-1!==I.search(/\bmarkdown\b/)&&(r=I+C.converter.makeHtml(A)+e),"\n\nÂ¨K"+(C.gHtmlBlocks.push(r)-1)+"K\n\n"};A.backslashEscapesHTMLTags&&(g=g.replace(/\\<(\/?[^>]+?)>/g,function(g,A){return"&lt;"+A+"&gt;"}));for(var t=0;t<e.length;++t)for(var a,n=new RegExp("^ {0,3}(<"+e[t]+"\\b[^>]*>)","im"),o="<"+e[t]+"\\b[^>]*>",s="</"+e[t]+">";-1!==(a=I.helper.regexIndexOf(g,n));){var i=I.helper.splitAtIndex(g,a),l=I.helper.replaceRecursiveRegExp(i[1],r,o,s,"im");if(l===i[1])break;g=i[0].concat(l)}return g=g.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,I.subParser("hashElement")(g,A,C)),g=I.helper.replaceRecursiveRegExp(g,function(g){return"\n\nÂ¨K"+(C.gHtmlBlocks.push(g)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm"),g=g.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,I.subParser("hashElement")(g,A,C)),g=C.converter._dispatch("hashHTMLBlocks.after",g,A,C)}),I.subParser("hashHTMLSpans",function(g,A,C){"use strict";function I(g){return"Â¨C"+(C.gHtmlSpans.push(g)-1)+"C"}return g=C.converter._dispatch("hashHTMLSpans.before",g,A,C),g=g.replace(/<[^>]+?\/>/gi,function(g){return I(g)}),g=g.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(g){return I(g)}),g=g.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(g){return I(g)}),g=g.replace(/<[^>]+?>/gi,function(g){return I(g)}),g=C.converter._dispatch("hashHTMLSpans.after",g,A,C)}),I.subParser("unhashHTMLSpans",function(g,A,C){"use strict";g=C.converter._dispatch("unhashHTMLSpans.before",g,A,C);for(var I=0;I<C.gHtmlSpans.length;++I){for(var e=C.gHtmlSpans[I],r=0;/Â¨C(\d+)C/.test(e);){var t=RegExp.$1;if(e=e.replace("Â¨C"+t+"C",C.gHtmlSpans[t]),10===r){console.error("maximum nesting of 10 spans reached!!!");break}++r}g=g.replace("Â¨C"+I+"C",e)}return g=C.converter._dispatch("unhashHTMLSpans.after",g,A,C)}),I.subParser("hashPreCodeTags",function(g,A,C){"use strict";g=C.converter._dispatch("hashPreCodeTags.before",g,A,C);return g=I.helper.replaceRecursiveRegExp(g,function(g,e,r,t){var a=r+I.subParser("encodeCode")(e,A,C)+t;return"\n\nÂ¨G"+(C.ghCodeBlocks.push({text:g,codeblock:a})-1)+"G\n\n"},"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),g=C.converter._dispatch("hashPreCodeTags.after",g,A,C)}),I.subParser("headers",function(g,A,C){"use strict";function e(g){var e,r;if(A.customizedHeaderId){var t=g.match(/\{([^{]+?)}\s*$/);t&&t[1]&&(g=t[1])}return e=g,r=I.helper.isString(A.prefixHeaderId)?A.prefixHeaderId:!0===A.prefixHeaderId?"section-":"",A.rawPrefixHeaderId||(e=r+e),e=A.ghCompatibleHeaderId?e.replace(/ /g,"-").replace(/&amp;/g,"").replace(/Â¨T/g,"").replace(/Â¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^Â¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():A.rawHeaderId?e.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/Â¨T/g,"Â¨").replace(/Â¨D/g,"$").replace(/["']/g,"-").toLowerCase():e.replace(/[^\w]/g,"").toLowerCase(),A.rawPrefixHeaderId&&(e=r+e),C.hashLinkCounts[e]?e=e+"-"+C.hashLinkCounts[e]++:C.hashLinkCounts[e]=1,e}g=C.converter._dispatch("headers.before",g,A,C);var r=isNaN(parseInt(A.headerLevelStart))?1:parseInt(A.headerLevelStart),t=A.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,a=A.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;g=(g=g.replace(t,function(g,t){var a=I.subParser("spanGamut")(t,A,C),n=A.noHeaderId?"":' id="'+e(t)+'"',o="<h"+r+n+">"+a+"</h"+r+">";return I.subParser("hashBlock")(o,A,C)})).replace(a,function(g,t){var a=I.subParser("spanGamut")(t,A,C),n=A.noHeaderId?"":' id="'+e(t)+'"',o=r+1,s="<h"+o+n+">"+a+"</h"+o+">";return I.subParser("hashBlock")(s,A,C)});var n=A.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;return g=g.replace(n,function(g,t,a){var n=a;A.customizedHeaderId&&(n=a.replace(/\s?\{([^{]+?)}\s*$/,""));var o=I.subParser("spanGamut")(n,A,C),s=A.noHeaderId?"":' id="'+e(a)+'"',i=r-1+t.length,l="<h"+i+s+">"+o+"</h"+i+">";return I.subParser("hashBlock")(l,A,C)}),g=C.converter._dispatch("headers.after",g,A,C)}),I.subParser("horizontalRule",function(g,A,C){"use strict";g=C.converter._dispatch("horizontalRule.before",g,A,C);var e=I.subParser("hashBlock")("<hr />",A,C);return g=g.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,e),g=g.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,e),g=g.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,e),g=C.converter._dispatch("horizontalRule.after",g,A,C)}),I.subParser("images",function(g,A,C){"use strict";function e(g,A,e,r,t,a,n,o){var s=C.gUrls,i=C.gTitles,l=C.gDimensions;if(e=e.toLowerCase(),o||(o=""),g.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)r="";else if(""===r||null===r){if(""!==e&&null!==e||(e=A.toLowerCase().replace(/ ?\n/g," ")),r="#"+e,I.helper.isUndefined(s[e]))return g;r=s[e],I.helper.isUndefined(i[e])||(o=i[e]),I.helper.isUndefined(l[e])||(t=l[e].width,a=l[e].height)}A=A.replace(/"/g,"&quot;").replace(I.helper.regexes.asteriskDashAndColon,I.helper.escapeCharactersCallback);var c='<img src="'+(r=r.replace(I.helper.regexes.asteriskDashAndColon,I.helper.escapeCharactersCallback))+'" alt="'+A+'"';return o&&(c+=' title="'+(o=o.replace(/"/g,"&quot;").replace(I.helper.regexes.asteriskDashAndColon,I.helper.escapeCharactersCallback))+'"'),t&&a&&(c+=' width="'+(t="*"===t?"auto":t)+'"',c+=' height="'+(a="*"===a?"auto":a)+'"'),c+=" />"}return g=(g=C.converter._dispatch("images.before",g,A,C)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,e),g=g.replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,function(g,A,C,I,r,t,a,n){return I=I.replace(/\s/g,""),e(g,A,C,I,r,t,0,n)}),g=g.replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,e),g=g.replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,e),g=g.replace(/!\[([^\[\]]+)]()()()()()/g,e),g=C.converter._dispatch("images.after",g,A,C)}),I.subParser("italicsAndBold",function(g,A,C){"use strict";function I(g,A,C){return A+g+C}return g=C.converter._dispatch("italicsAndBold.before",g,A,C),g=A.literalMidWordUnderscores?(g=(g=g.replace(/\b___(\S[\s\S]*)___\b/g,function(g,A){return I(A,"<strong><em>","</em></strong>")})).replace(/\b__(\S[\s\S]*)__\b/g,function(g,A){return I(A,"<strong>","</strong>")})).replace(/\b_(\S[\s\S]*?)_\b/g,function(g,A){return I(A,"<em>","</em>")}):(g=(g=g.replace(/___(\S[\s\S]*?)___/g,function(g,A){return/\S$/.test(A)?I(A,"<strong><em>","</em></strong>"):g})).replace(/__(\S[\s\S]*?)__/g,function(g,A){return/\S$/.test(A)?I(A,"<strong>","</strong>"):g})).replace(/_([^\s_][\s\S]*?)_/g,function(g,A){return/\S$/.test(A)?I(A,"<em>","</em>"):g}),g=A.literalMidWordAsterisks?(g=(g=g.replace(/([^*]|^)\B\*\*\*(\S[\s\S]+?)\*\*\*\B(?!\*)/g,function(g,A,C){return I(C,A+"<strong><em>","</em></strong>")})).replace(/([^*]|^)\B\*\*(\S[\s\S]+?)\*\*\B(?!\*)/g,function(g,A,C){return I(C,A+"<strong>","</strong>")})).replace(/([^*]|^)\B\*(\S[\s\S]+?)\*\B(?!\*)/g,function(g,A,C){return I(C,A+"<em>","</em>")}):(g=(g=g.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(g,A){return/\S$/.test(A)?I(A,"<strong><em>","</em></strong>"):g})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(g,A){return/\S$/.test(A)?I(A,"<strong>","</strong>"):g})).replace(/\*([^\s*][\s\S]*?)\*/g,function(g,A){return/\S$/.test(A)?I(A,"<em>","</em>"):g}),g=C.converter._dispatch("italicsAndBold.after",g,A,C)}),I.subParser("lists",function(g,A,C){"use strict";function e(g,e){C.gListLevel++,g=g.replace(/\n{2,}$/,"\n");var r=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(Â¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,t=/\n[ \t]*\n(?!Â¨0)/.test(g+="Â¨0");return A.disableForced4SpacesIndentedSublists&&(r=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(Â¨0|\2([*+-]|\d+[.])[ \t]+))/gm),g=g.replace(r,function(g,e,r,a,n,o,s){s=s&&""!==s.trim();var i=I.subParser("outdent")(n,A,C),l="";return o&&A.tasklists&&(l=' class="task-list-item" style="list-style-type: none;"',i=i.replace(/^[ \t]*\[(x|X| )?]/m,function(){var g='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return s&&(g+=" checked"),g+=">"})),i=i.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(g){return"Â¨A"+g}),e||i.search(/\n{2,}/)>-1?(i=I.subParser("githubCodeBlocks")(i,A,C),i=I.subParser("blockGamut")(i,A,C)):(i=(i=I.subParser("lists")(i,A,C)).replace(/\n$/,""),i=(i=I.subParser("hashHTMLBlocks")(i,A,C)).replace(/\n\n+/g,"\n\n"),i=t?I.subParser("paragraphs")(i,A,C):I.subParser("spanGamut")(i,A,C)),i=i.replace("Â¨A",""),i="<li"+l+">"+i+"</li>\n"}),g=g.replace(/Â¨0/g,""),C.gListLevel--,e&&(g=g.replace(/\s+$/,"")),g}function r(g,A){if("ol"===A){var C=g.match(/^ *(\d+)\./);if(C&&"1"!==C[1])return' start="'+C[1]+'"'}return""}function t(g,C,I){var t=A.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,a=A.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,n="ul"===C?t:a,o="";if(-1!==g.search(n))!function A(s){var i=s.search(n),l=r(g,C);-1!==i?(o+="\n\n<"+C+l+">\n"+e(s.slice(0,i),!!I)+"</"+C+">\n",n="ul"===(C="ul"===C?"ol":"ul")?t:a,A(s.slice(i))):o+="\n\n<"+C+l+">\n"+e(s,!!I)+"</"+C+">\n"}(g);else{var s=r(g,C);o="\n\n<"+C+s+">\n"+e(g,!!I)+"</"+C+">\n"}return o}return g=C.converter._dispatch("lists.before",g,A,C),g+="Â¨0",g=C.gListLevel?g.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(Â¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(g,A,C){return t(A,C.search(/[*+-]/g)>-1?"ul":"ol",!0)}):g.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(Â¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(g,A,C,I){return t(C,I.search(/[*+-]/g)>-1?"ul":"ol",!1)}),g=g.replace(/Â¨0/,""),g=C.converter._dispatch("lists.after",g,A,C)}),I.subParser("metadata",function(g,A,C){"use strict";function I(g){C.metadata.raw=g,(g=(g=g.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,function(g,A,I){return C.metadata.parsed[A]=I,""})}return A.metadata?(g=C.converter._dispatch("metadata.before",g,A,C),g=g.replace(/^\s*Â«Â«Â«+(\S*?)\n([\s\S]+?)\nÂ»Â»Â»+\n/,function(g,A,C){return I(C),"Â¨M"}),g=g.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(g,A,e){return A&&(C.metadata.format=A),I(e),"Â¨M"}),g=g.replace(/Â¨M/g,""),g=C.converter._dispatch("metadata.after",g,A,C)):g}),I.subParser("outdent",function(g,A,C){"use strict";return g=C.converter._dispatch("outdent.before",g,A,C),g=g.replace(/^(\t|[ ]{1,4})/gm,"Â¨0"),g=g.replace(/Â¨0/g,""),g=C.converter._dispatch("outdent.after",g,A,C)}),I.subParser("paragraphs",function(g,A,C){"use strict";for(var e=(g=(g=(g=C.converter._dispatch("paragraphs.before",g,A,C)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),r=[],t=e.length,a=0;a<t;a++){var n=e[a];n.search(/Â¨(K|G)(\d+)\1/g)>=0?r.push(n):n.search(/\S/)>=0&&(n=(n=I.subParser("spanGamut")(n,A,C)).replace(/^([ \t]*)/g,"<p>"),n+="</p>",r.push(n))}for(t=r.length,a=0;a<t;a++){for(var o="",s=r[a],i=!1;/Â¨(K|G)(\d+)\1/.test(s);){var l=RegExp.$1,c=RegExp.$2;o=(o="K"===l?C.gHtmlBlocks[c]:i?I.subParser("encodeCode")(C.ghCodeBlocks[c].text,A,C):C.ghCodeBlocks[c].codeblock).replace(/\$/g,"$$$$"),s=s.replace(/(\n\n)?Â¨(K|G)\d+\2(\n\n)?/,o),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(s)&&(i=!0)}r[a]=s}return g=r.join("\n"),g=g.replace(/^\n+/g,""),g=g.replace(/\n+$/g,""),C.converter._dispatch("paragraphs.after",g,A,C)}),I.subParser("runExtension",function(g,A,C,I){"use strict";if(g.filter)A=g.filter(A,I.converter,C);else if(g.regex){var e=g.regex;e instanceof RegExp||(e=new RegExp(e,"g")),A=A.replace(e,g.replace)}return A}),I.subParser("spanGamut",function(g,A,C){"use strict";return g=C.converter._dispatch("spanGamut.before",g,A,C),g=I.subParser("codeSpans")(g,A,C),g=I.subParser("escapeSpecialCharsWithinTagAttributes")(g,A,C),g=I.subParser("encodeBackslashEscapes")(g,A,C),g=I.subParser("images")(g,A,C),g=I.subParser("anchors")(g,A,C),g=I.subParser("autoLinks")(g,A,C),g=I.subParser("simplifiedAutoLinks")(g,A,C),g=I.subParser("emoji")(g,A,C),g=I.subParser("underline")(g,A,C),g=I.subParser("italicsAndBold")(g,A,C),g=I.subParser("strikethrough")(g,A,C),g=I.subParser("ellipsis")(g,A,C),g=I.subParser("hashHTMLSpans")(g,A,C),g=I.subParser("encodeAmpsAndAngles")(g,A,C),A.simpleLineBreaks?/\n\nÂ¨K/.test(g)||(g=g.replace(/\n+/g,"<br />\n")):g=g.replace(/  +\n/g,"<br />\n"),g=C.converter._dispatch("spanGamut.after",g,A,C)}),I.subParser("strikethrough",function(g,A,C){"use strict";return A.strikethrough&&(g=(g=C.converter._dispatch("strikethrough.before",g,A,C)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(g,e){return function(g){return A.simplifiedAutoLink&&(g=I.subParser("simplifiedAutoLinks")(g,A,C)),"<del>"+g+"</del>"}(e)}),g=C.converter._dispatch("strikethrough.after",g,A,C)),g}),I.subParser("stripLinkDefinitions",function(g,A,C){"use strict";var e=function(g,e,r,t,a,n,o){return e=e.toLowerCase(),r.match(/^data:.+?\/.+?;base64,/)?C.gUrls[e]=r.replace(/\s/g,""):C.gUrls[e]=I.subParser("encodeAmpsAndAngles")(r,A,C),n?n+o:(o&&(C.gTitles[e]=o.replace(/"|'/g,"&quot;")),A.parseImgDimensions&&t&&a&&(C.gDimensions[e]={width:t,height:a}),"")};return g=(g+="Â¨0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=Â¨0)|(?=\n\[))/gm,e),g=g.replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=Â¨0))/gm,e),g=g.replace(/Â¨0/,"")}),I.subParser("tables",function(g,A,C){"use strict";function e(g){return/^:[ \t]*--*$/.test(g)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(g)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(g)?' style="text-align:center;"':""}function r(g,e){var r="";return g=g.trim(),(A.tablesHeaderId||A.tableHeaderId)&&(r=' id="'+g.replace(/ /g,"_").toLowerCase()+'"'),g=I.subParser("spanGamut")(g,A,C),"<th"+r+e+">"+g+"</th>\n"}function t(g,e){return"<td"+e+">"+I.subParser("spanGamut")(g,A,C)+"</td>\n"}function a(g){var a,n=g.split("\n");for(a=0;a<n.length;++a)/^ {0,3}\|/.test(n[a])&&(n[a]=n[a].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(n[a])&&(n[a]=n[a].replace(/\|[ \t]*$/,"")),n[a]=I.subParser("codeSpans")(n[a],A,C);var o=n[0].split("|").map(function(g){return g.trim()}),s=n[1].split("|").map(function(g){return g.trim()}),i=[],l=[],c=[],u=[];for(n.shift(),n.shift(),a=0;a<n.length;++a)""!==n[a].trim()&&i.push(n[a].split("|").map(function(g){return g.trim()}));if(o.length<s.length)return g;for(a=0;a<s.length;++a)c.push(e(s[a]));for(a=0;a<o.length;++a)I.helper.isUndefined(c[a])&&(c[a]=""),l.push(r(o[a],c[a]));for(a=0;a<i.length;++a){for(var d=[],p=0;p<l.length;++p)I.helper.isUndefined(i[a][p]),d.push(t(i[a][p],c[p]));u.push(d)}return function(g,A){for(var C="<table>\n<thead>\n<tr>\n",I=g.length,e=0;e<I;++e)C+=g[e];for(C+="</tr>\n</thead>\n<tbody>\n",e=0;e<A.length;++e){C+="<tr>\n";for(var r=0;r<I;++r)C+=A[e][r];C+="</tr>\n"}return C+="</tbody>\n</table>\n"}(l,u)}if(!A.tables)return g;return g=C.converter._dispatch("tables.before",g,A,C),g=g.replace(/\\(\|)/g,I.helper.escapeCharactersCallback),g=g.replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|Â¨0)/gm,a),g=g.replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|Â¨0)/gm,a),g=C.converter._dispatch("tables.after",g,A,C)}),I.subParser("underline",function(g,A,C){"use strict";return A.underline?(g=C.converter._dispatch("underline.before",g,A,C),g=A.literalMidWordUnderscores?g.replace(/\b_?__(\S[\s\S]*)___?\b/g,function(g,A){return"<u>"+A+"</u>"}):g.replace(/_?__(\S[\s\S]*?)___?/g,function(g,A){return/\S$/.test(A)?"<u>"+A+"</u>":g}),g=g.replace(/(_)/g,I.helper.escapeCharactersCallback),g=C.converter._dispatch("underline.after",g,A,C)):g}),I.subParser("unescapeSpecialChars",function(g,A,C){"use strict";return g=C.converter._dispatch("unescapeSpecialChars.before",g,A,C),g=g.replace(/Â¨E(\d+)E/g,function(g,A){var C=parseInt(A);return String.fromCharCode(C)}),g=C.converter._dispatch("unescapeSpecialChars.after",g,A,C)});"function"==typeof define&&define.amd?define(function(){"use strict";return I}):"undefined"!=typeof module&&module.exports?module.exports=I:this.showdown=I}).call(this);!function(e){var n="object"==typeof window&&window||"object"==typeof self&&self;"undefined"!=typeof exports?e(exports):n&&(n.hljs=e({}),"function"==typeof define&&define.amd&&define([],function(){return n.hljs}))}(function(a){var E=[],u=Object.keys,N={},g={},n=/^(no-?highlight|plain|text)$/i,R=/\blang(?:uage)?-([\w-]+)\b/i,t=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,r={case_insensitive:"cI",lexemes:"l",contains:"c",keywords:"k",subLanguage:"sL",className:"cN",begin:"b",beginKeywords:"bK",end:"e",endsWithParent:"eW",illegal:"i",excludeBegin:"eB",excludeEnd:"eE",returnBegin:"rB",returnEnd:"rE",relevance:"r",variants:"v",IDENT_RE:"IR",UNDERSCORE_IDENT_RE:"UIR",NUMBER_RE:"NR",C_NUMBER_RE:"CNR",BINARY_NUMBER_RE:"BNR",RE_STARTERS_RE:"RSR",BACKSLASH_ESCAPE:"BE",APOS_STRING_MODE:"ASM",QUOTE_STRING_MODE:"QSM",PHRASAL_WORDS_MODE:"PWM",C_LINE_COMMENT_MODE:"CLCM",C_BLOCK_COMMENT_MODE:"CBCM",HASH_COMMENT_MODE:"HCM",NUMBER_MODE:"NM",C_NUMBER_MODE:"CNM",BINARY_NUMBER_MODE:"BNM",CSS_NUMBER_MODE:"CSSNM",REGEXP_MODE:"RM",TITLE_MODE:"TM",UNDERSCORE_TITLE_MODE:"UTM",COMMENT:"C",beginRe:"bR",endRe:"eR",illegalRe:"iR",lexemesRe:"lR",terminators:"t",terminator_end:"tE"},b="</span>",h={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};function _(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(e){return e.nodeName.toLowerCase()}function v(e,n){var t=e&&e.exec(n);return t&&0===t.index}function p(e){return n.test(e)}function l(e){var n,t={},r=Array.prototype.slice.call(arguments,1);for(n in e)t[n]=e[n];return r.forEach(function(e){for(n in e)t[n]=e[n]}),t}function M(e){var a=[];return function e(n,t){for(var r=n.firstChild;r;r=r.nextSibling)3===r.nodeType?t+=r.nodeValue.length:1===r.nodeType&&(a.push({event:"start",offset:t,node:r}),t=e(r,t),d(r).match(/br|hr|img|input/)||a.push({event:"stop",offset:t,node:r}));return t}(e,0),a}function i(e){if(r&&!e.langApiRestored){for(var n in e.langApiRestored=!0,r)e[n]&&(e[r[n]]=e[n]);(e.c||[]).concat(e.v||[]).forEach(i)}}function m(c){function s(e){return e&&e.source||e}function o(e,n){return new RegExp(s(e),"m"+(c.cI?"i":"")+(n?"g":""))}!function n(t,e){if(!t.compiled){if(t.compiled=!0,t.k=t.k||t.bK,t.k){var r={},a=function(t,e){c.cI&&(e=e.toLowerCase()),e.split(" ").forEach(function(e){var n=e.split("|");r[n[0]]=[t,n[1]?Number(n[1]):1]})};"string"==typeof t.k?a("keyword",t.k):u(t.k).forEach(function(e){a(e,t.k[e])}),t.k=r}t.lR=o(t.l||/\w+/,!0),e&&(t.bK&&(t.b="\\b("+t.bK.split(" ").join("|")+")\\b"),t.b||(t.b=/\B|\b/),t.bR=o(t.b),t.endSameAsBegin&&(t.e=t.b),t.e||t.eW||(t.e=/\B|\b/),t.e&&(t.eR=o(t.e)),t.tE=s(t.e)||"",t.eW&&e.tE&&(t.tE+=(t.e?"|":"")+e.tE)),t.i&&(t.iR=o(t.i)),null==t.r&&(t.r=1),t.c||(t.c=[]),t.c=Array.prototype.concat.apply([],t.c.map(function(e){return(n="self"===e?t:e).v&&!n.cached_variants&&(n.cached_variants=n.v.map(function(e){return l(n,{v:null},e)})),n.cached_variants||n.eW&&[l(n)]||[n];var n})),t.c.forEach(function(e){n(e,t)}),t.starts&&n(t.starts,e);var i=t.c.map(function(e){return e.bK?"\\.?(?:"+e.b+")\\.?":e.b}).concat([t.tE,t.i]).map(s).filter(Boolean);t.t=i.length?o(function(e,n){for(var t=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,r=0,a="",i=0;i<e.length;i++){var c=r,o=s(e[i]);for(0<i&&(a+=n);0<o.length;){var u=t.exec(o);if(null==u){a+=o;break}a+=o.substring(0,u.index),o=o.substring(u.index+u[0].length),"\\"==u[0][0]&&u[1]?a+="\\"+String(Number(u[1])+c):(a+=u[0],"("==u[0]&&r++)}}return a}(i,"|"),!0):{exec:function(){return null}}}}(c)}function C(e,n,o,t){function u(e,n,t,r){var a='<span class="'+(r?"":h.classPrefix);return(a+=e+'">')+n+(t?"":b)}function s(){g+=null!=E.sL?function(){var e="string"==typeof E.sL;if(e&&!N[E.sL])return _(R);var n=e?C(E.sL,R,!0,i[E.sL]):O(R,E.sL.length?E.sL:void 0);return 0<E.r&&(d+=n.r),e&&(i[E.sL]=n.top),u(n.language,n.value,!1,!0)}():function(){var e,n,t,r,a,i,c;if(!E.k)return _(R);for(r="",n=0,E.lR.lastIndex=0,t=E.lR.exec(R);t;)r+=_(R.substring(n,t.index)),a=E,i=t,c=f.cI?i[0].toLowerCase():i[0],(e=a.k.hasOwnProperty(c)&&a.k[c])?(d+=e[1],r+=u(e[0],_(t[0]))):r+=_(t[0]),n=E.lR.lastIndex,t=E.lR.exec(R);return r+_(R.substr(n))}(),R=""}function l(e){g+=e.cN?u(e.cN,"",!0):"",E=Object.create(e,{parent:{value:E}})}function r(e,n){if(R+=e,null==n)return s(),0;var t=function(e,n){var t,r,a;for(t=0,r=n.c.length;t<r;t++)if(v(n.c[t].bR,e))return n.c[t].endSameAsBegin&&(n.c[t].eR=(a=n.c[t].bR.exec(e)[0],new RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m"))),n.c[t]}(n,E);if(t)return t.skip?R+=n:(t.eB&&(R+=n),s(),t.rB||t.eB||(R=n)),l(t),t.rB?0:n.length;var r,a,i=function e(n,t){if(v(n.eR,t)){for(;n.endsParent&&n.parent;)n=n.parent;return n}if(n.eW)return e(n.parent,t)}(E,n);if(i){var c=E;for(c.skip?R+=n:(c.rE||c.eE||(R+=n),s(),c.eE&&(R=n));E.cN&&(g+=b),E.skip||E.sL||(d+=E.r),(E=E.parent)!==i.parent;);return i.starts&&(i.endSameAsBegin&&(i.starts.eR=i.eR),l(i.starts)),c.rE?0:n.length}if(r=n,a=E,!o&&v(a.iR,r))throw new Error('Illegal lexeme "'+n+'" for mode "'+(E.cN||"<unnamed>")+'"');return R+=n,n.length||1}var f=S(e);if(!f)throw new Error('Unknown language: "'+e+'"');m(f);var a,E=t||f,i={},g="";for(a=E;a!==f;a=a.parent)a.cN&&(g=u(a.cN,"",!0)+g);var R="",d=0;try{for(var c,p,M=0;E.t.lastIndex=M,c=E.t.exec(n);)p=r(n.substring(M,c.index),c[0]),M=c.index+p;for(r(n.substr(M)),a=E;a.parent;a=a.parent)a.cN&&(g+=b);return{r:d,value:g,language:e,top:E}}catch(e){if(e.message&&-1!==e.message.indexOf("Illegal"))return{r:0,value:_(n)};throw e}}function O(t,e){e=e||h.languages||u(N);var r={r:0,value:_(t)},a=r;return e.filter(S).filter(s).forEach(function(e){var n=C(e,t,!1);n.language=e,n.r>a.r&&(a=n),n.r>r.r&&(a=r,r=n)}),a.language&&(r.second_best=a),r}function B(e){return h.tabReplace||h.useBR?e.replace(t,function(e,n){return h.useBR&&"\n"===e?"<br>":h.tabReplace?n.replace(/\t/g,h.tabReplace):""}):e}function c(e){var n,t,r,a,i,c,o,u,s,l,f=function(e){var n,t,r,a,i=e.className+" ";if(i+=e.parentNode?e.parentNode.className:"",t=R.exec(i))return S(t[1])?t[1]:"no-highlight";for(n=0,r=(i=i.split(/\s+/)).length;n<r;n++)if(p(a=i[n])||S(a))return a}(e);p(f)||(h.useBR?(n=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):n=e,i=n.textContent,r=f?C(f,i,!0):O(i),(t=M(n)).length&&((a=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=r.value,r.value=function(e,n,t){var r=0,a="",i=[];function c(){return e.length&&n.length?e[0].offset!==n[0].offset?e[0].offset<n[0].offset?e:n:"start"===n[0].event?e:n:e.length?e:n}function o(e){a+="<"+d(e)+E.map.call(e.attributes,function(e){return" "+e.nodeName+'="'+_(e.value).replace('"',"&quot;")+'"'}).join("")+">"}function u(e){a+="</"+d(e)+">"}function s(e){("start"===e.event?o:u)(e.node)}for(;e.length||n.length;){var l=c();if(a+=_(t.substring(r,l[0].offset)),r=l[0].offset,l===e){for(i.reverse().forEach(u);s(l.splice(0,1)[0]),(l=c())===e&&l.length&&l[0].offset===r;);i.reverse().forEach(o)}else"start"===l[0].event?i.push(l[0].node):i.pop(),s(l.splice(0,1)[0])}return a+_(t.substr(r))}(t,M(a),i)),r.value=B(r.value),e.innerHTML=r.value,e.className=(c=e.className,o=f,u=r.language,s=o?g[o]:u,l=[c.trim()],c.match(/\bhljs\b/)||l.push("hljs"),-1===c.indexOf(s)&&l.push(s),l.join(" ").trim()),e.result={language:r.language,re:r.r},r.second_best&&(e.second_best={language:r.second_best.language,re:r.second_best.r}))}function o(){if(!o.called){o.called=!0;var e=document.querySelectorAll("pre code");E.forEach.call(e,c)}}function S(e){return e=(e||"").toLowerCase(),N[e]||N[g[e]]}function s(e){var n=S(e);return n&&!n.disableAutodetect}return a.highlight=C,a.highlightAuto=O,a.fixMarkup=B,a.highlightBlock=c,a.configure=function(e){h=l(h,e)},a.initHighlighting=o,a.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",o,!1),addEventListener("load",o,!1)},a.registerLanguage=function(n,e){var t=N[n]=e(a);i(t),t.aliases&&t.aliases.forEach(function(e){g[e]=n})},a.listLanguages=function(){return u(N)},a.getLanguage=S,a.autoDetection=s,a.inherit=l,a.IR=a.IDENT_RE="[a-zA-Z]\\w*",a.UIR=a.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",a.NR=a.NUMBER_RE="\\b\\d+(\\.\\d+)?",a.CNR=a.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",a.BNR=a.BINARY_NUMBER_RE="\\b(0b[01]+)",a.RSR=a.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",a.BE=a.BACKSLASH_ESCAPE={b:"\\\\[\\s\\S]",r:0},a.ASM=a.APOS_STRING_MODE={cN:"string",b:"'",e:"'",i:"\\n",c:[a.BE]},a.QSM=a.QUOTE_STRING_MODE={cN:"string",b:'"',e:'"',i:"\\n",c:[a.BE]},a.PWM=a.PHRASAL_WORDS_MODE={b:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},a.C=a.COMMENT=function(e,n,t){var r=a.inherit({cN:"comment",b:e,e:n,c:[]},t||{});return r.c.push(a.PWM),r.c.push({cN:"doctag",b:"(?:TODO|FIXME|NOTE|BUG|XXX):",r:0}),r},a.CLCM=a.C_LINE_COMMENT_MODE=a.C("//","$"),a.CBCM=a.C_BLOCK_COMMENT_MODE=a.C("/\\*","\\*/"),a.HCM=a.HASH_COMMENT_MODE=a.C("#","$"),a.NM=a.NUMBER_MODE={cN:"number",b:a.NR,r:0},a.CNM=a.C_NUMBER_MODE={cN:"number",b:a.CNR,r:0},a.BNM=a.BINARY_NUMBER_MODE={cN:"number",b:a.BNR,r:0},a.CSSNM=a.CSS_NUMBER_MODE={cN:"number",b:a.NR+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",r:0},a.RM=a.REGEXP_MODE={cN:"regexp",b:/\//,e:/\/[gimuy]*/,i:/\n/,c:[a.BE,{b:/\[/,e:/\]/,r:0,c:[a.BE]}]},a.TM=a.TITLE_MODE={cN:"title",b:a.IR,r:0},a.UTM=a.UNDERSCORE_TITLE_MODE={cN:"title",b:a.UIR,r:0},a.METHOD_GUARD={b:"\\.\\s*"+a.UIR,r:0},a});hljs.registerLanguage("php",function(e){var c={b:"\\$+[a-zA-Z_-Ã¿][a-zA-Z0-9_-Ã¿]*"},i={cN:"meta",b:/<\?(php)?|\?>/},t={cN:"string",c:[e.BE,i],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},e.inherit(e.ASM,{i:null}),e.inherit(e.QSM,{i:null})]},a={v:[e.BNM,e.CNM]};return{aliases:["php","php3","php4","php5","php6","php7"],cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",c:[e.HCM,e.C("//","$",{c:[i]}),e.C("/\\*","\\*/",{c:[{cN:"doctag",b:"@[A-Za-z]+"}]}),e.C("__halt_compiler.+?;",!1,{eW:!0,k:"__halt_compiler",l:e.UIR}),{cN:"string",b:/<<<['"]?\w+['"]?$/,e:/^\w+;?$/,c:[e.BE,{cN:"subst",v:[{b:/\$\w+/},{b:/\{\$/,e:/\}/}]}]},i,{cN:"keyword",b:/\$this\b/},c,{b:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{cN:"function",bK:"function",e:/[;{]/,eE:!0,i:"\\$|\\[|%",c:[e.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",c,e.CBCM,t,a]}]},{cN:"class",bK:"class interface",e:"{",eE:!0,i:/[:\(\$"]/,c:[{bK:"extends implements"},e.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[e.UTM]},{bK:"use",e:";",c:[e.UTM]},{b:"=>"},t,a]}});hljs.registerLanguage("xml",function(s){var e={eW:!0,i:/</,r:0,c:[{cN:"attr",b:"[A-Za-z0-9\\._:-]+",r:0},{b:/=\s*/,r:0,c:[{cN:"string",endsParent:!0,v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist"],cI:!0,c:[{cN:"meta",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},s.C("\x3c!--","--\x3e",{r:10}),{b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{cN:"meta",b:/<\?xml/,e:/\?>/,r:10},{b:/<\?(php)?/,e:/\?>/,sL:"php",c:[{b:"/\\*",e:"\\*/",skip:!0},{b:'b"',e:'"',skip:!0},{b:"b'",e:"'",skip:!0},s.inherit(s.ASM,{i:null,cN:null,c:null,skip:!0}),s.inherit(s.QSM,{i:null,cN:null,c:null,skip:!0})]},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{name:"style"},c:[e],starts:{e:"</style>",rE:!0,sL:["css","xml"]}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{name:"script"},c:[e],starts:{e:"<\/script>",rE:!0,sL:["actionscript","javascript","handlebars","xml"]}},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"name",b:/[^\/><\s]+/,r:0},e]}]}});hljs.registerLanguage("markdown",function(e){return{aliases:["md","mkdown","mkd"],c:[{cN:"section",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"quote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"^```w*s*$",e:"^```s*$"},{b:"`.+?`"},{b:"^( {4}|\t)",e:"$",r:0}]},{b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].*?[\\)\\]]",rB:!0,c:[{cN:"string",b:"\\[",e:"\\]",eB:!0,rE:!0,r:0},{cN:"link",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"symbol",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:/^\[[^\n]+\]:/,rB:!0,c:[{cN:"symbol",b:/\[/,e:/\]/,eB:!0,eE:!0},{cN:"link",b:/:\s*/,e:/$/,eB:!0}]}]}});hljs.registerLanguage("css",function(e){var c={b:/[A-Z\_\.\-]+\s*:/,rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:/\S/,e:":",eE:!0,starts:{eW:!0,eE:!0,c:[{b:/[\w-]+\(/,rB:!0,c:[{cN:"built_in",b:/[\w-]+/},{b:/\(/,e:/\)/,c:[e.ASM,e.QSM]}]},e.CSSNM,e.QSM,e.ASM,e.CBCM,{cN:"number",b:"#[0-9A-Fa-f]+"},{cN:"meta",b:"!important"}]}}]};return{cI:!0,i:/[=\/|'\$]/,c:[e.CBCM,{cN:"selector-id",b:/#[A-Za-z0-9_-]+/},{cN:"selector-class",b:/\.[A-Za-z0-9_-]+/},{cN:"selector-attr",b:/\[/,e:/\]/,i:"$"},{cN:"selector-pseudo",b:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{b:"@",e:"[{;]",i:/:/,c:[{cN:"keyword",b:/\w+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[e.ASM,e.QSM,e.CSSNM]}]},{cN:"selector-tag",b:"[a-zA-Z-][a-zA-Z0-9_-]*",r:0},{b:"{",e:"}",i:/\S/,c:[e.CBCM,c]}]}});hljs.registerLanguage("json",function(e){var i={literal:"true false null"},n=[e.QSM,e.CNM],r={e:",",eW:!0,eE:!0,c:n,k:i},t={b:"{",e:"}",c:[{cN:"attr",b:/"/,e:/"/,c:[e.BE],i:"\\n"},e.inherit(r,{b:/:/})],i:"\\S"},c={b:"\\[",e:"\\]",c:[e.inherit(r)],i:"\\S"};return n.splice(n.length,0,t,c),{c:n,k:i,i:"\\S"}});hljs.registerLanguage("bash",function(e){var t={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)}/}]},s={cN:"string",b:/"/,e:/"/,c:[e.BE,t,{cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]}]};return{aliases:["sh","zsh"],l:/\b-?[a-z\._]+\b/,k:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",_:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"meta",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[e.inherit(e.TM,{b:/\w[\w\d_]*/})],r:0},e.HCM,s,{cN:"string",b:/'/,e:/'/},t]}});hljs.registerLanguage("javascript",function(e){var r="[A-Za-z$_][0-9A-Za-z$_]*",t={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},a={cN:"number",v:[{b:"\\b(0[bB][01]+)"},{b:"\\b(0[oO][0-7]+)"},{b:e.CNR}],r:0},n={cN:"subst",b:"\\$\\{",e:"\\}",k:t,c:[]},c={cN:"string",b:"`",e:"`",c:[e.BE,n]};n.c=[e.ASM,e.QSM,c,a,e.RM];var s=n.c.concat([e.CBCM,e.CLCM]);return{aliases:["js","jsx"],k:t,c:[{cN:"meta",r:10,b:/^\s*['"]use (strict|asm)['"]/},{cN:"meta",b:/^#!/,e:/$/},e.ASM,e.QSM,c,e.CLCM,e.CBCM,a,{b:/[{,]\s*/,r:0,c:[{b:r+"\\s*:",rB:!0,r:0,c:[{cN:"attr",b:r,r:0}]}]},{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBCM,e.RM,{cN:"function",b:"(\\(.*?\\)|"+r+")\\s*=>",rB:!0,e:"\\s*=>",c:[{cN:"params",v:[{b:r},{b:/\(\s*\)/},{b:/\(/,e:/\)/,eB:!0,eE:!0,k:t,c:s}]}]},{b:/</,e:/(\/\w+|\w+\/)>/,sL:"xml",c:[{b:/<\w+\s*\/>/,skip:!0},{b:/<\w+/,e:/(\/\w+|\w+\/)>/,skip:!0,c:[{b:/<\w+\s*\/>/,skip:!0},"self"]}]}],r:0},{cN:"function",bK:"function",e:/\{/,eE:!0,c:[e.inherit(e.TM,{b:r}),{cN:"params",b:/\(/,e:/\)/,eB:!0,eE:!0,c:s}],i:/\[|%/},{b:/\$[(.]/},e.METHOD_GUARD,{cN:"class",bK:"class",e:/[{;=]/,eE:!0,i:/[:"\[\]]/,c:[{bK:"extends"},e.UTM]},{bK:"constructor get set",e:/\{/,eE:!0}],i:/#(?!!)/}});!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("gantt",[],t):"object"==typeof exports?exports.gantt=t():(e.bryntum=e.bryntum||{},e.bryntum.gantt=t())}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=284)}([function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(214);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(222);function i(t,n,o){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,n){var i=r(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}},i(t,n,o||t)}e.exports=i},function(e,t,n){var r=n(14),i=n(122);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},function(e,t,n){e.exports=n(29)},function(e,t,n){var r=n(167),i=n(100),o=n(236);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,n){"use strict";var r=n(100),i=n(35),o=n(44),a=n(174),s=RegExp.prototype,u=s.toString,c=o(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),l="toString"!=u.name;(c||l)&&r(RegExp.prototype,"toString",function(){var e=i(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?a.call(e):n)},{unsafe:!0})},function(e,t,n){var r=n(25),i=n(92),o=n(83),a=n(35),s=n(68),u=n(118),c=n(242),l=n(44),f=i("Reflect","construct"),d=l(function(){function e(){}return!(f(function(){},[],e)instanceof e)}),h=!l(function(){f(function(){})}),p=d||h;r({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(h&&!d)return f(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var i=n.prototype,l=u(s(i)?i:Object.prototype),p=Function.apply.call(e,l,t);return s(p)?p:l}})},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)})}}},function(e,t,n){var r=n(248),i=n(249),o=n(221),a=n(250);e.exports=function(e){return r(e)||i(e)||o(e)||a()}},function(e,t,n){"use strict";var r=n(25),i=n(198);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){var r=n(67),i=n(204),o=n(198),a=n(108);for(var s in i){var u=r[s],c=u&&u.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(e){c.forEach=o}}},function(e,t,n){"use strict";var r=n(25),i=n(44),o=n(134),a=n(68),s=n(97),u=n(93),c=n(125),l=n(146),f=n(136),d=n(85),h=n(165),p=d("isConcatSpreadable"),v=h>=51||!i(function(){var e=[];return e[p]=!1,e.concat()[0]!==e}),g=f("concat"),y=function(e){if(!a(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)};r({target:"Array",proto:!0,forced:!v||!g},{concat:function(e){var t,n,r,i,o,a=s(this),f=l(a,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(y(o=-1===t?a:arguments[t])){if(d+(i=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,d++)n in o&&c(f,d,o[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(f,d++,o)}return f.length=d,f}})},function(e,t,n){"use strict";var r=n(104),i=n(124),o=n(139),a=n(105),s=n(177),u=a.set,c=a.getterFor("Array Iterator");e.exports=s(Array,"Array",function(e,t){u(this,{type:"Array Iterator",target:r(e),index:0,kind:t})},function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var r=n(67),i=n(204),o=n(17),a=n(108),s=n(85),u=s("iterator"),c=s("toStringTag"),l=o.values;for(var f in i){var d=r[f],h=d&&d.prototype;if(h){if(h[u]!==l)try{a(h,u,l)}catch(e){h[u]=l}if(h[c]||a(h,c,f),i[f])for(var p in o)if(h[p]!==o[p])try{a(h,p,o[p])}catch(e){h[p]=o[p]}}}},function(e,t,n){var r=n(251),i=n(252),o=n(221),a=n(253);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},function(e,t,n){var r=n(87),i=n(91).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;r&&!("name"in o)&&i(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(149).charAt,i=n(105),o=n(177),a=i.set,s=i.getterFor("String Iterator");o(String,"String",function(e){a(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=s(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(25),i=n(199);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(e,t,n){var r=n(222),i=n(10);function o(e,t,n,a){return(o="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,o){var a,s=r(e,t);if(s){if((a=Object.getOwnPropertyDescriptor(s,t)).set)return a.set.call(o,n),!0;if(!a.writable)return!1}if(a=Object.getOwnPropertyDescriptor(o,t)){if(!a.writable)return!1;a.value=n,Object.defineProperty(o,t,a)}else i(o,t,n);return!0})(e,t,n,a)}e.exports=function(e,t,n,r,i){if(!o(e,t,n,r||e)&&i)throw new Error("failed to set property");return n}},function(e,t,n){"use strict";var r=n(25),i=n(68),o=n(134),a=n(145),s=n(93),u=n(104),c=n(125),l=n(85),f=n(136),d=n(101),h=f("slice"),p=d("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),g=[].slice,y=Math.max;r({target:"Array",proto:!0,forced:!h||!p},{slice:function(e,t){var n,r,l,f=u(this),d=s(f.length),h=a(e,d),p=a(void 0===t?d:t,d);if(o(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[v])&&(n=void 0):n=void 0,n===Array||void 0===n))return g.call(f,h,p);for(r=new(void 0===n?Array:n)(y(p-h,0)),l=0;h<p;h++,l++)h in f&&c(r,l,f[h]);return r.length=l,r}})},function(e,t,n){var r=n(67),i=n(99).f,o=n(108),a=n(100),s=n(157),u=n(189),c=n(133);e.exports=function(e,t){var n,l,f,d,h,p=e.target,v=e.global,g=e.stat;if(n=v?r:g?r[p]||s(p,{}):(r[p]||{}).prototype)for(l in t){if(d=t[l],f=e.noTargetGet?(h=i(n,l))&&h.value:n[l],!c(v?l:p+(g?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&o(d,"sham",!0),a(n,l,d,e)}}},function(e,t,n){"use strict";var r=n(25),i=n(67),o=n(92),a=n(41),s=n(87),u=n(164),c=n(192),l=n(44),f=n(88),d=n(134),h=n(68),p=n(35),v=n(97),g=n(104),y=n(123),m=n(117),k=n(118),b=n(135),w=n(132),S=n(195),D=n(163),R=n(99),C=n(91),x=n(142),E=n(108),T=n(100),M=n(159),P=n(143),A=n(131),I=n(144),F=n(85),L=n(196),O=n(197),_=n(119),j=n(105),H=n(113).forEach,N=P("hidden"),B=F("toPrimitive"),z=j.set,V=j.getterFor("Symbol"),W=Object.prototype,$=i.Symbol,G=o("JSON","stringify"),Y=R.f,U=C.f,q=S.f,X=x.f,K=M("symbols"),Z=M("op-symbols"),J=M("string-to-symbol-registry"),Q=M("symbol-to-string-registry"),ee=M("wks"),te=i.QObject,ne=!te||!te.prototype||!te.prototype.findChild,re=s&&l(function(){return 7!=k(U({},"a",{get:function(){return U(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=Y(W,t);r&&delete W[t],U(e,t,n),r&&e!==W&&U(W,t,r)}:U,ie=function(e,t){var n=K[e]=k($.prototype);return z(n,{type:"Symbol",tag:e,description:t}),s||(n.description=t),n},oe=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof $},ae=function(e,t,n){e===W&&ae(Z,t,n),p(e);var r=y(t,!0);return p(n),f(K,r)?(n.enumerable?(f(e,N)&&e[N][r]&&(e[N][r]=!1),n=k(n,{enumerable:m(0,!1)})):(f(e,N)||U(e,N,m(1,{})),e[N][r]=!0),re(e,r,n)):U(e,r,n)},se=function(e,t){p(e);var n=g(t),r=b(n).concat(fe(n));return H(r,function(t){s&&!ue.call(n,t)||ae(e,t,n[t])}),e},ue=function(e){var t=y(e,!0),n=X.call(this,t);return!(this===W&&f(K,t)&&!f(Z,t))&&(!(n||!f(this,t)||!f(K,t)||f(this,N)&&this[N][t])||n)},ce=function(e,t){var n=g(e),r=y(t,!0);if(n!==W||!f(K,r)||f(Z,r)){var i=Y(n,r);return!i||!f(K,r)||f(n,N)&&n[N][r]||(i.enumerable=!0),i}},le=function(e){var t=q(g(e)),n=[];return H(t,function(e){f(K,e)||f(A,e)||n.push(e)}),n},fe=function(e){var t=e===W,n=q(t?Z:g(e)),r=[];return H(n,function(e){!f(K,e)||t&&!f(W,e)||r.push(K[e])}),r};(u||(T(($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=I(e),n=function(e){this===W&&n.call(Z,e),f(this,N)&&f(this[N],t)&&(this[N][t]=!1),re(this,t,m(1,e))};return s&&ne&&re(W,t,{configurable:!0,set:n}),ie(t,e)}).prototype,"toString",function(){return V(this).tag}),T($,"withoutSetter",function(e){return ie(I(e),e)}),x.f=ue,C.f=ae,R.f=ce,w.f=S.f=le,D.f=fe,L.f=function(e){return ie(F(e),e)},s&&(U($.prototype,"description",{configurable:!0,get:function(){return V(this).description}}),a||T(W,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:$}),H(b(ee),function(e){O(e)}),r({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=String(e);if(f(J,t))return J[t];var n=$(t);return J[t]=n,Q[n]=t,n},keyFor:function(e){if(!oe(e))throw TypeError(e+" is not a symbol");if(f(Q,e))return Q[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(e,t){return void 0===t?k(e):se(k(e),t)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:ce}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:le,getOwnPropertySymbols:fe}),r({target:"Object",stat:!0,forced:l(function(){D.f(1)})},{getOwnPropertySymbols:function(e){return D.f(v(e))}}),G)&&r({target:"JSON",stat:!0,forced:!u||l(function(){var e=$();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))})},{stringify:function(e,t,n){for(var r,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(r=t,(h(t)||void 0!==e)&&!oe(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!oe(t))return t}),i[1]=t,G.apply(null,i)}});$.prototype[B]||E($.prototype,B,$.prototype.valueOf),_($,"Symbol"),A[N]=!0},function(e,t,n){"use strict";var r=n(25),i=n(87),o=n(67),a=n(88),s=n(68),u=n(91).f,c=n(189),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t};c(d,l);var h=d.prototype=l.prototype;h.constructor=d;var p=h.toString,v="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;u(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(a(f,e))return"";var n=v?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},function(e,t,n){"use strict";var r=n(25),i=n(113).map,o=n(136),a=n(101),s=o("map"),u=a("map");r({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),a=new D(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function f(){}function d(){}function h(){}var p={};p[i]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(R([])));g&&g!==t&&n.call(g,i)&&(p=g);var y=h.prototype=f.prototype=Object.create(p);function m(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function k(e,t){var r;this._invoke=function(i,o){function a(){return new t(function(r,a){!function r(i,o,a,s){var u=c(e[i],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):t.resolve(f).then(function(e){l.value=e,a(l)},function(e){return r("throw",e,a,s)})}s(u.arg)}(i,o,r,a)})}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function R(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=y.constructor=h,h.constructor=d,d.displayName=s(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},m(k.prototype),k.prototype[o]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},m(y),s(y,a,"Generator"),y[i]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r=n(25),i=n(213);r({target:"Array",stat:!0,forced:!n(179)(function(e){Array.from(e)})},{from:i})},function(e,t,n){"use strict";var r=n(25),i=n(161).indexOf,o=n(120),a=n(101),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(e){return u?s.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(25),i=n(113).filter,o=n(136),a=n(101),s=o("filter"),u=a("filter");r({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){n(197)("iterator")},function(e,t,n){"use strict";var r=n(25),i=n(161).includes,o=n(124);r({target:"Array",proto:!0,forced:!n(101)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(e,t,n){var r=n(68);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){"use strict";var r=n(25),i=n(147);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(e,t,n){"use strict";var r=n(25),i=n(170),o=n(96);r({target:"String",proto:!0,forced:!n(172)("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},function(e,t,n){"use strict";var r=n(25),i=n(223).left,o=n(120),a=n(101),s=o("reduce"),u=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(25),i=n(130),o=n(104),a=n(120),s=[].join,u=i!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(e){return s.call(o(this),void 0===e?",":e)}})},function(e,t){e.exports=!1},function(e,t,n){"use strict";var r=n(25),i=n(113).find,o=n(124),a=n(101),s=!0,u=a("find");"find"in[]&&Array(1).find(function(){s=!1}),r({target:"Array",proto:!0,forced:s||!u},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(e,t,n){var r=n(25),i=n(97),o=n(135);r({target:"Object",stat:!0,forced:n(44)(function(){o(1)})},{keys:function(e){return o(i(e))}})},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r=n(25),i=n(113).some,o=n(120),a=n(101),s=o("some"),u=a("some");r({target:"Array",proto:!0,forced:!s||!u},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(25),i=n(145),o=n(115),a=n(93),s=n(97),u=n(146),c=n(125),l=n(136),f=n(101),d=l("splice"),h=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!d||!h},{splice:function(e,t){var n,r,l,f,d,h,g=s(this),y=a(g.length),m=i(e,y),k=arguments.length;if(0===k?n=r=0:1===k?(n=0,r=y-m):(n=k-2,r=v(p(o(t),0),y-m)),y+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(g,r),f=0;f<r;f++)(d=m+f)in g&&c(l,f,g[d]);if(l.length=r,n<r){for(f=m;f<y-r;f++)h=f+n,(d=f+r)in g?g[h]=g[d]:delete g[h];for(f=y;f>y-r+n;f--)delete g[f-1]}else if(n>r)for(f=y-r;f>m;f--)h=f+n-1,(d=f+r-1)in g?g[h]=g[d]:delete g[h];for(f=0;f<n;f++)g[f+m]=arguments[f+2];return g.length=y-r+n,l}})},function(e,t,n){"use strict";var r,i,o,a,s=n(25),u=n(41),c=n(67),l=n(92),f=n(243),d=n(100),h=n(140),p=n(119),v=n(175),g=n(68),y=n(83),m=n(128),k=n(107),b=n(158),w=n(48),S=n(179),D=n(106),R=n(217).set,C=n(244),x=n(245),E=n(246),T=n(219),M=n(247),P=n(105),A=n(133),I=n(85),F=n(165),L=I("species"),O="Promise",_=P.get,j=P.set,H=P.getterFor(O),N=f,B=c.TypeError,z=c.document,V=c.process,W=l("fetch"),$=T.f,G=$,Y="process"==k(V),U=!!(z&&z.createEvent&&c.dispatchEvent),q=A(O,function(){if(!(b(N)!==String(N))){if(66===F)return!0;if(!Y&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!N.prototype.finally)return!0;if(F>=51&&/native code/.test(N))return!1;var e=N.resolve(1),t=function(e){e(function(){},function(){})};return(e.constructor={})[L]=t,!(e.then(function(){})instanceof t)}),X=q||!S(function(e){N.all(e).catch(function(){})}),K=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},Z=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;C(function(){for(var i=t.value,o=1==t.state,a=0;r.length>a;){var s,u,c,l=r[a++],f=o?l.ok:l.fail,d=l.resolve,h=l.reject,p=l.domain;try{f?(o||(2===t.rejection&&te(e,t),t.rejection=1),!0===f?s=i:(p&&p.enter(),s=f(i),p&&(p.exit(),c=!0)),s===l.promise?h(B("Promise-chain cycle")):(u=K(s))?u.call(s,d,h):d(s)):h(i)}catch(e){p&&!c&&p.exit(),h(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&Q(e,t)})}},J=function(e,t,n){var r,i;U?((r=z.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},(i=c["on"+e])?i(r):"unhandledrejection"===e&&E("Unhandled promise rejection",n)},Q=function(e,t){R.call(c,function(){var n,r=t.value;if(ee(t)&&(n=M(function(){Y?V.emit("unhandledRejection",r,e):J("unhandledrejection",e,r)}),t.rejection=Y||ee(t)?2:1,n.error))throw n.value})},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e,t){R.call(c,function(){Y?V.emit("rejectionHandled",e):J("rejectionhandled",e,t.value)})},ne=function(e,t,n,r){return function(i){e(t,n,i,r)}},re=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Z(e,t,!0))},ie=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw B("Promise can't be resolved itself");var i=K(n);i?C(function(){var r={done:!1};try{i.call(n,ne(ie,e,r,t),ne(re,e,r,t))}catch(n){re(e,r,n,t)}}):(t.value=n,t.state=1,Z(e,t,!1))}catch(n){re(e,{done:!1},n,t)}}};q&&(N=function(e){m(this,N,O),y(e),r.call(this);var t=_(this);try{e(ne(ie,this,t),ne(re,this,t))}catch(e){re(this,t,e)}},(r=function(e){j(this,{type:O,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(N.prototype,{then:function(e,t){var n=H(this),r=$(D(this,N));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Y?V.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Z(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=_(e);this.promise=e,this.resolve=ne(ie,e,t),this.reject=ne(re,e,t)},T.f=$=function(e){return e===N||e===o?new i(e):G(e)},u||"function"!=typeof f||(a=f.prototype.then,d(f.prototype,"then",function(e,t){var n=this;return new N(function(e,t){a.call(n,e,t)}).then(e,t)},{unsafe:!0}),"function"==typeof W&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return x(N,W.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:q},{Promise:N}),p(N,O,!1,!0),v(O),o=l(O),s({target:O,stat:!0,forced:q},{reject:function(e){var t=$(this);return t.reject.call(void 0,e),t.promise}}),s({target:O,stat:!0,forced:u||q},{resolve:function(e){return x(u&&this===o?N:this,e)}}),s({target:O,stat:!0,forced:X},{all:function(e){var t=this,n=$(t),r=n.resolve,i=n.reject,o=M(function(){var n=y(t.resolve),o=[],a=0,s=1;w(e,function(e){var u=a++,c=!1;o.push(void 0),s++,n.call(t,e).then(function(e){c||(c=!0,o[u]=e,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=$(t),r=n.reject,i=M(function(){var i=y(t.resolve);w(e,function(e){i.call(t,e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}})},function(e,t,n){var r=n(35),i=n(209),o=n(93),a=n(90),s=n(151),u=n(210),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,l,f){var d,h,p,v,g,y,m,k=a(t,n,l?2:1);if(f)d=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(i(h)){for(p=0,v=o(e.length);v>p;p++)if((g=l?k(r(m=e[p])[0],m[1]):k(e[p]))&&g instanceof c)return g;return new c(!1)}d=h.call(e)}for(y=d.next;!(m=y.call(d)).done;)if("object"==typeof(g=u(d,k,m.value,l))&&g&&g instanceof c)return g;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){"use strict";var r=n(182),i=n(225);e.exports=r("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},i)},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(266);r({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return o.apply(this,arguments)}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(183);r({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(92),a=n(35),s=n(83),u=n(106),c=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=a(this),n=new(u(t,o("Set")))(t),r=s(n.delete);return c(e,function(e){r.call(n,e)}),n}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(90),s=n(121),u=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return!u(n,function(e){if(!r(e,e,t))return u.stop()},void 0,!1,!0).stopped}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(92),a=n(35),s=n(83),u=n(90),c=n(106),l=n(121),f=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e){var t=a(this),n=l(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Set"))),d=s(i.add);return f(n,function(e){r(e,e,t)&&d.call(i,e)},void 0,!1,!0),i}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(90),s=n(121),u=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return u(n,function(e){if(r(e,e,t))return u.stop(e)},void 0,!1,!0).result}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(92),a=n(35),s=n(83),u=n(106),c=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=a(this),n=new(u(t,o("Set"))),r=s(t.has),i=s(n.add);return c(e,function(e){r.call(t,e)&&i.call(n,e)}),n}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(83),s=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=o(this),n=a(t.has);return!s(e,function(e){if(!0===n.call(t,e))return s.stop()}).stopped}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(92),a=n(35),s=n(83),u=n(152),c=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=u(this),n=a(e),r=n.has;return"function"!=typeof r&&(n=new(o("Set"))(e),r=s(n.has)),!c(t,function(e){if(!1===r.call(n,e))return c.stop()},void 0,!1,!0).stopped}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(83),s=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var t=o(this),n=a(t.has);return!s(e,function(e){if(!1===n.call(t,e))return s.stop()}).stopped}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(121),s=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=o(this),n=a(t),r=void 0===e?",":String(e),i=[];return s(n,i.push,i,!1,!0),i.join(r)}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(92),a=n(35),s=n(83),u=n(90),c=n(106),l=n(121),f=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{map:function(e){var t=a(this),n=l(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Set"))),d=s(i.add);return f(n,function(e){d.call(i,r(e,e,t))},void 0,!1,!0),i}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(83),s=n(121),u=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(e){var t=o(this),n=s(t),r=arguments.length<2,i=r?void 0:arguments[1];if(a(e),u(n,function(n){r?(r=!1,i=n):i=e(i,n,n,t)},void 0,!1,!0),r)throw TypeError("Reduce of empty set with no initial value");return i}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(90),s=n(121),u=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return u(n,function(e){if(r(e,e,t))return u.stop()},void 0,!1,!0).stopped}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(92),a=n(35),s=n(83),u=n(106),c=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=a(this),n=new(u(t,o("Set")))(t),r=s(n.delete),i=s(n.add);return c(e,function(e){r.call(n,e)||i.call(n,e)}),n}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(92),a=n(35),s=n(83),u=n(106),c=n(48);r({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=a(this),n=new(u(t,o("Set")))(t);return c(e,s(n.add),n),n}})},function(e,t,n){var r=n(25),i=n(44),o=n(104),a=n(99).f,s=n(87),u=i(function(){a(1)});r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(185))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(182),i=n(225);e.exports=r("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},i)},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(183);r({target:"Map",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(90),s=n(110),u=n(48);r({target:"Map",proto:!0,real:!0,forced:i},{every:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return!u(n,function(e,n){if(!r(n,e,t))return u.stop()},void 0,!0,!0).stopped}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(92),a=n(35),s=n(83),u=n(90),c=n(106),l=n(110),f=n(48);r({target:"Map",proto:!0,real:!0,forced:i},{filter:function(e){var t=a(this),n=l(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Map"))),d=s(i.set);return f(n,function(e,n){r(n,e,t)&&d.call(i,e,n)},void 0,!0,!0),i}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(90),s=n(110),u=n(48);r({target:"Map",proto:!0,real:!0,forced:i},{find:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return u(n,function(e,n){if(r(n,e,t))return u.stop(n)},void 0,!0,!0).result}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(90),s=n(110),u=n(48);r({target:"Map",proto:!0,real:!0,forced:i},{findKey:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return u(n,function(e,n){if(r(n,e,t))return u.stop(e)},void 0,!0,!0).result}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(110),s=n(259),u=n(48);r({target:"Map",proto:!0,real:!0,forced:i},{includes:function(e){return u(a(o(this)),function(t,n){if(s(n,e))return u.stop()},void 0,!0,!0).stopped}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(110),s=n(48);r({target:"Map",proto:!0,real:!0,forced:i},{keyOf:function(e){return s(a(o(this)),function(t,n){if(n===e)return s.stop(t)},void 0,!0,!0).result}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(92),a=n(35),s=n(83),u=n(90),c=n(106),l=n(110),f=n(48);r({target:"Map",proto:!0,real:!0,forced:i},{mapKeys:function(e){var t=a(this),n=l(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Map"))),d=s(i.set);return f(n,function(e,n){d.call(i,r(n,e,t),n)},void 0,!0,!0),i}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(92),a=n(35),s=n(83),u=n(90),c=n(106),l=n(110),f=n(48);r({target:"Map",proto:!0,real:!0,forced:i},{mapValues:function(e){var t=a(this),n=l(t),r=u(e,arguments.length>1?arguments[1]:void 0,3),i=new(c(t,o("Map"))),d=s(i.set);return f(n,function(e,n){d.call(i,e,r(n,e,t))},void 0,!0,!0),i}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(83),s=n(48);r({target:"Map",proto:!0,real:!0,forced:i},{merge:function(e){for(var t=o(this),n=a(t.set),r=0;r<arguments.length;)s(arguments[r++],n,t,!0);return t}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(83),s=n(110),u=n(48);r({target:"Map",proto:!0,real:!0,forced:i},{reduce:function(e){var t=o(this),n=s(t),r=arguments.length<2,i=r?void 0:arguments[1];if(a(e),u(n,function(n,o){r?(r=!1,i=o):i=e(i,o,n,t)},void 0,!0,!0),r)throw TypeError("Reduce of empty map with no initial value");return i}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(90),s=n(110),u=n(48);r({target:"Map",proto:!0,real:!0,forced:i},{some:function(e){var t=o(this),n=s(t),r=a(e,arguments.length>1?arguments[1]:void 0,3);return u(n,function(e,n){if(r(n,e,t))return u.stop()},void 0,!0,!0).stopped}})},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(35),a=n(83);r({target:"Map",proto:!0,real:!0,forced:i},{update:function(e,t){var n=o(this),r=arguments.length;a(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");var s=i?n.get(e):a(r>2?arguments[2]:void 0)(e,n);return n.set(e,t(s,e,n)),n}})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";var r=n(148),i=n(35),o=n(97),a=n(93),s=n(115),u=n(96),c=n(176),l=n(150),f=Math.max,d=Math.min,h=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;r("replace",2,function(e,t,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,m=g?"$":"$0";return[function(n,r){var i=u(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!g&&y||"string"==typeof r&&-1===r.indexOf(m)){var o=n(t,e,this,r);if(o.done)return o.value}var u=i(e),h=String(this),p="function"==typeof r;p||(r=String(r));var v=u.global;if(v){var b=u.unicode;u.lastIndex=0}for(var w=[];;){var S=l(u,h);if(null===S)break;if(w.push(S),!v)break;""===String(S[0])&&(u.lastIndex=c(h,a(u.lastIndex),b))}for(var D,R="",C=0,x=0;x<w.length;x++){S=w[x];for(var E=String(S[0]),T=f(d(s(S.index),h.length),0),M=[],P=1;P<S.length;P++)M.push(void 0===(D=S[P])?D:String(D));var A=S.groups;if(p){var I=[E].concat(M,T,h);void 0!==A&&I.push(A);var F=String(r.apply(void 0,I))}else F=k(E,h,T,M,A,r);T>=C&&(R+=h.slice(C,T)+F,C=T+E.length)}return R+h.slice(C)}];function k(e,n,r,i,a,s){var u=r+e.length,c=i.length,l=v;return void 0!==a&&(a=o(a),l=p),t.call(s,l,function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return t;if(l>c){var f=h(l/10);return 0===f?t:f<=c?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):t}s=i[l-1]}return void 0===s?"":s})}})},function(e,t,n){var r=n(67),i=n(159),o=n(88),a=n(144),s=n(164),u=n(192),c=i("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){return o(c,e)||(s&&o(l,e)?c[e]=l[e]:c[e]=f("Symbol."+e)),c[e]}},function(e,t,n){"use strict";var r=n(148),i=n(171),o=n(35),a=n(96),s=n(106),u=n(176),c=n(93),l=n(150),f=n(147),d=n(44),h=[].push,p=Math.min,v=!d(function(){return!RegExp(4294967295,"y")});r("split",2,function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!i(e))return t.call(r,e,o);for(var s,u,c,l=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,v=new RegExp(e.source,d+"g");(s=f.call(v,r))&&!((u=v.lastIndex)>p&&(l.push(r.slice(p,s.index)),s.length>1&&s.index<r.length&&h.apply(l,s.slice(1)),c=s[0].length,p=u,l.length>=o));)v.lastIndex===s.index&&v.lastIndex++;return p===r.length?!c&&v.test("")||l.push(""):l.push(r.slice(p)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=a(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var a=n(r,e,this,i,r!==t);if(a.done)return a.value;var f=o(e),d=String(this),h=s(f,RegExp),g=f.unicode,y=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(v?"y":"g"),m=new h(v?f:"^(?:"+f.source+")",y),k=void 0===i?4294967295:i>>>0;if(0===k)return[];if(0===d.length)return null===l(m,d)?[d]:[];for(var b=0,w=0,S=[];w<d.length;){m.lastIndex=v?w:0;var D,R=l(m,v?d:d.slice(w));if(null===R||(D=p(c(m.lastIndex+(v?0:w)),d.length))===b)w=u(d,w,g);else{if(S.push(d.slice(b,w)),S.length===k)return S;for(var C=1;C<=R.length-1;C++)if(S.push(R[C]),S.length===k)return S;w=b=D}}return S.push(d.slice(b)),S}]},!v)},function(e,t,n){var r=n(44);e.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(25),i=n(215).values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},function(e,t,n){var r=n(83);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(87),i=n(186),o=n(35),a=n(123),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(190),i=n(67),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(115),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(25),i=n(215).entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(25),i=n(113).findIndex,o=n(124),a=n(101),s=!0,u=a("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){s=!1}),r({target:"Array",proto:!0,forced:s||!u},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(96);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r,i=n(25),o=n(99).f,a=n(93),s=n(170),u=n(96),c=n(172),l=n(41),f="".startsWith,d=Math.min,h=c("startsWith");i({target:"String",proto:!0,forced:!!(l||h||(r=o(String.prototype,"startsWith"),!r||r.writable))&&!h},{startsWith:function(e){var t=String(u(this));s(e);var n=a(d(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return f?f.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){var r=n(87),i=n(142),o=n(117),a=n(104),s=n(123),u=n(88),c=n(186),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(67),i=n(108),o=n(88),a=n(157),s=n(158),u=n(105),c=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e!==r?(u?!d&&e[t]&&(c=!0):delete e[t],c?e[t]=n:i(e,t,n)):c?e[t]=n:a(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||s(this)})},function(e,t,n){var r=n(87),i=n(44),o=n(88),a=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(o(s,e))return s[e];t||(t={});var n=[][e],c=!!o(t,"ACCESSORS")&&t.ACCESSORS,l=o(t,0)?t[0]:u,f=o(t,1)?t[1]:void 0;return s[e]=!!n&&!i(function(){if(c&&!r)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,l,f)})}},function(e,t,n){"use strict";var r=n(87),i=n(67),o=n(133),a=n(100),s=n(88),u=n(107),c=n(173),l=n(123),f=n(44),d=n(118),h=n(132).f,p=n(99).f,v=n(91).f,g=n(180).trim,y=i.Number,m=y.prototype,k="Number"==u(d(m)),b=function(e){var t,n,r,i,o,a,s,u,c=l(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=g(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=c.slice(2)).length,s=0;s<a;s++)if((u=o.charCodeAt(s))<48||u>i)return NaN;return parseInt(o,r)}return+c};if(o("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,S=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof S&&(k?f(function(){m.valueOf.call(n)}):"Number"!=u(n))?c(new y(b(t)),n,S):b(t)},D=r?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),R=0;D.length>R;R++)s(y,w=D[R])&&!s(S,w)&&v(S,w,p(y,w));S.prototype=m,m.constructor=S,a(i,"Number",S)}},function(e,t,n){"use strict";var r=n(25),i=n(180).trim;r({target:"String",proto:!0,forced:n(258)("trim")},{trim:function(){return i(this)}})},function(e,t,n){var r=n(130),i=n(96);e.exports=function(e){return r(i(e))}},function(e,t,n){var r,i,o,a=n(188),s=n(67),u=n(68),c=n(108),l=n(88),f=n(143),d=n(131),h=s.WeakMap;if(a){var p=new h,v=p.get,g=p.has,y=p.set;r=function(e,t){return y.call(p,e,t),t},i=function(e){return v.call(p,e)||{}},o=function(e){return g.call(p,e)}}else{var m=f("state");d[m]=!0,r=function(e,t){return c(e,m,t),t},i=function(e){return l(e,m)?e[m]:{}},o=function(e){return l(e,m)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(35),i=n(83),o=n(85)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(87),i=n(91),o=n(117);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(25),i=n(200),o=n(44),a=n(68),s=n(137).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:o(function(){u(1)}),sham:!i},{freeze:function(e){return u&&a(e)?u(s(e)):e}})},function(e,t,n){var r=n(41),i=n(152);e.exports=r?i:function(e){return Map.prototype.entries.call(e)}},function(e,t,n){"use strict";var r=n(25),i=n(113).every,o=n(120),a=n(101),s=o("every"),u=a("every");r({target:"Array",proto:!0,forced:!s||!u},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(233);e.exports=function(e){return new r(e)}},function(e,t,n){var r=n(90),i=n(130),o=n(97),a=n(93),s=n(146),u=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f;return function(h,p,v,g){for(var y,m,k=o(h),b=i(k),w=r(p,v,3),S=a(b.length),D=0,R=g||s,C=t?R(h,S):n?R(h,0):void 0;S>D;D++)if((d||D in b)&&(m=w(y=b[D],D,k),e))if(t)C[D]=m;else if(m)switch(e){case 3:return!0;case 5:return y;case 6:return D;case 2:u.call(C,y)}else if(l)return!1;return f?-1:c||l?l:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){var r=n(25),i=n(44),o=n(97),a=n(138),s=n(201);r({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(270);e.exports=function(e){return function(){return new r(e.apply(this,arguments))}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r,i=n(35),o=n(193),a=n(162),s=n(131),u=n(194),c=n(156),l=n(143),f=l("IE_PROTO"),d=function(){},h=function(e){return"<script>"+e+"<\/script>"},p=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=r?function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(h("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete p.prototype[a[n]];return p()};s[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[f]=e):n=p(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(91).f,i=n(88),o=n(85)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(44);e.exports=function(e,t){var n=[][e];return!!n&&r(function(){n.call(null,t||function(){throw 1},1)})}},function(e,t,n){var r=n(41),i=n(152);e.exports=r?i:function(e){return Set.prototype.values.call(e)}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var r=n(68);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(85),i=n(118),o=n(91),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,n){"use strict";var r=n(123),i=n(91),o=n(117);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},function(e,t,n){var r=n(87),i=n(67),o=n(133),a=n(173),s=n(91).f,u=n(132).f,c=n(171),l=n(174),f=n(206),d=n(100),h=n(44),p=n(105).set,v=n(175),g=n(85)("match"),y=i.RegExp,m=y.prototype,k=/a/g,b=/a/g,w=new y(k)!==k,S=f.UNSUPPORTED_Y;if(r&&o("RegExp",!w||S||h(function(){return b[g]=!1,y(k)!=k||y(b)==b||"/a/i"!=y(k,"i")}))){for(var D=function(e,t){var n,r=this instanceof D,i=c(e),o=void 0===t;if(!r&&i&&e.constructor===D&&o)return e;w?i&&!o&&(e=e.source):e instanceof D&&(o&&(t=l.call(e)),e=e.source),S&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var s=a(w?new y(e,t):y(e,t),r?this:m,D);return S&&n&&p(s,{sticky:n}),s},R=function(e){e in D||s(D,e,{configurable:!0,get:function(){return y[e]},set:function(t){y[e]=t}})},C=u(y),x=0;C.length>x;)R(C[x++]);m.constructor=D,D.prototype=m,d(i,"RegExp",D)}v("RegExp")},function(e,t,n){"use strict";var r=n(148),i=n(35),o=n(93),a=n(96),s=n(176),u=n(150);r("match",1,function(e,t,n){return[function(t){var n=a(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),c=String(this);if(!a.global)return u(a,c);var l=a.unicode;a.lastIndex=0;for(var f,d=[],h=0;null!==(f=u(a,c));){var p=String(f[0]);d[h]=p,""===p&&(a.lastIndex=s(c,o(a.lastIndex),l)),h++}return 0===h?null:d}]})},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(214),i=n(265);function o(t,n,a){return i()?e.exports=o=Reflect.construct:e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},function(e,t,n){var r=n(44),i=n(107),o="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t){e.exports={}},function(e,t,n){var r=n(191),i=n(162).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(44),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==c||n!=u&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},function(e,t,n){var r=n(107);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(191),i=n(162);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(44),i=n(85),o=n(165),a=i("species");e.exports=function(e){return o>=51||!r(function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t,n){var r=n(131),i=n(68),o=n(88),a=n(91).f,s=n(144),u=n(200),c=s("meta"),l=0,f=Object.isExtensible||function(){return!0},d=function(e){a(e,c,{value:{objectID:"O"+ ++l,weakData:{}}})},h=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,c)){if(!f(e))return"F";if(!t)return"E";d(e)}return e[c].objectID},getWeakData:function(e,t){if(!o(e,c)){if(!f(e))return!0;if(!t)return!1;d(e)}return e[c].weakData},onFreeze:function(e){return u&&h.REQUIRED&&f(e)&&!o(e,c)&&d(e),e}};r[c]=!0},function(e,t,n){var r=n(88),i=n(97),o=n(143),a=n(201),s=o("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t){e.exports={}},function(e,t,n){var r=n(100);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r,i=n(25),o=n(99).f,a=n(93),s=n(170),u=n(96),c=n(172),l=n(41),f="".endsWith,d=Math.min,h=c("endsWith");i({target:"String",proto:!0,forced:!!(l||h||(r=o(String.prototype,"endsWith"),!r||r.writable))&&!h},{endsWith:function(e){var t=String(u(this));s(e);var n=arguments.length>1?arguments[1]:void 0,r=a(t.length),i=void 0===n?r:d(a(n),r),o=String(e);return f?f.call(t,o,i):t.slice(i-o.length,i)===o}})},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(159),i=n(144),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(115),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t,n){var r=n(68),i=n(134),o=n(85)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){"use strict";var r,i,o=n(174),a=n(206),s=RegExp.prototype.exec,u=String.prototype.replace,c=s,l=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(l||d||f)&&(c=function(e){var t,n,r,i,a=this,c=f&&a.sticky,h=o.call(a),p=a.source,v=0,g=e;return c&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),g=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,v++),n=new RegExp("^(?:"+p+")",h)),d&&(n=new RegExp("^"+p+"$(?!\\s)",h)),l&&(t=a.lastIndex),r=s.call(c?n:a,g),c?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:l&&r&&(a.lastIndex=a.global?r.index+r[0].length:t),d&&r&&r.length>1&&u.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),e.exports=c},function(e,t,n){"use strict";n(36);var r=n(100),i=n(44),o=n(85),a=n(147),s=n(108),u=o("species"),c=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),l="$0"==="a".replace(/./,"$0"),f=o("replace"),d=!!/./[f]&&""===/./[f]("a","$0"),h=!i(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});e.exports=function(e,t,n,f){var p=o(e),v=!i(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),g=v&&!i(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t});if(!v||!g||"replace"===e&&(!c||!l||d)||"split"===e&&!h){var y=/./[p],m=n(p,""[e],function(e,t,n,r,i){return t.exec===a?v&&!i?{done:!0,value:y.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),k=m[0],b=m[1];r(String.prototype,e,k),r(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}f&&s(RegExp.prototype[p],"sham",!0)}},function(e,t,n){var r=n(115),i=n(96),o=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t,n){var r=n(107),i=n(147);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){var r=n(168),i=n(139),o=n(85)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(35),i=n(151);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){"use strict";var r=n(25),i=n(256);r({target:"String",proto:!0,forced:n(257)("anchor")},{anchor:function(e){return i(this,"a","name",e)}})},function(e,t,n){var r=n(25),i=n(87),o=n(160),a=n(104),s=n(99),u=n(125);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),i=s.f,c=o(r),l={},f=0;c.length>f;)void 0!==(n=i(r,t=c[f++]))&&u(l,t,n);return l}})},function(e,t,n){n(25)({target:"String",proto:!0},{repeat:n(184)})},function(e,t,n){var r=n(67),i=n(68),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(67),i=n(108);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(187),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(41),i=n(187);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(92),i=n(132),o=n(163),a=n(35);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(104),i=n(93),o=n(145),a=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(44);e.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(e,t,n){var r,i,o=n(67),a=n(166),s=o.process,u=s&&s.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){var r=n(92);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r={};r[n(85)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(167),i=n(107),o=n(85)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(25),i=n(87),o=n(35),a=n(123),s=n(91);r({target:"Reflect",stat:!0,forced:n(44)(function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})}),sham:!i},{defineProperty:function(e,t,n){o(e);var r=a(t,!0);o(n);try{return s.f(e,r,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(171);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,n){var r=n(68),i=n(107),o=n(85)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(85)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){var r=n(68),i=n(205);e.exports=function(e,t,n){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(e,a),e}},function(e,t,n){"use strict";var r=n(35);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(92),i=n(91),o=n(85),a=n(87),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(149).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){"use strict";var r=n(25),i=n(207),o=n(138),a=n(205),s=n(119),u=n(108),c=n(100),l=n(85),f=n(41),d=n(139),h=n(208),p=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,g=l("iterator"),y=function(){return this};e.exports=function(e,t,n,l,h,m,k){i(n,t,l);var b,w,S,D=function(e){if(e===h&&T)return T;if(!v&&e in x)return x[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",C=!1,x=e.prototype,E=x[g]||x["@@iterator"]||h&&x[h],T=!v&&E||D(h),M="Array"==t&&x.entries||E;if(M&&(b=o(M.call(new e)),p!==Object.prototype&&b.next&&(f||o(b)===p||(a?a(b,p):"function"!=typeof b[g]&&u(b,g,y)),s(b,R,!0,!0),f&&(d[R]=y))),"values"==h&&E&&"values"!==E.name&&(C=!0,T=function(){return E.call(this)}),f&&!k||x[g]===T||u(x,g,T),d[t]=T,h)if(w={values:D("values"),keys:m?T:D("keys"),entries:D("entries")},k)for(S in w)(v||C||!(S in x))&&c(x,S,w[S]);else r({target:t,proto:!0,forced:v||C},w);return w}},function(e,t,n){"use strict";var r=n(148),i=n(35),o=n(96),a=n(239),s=n(150);r("search",1,function(e,t,n){return[function(t){var n=o(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=i(e),u=String(this),c=o.lastIndex;a(c,0)||(o.lastIndex=0);var l=s(o,u);return a(o.lastIndex,c)||(o.lastIndex=c),null===l?-1:l.index}]})},function(e,t,n){var r=n(85)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},function(e,t,n){var r=n(96),i="["+n(181)+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(a,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t){e.exports="\t\n\v\f\r Â áš€â€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(25),i=n(67),o=n(133),a=n(100),s=n(137),u=n(48),c=n(128),l=n(68),f=n(44),d=n(179),h=n(119),p=n(173);e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),y=v?"set":"add",m=i[e],k=m&&m.prototype,b=m,w={},S=function(e){var t=k[e];a(k,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(o(e,"function"!=typeof m||!(g||k.forEach&&!f(function(){(new m).entries().next()}))))b=n.getConstructor(t,e,v,y),s.REQUIRED=!0;else if(o(e,!0)){var D=new b,R=D[y](g?{}:-0,1)!=D,C=f(function(){D.has(1)}),x=d(function(e){new m(e)}),E=!g&&f(function(){for(var e=new m,t=5;t--;)e[y](t,t);return!e.has(-0)});x||((b=t(function(t,n){c(t,b,e);var r=p(new m,t,b);return null!=n&&u(n,r[y],r,v),r})).prototype=k,k.constructor=b),(C||E)&&(S("delete"),S("has"),v&&S("get")),(E||R)&&S(y),g&&k.clear&&delete k.clear}return w[e]=b,r({global:!0,forced:b!=m},w),h(b,e),g||n.setStrong(b,e,v),b}},function(e,t,n){"use strict";var r=n(35),i=n(83);e.exports=function(){for(var e,t=r(this),n=i(t.delete),o=!0,a=0,s=arguments.length;a<s;a++)e=n.call(t,arguments[a]),o=o&&e;return!!o}},function(e,t,n){"use strict";var r=n(115),i=n(96);e.exports="".repeat||function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(87),i=n(44),o=n(156);e.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(67),i=n(157),o=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o},function(e,t,n){var r=n(67),i=n(158),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},function(e,t,n){var r=n(88),i=n(160),o=n(99),a=n(91);e.exports=function(e,t){for(var n=i(t),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||s(e,l,u(t,l))}}},function(e,t,n){var r=n(67);e.exports=r},function(e,t,n){var r=n(88),i=n(104),o=n(161).indexOf,a=n(131);e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(164);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(87),i=n(91),o=n(35),a=n(135);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),s=r.length,u=0;s>u;)i.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(92);e.exports=r("document","documentElement")},function(e,t,n){var r=n(104),i=n(132).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(85);t.f=r},function(e,t,n){var r=n(190),i=n(88),o=n(196),a=n(91).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},function(e,t,n){"use strict";var r=n(113).forEach,i=n(120),o=n(101),a=i("forEach"),s=o("forEach");e.exports=a&&s?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){"use strict";var r=n(87),i=n(44),o=n(135),a=n(163),s=n(142),u=n(97),c=n(130),l=Object.assign,f=Object.defineProperty;e.exports=!l||i(function(){if(r&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||"abcdefghijklmnopqrst"!=o(l({},t)).join("")})?function(e,t){for(var n=u(e),i=arguments.length,l=1,f=a.f,d=s.f;i>l;)for(var h,p=c(arguments[l++]),v=f?o(p).concat(f(p)):o(p),g=v.length,y=0;g>y;)h=v[y++],r&&!d.call(p,h)||(n[h]=p[h]);return n}:l},function(e,t,n){var r=n(44);e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,n){var r=n(44);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var r=n(25),i=n(44),o=n(68),a=Object.isFrozen;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isFrozen:function(e){return!o(e)||!!a&&a(e)}})},function(e,t,n){var r=n(25),i=n(87),o=n(35),a=n(99);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(e,t){return a.f(o(e),t)}})},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(35),i=n(237);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},function(e,t,n){"use strict";var r=n(44);function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r(function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),t.BROKEN_CARET=r(function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},function(e,t,n){"use strict";var r=n(208).IteratorPrototype,i=n(118),o=n(117),a=n(119),s=n(139),u=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,c,!1,!0),s[c]=u,e}},function(e,t,n){"use strict";var r,i,o,a=n(138),s=n(108),u=n(88),c=n(85),l=n(41),f=c("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),l||u(r,f)||s(r,f,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var r=n(85),i=n(139),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,n){var r=n(35);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){"use strict";n(21);var r,i=n(25),o=n(87),a=n(212),s=n(67),u=n(193),c=n(100),l=n(128),f=n(88),d=n(199),h=n(213),p=n(149).codeAt,v=n(240),g=n(119),y=n(241),m=n(105),k=s.URL,b=y.URLSearchParams,w=y.getState,S=m.set,D=m.getterFor("URL"),R=Math.floor,C=Math.pow,x=/[A-Za-z]/,E=/[\d+-.A-Za-z]/,T=/\d/,M=/^(0x|0X)/,P=/^[0-7]+$/,A=/^\d+$/,I=/^[\dA-Fa-f]+$/,F=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,L=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,O=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,_=/[\u0009\u000A\u000D]/g,j=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=N(t.slice(1,-1))))return"Invalid host";e.host=n}else if(U(e)){if(t=v(t),F.test(t))return"Invalid host";if(null===(n=H(t)))return"Invalid host";e.host=n}else{if(L.test(t))return"Invalid host";for(n="",r=h(t),i=0;i<r.length;i++)n+=G(r[i],z);e.host=n}},H=function(e){var t,n,r,i,o,a,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=M.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?A:8==o?P:I).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=C(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*C(256,3-r);return s},N=function(e){var t,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&I.test(d());)t=16*t+parseInt(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,c>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;f++}if(!T.test(d()))return;for(;T.test(d());){if(o=parseInt(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[c++]=t}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u},B=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=R(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},z={},V=d({},z,{" ":1,'"':1,"<":1,">":1,"`":1}),W=d({},V,{"#":1,"?":1,"{":1,"}":1}),$=d({},W,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),G=function(e,t){var n=p(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},U=function(e){return f(Y,e.scheme)},q=function(e){return""!=e.username||""!=e.password},X=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},K=function(e,t){var n;return 2==e.length&&x.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Z=function(e){var t;return e.length>1&&K(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},J=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&K(t[0],!0)||t.pop()},Q=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},re={},ie={},oe={},ae={},se={},ue={},ce={},le={},fe={},de={},he={},pe={},ve={},ge={},ye={},me={},ke={},be={},we=function(e,t,n,i){var o,a,s,u,c,l=n||ee,d=0,p="",v=!1,g=!1,y=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(O,"")),t=t.replace(_,""),o=h(t);d<=o.length;){switch(a=o[d],l){case ee:if(!a||!x.test(a)){if(n)return"Invalid scheme";l=ne;continue}p+=a.toLowerCase(),l=te;break;case te:if(a&&(E.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";p="",l=ne,d=0;continue}if(n&&(U(e)!=f(Y,p)||"file"==p&&(q(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=p,n)return void(U(e)&&Y[e.scheme]==e.port&&(e.port=null));p="","file"==e.scheme?l=he:U(e)&&i&&i.scheme==e.scheme?l=re:U(e)?l=se:"/"==o[d+1]?(l=ie,d++):(e.cannotBeABaseURL=!0,e.path.push(""),l=me)}break;case ne:if(!i||i.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,l=be;break}l="file"==i.scheme?he:oe;continue;case re:if("/"!=a||"/"!=o[d+1]){l=oe;continue}l=ue,d++;break;case ie:if("/"==a){l=ce;break}l=ye;continue;case oe:if(e.scheme=i.scheme,a==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==a||"\\"==a&&U(e))l=ae;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",l=ke;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),l=ye;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=be}break;case ae:if(!U(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,l=ye;continue}l=ce}else l=ue;break;case se:if(l=ue,"/"!=a||"/"!=p.charAt(d+1))continue;d++;break;case ue:if("/"!=a&&"\\"!=a){l=ce;continue}break;case ce:if("@"==a){v&&(p="%40"+p),v=!0,s=h(p);for(var m=0;m<s.length;m++){var k=s[m];if(":"!=k||y){var b=G(k,$);y?e.password+=b:e.username+=b}else y=!0}p=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&U(e)){if(v&&""==p)return"Invalid authority";d-=h(p).length+1,p="",l=le}else p+=a;break;case le:case fe:if(n&&"file"==e.scheme){l=ve;continue}if(":"!=a||g){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&U(e)){if(U(e)&&""==p)return"Invalid host";if(n&&""==p&&(q(e)||null!==e.port))return;if(u=j(e,p))return u;if(p="",l=ge,n)return;continue}"["==a?g=!0:"]"==a&&(g=!1),p+=a}else{if(""==p)return"Invalid host";if(u=j(e,p))return u;if(p="",l=de,n==fe)return}break;case de:if(!T.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&U(e)||n){if(""!=p){var w=parseInt(p,10);if(w>65535)return"Invalid port";e.port=U(e)&&w===Y[e.scheme]?null:w,p=""}if(n)return;l=ge;continue}return"Invalid port"}p+=a;break;case he:if(e.scheme="file","/"==a||"\\"==a)l=pe;else{if(!i||"file"!=i.scheme){l=ye;continue}if(a==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==a)e.host=i.host,e.path=i.path.slice(),e.query="",l=ke;else{if("#"!=a){Z(o.slice(d).join(""))||(e.host=i.host,e.path=i.path.slice(),J(e)),l=ye;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",l=be}}break;case pe:if("/"==a||"\\"==a){l=ve;break}i&&"file"==i.scheme&&!Z(o.slice(d).join(""))&&(K(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),l=ye;continue;case ve:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&K(p))l=ye;else if(""==p){if(e.host="",n)return;l=ge}else{if(u=j(e,p))return u;if("localhost"==e.host&&(e.host=""),n)return;p="",l=ge}continue}p+=a;break;case ge:if(U(e)){if(l=ye,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(l=ye,"/"!=a))continue}else e.fragment="",l=be;else e.query="",l=ke;break;case ye:if(a==r||"/"==a||"\\"==a&&U(e)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=p).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(J(e),"/"==a||"\\"==a&&U(e)||e.path.push("")):Q(p)?"/"==a||"\\"==a&&U(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&K(p)&&(e.host&&(e.host=""),p=p.charAt(0)+":"),e.path.push(p)),p="","file"==e.scheme&&(a==r||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",l=ke):"#"==a&&(e.fragment="",l=be)}else p+=G(a,W);break;case me:"?"==a?(e.query="",l=ke):"#"==a?(e.fragment="",l=be):a!=r&&(e.path[0]+=G(a,z));break;case ke:n||"#"!=a?a!=r&&("'"==a&&U(e)?e.query+="%27":e.query+="#"==a?"%23":G(a,z)):(e.fragment="",l=be);break;case be:a!=r&&(e.fragment+=G(a,V))}d++}},Se=function(e){var t,n,r=l(this,Se,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(e),s=S(r,{type:"URL"});if(void 0!==i)if(i instanceof Se)t=D(i);else if(n=we(t={},String(i)))throw TypeError(n);if(n=we(s,a,null,t))throw TypeError(n);var u=s.searchParams=new b,c=w(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},o||(r.href=Re.call(r),r.origin=Ce.call(r),r.protocol=xe.call(r),r.username=Ee.call(r),r.password=Te.call(r),r.host=Me.call(r),r.hostname=Pe.call(r),r.port=Ae.call(r),r.pathname=Ie.call(r),r.search=Fe.call(r),r.searchParams=Le.call(r),r.hash=Oe.call(r))},De=Se.prototype,Re=function(){var e=D(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",q(e)&&(c+=n+(r?":"+r:"")+"@"),c+=B(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Ce=function(){var e=D(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&U(e)?t+"://"+B(e.host)+(null!==n?":"+n:""):"null"},xe=function(){return D(this).scheme+":"},Ee=function(){return D(this).username},Te=function(){return D(this).password},Me=function(){var e=D(this),t=e.host,n=e.port;return null===t?"":null===n?B(t):B(t)+":"+n},Pe=function(){var e=D(this).host;return null===e?"":B(e)},Ae=function(){var e=D(this).port;return null===e?"":String(e)},Ie=function(){var e=D(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Fe=function(){var e=D(this).query;return e?"?"+e:""},Le=function(){return D(this).searchParams},Oe=function(){var e=D(this).fragment;return e?"#"+e:""},_e=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&u(De,{href:_e(Re,function(e){var t=D(this),n=String(e),r=we(t,n);if(r)throw TypeError(r);w(t.searchParams).updateSearchParams(t.query)}),origin:_e(Ce),protocol:_e(xe,function(e){var t=D(this);we(t,String(e)+":",ee)}),username:_e(Ee,function(e){var t=D(this),n=h(String(e));if(!X(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=G(n[r],$)}}),password:_e(Te,function(e){var t=D(this),n=h(String(e));if(!X(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=G(n[r],$)}}),host:_e(Me,function(e){var t=D(this);t.cannotBeABaseURL||we(t,String(e),le)}),hostname:_e(Pe,function(e){var t=D(this);t.cannotBeABaseURL||we(t,String(e),fe)}),port:_e(Ae,function(e){var t=D(this);X(t)||(""==(e=String(e))?t.port=null:we(t,e,de))}),pathname:_e(Ie,function(e){var t=D(this);t.cannotBeABaseURL||(t.path=[],we(t,e+"",ge))}),search:_e(Fe,function(e){var t=D(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",we(t,e,ke)),w(t.searchParams).updateSearchParams(t.query)}),searchParams:_e(Le),hash:_e(Oe,function(e){var t=D(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",we(t,e,be)):t.fragment=null})}),c(De,"toJSON",function(){return Re.call(this)},{enumerable:!0}),c(De,"toString",function(){return Re.call(this)},{enumerable:!0}),k){var je=k.createObjectURL,He=k.revokeObjectURL;je&&c(Se,"createObjectURL",function(e){return je.apply(k,arguments)}),He&&c(Se,"revokeObjectURL",function(e){return He.apply(k,arguments)})}g(Se,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Se})},function(e,t,n){var r=n(44),i=n(85),o=n(41),a=i("iterator");e.exports=!r(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach(function(e,r){t.delete("b"),n+=r+e}),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://Ñ‚ĞµÑÑ‚").host||"#%D0%B1"!==new URL("http://a#Ğ±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})},function(e,t,n){"use strict";var r=n(90),i=n(97),o=n(210),a=n(209),s=n(93),u=n(125),c=n(151);e.exports=function(e){var t,n,l,f,d,h,p=i(e),v="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,m=void 0!==y,k=c(p),b=0;if(m&&(y=r(y,g>2?arguments[2]:void 0,2)),null==k||v==Array&&a(k))for(n=new v(t=s(p.length));t>b;b++)h=m?y(p[b],b):p[b],u(n,b,h);else for(d=(f=k.call(p)).next,n=new v;!(l=d.call(f)).done;b++)h=m?o(f,y,[l.value,b],!0):l.value,u(n,b,h);return n.length=b,n}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){var r=n(87),i=n(135),o=n(104),a=n(142).f,s=function(e){return function(t){for(var n,s=o(t),u=i(s),c=u.length,l=0,f=[];c>l;)n=u[l++],r&&!a.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){var r=n(25),i=n(44),o=n(68),a=Object.isExtensible;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isExtensible:function(e){return!!o(e)&&(!a||a(e))}})},function(e,t,n){var r,i,o,a=n(67),s=n(44),u=n(107),c=n(90),l=n(194),f=n(156),d=n(218),h=a.location,p=a.setImmediate,v=a.clearImmediate,g=a.process,y=a.MessageChannel,m=a.Dispatch,k=0,b={},w=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},S=function(e){return function(){w(e)}},D=function(e){w(e.data)},R=function(e){a.postMessage(e+"",h.protocol+"//"+h.host)};p&&v||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return b[++k]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(k),k},v=function(e){delete b[e]},"process"==u(g)?r=function(e){g.nextTick(S(e))}:m&&m.now?r=function(e){m.now(S(e))}:y&&!d?(o=(i=new y).port2,i.port1.onmessage=D,r=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(R)||"file:"===h.protocol?r="onreadystatechange"in f("script")?function(e){l.appendChild(f("script")).onreadystatechange=function(){l.removeChild(this),w(e)}}:function(e){setTimeout(S(e),0)}:(r=R,a.addEventListener("message",D,!1))),e.exports={set:p,clear:v}},function(e,t,n){var r=n(166);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){"use strict";var r=n(83),i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(220);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){var r=n(0);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){var r=n(83),i=n(97),o=n(130),a=n(93),s=function(e){return function(t,n,s,u){r(n);var c=i(t),l=o(c),f=a(c.length),d=e?f-1:0,h=e?-1:1;if(s<2)for(;;){if(d in l){u=l[d],d+=h;break}if(d+=h,e?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:f>d;d+=h)d in l&&(u=n(u,l[d],d,c));return u}};e.exports={left:s(!1),right:s(!0)}},function(e,t,n){n(25)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){"use strict";var r=n(91).f,i=n(118),o=n(140),a=n(90),s=n(128),u=n(48),c=n(177),l=n(175),f=n(87),d=n(137).fastKey,h=n(105),p=h.set,v=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){s(e,l,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=r&&u(r,e[c],e,n)}),h=v(t),g=function(e,t,n){var r,i,o=h(e),a=y(e,t);return a?a.value=n:(o.last=a={index:i=d(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},y=function(e,t){var n,r=h(e),i=d(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(l.prototype,{clear:function(){for(var e=h(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=h(this),n=y(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),f?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=h(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),o(l.prototype,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),f&&r(l.prototype,"size",{get:function(){return h(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=v(t),o=v(r);c(e,t,function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){var r=n(93),i=n(184),o=n(96),a=Math.ceil,s=function(e){return function(t,n,s){var u,c,l=String(o(t)),f=l.length,d=void 0===s?" ":String(s),h=r(n);return h<=f||""==d?l:(u=h-f,(c=i.call(d,a(u/d.length))).length>u&&(c=c.slice(0,u)),e?l+c:c+l)}};e.exports={start:s(!1),end:s(!0)}},function(e,t,n){var r=n(166);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(e,t,n){"use strict";var r=n(25),i=n(226).start;r({target:"String",proto:!0,forced:n(227)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r,i=n(67),o=n(140),a=n(137),s=n(182),u=n(267),c=n(68),l=n(105).enforce,f=n(188),d=!i.ActiveXObject&&"ActiveXObject"in i,h=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},v=e.exports=s("WeakMap",p,u);if(f&&d){r=u.getConstructor(p,"WeakMap",!0),a.REQUIRED=!0;var g=v.prototype,y=g.delete,m=g.has,k=g.get,b=g.set;o(g,{delete:function(e){if(c(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new r),y.call(this,e)||t.frozen.delete(e)}return y.call(this,e)},has:function(e){if(c(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new r),m.call(this,e)||t.frozen.has(e)}return m.call(this,e)},get:function(e){if(c(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new r),m.call(this,e)?k.call(this,e):t.frozen.get(e)}return k.call(this,e)},set:function(e,t){if(c(e)&&!h(e)){var n=l(this);n.frozen||(n.frozen=new r),m.call(this,e)?b.call(this,e,t):n.frozen.set(e,t)}else b.call(this,e,t);return this}})}},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(183);r({target:"WeakMap",proto:!0,real:!0,forced:i},{deleteAll:function(){return o.apply(this,arguments)}})},function(e,t,n){var r=n(25),i=n(35),o=n(99).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){n(25)({target:"Reflect",stat:!0},{ownKeys:n(160)})},function(e,t){e.exports=function(e){this.wrapped=e}},function(e,t,n){n(25)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},function(e,t,n){(function(r){var i,o;void 0===(o="function"==typeof(i=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}var u=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var n=function(n){setTimeout(function(){return n.call(t,e)})},r=this.listeners[e.type],i=0,o=r.length;i<o;i++)n(r[i]);return!e.defaultPrevented}}}]),t}(),c=function(t){function r(){var t;return e(this,r),(t=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?a(e):t}(this,i(r).call(this))).listeners||u.call(a(t)),Object.defineProperty(a(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,t),n(r,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),s(i(r.prototype),"dispatchEvent",this).call(this,e)}}]),r}(u),l=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new c,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();function f(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(l.prototype[Symbol.toStringTag]="AbortController",c.prototype[Symbol.toStringTag]="AbortSignal"),function(e){if(f(e))if(e.fetch){var t=function(e){"function"==typeof e&&(e={fetch:e});var t=e,n=t.fetch,r=t.Request,i=void 0===r?n.Request:r,o=t.AbortController,a=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=void 0!==a&&a;if(!f({fetch:n,Request:i,AbortController:o,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:n,Request:u};var u=i;(u&&!u.prototype.hasOwnProperty("signal")||s)&&((u=function(e,t){var n;t&&t.signal&&(n=t.signal,delete t.signal);var r=new i(e,t);return n&&Object.defineProperty(r,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),r}).prototype=i.prototype);var c=n;return{fetch:function(e,t){var n=u&&u.prototype.isPrototypeOf(e)?e.signal:t?t.signal:void 0;if(n){var r;try{r=new DOMException("Aborted","AbortError")}catch(e){(r=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(r);var i=new Promise(function(e,t){n.addEventListener("abort",function(){return t(r)},{once:!0})});return t&&t.signal&&delete t.signal,Promise.race([i,c(e,t)])}return c(e,t)},Request:u}}(e),n=t.fetch,r=t.Request;e.fetch=n,e.Request=r,Object.defineProperty(e,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:l}),Object.defineProperty(e,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:c})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}("undefined"!=typeof self?self:r)})?i.call(t,n,t,e):i)||(e.exports=o)}).call(this,n(185))},function(e,t,n){"use strict";var r=n(167),i=n(168);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){var r=n(68);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(25),i=n(48),o=n(125);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,function(e,n){o(t,e,n)},void 0,!0),t}})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,u=function(e){return e+22+75*(e<26)},c=function(e,t,n){var r=0;for(e=n?a(e/700):e>>1,e+=a(e/t);e>455;r+=36)e=a(e/35);return a(r+36*e/(e+38))},l=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,l=128,f=0,d=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(s(n));var h=r.length,p=h;for(h&&r.push("-");p<i;){var v=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=l&&n<v&&(v=n);var g=p+1;if(v-l>a((2147483647-f)/g))throw RangeError(o);for(f+=(v-l)*g,l=v,t=0;t<e.length;t++){if((n=e[t])<l&&++f>2147483647)throw RangeError(o);if(n==l){for(var y=f,m=36;;m+=36){var k=m<=d?1:m>=d+26?26:m-d;if(y<k)break;var b=y-k,w=36-k;r.push(s(u(k+b%w))),y=a(b/w)}r.push(s(u(y))),d=c(f,g,p==h),f=0,++p}}++f,++l}return r.join("")};e.exports=function(e){var t,n,o=[],a=e.toLowerCase().replace(i,".").split(".");for(t=0;t<a.length;t++)n=a[t],o.push(r.test(n)?"xn--"+l(n):n);return o.join(".")}},function(e,t,n){"use strict";n(17);var r=n(25),i=n(92),o=n(212),a=n(100),s=n(140),u=n(119),c=n(207),l=n(105),f=n(128),d=n(88),h=n(90),p=n(168),v=n(35),g=n(68),y=n(118),m=n(117),k=n(152),b=n(151),w=n(85),S=i("fetch"),D=i("Headers"),R=w("iterator"),C=l.set,x=l.getterFor("URLSearchParams"),E=l.getterFor("URLSearchParamsIterator"),T=/\+/g,M=Array(4),P=function(e){return M[e-1]||(M[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},A=function(e){try{return decodeURIComponent(e)}catch(t){return e}},I=function(e){var t=e.replace(T," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(P(n--),A);return t}},F=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},O=function(e){return L[e]},_=function(e){return encodeURIComponent(e).replace(F,O)},j=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:I(r.shift()),value:I(r.join("="))}))},H=function(e){this.entries.length=0,j(this.entries,e)},N=function(e,t){if(e<t)throw TypeError("Not enough arguments")},B=c(function(e,t){C(this,{type:"URLSearchParamsIterator",iterator:k(x(e).entries),kind:t})},"Iterator",function(){var e=E(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),z=function(){f(this,z,"URLSearchParams");var e,t,n,r,i,o,a,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,h=[];if(C(l,{type:"URLSearchParams",entries:h,updateURL:function(){},updateSearchParams:H}),void 0!==c)if(g(c))if("function"==typeof(e=b(c)))for(n=(t=e.call(c)).next;!(r=n.call(t)).done;){if((a=(o=(i=k(v(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");h.push({key:a.value+"",value:s.value+""})}else for(u in c)d(c,u)&&h.push({key:u,value:c[u]+""});else j(h,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},V=z.prototype;s(V,{append:function(e,t){N(arguments.length,2);var n=x(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){N(arguments.length,1);for(var t=x(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){N(arguments.length,1);for(var t=x(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){N(arguments.length,1);for(var t=x(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){N(arguments.length,1);for(var t=x(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){N(arguments.length,1);for(var n,r=x(this),i=r.entries,o=!1,a=e+"",s=t+"",u=0;u<i.length;u++)(n=i[u]).key===a&&(o?i.splice(u--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=x(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=x(this).entries,r=h(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new B(this,"keys")},values:function(){return new B(this,"values")},entries:function(){return new B(this,"entries")}},{enumerable:!0}),a(V,R,V.entries),a(V,"toString",function(){for(var e,t=x(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(_(e.key)+"="+_(e.value));return n.join("&")},{enumerable:!0}),u(z,"URLSearchParams"),r({global:!0,forced:!o},{URLSearchParams:z}),o||"function"!=typeof S||"function"!=typeof D||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(g(t=arguments[1])&&(n=t.body,"URLSearchParams"===p(n)&&((r=t.headers?new D(t.headers):new D).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=y(t,{body:m(0,String(n)),headers:m(0,r)}))),i.push(t)),S.apply(this,i)}}),e.exports={URLSearchParams:z,getState:x}},function(e,t,n){"use strict";var r=n(83),i=n(68),o=[].slice,a={},s=function(e,t,n){if(!(t in a)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";a[t]=Function("C,a","return new C("+r.join(",")+")")}return a[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),a=function(){var r=n.concat(o.call(arguments));return this instanceof a?s(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(a.prototype=t.prototype),a}},function(e,t,n){var r=n(67);e.exports=r.Promise},function(e,t,n){var r,i,o,a,s,u,c,l,f=n(67),d=n(99).f,h=n(107),p=n(217).set,v=n(218),g=f.MutationObserver||f.WebKitMutationObserver,y=f.process,m=f.Promise,k="process"==h(y),b=d(f,"queueMicrotask"),w=b&&b.value;w||(r=function(){var e,t;for(k&&(e=y.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},k?a=function(){y.nextTick(r)}:g&&!v?(s=!0,u=document.createTextNode(""),new g(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):m&&m.resolve?(c=m.resolve(void 0),l=c.then,a=function(){l.call(c,r)}):a=function(){p.call(f,r)}),e.exports=w||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},function(e,t,n){var r=n(35),i=n(68),o=n(219);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(67);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){var r=n(220);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(25),i=n(68),o=n(35),a=n(88),s=n(99),u=n(138);r({target:"Reflect",stat:!0},{get:function e(t,n){var r,c,l=arguments.length<3?t:arguments[2];return o(t)===l?t[n]:(r=s.f(t,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(l):i(c=u(t))?e(c,n,l):void 0}})},function(e,t,n){var r=n(25),i=n(35),o=n(68),a=n(88),s=n(44),u=n(91),c=n(99),l=n(138),f=n(117);r({target:"Reflect",stat:!0,forced:s(function(){var e=u.f({},"a",{configurable:!0});return!1!==Reflect.set(l(e),"a",1,e)})},{set:function e(t,n,r){var s,d,h=arguments.length<4?t:arguments[3],p=c.f(i(t),n);if(!p){if(o(d=l(t)))return e(d,n,r,h);p=f(0)}if(a(p,"value")){if(!1===p.writable||!o(h))return!1;if(s=c.f(h,n)){if(s.get||s.set||!1===s.writable)return!1;s.value=r,u.f(h,n,s)}else u.f(h,n,f(0,r));return!0}return void 0!==p.set&&(p.set.call(h,r),!0)}})},function(e,t,n){var r=n(96),i=/"/g;e.exports=function(e,t,n,o){var a=String(r(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(o).replace(i,"&quot;")+'"'),s+">"+a+"</"+t+">"}},function(e,t,n){var r=n(44);e.exports=function(e){return r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}},function(e,t,n){var r=n(44),i=n(181);e.exports=function(e){return r(function(){return!!i[e]()||"â€‹Â…á "!="â€‹Â…á "[e]()||i[e].name!==e})}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(25),i=n(115),o=n(261),a=n(184),s=n(44),u=1..toFixed,c=Math.floor,l=function(e,t,n){return 0===t?n:t%2==1?l(e,t-1,n*e):l(e*e,t/2,n)};r({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s(function(){u.call({})})},{toFixed:function(e){var t,n,r,s,u=o(this),f=i(e),d=[0,0,0,0,0,0],h="",p="0",v=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*d[n],d[n]=r%1e7,r=c(r/1e7)},g=function(e){for(var t=6,n=0;--t>=0;)n+=d[t],d[t]=c(n/e),n=n%e*1e7},y=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==d[e]){var n=String(d[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(h="-",u=-u),u>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(u*l(2,69,1))-69)<0?u*l(2,-t,1):u/l(2,t,1),n*=4503599627370496,(t=52-t)>0){for(v(0,n),r=f;r>=7;)v(1e7,0),r-=7;for(v(l(10,r,1),0),r=t-1;r>=23;)g(1<<23),r-=23;g(1<<r),v(1,1),g(2),p=y()}else v(0,n),v(1<<-t,0),p=y()+a.call("0",f);return p=f>0?h+((s=p.length)<=f?"0."+a.call("0",f-s)+p:p.slice(0,s-f)+"."+p.slice(s-f)):h+p}})},function(e,t,n){var r=n(107);e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},function(e,t,n){n(25)({target:"Math",stat:!0},{sign:n(263)})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){"use strict";var r=n(25),i=n(226).end;r({target:"String",proto:!0,forced:n(227)},{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(35),i=n(83);e.exports=function(){for(var e=r(this),t=i(e.add),n=0,o=arguments.length;n<o;n++)t.call(e,arguments[n]);return e}},function(e,t,n){"use strict";var r=n(140),i=n(137).getWeakData,o=n(35),a=n(68),s=n(128),u=n(48),c=n(113),l=n(88),f=n(105),d=f.set,h=f.getterFor,p=c.find,v=c.findIndex,g=0,y=function(e){return e.frozen||(e.frozen=new m)},m=function(){this.entries=[]},k=function(e,t){return p(e.entries,function(e){return e[0]===t})};m.prototype={get:function(e){var t=k(this,e);if(t)return t[1]},has:function(e){return!!k(this,e)},set:function(e,t){var n=k(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=v(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,c){var f=e(function(e,r){s(e,f,t),d(e,{type:t,id:g++,frozen:void 0}),null!=r&&u(r,e[c],e,n)}),p=h(t),v=function(e,t,n){var r=p(e),a=i(o(t),!0);return!0===a?y(r).set(t,n):a[r.id]=n,e};return r(f.prototype,{delete:function(e){var t=p(this);if(!a(e))return!1;var n=i(e);return!0===n?y(t).delete(e):n&&l(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!a(e))return!1;var n=i(e);return!0===n?y(t).has(e):n&&l(n,t.id)}}),r(f.prototype,n?{get:function(e){var t=p(this);if(a(e)){var n=i(e);return!0===n?y(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return v(this,e,t)}}:{add:function(e){return v(this,e,!0)}}),f}}},function(e,t,n){"use strict";n(25)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,n){var r=n(25),i=n(44),o=n(195).f;r({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:o})},function(e,t,n){var r=n(233);function i(e){var t,n;function i(t,n){try{var a=e[t](n),s=a.value,u=s instanceof r;Promise.resolve(u?s.wrapped:s).then(function(e){u?i("return"===t?"return":"next",e):o(a.done?"return":"normal",e)},function(e){i("throw",e)})}catch(e){o("throw",e)}}function o(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(o,a){var s={key:e,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,i(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(i.prototype[Symbol.asyncIterator]=function(){return this}),i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)},e.exports=i},function(e,t,n){var r=n(25),i=n(272);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},function(e,t,n){var r=n(67),i=n(180).trim,o=n(181),a=r.parseInt,s=/^[+-]?0[Xx]/,u=8!==a(o+"08")||22!==a(o+"0x16");e.exports=u?function(e,t){var n=i(String(e));return a(n,t>>>0||(s.test(n)?16:10))}:a},function(e,t,n){var r=n(25),i=n(44),o=n(68),a=Object.isSealed;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isSealed:function(e){return!o(e)||!!a&&a(e)}})},function(e,t,n){n(25)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){"use strict";var r=n(25),i=n(87),o=n(276),a=n(97),s=n(83),u=n(91);i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){u.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(41),i=n(67),o=n(44);e.exports=r||!o(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete i[e]})},function(e,t,n){var r=n(25),i=n(278),o=n(124);r({target:"Array",proto:!0},{fill:i}),o("fill")},function(e,t,n){"use strict";var r=n(97),i=n(145),o=n(93);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(25),i=n(149).charAt;r({target:"String",proto:!0},{at:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(25),i=n(223).right,o=n(120),a=n(101),s=o("reduceRight"),u=a("reduce",{1:0});r({target:"Array",proto:!0,forced:!s||!u},{reduceRight:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(25),i=n(282),o=n(97),a=n(93),s=n(115),u=n(146);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=a(t.length),r=u(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},function(e,t,n){"use strict";var r=n(134),i=n(93),o=n(90),a=function(e,t,n,s,u,c,l,f){for(var d,h=u,p=0,v=!!l&&o(l,f,3);p<s;){if(p in n){if(d=v?v(n[p],p,t):n[p],c>0&&r(d))h=a(e,t,d,i(d.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=d}h++}p++}return h};e.exports=a},function(e,t,n){n(124)("flat")},function(e,t,n){"use strict";n.r(t),n.d(t,"Base",function(){return U}),n.d(t,"GlobalEvents",function(){return ri}),n.d(t,"BryntumWidgetAdapter",function(){return Hs}),n.d(t,"BryntumWidgetAdapterRegister",function(){return ke}),n.d(t,"AjaxStore",function(){return Pa}),n.d(t,"DomDataStore",function(){return Ns}),n.d(t,"Duration",function(){return Bs}),n.d(t,"Model",function(){return Yo}),n.d(t,"StateTrackingManager",function(){return mc}),n.d(t,"Store",function(){return Ra}),n.d(t,"Transaction",function(){return su}),n.d(t,"AjaxHelper",function(){return Ae}),n.d(t,"ArrayHelper",function(){return de}),n.d(t,"BrowserHelper",function(){return N}),n.d(t,"CSSHelper",function(){return kc}),n.d(t,"DateHelper",function(){return xt}),n.d(t,"DomClassList",function(){return Ft}),n.d(t,"DomHelper",function(){return yn}),n.d(t,"DomSync",function(){return Cc}),n.d(t,"DragHelper",function(){return Hc}),n.d(t,"EventHelper",function(){return ur}),n.d(t,"FunctionHelper",function(){return Yn}),n.d(t,"IdHelper",function(){return De}),n.d(t,"ObjectHelper",function(){return It}),n.d(t,"ResizeHelper",function(){return qc}),n.d(t,"ResizeMonitor",function(){return pr}),n.d(t,"StringHelper",function(){return _}),n.d(t,"TemplateHelper",function(){return Wi}),n.d(t,"VersionHelper",function(){return H}),n.d(t,"WidgetHelper",function(){return Ce}),n.d(t,"DataGenerator",function(){return Kc}),n.d(t,"DemoBot",function(){return Qc}),n.d(t,"Fullscreen",function(){return el}),n.d(t,"Point",function(){return Gn}),n.d(t,"RandomGenerator",function(){return Xc}),n.d(t,"Rectangle",function(){return Wn}),n.d(t,"Scroller",function(){return zr}),n.d(t,"LocaleHelper",function(){return Le}),n.d(t,"LocaleManager",function(){return _e}),n.d(t,"Localizable",function(){return We}),n.d(t,"Delayable",function(){return yr}),n.d(t,"Events",function(){return me}),n.d(t,"InstancePlugin",function(){return To}),n.d(t,"Override",function(){return nl}),n.d(t,"Pluggable",function(){return Po}),n.d(t,"State",function(){return Io}),n.d(t,"Bag",function(){return Ri}),n.d(t,"ClickRepeater",function(){return mo}),n.d(t,"Collection",function(){return Lr}),n.d(t,"CollectionFilter",function(){return wr}),n.d(t,"CollectionSorter",function(){return Dr}),n.d(t,"Month",function(){return ts}),n.d(t,"Parser",function(){return Sl}),n.d(t,"Badge",function(){return uo}),n.d(t,"BooleanCombo",function(){return Rl}),n.d(t,"Button",function(){return po}),n.d(t,"ButtonGroup",function(){return go}),n.d(t,"CalendarPanel",function(){return rs}),n.d(t,"Checkbox",function(){return xo}),n.d(t,"ChipView",function(){return qa}),n.d(t,"Combo",function(){return Ja}),n.d(t,"Container",function(){return Mi}),n.d(t,"DateField",function(){return gs}),n.d(t,"DatePicker",function(){return hs}),n.d(t,"DisplayField",function(){return xl}),n.d(t,"DurationField",function(){return Tl}),n.d(t,"Editor",function(){return fs}),n.d(t,"Field",function(){return Do}),n.d(t,"FileField",function(){return Al}),n.d(t,"FilePicker",function(){return Fl}),n.d(t,"FlagField",function(){return Ol}),n.d(t,"List",function(){return Ga}),n.d(t,"Mask",function(){return li}),n.d(t,"Menu",function(){return Zi}),n.d(t,"MenuItem",function(){return qi}),n.d(t,"MessageDialog",function(){return Hl}),n.d(t,"NumberField",function(){return bs}),n.d(t,"PagingToolbar",function(){return Bl}),n.d(t,"Panel",function(){return _i}),n.d(t,"Popup",function(){return Hi}),n.d(t,"Ripple",function(){return wi}),n.d(t,"Slider",function(){return Ds}),n.d(t,"Splitter",function(){return Gl}),n.d(t,"TabPanel",function(){return Ms}),n.d(t,"TextAreaField",function(){return Fs}),n.d(t,"TextField",function(){return Fa}),n.d(t,"TimeField",function(){return js}),n.d(t,"TimePicker",function(){return Os}),n.d(t,"Toast",function(){return Qi}),n.d(t,"Tool",function(){return pi}),n.d(t,"Toolbar",function(){return Ai}),n.d(t,"Tooltip",function(){return ao}),n.d(t,"Widget",function(){return Jr}),n.d(t,"ActionColumn",function(){return ef}),n.d(t,"AggregateColumn",function(){return nf}),n.d(t,"CheckColumn",function(){return sf}),n.d(t,"Column",function(){return Ul}),n.d(t,"DateColumn",function(){return cf}),n.d(t,"PercentColumn",function(){return ff}),n.d(t,"RatingColumn",function(){return vf}),n.d(t,"RowNumberColumn",function(){return yf}),n.d(t,"TemplateColumn",function(){return wf}),n.d(t,"TimeColumn",function(){return Df}),n.d(t,"TreeColumn",function(){return xf}),n.d(t,"WidgetColumn",function(){return of}),n.d(t,"ColumnStore",function(){return Zl}),n.d(t,"GridRowModel",function(){return Tf}),n.d(t,"CellTooltip",function(){return Of}),n.d(t,"ColumnDragToolbar",function(){return Bf}),n.d(t,"ColumnPicker",function(){return Vf}),n.d(t,"ColumnReorder",function(){return $f}),n.d(t,"ColumnResize",function(){return Yf}),n.d(t,"ContextMenu",function(){return qf}),n.d(t,"Filter",function(){return Jf}),n.d(t,"FilterBar",function(){return nd}),n.d(t,"GridFeatureManager",function(){return Ff}),n.d(t,"Group",function(){return ad}),n.d(t,"GroupSummary",function(){return ld}),n.d(t,"QuickFind",function(){return pd}),n.d(t,"RegionResize",function(){return gd}),n.d(t,"RowReorder",function(){return md}),n.d(t,"Search",function(){return Sd}),n.d(t,"Sort",function(){return xd}),n.d(t,"Stripe",function(){return Td}),n.d(t,"Summary",function(){return _d}),n.d(t,"Tree",function(){return Nd}),n.d(t,"GridExportDialog",function(){return Qd}),n.d(t,"GridMultiPageExporter",function(){return uh}),n.d(t,"GridMultiPageVerticalExporter",function(){return lh}),n.d(t,"GridPdfExport",function(){return ph}),n.d(t,"GridSinglePageExporter",function(){return dh}),n.d(t,"PaperFormat",function(){return zd}),n.d(t,"Orientation",function(){return Vd}),n.d(t,"RowsRange",function(){return Bd}),n.d(t,"FileFormat",function(){return Wd}),n.d(t,"ExportRowsCombo",function(){return Xd}),n.d(t,"ExportOrientationCombo",function(){return Zd}),n.d(t,"GridExcelExporter",function(){return kh}),n.d(t,"ScrollManager",function(){return wh}),n.d(t,"Bar",function(){return Pd}),n.d(t,"Grid",function(){return Ap}),n.d(t,"GridBase",function(){return Cp}),n.d(t,"Header",function(){return Hh}),n.d(t,"RowManager",function(){return Eh}),n.d(t,"SubGrid",function(){return dp}),n.d(t,"TreeGrid",function(){return Fp}),n.d(t,"AjaxTransport",function(){return Op}),n.d(t,"AbstractCrudManager",function(){return Gp}),n.d(t,"CrudManagerView",function(){return Up}),n.d(t,"EventStore",function(){return Fv}),n.d(t,"TimeAxis",function(){return Wv}),n.d(t,"SchedulerAssignmentStore",function(){return Gv}),n.d(t,"SchedulerCalendar",function(){return Xv}),n.d(t,"SchedulerCrudManager",function(){return hg}),n.d(t,"SchedulerDependencyStore",function(){return fg}),n.d(t,"SchedulerResourceStore",function(){return ig}),n.d(t,"ColumnLines",function(){return vg}),n.d(t,"DragBase",function(){return kg}),n.d(t,"EventContextMenu",function(){return Dg}),n.d(t,"EventDrag",function(){return Ng}),n.d(t,"EventDragCreate",function(){return Wg}),n.d(t,"EventEdit",function(){return Dy}),n.d(t,"EventFilter",function(){return Cy}),n.d(t,"EventResize",function(){return Py}),n.d(t,"EventTooltip",function(){return Ly}),n.d(t,"HeaderContextMenu",function(){return _y}),n.d(t,"HeaderZoom",function(){return Hy}),n.d(t,"NonWorkingTime",function(){return $y}),n.d(t,"Pan",function(){return Yy}),n.d(t,"ResourceTimeRanges",function(){return Jy}),n.d(t,"ScheduleContextMenu",function(){return em}),n.d(t,"SchedulerDependencies",function(){return cm}),n.d(t,"SchedulerDependencyEdit",function(){return hm}),n.d(t,"SchedulerSummary",function(){return qk}),n.d(t,"SimpleEventEdit",function(){return Kk}),n.d(t,"TimeRanges",function(){return Jk}),n.d(t,"DependencyCreation",function(){return nm}),n.d(t,"SchedulerExportDialog",function(){return rb}),n.d(t,"SchedulerMultiPageExporter",function(){return ub}),n.d(t,"SchedulerMultiPageVerticalExporter",function(){return lb}),n.d(t,"SchedulerPdfExport",function(){return pb}),n.d(t,"SchedulerSinglePageExporter",function(){return db}),n.d(t,"ScheduleRange",function(){return Qk}),n.d(t,"ScheduleRangeCombo",function(){return tb}),n.d(t,"ExcelExporter",function(){return mb}),n.d(t,"ResourceInfoColumn",function(){return bb}),n.d(t,"TimeAxisColumn",function(){return _k}),n.d(t,"DependencyBaseModel",function(){return sg}),n.d(t,"EventModel",function(){return Av}),n.d(t,"TimeSpan",function(){return kv}),n.d(t,"SchedulerAssignmentModel",function(){return Zp}),n.d(t,"SchedulerCalendarDayModel",function(){return Uv}),n.d(t,"SchedulerDependencyModel",function(){return cg}),n.d(t,"SchedulerResourceModel",function(){return eg}),n.d(t,"PresetManager",function(){return zv}),n.d(t,"PresetStore",function(){return Nv}),n.d(t,"ViewPreset",function(){return jv}),n.d(t,"RectangularPathFinder",function(){return im}),n.d(t,"TableExporter",function(){return gb}),n.d(t,"HorizontalTimeAxis",function(){return Ik}),n.d(t,"Scheduler",function(){return Yk}),n.d(t,"TimeAxisViewModel",function(){return ym}),n.d(t,"EndDateField",function(){return Sb}),n.d(t,"GanttTaskEditor",function(){return Cw}),n.d(t,"ProAssignmentAPI",function(){return Ew}),n.d(t,"ProCalendarIntervalModel",function(){return kD}),n.d(t,"ProCalendarModel",function(){return UD}),n.d(t,"ProCrudManager",function(){return XD}),n.d(t,"ProDataAPI",function(){return oR}),n.d(t,"ProDependencies",function(){return sR}),n.d(t,"ProDependencyAPI",function(){return QD}),n.d(t,"ProDependencyModel",function(){return yR}),n.d(t,"ProEventAPI",function(){return ZD}),n.d(t,"ProEventDrag",function(){return kR}),n.d(t,"ProEventDragCreate",function(){return wR}),n.d(t,"ProNonWorkingTime",function(){return DR}),n.d(t,"ProProjectAPI",function(){return rR}),n.d(t,"ProProjectModel",function(){return IT}),n.d(t,"ProResourceAPI",function(){return tR}),n.d(t,"ProScheduler",function(){return $T}),n.d(t,"ProSchedulerStores",function(){return LT}),n.d(t,"ProSubProjectModel",function(){return YT}),n.d(t,"ProTaskEdit",function(){return BT}),n.d(t,"ProTaskEditStm",function(){return _T}),n.d(t,"ProTaskModel",function(){return Sx}),n.d(t,"ProTaskSegmentModel",function(){return qT}),n.d(t,"SchedulerGeneralTab",function(){return $b}),n.d(t,"SchedulerTaskEditor",function(){return HT}),n.d(t,"StartDateField",function(){return Lb}),n.d(t,"ProAssignmentModel",function(){return sT}),n.d(t,"ProAssignmentStore",function(){return hT}),n.d(t,"ProCalendarManagerStore",function(){return kT}),n.d(t,"ProDependencyStore",function(){return NE}),n.d(t,"ProResourceModel",function(){return UE}),n.d(t,"ProResourceStore",function(){return QE}),n.d(t,"ProTaskStore",function(){return TE}),n.d(t,"SchedulerProAdvancedTab",function(){return kw}),n.d(t,"SchedulerProCalendarField",function(){return Vb}),n.d(t,"SchedulerProConstraintTypePicker",function(){return vw}),n.d(t,"SchedulerProDependencyTab",function(){return sw}),n.d(t,"SchedulerProDependencyTypePicker",function(){return ew}),n.d(t,"SchedulerProDurationColumn",function(){return nw}),n.d(t,"SchedulerProEffortField",function(){return _b}),n.d(t,"SchedulerProEventChangePropagator",function(){return Tb}),n.d(t,"SchedulerProEventLoader",function(){return xb}),n.d(t,"SchedulerProFormTab",function(){return Ib}),n.d(t,"SchedulerProGeneralTab",function(){return Hb}),n.d(t,"SchedulerProModelCombo",function(){return Bb}),n.d(t,"SchedulerProNotesTab",function(){return ww}),n.d(t,"SchedulerProPartOfProject",function(){return Pw}),n.d(t,"SchedulerProPredecessorsTab",function(){return fw}),n.d(t,"SchedulerProReadyStatePropagator",function(){return Rb}),n.d(t,"SchedulerProResourcesTab",function(){return hw}),n.d(t,"SchedulerProSchedulingModePicker",function(){return yw}),n.d(t,"SchedulerProSuccessorsTab",function(){return cw}),n.d(t,"SchedulerProTaskEditorBase",function(){return Dw}),n.d(t,"SchedulerProTaskEditorTab",function(){return Pb}),n.d(t,"AddNewColumn",function(){return KT}),n.d(t,"AllColumns",function(){return WP}),n.d(t,"CalendarColumn",function(){return eM}),n.d(t,"ConstraintDateColumn",function(){return iM}),n.d(t,"ConstraintTypeColumn",function(){return aM}),n.d(t,"DeadlineDateColumn",function(){return uM}),n.d(t,"DependencyColumn",function(){return XM}),n.d(t,"DurationColumn",function(){return lM}),n.d(t,"EarlyEndDateColumn",function(){return dM}),n.d(t,"EarlyStartDateColumn",function(){return pM}),n.d(t,"EffortColumn",function(){return gM}),n.d(t,"EndDateColumn",function(){return SM}),n.d(t,"EventModeColumn",function(){return GP}),n.d(t,"GanttDateColumn",function(){return nM}),n.d(t,"LateEndDateColumn",function(){return RM}),n.d(t,"LateStartDateColumn",function(){return xM}),n.d(t,"ManuallyScheduledColumn",function(){return TM}),n.d(t,"MilestoneColumn",function(){return PM}),n.d(t,"NameColumn",function(){return IM}),n.d(t,"NoteColumn",function(){return LM}),n.d(t,"PercentDoneColumn",function(){return _M}),n.d(t,"PredecessorColumn",function(){return ZM}),n.d(t,"ResourceAssignmentColumn",function(){return PP}),n.d(t,"RollupColumn",function(){return mM}),n.d(t,"SchedulingModeColumn",function(){return IP}),n.d(t,"SequenceColumn",function(){return LP}),n.d(t,"ShowInTimelineColumn",function(){return bM}),n.d(t,"StartDateColumn",function(){return _P}),n.d(t,"SuccessorColumn",function(){return HP}),n.d(t,"TotalSlackColumn",function(){return BP}),n.d(t,"WBSColumn",function(){return VP}),n.d(t,"AssignmentsManipulationStore",function(){return wP}),n.d(t,"AssignmentStore",function(){return XP}),n.d(t,"DependencyStore",function(){return QP}),n.d(t,"ResourceStore",function(){return rA}),n.d(t,"TaskStore",function(){return AA}),n.d(t,"MinimalGanttProject",function(){return RA}),n.d(t,"CrudManager",function(){return vA}),n.d(t,"Baselines",function(){return FA}),n.d(t,"CellEdit",function(){return OA}),n.d(t,"CriticalPaths",function(){return jA}),n.d(t,"Dependencies",function(){return VA}),n.d(t,"DependencyEdit",function(){return $A}),n.d(t,"Labels",function(){return nI}),n.d(t,"Indicators",function(){return iI}),n.d(t,"PercentBar",function(){return aI}),n.d(t,"ProgressLine",function(){return uI}),n.d(t,"ProjectLines",function(){return lI}),n.d(t,"Rollups",function(){return vI}),n.d(t,"TaskContextMenu",function(){return yI}),n.d(t,"TaskEdit",function(){return wI}),n.d(t,"TaskEditStm",function(){return _T}),n.d(t,"TaskTooltip",function(){return DI}),n.d(t,"MultiPageExporter",function(){return EI}),n.d(t,"MultiPageVerticalExporter",function(){return MI}),n.d(t,"PdfExport",function(){return FI}),n.d(t,"SinglePageExporter",function(){return AI}),n.d(t,"AssignmentModel",function(){return UP}),n.d(t,"AssignmentsManipulationModel",function(){return QM}),n.d(t,"Baseline",function(){return oA}),n.d(t,"CalendarIntervalModel",function(){return lA}),n.d(t,"CalendarModel",function(){return dA}),n.d(t,"DependencyModel",function(){return ZP}),n.d(t,"ProjectModel",function(){return xA}),n.d(t,"ResourceModel",function(){return tA}),n.d(t,"SubProjectModel",function(){return OI}),n.d(t,"TaskModel",function(){return uA}),n.d(t,"TaskSegmentModel",function(){return jI}),n.d(t,"ProjectGenerator",function(){return VI}),n.d(t,"ResourceAssignmentParser",function(){return mP}),n.d(t,"Gantt",function(){return yF}),n.d(t,"GanttBase",function(){return cF}),n.d(t,"AdvancedTab",function(){return kw}),n.d(t,"AssignmentEditGrid",function(){return kF}),n.d(t,"AssignmentField",function(){return EP}),n.d(t,"AssignmentGrid",function(){return DP}),n.d(t,"AssignmentPicker",function(){return CP}),n.d(t,"ConstraintTypePicker",function(){return vw}),n.d(t,"DependencyField",function(){return $M}),n.d(t,"DependencyTab",function(){return sw}),n.d(t,"DependencyTypePicker",function(){return ew}),n.d(t,"EffortField",function(){return _b}),n.d(t,"EventChangePropagator",function(){return Tb}),n.d(t,"EventLoader",function(){return xb}),n.d(t,"FormTab",function(){return Ib}),n.d(t,"GeneralTab",function(){return Hb}),n.d(t,"NotesTab",function(){return ww}),n.d(t,"PredecessorsTab",function(){return fw}),n.d(t,"ResourcesTab",function(){return hw}),n.d(t,"SchedulingModePicker",function(){return yw}),n.d(t,"SuccessorsTab",function(){return cw}),n.d(t,"TaskEditor",function(){return kI}),n.d(t,"Timeline",function(){return wF}),n.d(t,"EffectResolutionResult",function(){return Fw}),n.d(t,"ConstraintType",function(){return Yb}),n.d(t,"SchedulingMode",function(){return Ub}),n.d(t,"TimeUnit",function(){return Gb}),n.d(t,"ProjectType",function(){return Kb}),n.d(t,"GanttTag",function(){return CF});var r="URLSearchParams"in self,i="Symbol"in self&&"iterator"in Symbol,o="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in self,s="ArrayBuffer"in self;if(s)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&u.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function g(e){var t=new FileReader,n=v(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=v(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=l(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[l(e)]},h.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},h.prototype.set=function(e,t){this.map[l(e)]=f(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),d(e)},h.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),d(e)},h.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),d(e)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),k.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var D=[301,302,303,307,308];S.redirect=function(e,t){if(-1===D.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})};var R=self.DOMException;try{new R}catch(e){(R=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),R.prototype.constructor=R}function C(e,t){return new Promise(function(n,r){var i=new b(e,t);if(i.signal&&i.signal.aborted)return r(new R("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;setTimeout(function(){n(new S(i,r))},0)},a.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},a.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},a.onabort=function(){setTimeout(function(){r(new R("Aborted","AbortError"))},0)},a.open(i.method,function(e){try{return""===e&&self.location.href?self.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&(o?a.responseType="blob":s&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(a.responseType="arraybuffer")),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),i.signal&&(i.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",u)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})}C.polyfill=!0,self.fetch||(self.fetch=C,self.Headers=h,self.Request=b,self.Response=S);n(235),n(26),n(27),n(13),n(34),n(28),n(24),n(46),n(20),n(22),n(109),n(114),n(202),n(43),n(7),n(169),n(203),n(37),n(98),n(15);var x=n(1),E=n.n(x),T=n(2),M=n.n(T),P=(n(40),n(126),n(36),n(8),n(84),/([a-z])([A-Z])/g),A=/[.*+?^${}()|[\]\\]/g,I=/(^[^a-z]+|[^\w]+)/gi,F=function(e,t,n){return t+"-"+n.toLowerCase()},L=function(e){return e?"_x".concat(e.charCodeAt(0).toString(16)):"__blank__"},O={},_=function(){function e(){E()(this,e)}return M()(e,null,[{key:"capitalizeFirstLetter",value:function(e){return e?e[0].toUpperCase()+e.substr(1):null}},{key:"lowercaseFirstLetter",value:function(e){return e?e[0].toLowerCase()+e.substr(1):null}},{key:"hyphenate",value:function(e){var t=O[e];return t||(O[e]=e.replace(P,F))}},{key:"safeJsonParse",value:function(e){var t=null;try{t=JSON.parse(e)}catch(e){console.error(e)}return t}},{key:"safeJsonStringify",value:function(e){var t=null;try{t=JSON.stringify(e)}catch(e){console.error(e)}return t}},{key:"createId",value:function(e){return String(e).replace(I,L)}},{key:"escapeRegExp",value:function(e){return e.replace(A,"\\$&")}},{key:"joinPaths",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return e.join(t).replace(new RegExp("\\"+t+"+","g"),t)}}]),e}();_._$name="StringHelper";n(16);var j=!1;try{j=Boolean(window!==window.parent&&window.parent.Siesta)}catch(e){}var H=function(){function e(){E()(this,e)}return M()(e,null,[{key:"setVersion",value:function(e,t){this[e=e.toLowerCase()]={version:t,isNewerThan:function(e){return e<t},isOlderThan:function(e){return e>t}};var n="".concat("gantt",".").concat(e).concat(t.replace(/\./g,"-"));if(!0===window.bryntum[n]){if(!j)throw new Error("Bundle included twice, check cache-busters and file types (.js)");window.BUNDLE_EXCEPTION=!0}else window.bryntum[n]=!0}},{key:"getVersion",value:function(e){if(!this[e=e.toLowerCase()])throw new Error("No version specified");return this[e].version}},{key:"checkVersion",value:function(e,t,n,r){var i,o=this.getVersion(e);switch(n){case"<":i=o<t;break;case"<=":i=o<=t;break;case"=":i=o===t;break;case">=":i=o>=t;break;case">":i=o>t}return i}},{key:"deprecate",value:function(e,t,n){if(!this.checkVersion(e,t,"<",n))throw new Error("Deprecated API use. ".concat(n));console.warn("Deprecation warning: You are using a deprecated API which will change in v".concat(t,". ").concat(n))}},{key:"isTestEnv",get:function(){return j}}]),e}();(window.bryntum||(window.bryntum={})).getVersion=H.getVersion.bind(H),window.bryntum.checkVersion=H.checkVersion.bind(H),window.bryntum.deprecate=H.deprecate.bind(H),H._$name="VersionHelper";n(31),n(17),n(238),n(21),n(127),n(178),n(86),n(18),n(211);var N=function(){function e(){E()(this,e)}return M()(e,null,[{key:"cacheFlags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.platform,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent,n=this;n._isLinux=Boolean(e.match(/Linux/)),n._isMac=Boolean(e.match(/Mac/)),n._isWindows=Boolean(e.match(/Win32/)),n._isIE11=Boolean(t.match(/rv:11/)),n._edgeVersion=n.getVersion(t,/Edge?\/(\d+)\./),n._isEdge=n._edgeVersion>0&&n._edgeVersion<80,n._isEdge||(n._edgeVersion=0),n._isWebkit=Boolean(t.match(/WebKit/))&&!n._isEdge,n._firefoxVersion=n.getVersion(t,/Firefox\/(\d+)\./),n._isFirefox=n._firefoxVersion>0,n._chromeVersion=n._isEdge?0:n.getVersion(t,/Chrom(?:e|ium)\/(\d+)\./),n._isChrome=n._chromeVersion>0,n._isSafari=Boolean(t.match(/Safari/))&&!n._isChrome&&!n._isEdge,n._isMobileSafari=Boolean(t.match(/Mobile.*Safari/)),n._isAndroid=Boolean(t.match(/Android/g));try{document.querySelector(":scope"),n.supportsQueryScope=!n._isFirefox}catch(e){n.supportsQueryScope=!1}n._supportsPassive=!1;try{document.addEventListener("__notvalid__",null,{get passive(){n._supportsPassive=!0}})}catch(e){}}},{key:"getVersion",value:function(e,t){var n=e.match(t);return n?parseInt(n[1]):0}},{key:"setLocalStorageItem",value:function(e,t){this.storageAvailable&&localStorage.setItem(e,t)}},{key:"getLocalStorageItem",value:function(e){return this.storageAvailable&&localStorage.getItem(e)}},{key:"removeLocalStorageItem",value:function(e){this.storageAvailable&&localStorage.removeItem(e)}},{key:"searchParam",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.location.search,r=new RegExp("[?&]".concat(e,"=([^&]*)")),i=n.match(r);return i&&i[1]||t}},{key:"getCookie",value:function(e){for(var t=encodeURIComponent(e)+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length,i.length))}return""}},{key:"isTouchDevice",get:function(){return"_isTouchDevice"in this?this._isTouchDevice:"ontouchstart"in window||!this.isEdge&&navigator.maxTouchPoints>0||this.isEdge&&window.TouchEvent||navigator.msMaxTouchPoints>0},set:function(e){this._isTouchDevice=e}},{key:"supportsPointerEvents",get:function(){return Boolean(window.PointerEvent||window.MSPointerEvent)}},{key:"isMac",get:function(){return this._isMac}},{key:"isWindows",get:function(){return this._isWindows}},{key:"isLinux",get:function(){return this._isLinux}},{key:"isIE11",get:function(){return this._isIE11}},{key:"isEdge",get:function(){return this._isEdge}},{key:"edgeVersion",get:function(){return this._edgeVersion}},{key:"isWebkit",get:function(){return this._isWebkit}},{key:"isChrome",get:function(){return this._isChrome}},{key:"chromeVersion",get:function(){return this._chromeVersion}},{key:"isFirefox",get:function(){return this._isFirefox}},{key:"firefoxVersion",get:function(){return this._firefoxVersion}},{key:"isSafari",get:function(){return this._isSafari}},{key:"isMobileSafari",get:function(){return this._isMobileSafari}},{key:"isAndroid",get:function(){return this._isAndroid}},{key:"supportsPassive",get:function(){return this._supportsPassive}},{key:"storageAvailable",get:function(){var e,t;try{return e=localStorage,t="__storage_test__",e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==e.length}}},{key:"queryString",get:function(){var e=new URLSearchParams(window.location.search);return Object.fromEntries(e.entries())}},{key:"isBrowserEnv",get:function(){return"undefined"!=typeof window}}]),e}();N.isBrowserEnv&&N.cacheFlags(),N._$name="BrowserHelper";var B=Symbol("defaultConfig"),z=Symbol("propertyInitializers"),V=Symbol("classHierarchy"),W=Symbol("configuration"),$=Symbol("originalConfig"),G=Symbol("instanceProperties"),Y=Object.prototype.hasOwnProperty,U=function(){function e(){E()(this,e),this.construct.apply(this,arguments),this.afterConstruct()}return M()(e,[{key:"construct",value:function(){null!==(arguments.length<=0?void 0:arguments[0])&&this.configure.apply(this,arguments),this.afterConfigure()}},{key:"destroy",value:function(){var e=this;for(var t in e.isDestroying=!0,e.doDestroy(),Object.setPrototypeOf(this,null),e)delete e[t];delete e[$],e.isDestroyed=!0}},{key:"_thisIsAUsedExpression",value:function(e){}},{key:"startConfigure",value:function(e){}},{key:"finishConfigure",value:function(e){}},{key:"afterConfigure",value:function(){}},{key:"afterConstruct",value:function(){}},{key:"callback",value:function(e,t,n){"this"===t&&(t=this);var r=this.resolveCallback(e,t),i=r.handler,o=r.thisObj;return n?i.apply(o,n):i.call(o)}},{key:"resolveCallback",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if(e.substr){if(e.startsWith("up."))for(e=e.substr(3),t=this.owner;t&&!t[e];t=t.owner);else e.startsWith("this.")&&(t=this);e=t[e]}return{handler:e,thisObj:t}}},{key:"bindCallback",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;if(e){var n=this.resolveCallback(e,t),r=n.handler,i=n.thisObj;if(r)return r.bind(i)}}},{key:"delay",value:function(e,t){e=this.setTimeout?e:e.bind(this),("number"==typeof t?this.setTimeout||setTimeout:this.requestAnimationFrame||requestAnimationFrame)(e,t)}},{key:"doDestroy",value:function(){}},{key:"destroyProperties",value:function(){for(var e,t,n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(var a=0,s=i;a<s.length;a++)!((e=s[a])in n)||n[W]&&n[W][e]||((t=n[e])&&t.destroy&&t.destroy(),delete n[e])}},{key:"configure",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this;n.initialConfig=t,n.isConfiguring=!0,Object.assign(n,n.getProperties()),n.setConfig(n[$]=e.assign(n.getDefaultConfiguration(),t),!0),n.isConfiguring=!1}},{key:"setConfig",value:function(t,n){var r,i,o=this,a=o[W],s=a?o.configDone:o.configDone={},u=o[G]={};for(r in o[W]=a?Object.setPrototypeOf(Object.assign({},t),a):t,t)null!=t[r]||Y.call(t,r)?(u[r]||!(i=Reflect.getOwnPropertyDescriptor(o,r))||"value"in i||(u[r]=i),Reflect.defineProperty(o,r,e.createPropInitializer(r)),n||(s[r]=!1)):s[r]=!0;for(r in n&&o.startConfigure(t),t)s[r]||(o[r]=t[r]);a?o[W]=a:delete o[W],n&&o.finishConfigure(t)}},{key:"getDefaultConfiguration",value:function(){return this.constructor.getDefaultConfiguration()}},{key:"getProperties",value:function(){var e,t,n=this.classHierarchy(),r=n.length,i={};for(e=0;e<r;e++)t=n[e],Y.call(t,"properties")&&Object.assign(i,t.properties);return i}},{key:"classHierarchy",value:function(t){var n,r=this.constructor,i=Y.call(r,V)?r[V]:null;if(!i){for(i=r[V]=[];r!==e;r=Object.getPrototypeOf(r))i.unshift(r);Object.freeze(i)}if(t)for(var o=0;!n&&o<i.length;o++)i[o]===t&&(n=i.slice(o));else n=i;return n}},{key:"classNameHierarchy",value:function(e){return this.classHierarchy(e).map(function(e){return e.$name})}},{key:"detachListeners",value:function(e){var t=this.$detachers;if(t=t&&t[e])for(;t.length;)t.pop()()}},{key:"trackDetacher",value:function(e,t){var n=this.$detachers||(this.$detachers={});(n[e]||(n[e]=[])).push(t)}},{key:"untrackDetachers",value:function(e){var t=this.$detachers;if(t)for(var n in t)for(var r=t[n],i=r.length;i-- >0;)r[i].eventer===e&&r.splice(i,1)}},{key:"$name",get:function(){return this.constructor.$name}},{key:"config",get:function(){var e,t={},n=this[$];for(e in n)t[e]=n[e];return t}}],[{key:"destroy",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){e&&e.destroy&&!e.isDestroyed&&e.destroy()})}},{key:"getDefaultConfiguration",value:function(){var e=this.getConfigDescriptor(),t=e.needsFork?this.fork(e.defaultConfig):Object.setPrototypeOf({},e.defaultConfig);if(H.isTestEnv&&t.testConfig&&window.__applyTestConfigs)for(var n in t.testConfig)t[n]=t.testConfig[n];return t}},{key:"getConfigDescriptor",value:function(t){var n,r,i,o,a,s=this,u=!t&&Y.call(s,B)?s[B]:null;if(!u){for(r in u={defaultConfig:n=Y.call(s,"defaultConfig")?s.defaultConfig:{},needsFork:0},t||(s[B]=u),n)if((o=n[r])&&(o.constructor===Object||Array.isArray(o))&&!Object.isFrozen(o)){u.needsFork=1;break}if(!t)for(i=s.superclass;i&&i!==e;i=i.superclass)a=i.getConfigDescriptor(!0),Object.keys(a.defaultConfig).length&&(u.needsFork|=a.needsFork,Object.setPrototypeOf(n,n=a.defaultConfig))}return u}},{key:"fork",value:function(e){var t,n,r;if(e&&e.constructor===Object&&!Object.isFrozen(e))for(n in t=Object.setPrototypeOf({},e),e)(r=e[n])&&(r.constructor===Object?t[n]=this.fork(r):r instanceof Array&&(t[n]=r.slice()));else t=e;return t}},{key:"assign",value:function(e){for(var t,n,r=0,i=arguments.length<=1?0:arguments.length-1;r<i;r++)for(n in t=r+1<1||arguments.length<=r+1?void 0:arguments[r+1])e[n]=t[n];return e}},{key:"createPropInitializer",value:function(e){var t=(this[z]||(this[z]={}))[e];if(!t){var n="initializing"+_.capitalizeFirstLetter(e);t=this[z][e]={configurable:!0,get:function(){var t=this,r=t[G][e];return r?Reflect.defineProperty(t,e,r):delete t[e],t[n]=!0,t[e]=t[W][e],t[n]=!1,t.configDone[e]=!0,t[e]},set:function(t){var n=this,r=n[G][e];r?Reflect.defineProperty(n,e,r):delete n[e],n.configDone[e]=!0,n[e]=t}}}return t}},{key:"isOfTypeName",value:function(e){return this.classNameHierarchy().includes(e)}},{key:"$name",get:function(){return Y.call(this,"_$name")&&this._$name||this.name}},{key:"superclass",get:function(){return Object.getPrototypeOf(this)}}]),e}();Object.assign(U.prototype,{$detachers:null}),H.setVersion("core","0.0.0"),U._$name="Base";n(9);var q=n(3),X=n.n(q),K=n(5),Z=n.n(K),J=n(0),Q=n.n(J),ee=(n(33),n(95),n(30),n(94),n(216),n(47),n(12)),te=n.n(ee),ne=n(19),re=n.n(ne),ie=n(14),oe=n.n(ie),ae=n(10),se=n.n(ae),ue=n(4),ce=n.n(ue);n(39),n(102),n(224),n(254),n(255);function le(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var de=function(){function e(){E()(this,e)}return M()(e,[{key:"magnitudeCompare",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"lexicalCompare",value:function(e,t){return(e=String(e))<(t=String(t))?-1:e>t?1:0}}],[{key:"clean",value:function(e){return e.reduce(function(e,t){return null==t||Array.isArray(t)&&0===t.length||""===t||e.push(t),e},[])}},{key:"remove",value:function(e){for(var t,n,r=!1,i=0;i<(arguments.length<=1?0:arguments.length-1);i++)n=i+1<1||arguments.length<=i+1?void 0:arguments[i+1],-1!==(t=e.indexOf(n))&&(e.splice(t,1),r=!0);return r}},{key:"findInsertionIndex",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.lexicalCompare,o=arguments.length>3?arguments[3]:void 0,a=t.length;return o<a&&(n=o>0?i(t[o-1],e):0,r=o<a-1?i(e,t[o]):0,n<1&&r<1)?o:this.binarySearch(t,e,i)}},{key:"binarySearch",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.lexicalCompare,s=e.length;for(i instanceof Function?(a=i,i=0):o instanceof Function&&(a=o,o=s),--o;i<=o;)(r=a(t,e[n=i+o>>1]))>=0?i=n+1:r<0&&(o=n-1);return i}},{key:"fill",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],i=Array.isArray(t)?t:[t],o=0;o<e;o++){var a,s=le(i);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=Object.assign({},u);n&&n(c,o),r.push(c)}}catch(e){s.e(e)}finally{s.f()}}return r}},{key:"populate",value:function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n}},{key:"include",value:function(e,t){e.includes(t)||e.push(t)}},{key:"allowNegative",value:function(e){return new Proxy(e,{get:function(e,t,n){if("string"!=typeof t)return Reflect.get(e,t,n);var r=Number(t);return Number.isNaN(r)?Reflect.get(e,t,n):e[r<0?e.length+r:r]},set:function(e,t,n,r){if("string"!=typeof t)return Reflect.set(e,t,n,r);var i=Number(t);return Number.isNaN(i)?Reflect.set(e,t,n,r):(e[i<0?e.length+i:i]=n,!0)}})}},{key:"delta",value:function(e,t){if(!t)return{onlyInA:e,onlyInB:[],inBoth:[]};for(var n=[],r=[],i=[],o=0;o<e.length;o++){var a=e[o];t.includes(a)?i.push(a):n.push(a)}for(var s=0;s<t.length;s++){var u=t[s];i.includes(u)||r.push(u)}return{onlyInA:n,onlyInB:r,inBoth:i}}}]),e}();function he(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}de._$name="ArrayHelper";var ge={thisObj:1,detachable:1,once:1,detacher:1,prio:1,args:1,expires:1,name:1,_oldDestructor:1},ye=function(e,t){return t.prio-e.prio},me=function(e){return function(e){X()(n,e);var t=ve(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"destroy",value:function(){this.trigger("beforeDestroy"),ce()(Q()(n.prototype),"destroy",this).call(this)}},{key:"construct",value:function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=ce()(Q()(n.prototype),"construct",this)).call.apply(e,[this].concat(r)),this.processConfiguredListeners()}},{key:"processConfiguredListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.listeners&&this.initialEventListeners,t=this;if(e&&!t.defaultListenersInitialized){var n=t.addListener(e,t);!1!==t.listeners.detachable&&(t.listenerDetacher=n),t.defaultListenersInitialized=!0}}},{key:"doDestroy",value:function(){this.trigger("destroy"),this.listenerDetacher&&this.listenerDetacher(),this.removeAllListeners(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"addListener",value:function(e,t,n){var r,i=this,o=i.eventListeners||(i.eventListeners={});if("string"==typeof e)return i.addListener((r={},se()(r,e,t),se()(r,"detachable",!1!==t.detachable),se()(r,"thisObj",n),r));for(var a in t=void 0!==e.thisObj?e.thisObj:e.thisObj=t,e)ge[a]||function(){var n=e[a],r={fn:"object"===oe()(n)?n.fn:n,thisObj:void 0!==n.thisObj?n.thisObj:t,args:n.args||e.args,prio:void 0!==n.prio?n.prio:void 0!==e.prio?e.prio:0,once:void 0!==n.once?n.once:void 0!==e.once&&e.once,catchAll:"catchAll"===a},s=a.toLowerCase(),u=o[s]||(o[s]=[]);n.expires&&i.delay(function(){return i.un(s,r)},e.expires),u.splice(de.findInsertionIndex(r,u,ye,u.length),0,r)}();e.relayAll&&i.relayAll(e.relayAll),t&&i.attachAutoDetacher(e);var s=!1!==e.detachable,u=e.name,c=e.expires||s||u?function(){i.isDestroyed||i.removeListener(e)}:null;return c&&(c.eventer=i,c.listenerName=u,u&&t&&t.trackDetacher&&t.trackDetacher(u,c),e.expires&&i.delay(c,e.expires),s)?c:void 0}},{key:"on",value:function(){return this.addListener.apply(this,arguments)}},{key:"un",value:function(){this.removeListener.apply(this,arguments)}},{key:"removeListener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.thisObj,n=this;"string"!=typeof e?(Object.entries(e).forEach(function(e){var r=re()(e,2),i=r[0],o=r[1];if(!ge[i]){var a=i.toLowerCase(),s=n.eventListeners&&n.eventListeners[a];if(s){var u=s.findIndex(function(e){return!(e.fn!==o&&e.fn!==o.fn||e.thisObj!==t&&e.thisObj!==o.thisObj&&t)});u>=0&&(s.splice(u,1),s.length||delete n.eventListeners[a])}}}),e.thisObj&&!e.thisObj.isDestroyed&&n.detachAutoDetacher(e)):n.removeListener(se()({},e,t),!((arguments.length<=2?0:arguments.length-2)>0)||(arguments.length<=2?void 0:arguments[2]))}},{key:"hasListener",value:function(e){return Boolean(this.eventListeners&&this.eventListeners[e])}},{key:"relayAll",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(this.relayAllTargets||(this.relayAllTargets=[])).push({through:e,prefix:t,transformCase:n})}},{key:"removeAllListeners",value:function(){var e,t,n=this.eventListeners;for(var r in n){var i=n[r];for(e=i.length;e-- >0;){var o=i[e];this.removeListener(r,o),(t=o.thisObj)&&t.untrackDetachers&&t.untrackDetachers(this)}}}},{key:"relayEvents",value:function(e,t,n){var r=this,i={detachable:!0},o=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return r.trigger.apply(r,[(n||"")+e].concat(i))};return t.forEach(function(e){i[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o.apply(void 0,[e].concat(n))}}),e.on(i)}},{key:"attachAutoDetacher",value:function(e){var t=this,n=e.thisObj,r="doDestroy"in n?"doDestroy":"destroy";r in n?(e._oldDestructor=n[r],n[r]=function(){t.isDestroyed||t.removeListener(e),e._oldDestructor.call(n)}):n[r]=function(){t.removeListener(e)}}},{key:"detachAutoDetacher",value:function(e){var t=e.thisObj,n="doDestroy"in t?"doDestroy":"destroy";e._oldDestructor&&(t[n]=e._oldDestructor)}},{key:"await",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{checkLog:!0,resetLog:!0},n=this;return!1===t&&(t={checkLog:!1}),new Promise(function(r){var i;t.checkLog&&n._triggered&&n._triggered[e]&&(r(),t.resetLog&&n.clearLog(e)),n.on((i={},se()(i,e,function(){r.apply(void 0,arguments),t.resetLog&&n.clearLog(e)}),se()(i,"prio",-1e4),se()(i,"once",!0),i))})}},{key:"clearLog",value:function(e){this._triggered&&(e?delete this._triggered[e]:this._triggered={})}},{key:"callPreventable",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this;if(!i&&!1===o.trigger("before"+_.capitalizeFirstLetter(e),t))return!1;var a=n.apply(void 0,[t].concat(te()(r)));return i||o.trigger(e,t),a}},{key:"trigger",value:function(e,t){var n,r=this,i=e.toLowerCase(),o=r.eventsSuspended,a=r.relayAllTargets,s=r.callOnFunctions,u=r.owner,c=r.eventListeners&&r.eventListeners[i],l=!0;if(r._triggered||(r._triggered={}),r._triggered[e]=!0,o)return o.shouldQueue&&o.queue.push(arguments),!0;r.eventListeners&&r.eventListeners.catchall&&((n=c=c?c.slice():[]).push.apply(n,te()(r.eventListeners.catchall)),c.sort(ye),l=!1);if(!c&&!a&&!s)return!0;if(t?"source"in t||(Object.isExtensible(t)?t.source=r:t=Object.setPrototypeOf({source:r},t)):t={source:r},t.type!==i&&(t.constructor!==Object?Reflect.defineProperty(t,"type",{get:function(){return i}}):t.type=i),s){var f="on"+_.capitalizeFirstLetter(e);if(f in r&&(r.callback(r[f],r,[t]),!r.isDestroyed&&Object.prototype.hasOwnProperty.call(r,f)&&(!r.pluginFunctionChain||!r.pluginFunctionChain[f]))){var d=Object.getPrototypeOf(r);if(f in d&&(d[f].call(r,t),r.isDestroyed))return}}if(c){var h,p,v=0;for(l&&(c=c.slice());v<c.length&&!r.isDestroyed;v++){var g=(h=c[v]).thisObj;if(!g||!g.isDestroyed){if(h.once&&r.removeListener(i,h),"string"==typeof h.fn){if(g&&(p=g[h.fn]),!p){var y=r.resolveCallback(h.fn);p=y.handler,g=y.thisObj}}else p=h.fn;var m;if(h.args){if(!1===(m=p).call.apply(m,[g||r].concat(te()(h.args),[t])))return!1}else if(!1===p.call(g||r,t))return!1}}}return a&&a.forEach(function(n){var r=e;if(n.transformCase&&(r=_.capitalizeFirstLetter(r)),n.prefix&&(r=n.prefix+r),!1===n.through.trigger(r,t))return!1}),!(t.bubbles&&u&&!u.isDestroyed)||u.trigger(e,t)}},{key:"suspendEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.eventsSuspended||(this.eventsSuspended={shouldQueue:e,queue:[],count:0});t.count++}},{key:"resumeEvents",value:function(){var e=this.eventsSuspended;if(e&&0==--e.count&&(this.eventsSuspended=null,e.shouldQueue)){var t,n=he(e.queue);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.trigger.apply(this,te()(r))}}catch(e){n.e(e)}finally{n.f()}}return!Boolean(this.eventsSuspended)}},{key:"listeners",set:function(e){this.isConfiguring?this.initialEventListeners=e:(this.removeAllListeners(),e&&this.on(e))},get:function(){return this.eventListeners||this.initialEventListeners}}],[{key:"defaultConfig",get:function(){return{listeners:null}}}]),n}(e||U)},ke=(n(66),n(153),n(32),n(103),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),function(){function e(){E()(this,e)}return M()(e,null,[{key:"register",value:function(e,t){var n=we.get(t);e=e.toLowerCase(),be[e]=t,n?n[e]=1:we.set(t,se()({},e,1))}},{key:"getClass",value:function(e){return be[e.toLowerCase()]}},{key:"isType",value:function(e,t,n){t=t.toLowerCase();for(var r=e.constructor;r;r=n&&Object.getPrototypeOf(r)){var i=Object.prototype.hasOwnProperty.call(r,"$name")?r.$name:r.name,o=we.get(r);if(!o&&i&&(o=se()({},i.toLowerCase(),1),we.set(r,o)),o&&o[t])return!0}}},{key:"createWidget",value:function(e,t){var n=this.getClass(e||"widget");return n?new n(t):null}}]),e}()),be=ke.widgetRegister={},we=ke.widgetClassRegister=new Map;ke._$name="BryntumWidgetAdapterRegister";function Se(e,t){for(var n=e.classHierarchy(),r=0;r<n.length;r++)if(n[r].$name.toLowerCase()===t)return!0;return!1}var De=function(){function e(){E()(this,e)}return M()(e,null,[{key:"generateId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"generatedId";return t+ ++e.idCounter}},{key:"register",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.id;if(null==r&&(r=t.id=e.generateId(n),t.hasGeneratedId=!0),r in e.idMap&&!this.disableThrow)throw new Error("Id "+r+" already in use");e.idMap[r]=t}},{key:"unregister",value:function(t){e.idMap[t.id]===t&&delete e.idMap[t.id]}},{key:"get",value:function(t){return e.idMap[t]}},{key:"query",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.idMap;for(var i in r)if(Re(r[i],t,n))return r[i];return null}},{key:"queryAll",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.idMap,i=[];for(var o in r)Re(r[o],t,n)&&i.push(r[o]);return i}},{key:"fromElement",value:function(t,n,r){var i=oe()(n);t&&t instanceof Event&&(t=t.target),("number"===i||n&&1===n.nodeType)&&(r=n,n=null);var o,a,s,u=t,c=e.idMap,l=0;for("number"!=typeof r&&(o=r,r=Number.MAX_VALUE),"string"===i&&(n=n.toLowerCase());u&&1===u.nodeType&&l<r&&u!==o;){if(a=u.dataset&&u.dataset.ownerCmp||u.id){if(s=c[a]){if(!n)return s;if("function"===i){if(n(s))return s}else if(Re(s,n)||Se(s,n))return s}l++}u=u.parentNode}return null}}]),e}();function Re(e,t,n){return"*"===t||("function"==typeof t?t(e):ke.isType(e,t,n))}De.idCounter=0,De.idMap={},(window.bryntum||(window.bryntum={})).get=De.get,window.bryntum.IdHelper=De,window.bryntum.query=De.query,window.bryntum.queryAll=De.queryAll,window.bryntum.fromElement=De.fromElement,De._$name="IdHelper";var Ce=function(){function e(){E()(this,e)}return M()(e,null,[{key:"getById",value:function(e){return De.get(e)}},{key:"fromElement",value:function(e,t,n){return De.fromElement(e,t,n)}},{key:"createWidget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.adapter.createWidget(e)}},{key:"append",value:function(e,t){if(e=Array.isArray(e)&&e||[e],(t instanceof HTMLElement||"string"==typeof t)&&(t={appendTo:t}),t.insertFirst){var n="string"==typeof t.insertFirst?document.getElementById(t.insertFirst):t.insertFirst;n.firstChild?t.insertBefore=n.firstChild:t.appendTo=n}return this.adapter.appendWidgets(e,t)}},{key:"openPopup",value:function(e,t){return this.adapter.openPopup(e,t)}},{key:"showContextMenu",value:function(e,t){return this.adapter.showContextMenu(e,t)}},{key:"attachTooltip",value:function(e,t){return this.adapter.attachTooltip(e,t)}},{key:"hasTooltipAttached",value:function(e){return this.adapter.hasTooltipAttached(e)}},{key:"destroyTooltipAttached",value:function(e){return this.adapter.destroyTooltipAttached(e)}},{key:"mask",value:function(e,t){return this.adapter.mask(e,t)}},{key:"unmask",value:function(e){this.adapter.unmask(e)}},{key:"toast",value:function(e){this.adapter.toast(e)}},{key:"adapter",set:function(e){this._adapter=new e},get:function(){if(!this._adapter)throw new Error("Widget adapter is required. Please import BryntumWidgetAdapter class. See docs here: https://www.bryntum.com/docs/grid/#Core/adapter/widget/BryntumWidgetAdapter");return this._adapter}},{key:"hasAdapter",get:function(){return!!this._adapter}},{key:"defaultStyle",set:function(e){this.adapter.defaultStyle=e},get:function(){return this.adapter.defaultStyle}}]),e}();Ce._$name="WidgetHelper";n(111),n(260),n(262),n(264),n(228);var xe=n(129),Ee=n.n(xe);n(45);function Te(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pe=/^(\w+)=(.*)$/,Ae=function(){function e(){E()(this,e)}return M()(e,null,[{key:"get",value:function(e,t){return this.fetch(e,t)}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t instanceof FormData||"string"==typeof t||(t=JSON.stringify(t),n.headers=n.headers||{},n.headers["Content-Type"]=n.headers["Content-Type"]||"application/json"),this.fetch(e,Object.assign({method:"POST",body:t},n))}},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AbortController;if(Object.assign(t,{abortController:n,signal:n.signal}),"credentials"in t||(t.credentials="include"),t.queryParams){var r=Object.entries(t.queryParams);r.length&&(e+="?"+r.map(function(e){var t=re()(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(encodeURIComponent(r))}).join("&"))}var i=new Promise(function(n,r){fetch(e,t).then(function(e){t.parseJson?e.json().then(function(t){e.parsedJson=t,n(e)}).catch(function(t){e.parsedJson=null,e.error=t,r(e)}):n(e)}).catch(function(e){e.stack=i.stack,r(e)})});return i.stack=(new Error).stack,i.abort=function(){n.abort()},i})},{key:"mockUrl",value:function(t,n){(this.mockAjaxMap||(this.mockAjaxMap={}))[t]=n,e.originalFetch||(e.originalFetch=e.fetch),e.fetch=this.mockAjaxFetch.bind(this)}},{key:"mockAjaxFetch",value:function(t,n){var r=t.split("?"),i=this.mockAjaxMap[r[0]],o=null;if(i){"function"==typeof i&&(i=i(r[0],r[1]&&function(e){var t,n={},r=Te(e.split("&"));try{for(r.s();!(t=r.n()).done;){var i=t.value,o=Pe.exec(i),a=re()(o,3),s=a[0],u=a[1],c=a[2],l=decodeURIComponent(u),f=decodeURIComponent(c);if(s){var d=n[l];d?(Array.isArray(d)||(d=n[l]=[d]),d.push(f)):n[l]=f}}}catch(e){r.e(e)}finally{r.f()}return n}(r[1]),n));try{o=n.parseJson&&JSON.parse(i.responseText)}catch(e){o=null,i.error=e}return i=Object.assign({status:200,ok:!0,headers:new Headers,statusText:"OK",url:t,parsedJson:o,text:function(){return new Promise(function(e){e(i.responseText)})},json:function(){return new Promise(function(e){e(o)})}},i),new Promise(function(e,t){i.synchronous?e(i):setTimeout(function(){e(i)},"delay"in i?i.delay:100)})}return e.originalFetch(t,n)}}]),e}();Ae._$name="AjaxHelper";n(154);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach(function(t){se()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Le=function(){function e(){E()(this,e)}return M()(e,null,[{key:"mergeLocales",value:function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){Object.keys(t).forEach(function(n){"object"===oe()(t[n])?e[n]=Fe(Fe({},e[n]),t[n]):e[n]=t[n]})}),e}},{key:"trimLocale",value:function(e,t){var n=function(t,n){if(!e[t])throw new Error('Key "'.concat(t,"\" doesn't exist in locale"));if(n){if(!e[t][n])throw new Error('SubKey "'.concat(t,".").concat(n,"\" doesn't exist in locale"));delete e[t][n]}else delete e[t]};Object.keys(t).forEach(function(e){Array.isArray(t[e])?t[e].forEach(function(t){return n(e,t)}):n(e)})}},{key:"publishLocale",value:function(e,t){var n=window.bryntum=window.bryntum||{},r=n.locales=n.locales||{};r[e]=r[e]?this.mergeLocales(r[e],t):t}}]),e}();function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Le._$name="LocaleHelper";var _e=new(function(e){X()(n,e);var t=Oe(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){for(var e,t=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(e=ce()(Q()(n.prototype),"construct",this)).call.apply(e,[this].concat(i));var a=document.querySelector("script[data-default-locale]");a&&(t.defaultLocaleName=a.dataset.defaultLocale),window.bryntum&&window.bryntum.locales&&(Object.keys(window.bryntum.locales).forEach(function(e){if(!e.startsWith("moment")){var n=window.bryntum.locales[e];n.extends?t.extendLocale(n.extends,n):n.localeName&&t.registerLocale(n.localeName,{desc:n.localeDesc,locale:n})}}),t.locale||"En"!==t.defaultLocaleName&&t.applyLocale(t.defaultLocaleName||Object.keys(t.locales)[0]))}},{key:"registerLocale",value:function(e,t){var n=this,r=n.defaultLocaleName===e,i=n.locale&&n.locale.localeName===e,o=0===Object.keys(n.locales).length;n.locales[e]?n.locales[e].locale=Le.mergeLocales(n.locales[e].locale,t.locale):n.locales[e]=t,(r||!n.defaultLocaleName&&(o||i))&&n.internalApplyLocale(n.locales[e])}},{key:"extendLocale",value:function(e,t){var n,r=this.locales[e];return!!r&&(r.locale=Le.mergeLocales(r.locale,t),delete r.locale.extends,(null===(n=this.locale)||void 0===n?void 0:n.localeName)===e&&this.applyLocale(e),!0)}},{key:"internalApplyLocale",value:function(e){this._locale=e.locale,this.trigger("locale",e)}},{key:"applyLocale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.locales[e];if(i&&i.locale&&r._locale===i.locale&&!t)return!0;if(!i){if(n)return!0;throw new Error("Locale ".concat(e," not registered"))}function o(){r.internalApplyLocale(i)}return i.locale?(o(),!0):new Promise(function(t,n){r.loadLocale(i.path).then(function(n){n.text().then(function(n){new Function(n)(),i.locale=window.bryntum.locales[e],o(),t(i)})}).catch(function(e){return n(e)})})}},{key:"loadLocale",value:function(e){return Ae.get(e)}},{key:"locales",set:function(e){this._locales=e},get:function(){return this._locales}},{key:"locale",set:function(e){"string"==typeof e?this.applyLocale(e):(e.locale||(e={locale:e,localeName:e.localeName||"custom"}),this.registerLocale(e.localeName,e),this.applyLocale(e.localeName))},get:function(){return this._locale}},{key:"throwOnMissingLocale",set:function(e){this._throwOnMissingLocale=e},get:function(){return this._throwOnMissingLocale}}],[{key:"defaultConfig",get:function(){return{locales:{},throwOnMissingLocale:H.isTestEnv}}}]),n}(me(U)));function je(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Be=Object.getPrototypeOf(Object),ze=/L{.*?}/g,Ve=function(e){return e.replace(/\[\[(\d+)]]/gm,"{$1}")},We=function(e){return function(e){X()(n,e);var t=Ne(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];(e=ce()(Q()(n.prototype),"construct",this)).call.apply(e,[this,t].concat(o)),_e.on("locale",r.updateLocalization,r),r.updateLocalization()}},{key:"localizeProperty",value:function(e){var t=this;if("string"==typeof t[e]){t.originalLocales=t.originalLocales||{},t.originalLocales[e]=t.originalLocales[e]||t[e];var n=t.originalLocales[e];n&&(t[e]=t.L(n))}}},{key:"updateLocalization",value:function(){this.localizableProperties&&this.localizableProperties.forEach(this.localizeProperty,this)}},{key:"buildLocalizableProperties",value:function(e){var t=[];e.localizableProperties&&t.push.apply(t,te()(e.localizableProperties));for(var n=this.constructor.superclass;n&&n!==U;n=n.superclass){var r=n.getConfigDescriptor(!0).defaultConfig;r&&r.localizableProperties&&t.push.apply(t,te()(r.localizableProperties.filter(function(e){return t.indexOf(e)<0})))}return t}},{key:"startConfigure",value:function(e){e.localizableProperties=this.buildLocalizableProperties(e),ce()(Q()(n.prototype),"startConfigure",this).call(this,e)}},{key:"L",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=this;return r.localeClass&&n.clsName(r.localeClass)!==n.clsName(r.constructor)?n.L(e,t,r.localeClass,r.constructor):n.L(e,t,r.constructor)}},{key:"localeClass",get:function(){return this._localeClass||null},set:function(e){this._localeClass=e}},{key:"localeManager",get:function(){return _e}}],[{key:"clsName",value:function(e){var t,n;return"string"==typeof e?e:e===Be?"Object":e.$name||e.name||(null===(t=e.prototype)||void 0===t?void 0:t.$name)||(null===(n=e.prototype)||void 0===n?void 0:n.name)}},{key:"parseLocaleString",value:function(e){var t,n,r=[];if(null===(t=e)||void 0===t?void 0:t.includes("L{")){var i=/L{(.*?)}/g;for(e=e.replace(/{(\d+)}/gm,"[[$1]]");null!=(n=i.exec(e));){var o=/((.*?)\.)?(.+)/g.exec(n[1]);r.push({match:Ve(n[0]),localeKey:Ve(o[3]),localeClass:o[2]})}}return r.length>0?r:[{match:e,localeKey:e}]}},{key:"getTranslation",value:function(e,t,r){var i,o,a=_e.locale,s=null;if(a){var u,c=je(this.parseLocaleString(e));try{var l=function(){var c=u.value,l=function(n){var r,i=null===(r=a[n])||void 0===r?void 0:r[c.localeKey];return i&&(s="function"==typeof i?null!=t?i(t):i:"object"===oe()(i)||e===c.match?i:(s||e).replace(c.match,i)),i},f=!1;for(o=r;o&&(i=n.clsName(o))&&!(f=l(i))&&"string"!=typeof o;o=Object.getPrototypeOf(o));!f&&c.localeClass&&l(c.localeClass)};for(c.s();!(u=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}}return s}},{key:"localize",value:function(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];0===(null===(t=o)||void 0===t?void 0:t.length)&&(o=[this]);var s=null;return o.some(function(t){return null!=(s=n.getTranslation(e,r,t))}),s}},{key:"L",value:function(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];0===(null===(t=o)||void 0===t?void 0:t.length)&&(o=[this]);var s=this.localize.apply(this,[e,r].concat(te()(o)));if(_e.throwOnMissingLocale&&_e.locale&&null==s&&ze.test(e))throw new Error("Localization is not found for '".concat(e,"' in '").concat(o.map(function(e){return n.clsName(e)}).join(", "),"'. ").concat(_e.locale.localeName?"Locale : ".concat(_e.locale.localeName):""));return null!=s?s:e}},{key:"defaultConfig",get:function(){return{localeClass:null,localizableProperties:[]}}}]),n}(e||U)};function $e(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ge(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ue=function(e){return e+({1:"st",2:"nd",3:"rd"}[e[e.length-1]]||"th")},qe=new RegExp("â€"),Xe=function(e,t){return isNaN(e)||null==e?t:e},Ke=function(e,t,n){var r=(rt[e]||(rt[e]=new Intl.DateTimeFormat(et,t))).format(n);return N.isIE11&&(r=r.replace(qe,"")),r},Ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Date(e.getFullYear()+t,0,1)},Je=function(e,t){return Math.floor((e.getTime()-t.getTime()-(e.getTimezoneOffset()-t.getTimezoneOffset())*pt.minute.millisecond)/pt.day.millisecond)+1},Qe=function(e){return e>=0?e:e+7},et="en-US",tt=Ue,nt={},rt={},it={},ot={M:function(e){return e.getMonth()+1},Mo:function(e){return tt(ot.M(e).toString())},MM:function(e){return(e.getMonth()+1).toString().padStart(2,"0")},MMM:function(e){return Ke("MMM",{month:"short"},e)},MMMM:function(e){return Ke("MMMM",{month:"long"},e)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},Qo:function(e){return tt(ot.Q(e).toString())},D:function(e){return e.getDate()},Do:function(e){return tt(ot.D(e).toString())},DD:function(e){return e.getDate().toString().padStart(2,"0")},DDD:function(e){return Math.ceil((new Date(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0)-new Date(e.getFullYear(),0,0,12,0,0))/pt.day.millisecond)},DDDo:function(e){return tt(ot.DDD(e).toString())},DDDD:function(e){return ot.DDD(e).toString().padStart(3,"0")},d:function(e){return e.getDay()},do:function(e){return tt(e.getDay().toString())},d1:function(e){return ot.ddd(e).substring(0,1)},dd:function(e){return ot.ddd(e).substring(0,2)},ddd:function(e){return Ke("ddd",{weekday:"short"},e)},dddd:function(e){return Ke("dddd",{weekday:"long"},e)},e:function(e){return e.getDay()},E:function(e){return e.getDay()+1},W:function(e){return xt.getWeekNumber(e)[1]},Wo:function(e){return tt(ot.W(e).toString())},WW:function(e){return ot.W(e).toString().padStart(2,"0")},Y:function(e){return e.getFullYear()},YY:function(e){return e.getFullYear()%100},YYYY:function(e){return e.getFullYear()},A:function(e){return e.getHours()<12?"AM":"PM"},a:function(e){return e.getHours()<12?"am":"pm"},H:function(e){return e.getHours()},HH:function(e){return e.getHours().toString().padStart(2,"0")},h:function(e){return e.getHours()%12||12},hh:function(e){return ot.h(e).toString().padStart(2,"0")},k:function(e){return e.getHours()+1},kk:function(e){return ot.k(e).toString().padStart(2,"0")},K:function(e){return Ke("K",{hour:"numeric"},e)},KK:function(e){return Ke("KK",{hour:"2-digit"},e)},m:function(e){return e.getMinutes()},mm:function(e){return ot.m(e).toString().padStart(2,"0")},s:function(e){return e.getSeconds()},ss:function(e){return ot.s(e).toString().padStart(2,"0")},S:function(e){return e.getMilliseconds().toString().substr(0,1)},SS:function(e){return e.getMilliseconds().toString().substr(0,2).padEnd(2,"0")},SSS:function(e){return e.getMilliseconds().toString().substr(0,3).padEnd(3,"0")},z:function(e){return Ke("z",{timeZoneName:"short"},e)},zz:function(e){return Ke("zz",{timeZoneName:"long"},e)},LT:function(e){return Ke("LT",{hour:"2-digit",minute:"2-digit"},e)},LTS:function(e){return Ke("LTS",{hour:"2-digit",minute:"2-digit",second:"2-digit"},e)},L:function(e){return Ke("L",{year:"numeric",month:"2-digit",day:"2-digit"},e)},l:function(e){return Ke("l",{year:"numeric",month:"numeric",day:"numeric"},e)},LL:function(e){return Ke("LL",{year:"numeric",month:"long",day:"numeric"},e)},ll:function(e){return Ke("ll",{year:"numeric",month:"short",day:"numeric"},e)},LLL:function(e){return Ke("LLL",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"},e)},lll:function(e){return Ke("lll",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"},e)},LLLL:function(e){return Ke("LLLL",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",weekday:"long"},e)},llll:function(e){return Ke("llll",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",weekday:"short"},e)}},at=Object.keys(ot).sort(function(e,t){return t.length-e.length}),st="^(?:".concat(at.join("|"),")"),ut=function(){return{}},ct=function(e){return function(e){return Dt.test(e)}(e)&&{milliseconds:parseInt(e.padEnd(3,"0").substring(0,3))}},lt={YYYY:function(e){return{year:parseInt(e)}},Y:function(e){return{year:parseInt(e)}},YY:function(e){var t=parseInt(e);return{year:t+(t>1968?1900:2e3)}},MM:function(e){return{month:parseInt(e)-1}},Mo:function(e){return{month:parseInt(e)-1}},DD:function(e){return{date:parseInt(e)}},M:function(e){return{month:parseInt(e)-1}},D:function(e){return{date:parseInt(e)}},Do:function(e){return{date:parseInt(e)}},DDD:ut,MMM:ut,MMMM:ut,DDDo:ut,DDDD:ut,d:ut,do:ut,d1:ut,dd:ut,ddd:ut,dddd:ut,Q:ut,Qo:ut,W:ut,Wo:ut,WW:ut,e:ut,E:ut,HH:function(e){return{hours:parseInt(e)}},hh:function(e){return{hours:parseInt(e)}},mm:function(e){return{minutes:parseInt(e)}},H:function(e){return{hours:parseInt(e)}},m:function(e){return{minutes:parseInt(e)}},ss:function(e){return{seconds:parseInt(e)}},s:function(e){return{seconds:parseInt(e)}},S:ct,SS:ct,SSS:ct,A:function(e){return{amPm:e.toLowerCase()}},a:function(e){return{amPm:e.toLowerCase()}},L:"MM/DD/YYYY",LT:"HH:mm A",Z:function(e){if(!e||!Rt.test(e)&&"Z"!==e)return null;var t=0;if("Z"!==e){var n=Rt.exec(e);if(n)t=("+"===n[1]?1:-1)*(60*(parseInt(n[2])||0)+(parseInt(n[3])||0));else t=-1*(new Date).getTimezoneOffset()}return{timeZone:t}}},ft=Object.keys(lt).sort(function(e,t){return t.length-e.length}),dt=new RegExp("(".concat(ft.join("|"),")")),ht=new RegExp("(l|LL|ll|LLL|lll|LLLL|llll)"),pt={year:{year:1,quarter:4,month:12,week:52,day:365,hour:8760,minute:525600,second:31536e3,millisecond:31536e6},quarter:{year:1/4,quarter:1,month:3,week:4,day:91,hour:2184,minute:131040,second:7862400,millisecond:78624e5},month:{year:1/12,quarter:1/3,month:1,week:4,day:-30,hour:-720,minute:-43200,second:-2592e3,millisecond:-2592e6},week:{year:-1/52,quarter:-1/13,month:-1/4,day:7,hour:168,minute:10080,second:604800,millisecond:6048e5},day:{year:-1/365,quarter:-1/91,month:-1/30,week:1/7,hour:24,minute:1440,second:86400,millisecond:864e5},hour:{year:-1/8760,quarter:-1/2184,month:-1/720,week:1/168,day:1/24,minute:60,second:3600,millisecond:36e5},minute:{year:-1/525600,quarter:-1/131040,month:-1/43200,week:1/10080,day:1/1440,hour:1/60,second:60,millisecond:6e4},second:{year:-1/31536e3,quarter:-1/7862400,month:-1/2592e3,week:1/604800,day:1/86400,hour:1/3600,minute:1/60,millisecond:1e3},millisecond:{year:-1/31536e6,quarter:-1/78624e5,month:-1/2592e6,week:1/6048e5,day:1/864e5,hour:1/36e5,minute:1/6e4,second:.001}},vt={ms:"millisecond",milliseconds:"millisecond",s:"second",seconds:"second",m:"minute",minutes:"minute",h:"hour",hours:"hour",d:"day",days:"day",w:"week",weeks:"week",M:"month",months:"month",q:"quarter",quarters:"quarter",y:"year",years:"year"},gt=/^\s*([-+]?\d+(?:[.,]\d*)?|[-+]?(?:[.,]\d+))\s*([^\s]+)?/i,yt=/^\s*([-+]?\d+)(?![.,])\s*([^\s]+)?/i,mt=["millisecond","second","minute","hour","day","week","month","quarter","year"],kt=[["mil"],["s","sec"],["m","min"],["h","hr"],["d"],["w","wk"],["mo","mon","mnt"],["q","quar","qrt"],["y","yr"]],bt=["year","month","week","day","hour","minute","second","millisecond"],wt=["milliseconds","seconds","minutes","hours","date","month","year"],St=function(e){var t=parseFloat(e);return isNaN(t)?null:t},Dt=/^[0-9]+$/,Rt=/([+-])(\d\d):*(\d\d)*$/,Ct={millisecond:0,second:1,minute:2,hour:3,day:4,week:5,month:6,quarter:7,year:8},xt=function(e){X()(n,e);var t=Ye(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"buildParser",value:function(e){var t=this,r=e.split(dt),i=[];return 1===r.length||ht.test(e)?[]:(r.reduce(function(r,o,a,s){if(0!==a||""!==o)if(dt.test(o)){var u=(t.localize("L{parsers}")||{})[o]||lt[o];if("Z"===o&&a<s.length-2)throw new Error("Invalid format ".concat(e," TimeZone (Z) must be last token"));if("string"==typeof u){var c=n.buildParser(u),l=c.pop();delete l.last,i.push.apply(i,te()(c)),r=l}else r.pattern=o,r.fn=lt[o]}else r.splitter=o,i.push(r),r={};else Object.prototype.hasOwnProperty.call(r,"pattern")&&i.push(r);return r},{}),i[i.length-1].last=!0,i)}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultParseFormat;if(e instanceof Date)return e;if("string"!=typeof e||!e)return null;var r={year:null,month:null,date:null,hours:null,minutes:null,seconds:null,milliseconds:null};t=t.replace(/S+/gm,"SSS");var i=it[t];i||(i=it[t]=n.buildParser(t)),i.reduce(function(e,t){if(!t.last){var n,i,o;if(-1===(n="T"===t.splitter&&-1===e.indexOf("T")?e.indexOf(" "):""!==t.splitter?e.indexOf(t.splitter):t.pattern&&t.pattern.length||-1)||"SSS"===t.pattern&&e.match(/^\d+Z$/)){var a=e.split(/([Z\-+])/);1===a.length?(i=e,o=""):(i=a[0],o="".concat(a[1]).concat(a[2]))}else i=e.substring(0,n)||e,o=e.substring(n+t.splitter.length);if(t.fn){var s=t.fn(i);s?Object.assign(r,s):o=i+o}return o}Object.assign(r,t.fn(e))},e),r.year&&!r.date&&(r.date=1);var o=this.create(r);return o||new Date(e)}},{key:"create",value:function(e){var t=Object.assign({},e),n=isNaN(t.year),r=!1;if(!n){var i=!0;wt.forEach(function(e){e in t&&!isNaN(t[e])||(t[e]=0),i=i&&null===t[e]}),n=i}if("pm"===t.amPm&&(t.hours=t.hours%12+12),"timeZone"in t&&(r=!0,t.minutes-=t.timeZone),n)return null;var o=[Xe(t.year,2020),Xe(t.month,0),Xe(t.date,1),t.hours,t.minutes,t.seconds,t.milliseconds];return r?new Date(Date.UTC.apply(Date,o)):Ee()(Date,o)}},{key:"format",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultFormat;if(!e||isNaN(e))return null;var n=nt[t],r="";if(!n){n=nt[t]=[];for(var i=0;i<t.length;i++){var o=t.substr(i).match(st),a=o&&o[0];if(a){var s=this.localize("L{formats}")||{},u=s[a]||ot[a];n.push(u),i+=a.length-1}else if("{"===t[i]){var c=t.indexOf("}",i+1);-1===c?(n.push(t.substr(i+1)),i=t.length):(n.push(t.substring(i+1,c)),i=c)}else n.push(t[i])}}return n.forEach(function(t){r+="string"==typeof t?t:t(e)}),(N.isEdge||N.isIE11)&&(r=r.replace(/\u200E/g,"")),r}},{key:"asMilliseconds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof e&&(t=e,e=1),this.as("millisecond",e,t)}},{key:"formatDelta",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=[],i=n?this.getShortNameOfUnit:this.getLocalizedNameOfUnit,o=n?"":" ",a=$e(bt);try{for(a.s();!(t=a.n()).done;){var s=t.value,u=Math.floor(this.as(s,e));if(u&&(r.push("".concat(u).concat(o).concat(i.call(this,s,u>1))),e-=this.as("ms",u,s)),!e)break}}catch(e){a.e(e)}finally{a.f()}return r.join(", ")}},{key:"as",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ms";return e===n?t:(e=this.normalizeUnit(e),n=this.normalizeUnit(n),Ct[n]>Ct[e]?t*Math.abs(pt[n][e]):t/Math.abs(pt[e][n]))}},{key:"formatContainsHourInfo",value:function(e){return/([HhKkmSsAa]|LT|L{3,}|l{3,})/.test(e.replace(/(\\.)/g,""))}},{key:"is24HourFormat",value:function(e){return this.format(this.getTime(13,0,0),e).includes("13")}},{key:"add",value:function(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ms",o=this;if(r="string"==typeof e?o.parse(e):new Date(e.getTime()),!i||0===t)return r;switch(i=n.normalizeUnit(i)){case"millisecond":r=new Date(r.getTime()+t);break;case"second":r=new Date(r.getTime()+1e3*t);break;case"minute":r=new Date(r.getTime()+6e4*t);break;case"hour":r=new Date(r.getTime()+36e5*t);break;case"day":t%1==0?r.setDate(r.getDate()+t):r=new Date(r.getTime()+864e5*t),23===r.getHours()&&0===r.getHours()&&(r=o.add(r,1,"hour"));break;case"week":r.setDate(r.getDate()+7*t);break;case"month":var a=r.getDate();a>28&&(a=Math.min(a,o.getLastDateOfMonth(o.add(o.getFirstDateOfMonth(r),t,"month")).getDate())),r.setDate(a),r.setMonth(r.getMonth()+t);break;case"quarter":r=o.add(r,3*t,"month");break;case"year":r.setFullYear(r.getFullYear()+t)}return r}},{key:"diff",value:function(e,t){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ms",o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(i=n.normalizeUnit(i),!e||!t)return 0;switch(i){case"year":r=this.diff(e,t,"month")/12;break;case"quarter":r=this.diff(e,t,"month")/3;break;case"month":r=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth());break;case"week":r=this.diff(e,t,"day")/7;break;case"day":var a=e.getTimezoneOffset()-t.getTimezoneOffset();r=(t-e+60*a*1e3)/864e5;break;case"hour":r=(t-e)/36e5;break;case"minute":r=(t-e)/6e4;break;case"second":r=(t-e)/1e3;break;case"millisecond":r=t-e}return o?r:Math.round(r)}},{key:"startOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)return null;t=this.normalizeUnit(t),n&&(e=this.clone(e));for(var r={},i=Ct[t],o=0;o<i;o++){var a=mt[o];"quarter"!==a&&"week"!==a&&(r[a]="day"===a?1:0)}if("quarter"===t)r.month=3*(this.get(e,"quarter")-1);else if("week"===t){var s=e.getDay()-this.weekStartDay;r.day=e.getDate()-s}return this.set(e,r)}},{key:"clone",value:function(e){return new Date(e.getTime())}},{key:"clearTime",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.startOf(e,"day",t)}},{key:"set",value:function(e,t,n){var r=this;if(!t)return e;if("string"==typeof t)switch(this.normalizeUnit(t)){case"millisecond":(0!==n||e.getMilliseconds()>0)&&e.setMilliseconds(n);break;case"second":(0!==n||e.getSeconds()>0)&&e.setSeconds(n);break;case"minute":(0!==n||e.getMinutes()>0)&&e.setMinutes(n);break;case"hour":e.setHours(n);break;case"day":case"date":e.setDate(n);break;case"week":throw new Error("week not implemented");case"month":e.setMonth(n);break;case"quarter":e.setDate(1),e.setMonth(3*(n-1));break;case"year":e.setFullYear(n)}else Object.entries(t).sort(function(e,t){return Ct[e[0]]-Ct[t[0]]}).forEach(function(t){var n=re()(t,2),i=n[0],o=n[1];r.set(e,i,o)});return e}},{key:"constrain",value:function(e,t,n){return null!=t&&(e=this.max(e,t)),null==n?e:this.min(e,n)}},{key:"getTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e instanceof Date&&(r=e.getMilliseconds(),n=e.getSeconds(),t=e.getMinutes(),e=e.getHours()),new Date(2020,0,1,e,t,n,r)}},{key:"copyTimeValues",value:function(e,t){return e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),e.setMilliseconds(t.getMilliseconds()),e}},{key:"isDST",value:function(e){var t=new Date(e.getFullYear(),0,1),n=new Date(e.getFullYear(),6,1);return e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),n.getTimezoneOffset())}},{key:"isBefore",value:function(e,t){return e<t}},{key:"isAfter",value:function(e,t){return e>t}},{key:"isEqual",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null===n?e&&t&&e.getTime()===t.getTime():this.startOf(e,n)-this.startOf(t,n)==0}},{key:"compare",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this;return n&&(e=r.startOf(e,n),t=r.startOf(t,n)),r.isBefore(e,t)?-1:r.isAfter(e,t)?1:0}},{key:"isStartOf",value:function(e,t){return this.isEqual(e,this.startOf(e,t))}},{key:"betweenLesser",value:function(e,t,n){return t.getTime()<=e.getTime()&&e.getTime()<n.getTime()}},{key:"betweenLesserEqual",value:function(e,t,n){return t.getTime()<=e.getTime()&&e.getTime()<=n.getTime()}},{key:"intersectSpans",value:function(e,t,n,r){return this.betweenLesser(e,n,r)||this.betweenLesser(n,e,t)}},{key:"compareUnits",value:function(e,t){return Math.sign(Ct[e]-Ct[t])}},{key:"timeSpanContains",value:function(e,t,n,r){return n-e>=0&&t-r>=0}},{key:"get",value:function(e,t){switch(this.normalizeUnit(t)){case"millisecond":return e.getMilliseconds();case"second":return e.getSeconds();case"minute":return e.getMinutes();case"hour":return e.getHours();case"date":case"day":return e.getDate();case"week":return ot.W(e);case"month":return e.getMonth();case"quarter":return Math.floor(e.getMonth()/3)+1;case"year":return e.getFullYear()}return null}},{key:"daysInMonth",value:function(e){var t=this.clone(e);return t.setDate(1),t.setMonth(e.getMonth()+1),t.setDate(0),t.getDate()}},{key:"getFirstDateOfMonth",value:function(e){return new Date(e.getFullYear(),e.getMonth(),1)}},{key:"getLastDateOfMonth",value:function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}},{key:"min",value:function(e,t){return e.getTime()<t.getTime()?e:t}},{key:"max",value:function(e,t){return e.getTime()>t.getTime()?e:t}},{key:"getNext",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.weekStartDay,i=this;if("week"===t){var o=i.clone(e),a=o.getDay();return o=i.startOf(o,"day"),(o=i.add(o,r-a+7*(n-(r<=a?0:1)),"day")).getDay()!==r&&i.add(o,1,"hour"),o}return i.startOf(i.add(e,n,t),t)}},{key:"isValidDate",value:function(e){return this.isDate(e)&&!isNaN(e)}},{key:"isDate",value:function(e){return e&&e.constructor&&"Date"===e.constructor.name}},{key:"getStartOfNextDay",value:function(e,t,r){var i=n.add(r?e:n.clearTime(e,t),1,"day");if(i.getDate()===e.getDate()){var o=n.add(n.clearTime(e,t),"day",2).getTimezoneOffset(),a=e.getTimezoneOffset();i=n.add(i,a-o,"minute")}return i}},{key:"getEndOfPreviousDay",value:function(e,t){var r=t?e:n.clearTime(e,!0);return r-e?r:this.add(r,-1,"day")}},{key:"getWeekNumber",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.weekStartDay,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=Ze(e,i),a=Je(e,o),s=Qe(o.getDay()-n.weekStartDay);return s<4?(t=Math.floor((a+s-1)/7)+1)>52&&(o=Ze(e,1),t=(a=Qe(o.getDay()-n.weekStartDay))<4?1:53):(t=Math.floor((a+s-1)/7),i=1),t>0?[o.getFullYear()-1+i,t]:n.getWeekNumber(e,r,-1)}},{key:"formatCount",value:function(e,t){return t=n.normalizeUnit(t),1!==e&&(t+="s"),e+" "+t}},{key:"getUnitToBaseUnitRatio",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(e=n.normalizeUnit(e))===(t=n.normalizeUnit(t))?1:pt[e]&&pt[e][t]&&(r||pt[e][t]>0)?1/n.as(t,1,e):pt[t]&&pt[t][e]&&(r||pt[t][e]>0)?n.as(e,1,t):-1}},{key:"getMeasuringUnit",value:function(e){return"week"===e?"day":e}},{key:"getShortNameOfUnit",value:function(e){return e=this.parseTimeUnit(e),this.unitLookup[e].abbrev}},{key:"getLocalizedNameOfUnit",value:function(e,t){return e=this.normalizeUnit(e),e=this.parseTimeUnit(e),this.unitLookup[e][t?"plural":"single"]}},{key:"normalizeUnit",value:function(e){return e?"date"===e.toLowerCase()||mt.includes(e.toLowerCase())?e.toLowerCase():vt[e]||vt[e.toLowerCase()]:null}},{key:"getUnitByName",value:function(e){return n.normalizeUnit(e)||n.normalizeUnit(this.parseTimeUnit(e))}},{key:"getDurationInUnit",value:function(e,t,n,r){return this.diff(e,t,n,r)}},{key:"doesUnitsAlign",value:function(e,t){return e===t||"week"!==t}},{key:"getSmallerUnit",value:function(e){return mt[Ct[this.normalizeUnit(e)]-1]||null}},{key:"getLargerUnit",value:function(e){return mt[Ct[this.normalizeUnit(e)]+1]||null}},{key:"parseDuration",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=t?gt:yt,o=i.exec(e);if(null==e||!o)return null;var a=St(o[1]),s=r.parseTimeUnit(o[2])||n;return s?{magnitude:a,unit:s}:null}},{key:"parseTimeUnit",value:function(e){var t=null==e?null:this.durationRegEx.exec(e.toLowerCase());if(!t)return null;for(var n=0;n<mt.length;n++)if(t[n+1])return mt[n]}},{key:"fillDayNames",value:function(){var e=this,t=new Date("2000-01-01T12:00:00"),n=e._dayNames||[],r=e._dayShortNames||[];n.length=0,r.length=0;for(var i=2;i<9;i++)t.setDate(i),n.push(e.format(t,"dddd")),r.push(e.format(t,"ddd"));e._dayNames=n,e._dayShortNames=r}},{key:"getDayNames",value:function(){return this._dayNames}},{key:"getDayName",value:function(e){return this._dayNames[e]}},{key:"getDayShortNames",value:function(){return this._dayShortNames}},{key:"getDayShortName",value:function(e){return this._dayShortNames[e]}},{key:"fillMonthNames",value:function(){var e=this,t=new Date("2000-01-15T12:00:00"),n=e._monthNames||[],r=e._monthShortNames||[];n.length=0,r.length=0;for(var i=0;i<12;i++)t.setMonth(i),n.push(e.format(t,"MMMM")),r.push(e.format(t,"MMM"));e._monthNames=n,e._monthShortNames=r}},{key:"getMonthShortNames",value:function(){return this._monthShortNames}},{key:"getMonthShortName",value:function(e){return this._monthShortNames[e]}},{key:"getMonthNames",value:function(){return this._monthNames}},{key:"getMonthName",value:function(e){return this._monthNames[e]}},{key:"setupDurationRegEx",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this,r={},i="",o=0;o<t.length;o++){var a=t[o],s=e[o];s.canonicalUnitName=mt[o],r[s.single]=r[s.single.toUpperCase()]=r[s.canonicalUnitName]=r[s.canonicalUnitName.toUpperCase()]=s,i+="".concat(o?"|":"","(");for(var u=0;u<a.length;u++)i+="".concat(a[u],"|");if("en-US"!==(et=n.localize("L{locale}")||"en-US"))for(var c=kt[o],l=0;l<c.length;l++)i+="".concat(c[l],"|");i+="".concat(s.single,"|").concat(s.plural,"|").concat(s.canonicalUnitName,")")}n.unitLookup=r,n.durationRegEx=new RegExp("^(?:".concat(i,")$"))}},{key:"applyLocale",value:function(){var e=this,t=e.localize("L{unitAbbreviations}")||[],n=e.unitNames=e.localize("L{unitNames}");"unitNames"!==n&&(et=e.localize("L{locale}")||"en-US",tt="en-US"===et?Ue:e.L("L{ordinalSuffix}")||tt,nt={},it={},rt={},e.setupDurationRegEx(n,t),e.fillDayNames(),e.fillMonthNames())}},{key:"defaultFormat",set:function(e){this._defaultFormat=e},get:function(){return this._defaultFormat||"YYYY-MM-DDTHH:mm:ssZ"}},{key:"defaultParseFormat",set:function(e){this._defaultParseFormat=e},get:function(){return this._defaultParseFormat||this._defaultFormat||"YYYY-MM-DDTHH:mm:ss.SSSZ"}},{key:"weekStartDay",get:function(){return this.localize("L{weekStartDay}")||0}},{key:"locale",set:function(e){et=e},get:function(){return et}}]),n}(We());function Et(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}xt._$name="DateHelper",_e.on({locale:"applyLocale",prio:1e3,thisObj:xt}),_e.locale&&xt.applyLocale(),xt._$name="DateHelper";var Mt=/\s+/,Pt=function(e){var t=oe()(e);if("object"===t){if(null===e)return"null";if("[object Date]"===Object.prototype.toString.call(e))return"date"}return t},At="1.01"===1.005.toFixed(2)?null:function(e,t){var n=e.toString().split("."),r=+(n[1]?n.join(".")+"1":n[0]);return e.toFixed.call(r,t)},It=function(){function e(){E()(this,e)}return M()(e,null,[{key:"isEqual",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null===e&&null!==t||void 0===e&&void 0!==t||null===t&&null!==e||void 0===t&&void 0!==e)return!1;if(null==e&&null==t)return!0;if(e===t)return!0;var i=oe()(e),o=oe()(t);if(i===o){switch(i){case"number":case"string":case"boolean":return e===t}switch(!0){case e instanceof Date&&t instanceof Date:return e.getTime()===t.getTime();case Array.isArray(e)&&Array.isArray(t):return e.length===t.length&&e.every(function(e,i){return n.isEqual(e,t[i],r)});case"object"===i&&e.constructor.prototype===t.constructor.prototype:return r?this.isDeeplyEqual(e,t,r):JSON.stringify(e)===JSON.stringify(t)}}return String(e)===String(t)}},{key:"isDeeplyEqual",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return!0;if(!e||!t)return!1;var r=this.keys(e,n.ignore),i=this.keys(t,n.ignore);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++){var a=r[o],s=i[o];if(a!==s)return!1;var u=e[a],c=t[s];if(!n.shouldEvaluate||!1!==n.shouldEvaluate(a,{value:u,object:e},{value:c,object:t})){if(n.evaluate){var l=n.evaluate(a,{value:u,object:e},{value:c,object:t});if(!1===l)return!1;if(!0===l)continue}if(!this.isEqual(u,c,n))return!1}}return!0}},{key:"isPartial",value:function(e,t){return e=String(e).toLowerCase(),t=String(t).toLowerCase(),-1!=e.indexOf(t)}},{key:"isLessThan",value:function(e,t){return e instanceof Date&&t instanceof Date?xt.isBefore(e,t):e<t}},{key:"isMoreThan",value:function(e,t){return e instanceof Date&&t instanceof Date?xt.isAfter(e,t):e>t}},{key:"fork",value:function(e){var t,n,r;if(e&&e.constructor===Object)for(n in t=Object.setPrototypeOf({},e),e)(r=e[n])&&(r.constructor===Object?t[n]=this.fork(r):r instanceof Array&&(t[n]=r.slice()));else t=e;return t}},{key:"assign",value:function(e){for(var t,n,r=0,i=arguments.length<=1?0:arguments.length-1;r<i;r++)for(n in t=r+1<1||arguments.length<=r+1?void 0:arguments[r+1])e[n]=t[n];return e}},{key:"clone",value:function(e){if(null==e)return e;var t,n,r=e.constructor.name,i=e;if("Date"===r)return new Date(e.getTime());if("Array"===r)for(t=e.length,i=[];t--;)i[t]=this.clone(e[t]);else if("Object"===r)for(n in i={},e)i[n]=this.clone(e[n]);return i}},{key:"merge",value:function(e){for(var t,n,r,i,o=0,a=arguments.length<=1?0:arguments.length-1;o<a;o++)for(n in t=o+1<1||arguments.length<=o+1?void 0:arguments[o+1])(r=t[n])&&r.constructor===Object?(i=e[n])&&"Object"===i.constructor.name?this.merge(i,r):e[n]=this.clone(r):e[n]=r;return e}},{key:"copyProperties",value:function(e,t,n){var r,i;for(i=0;i<n.length;i++)(r=n[i])in t&&(e[r]=t[r]);return e}},{key:"copyPropertiesIf",value:function(e,t,n){var r,i=Et(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;o in e||(e[o]=t[o])}}catch(e){i.e(e)}finally{i.f()}return e}},{key:"keys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];for(var r in e)t&&t[r]||n.push(r);return n}},{key:"isEmpty",value:function(e){for(var t in e)return!1;return!0}},{key:"getTruthyKeys",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;)e[t[n]]?n++:t.splice(n,1);return t}},{key:"getTruthyValues",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;)e[t[n]]?t[n]=e[t[n++]]:t.splice(n,1);return t}},{key:"createTruthyKeys",value:function(e){"string"==typeof e&&(e=e.split(Mt));var t,n={},r=Et(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.length&&(n[i]=1)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"allKeys",value:function(e){for(var t=[];e;e=Object.getPrototypeOf(e))t.push.apply(t,te()(Object.keys(e)));return t}},{key:"pathExists",value:function(e,t){return t.split(".").every(function(t){return t in e&&(e=e[t],!0)})}},{key:"getPath",value:function(e,t){return t.split(".").reduce(function(e,t){return(e||{})[t]},e)}},{key:"setPath",value:function(e,t,n){return t.split(".").reduce(function(e,t,r,i){return r===i.length-1?e[t]=n:(e[t]instanceof Object||(e[t]={}),e[t])},e),e}},{key:"pathifyKeys",value:function(e){var t={};for(var n in e)if(Object.hasOwnProperty.call(e,n))if(e[n]instanceof Object){var r=this.pathifyKeys(e[n]);for(var i in r)t["".concat(n,".").concat(i)]=r[i]}else t[n]=e[n];return t}},{key:"deletePath",value:function(e,t){t.split(".").reduce(function(e,t,n,r){if(null==e)return null;if(Object.hasOwnProperty.call(e,t)){if(n!==r.length-1)return e[t];delete e[t]}},e)}},{key:"coerce",value:function(e,t){var n=Pt(e),r=Pt(t),i="string"==typeof e;if(n!==r)switch(r){case"string":return String(e);case"number":return Number(e);case"boolean":return!(i&&(!e||"false"===e||"0"===e))&&Boolean(e);case"null":return!(!i||e&&"null"!==e)&&null;case"undefined":return!(!i||e&&"undefined"!==e)&&void 0;case"date":return i&&isNaN(e)?xt.parse(e):Date(Number(e))}return e}},{key:"wrapProperty",value:function(e,t,n,r){for(var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o={},a=Object.getPrototypeOf(e),s=Object.getOwnPropertyDescriptor(a,t);!s&&a&&i;)(a=Object.getPrototypeOf(a))&&(s=Object.getOwnPropertyDescriptor(a,t));s?(s.set?o.set=function(t){s.set.call(e,t),r&&r.call(e,s.get.call(e))}:o.set=r,s.get?o.get=function(){var t=s.get.call(e);return n&&(t=n.call(e,t)),t}:o.get=n):(o.set=function(n){e["_".concat(t)]=n,r&&r.call(e,n)},o.get=function(){var r=e["_".concat(t)];return n&&(r=n.call(e,r)),r}),Object.defineProperty(e,t,o)}},{key:"getPropertyDescriptor",value:function(e,t){for(var n=null,r=e;!n&&r!==U;r=Object.getPrototypeOf(r))n=Object.getOwnPropertyDescriptor(r,t);return n}},{key:"cleanupProperties",value:function(e){return Object.entries(e).forEach(function(t){var n=re()(t,2),r=n[0];return null==n[1]&&delete e[r]}),e}},{key:"assertType",value:function(e,t,n){if(null!=e&&oe()(e)!==t)throw new Error('Incorrect type "'.concat(oe()(e),'" for ').concat(n,', expected "').concat(t,'"'))}},{key:"assertNumber",value:function(e,t){var n=Number(e);if("number"!=typeof e||isNaN(n))throw new Error("Incorrect type for ".concat(t,', got "').concat(e,'" (expected a Number)'))}},{key:"assertBoolean",value:function(e,t){this.assertType(e,"boolean",t)}},{key:"toFixed",value:function(e,t){return At?At(e,t):e.toFixed(t)}},{key:"roundTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(e/t)*t}},{key:"round",value:function(e,t){if(null==t)return e;var n=Math.pow(10,t);return Math.round(e*n)/n}},{key:"isPromise",value:function(e){return"function"==typeof(null==e?void 0:e.then)}}]),e}();It._$name="ObjectHelper";var Ft=function(){function e(){E()(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"object"===oe()(n[0])?Object.assign(this,n[0]):this.process(1,n),this[jt]=!0}return M()(e,[{key:"clone",value:function(){return new e(this)}},{key:"contains",value:function(e){return!("string"!=typeof e||!e)&&Boolean(this[e])}},{key:"toString",value:function(){return this.length?"".concat(this.value," "):""}},{key:"toJSON",value:function(){return this.toString()}},{key:"trim",value:function(){return this.value}},{key:"isEqual",value:function(e){if("string"==typeof e&&(Ht.value=e,e=Ht),this.length===e.length){for(var t=It.getTruthyKeys(e),n=0,r=t.length;n<r;n++)if(!this[t[n]])return!1;return!0}return!1}},{key:"process",value:function(e,t){for(var n=t.length,r=0;r<n;r++)if(t[r])for(var i=t[r],o=i.values?Array.from(i.values()):i.item?Array.from(i):i.split(Lt),a=o.length,s=0;s<a;s++)o[s]&&(this[o[s]]=e);this[jt]=!0}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.process(1,t)}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.process(0,t)}},{key:"split",value:function(){return It.getTruthyKeys(this)}},{key:"forEach",value:function(e){return It.getTruthyKeys(this).forEach(e)}},{key:"value",get:function(){var e=this;if(e[jt]){var t=It.getTruthyKeys(e);e[_t]=t.length,e[Ot]=t.join(" "),e[jt]=!1}return e[Ot]},set:function(e){for(var t=Object.keys(this),n=t.length,r=0;r<n;r++)delete this[t[r]];e?this.process(1,[e]):this[jt]=!0}},{key:"length",get:function(){return this.value?this[_t]:0}},{key:"isDomClassList",get:function(){return!0}}]),e}(),Lt=/\s+/,Ot=Symbol("value"),_t=Symbol("length"),jt=Symbol("dirty"),Ht=new Ft;function Nt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ft._$name="DomClassList";var zt,Vt,Wt,$t,Gt,Yt,Ut={align:"t0-t0"},qt=null,Xt=0,Kt=null,Zt=/(?:matrix\((?:-?\d*\.?[0-9]*),\s?(?:-?\d*\.?[0-9]*),\s?(?:-?\d*\.?[0-9]*),\s?(?:-?\d*\.?[0-9]*),\s?(-?\d*\.?[0-9]*),\s?(-?\d*\.?[0-9]*))|(?:matrix3d\((?:-?\d*),\s?(?:-?\d*),\s?(?:-?\d*),\s?(?:-?\d*),\s?(?:-?\d*),\s?(?:-?\d*),\s?(?:-?\d*),\s?(?:-?\d*),\s?(?:-?\d*),\s?(?:-?\d*),\s?(?:-?\d*),\s?(?:-?\d*),\s?(-?\d*),\s?(-?\d*))/,Jt=/translate(3d|X)?\((-?\d*\.?[0-9]*)px(?:,\s?(-?\d*\.?[0-9]*)px)?/,Qt=/translate(3d|Y)?\((-?\d*\.?[0-9]*)px(?:,\s?(-?\d*\.?[0-9]*)px)?/,en=/^[^a-z]+|[^\w:.-]+/gi,tn=/\s+/,nn={tag:1,html:1,children:1,tooltip:1,style:1,dataset:1,parent:1,nextSibling:1,ns:1,reference:1,className:1,unmatched:1,_element:1,onlyChildren:1,elementData:1,compareHtml:1,syncOptions:1},rn={length:1,parentRule:1,style:1},on={width:1,height:1,top:1,left:1,minWidth:1,minHeight:1,maxWidth:1,maxHeight:1,fontSize:1},an={BUTTON:1,IFRAME:1,EMBED:1,INPUT:1,OBJECT:1,SELECT:1,TEXTAREA:1,HTML:N.isIE11?1:0,BODY:N.isIE11?0:1},sn=window,un=document,cn={},ln=[],fn=Array.prototype.slice,dn=new Promise(function(e){return e()}),hn=["font-size","font-size-adjust","font-style","font-weight","font-family","font-kerning","font-stretch","line-height","text-transform","text-decoration","letter-spacing","word-break"],pn=function(e){return e._hidden},vn=document.documentElement.getRootNode?function(e){return e.getRootNode()}:function(e){for(;e.parentNode;)e=e.parentNode;return e},gn=function e(t){return t&&(document.body.contains(t)||(zt=vn(t).host)&&e(zt))},yn=function(){function e(){E()(this,e)}return M()(e,null,[{key:"isFocusable",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t&&(!this.isVisible(e)||De.fromElement(e,pn)))return!1;var n=e.nodeName;return an[n]||("A"===n||"LINK"===n)&&!!e.href||null!=e.getAttribute("tabIndex")||"true"===e.contentEditable}},{key:"isInView",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Wn.from(e),r=!0,i=n.height,o=n.width;r&&e.parentElement;)e=e.parentElement,r=(n=n.intersect(Wn.from(e)))&&(!t||n.height>=i&&n.width>=o);return r}},{key:"isVisible",value:function(e){for(var t,n,r,i=e.ownerDocument;e;e=(r=e).parentNode||r.host){if(e===i)return!0;if(1===e.nodeType&&(n=void 0,"none"===(n=(t=e).ownerDocument.defaultView.getComputedStyle(t)).getPropertyValue("display")||"hidden"===n.getPropertyValue("visibility")))return!1}return!1}},{key:"roundPx",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.devicePixelRatio||1,n=1/t;return Math.round(e/n)*n}},{key:"isCustomElement",value:function(e){return e&&e.shadowRoot}},{key:"elementFromPoint",value:function(t,n){var r=document.elementFromPoint(t,n);return e.isCustomElement(r)&&(r=r.shadowRoot.elementFromPoint(t,n)||r),r}},{key:"getId",value:function(e){return e.id||(e.id="b-element-"+ ++Xt)}},{key:"getElement",value:function(e){return e instanceof Element?e:un.querySelector(e)}},{key:"setAttributes",value:function(e,t){var n=this.getElement(e);Object.entries(t).forEach(function(e){var t=re()(e,2),r=t[0],i=t[1];return n.setAttribute(r,i)})}},{key:"setLength",value:function(e,t,n){return 1===arguments.length?"number"==typeof e?"".concat(e,"px"):e:(e=this.getElement(e)).style[t]="number"==typeof n?"".concat(n,"px"):n}},{key:"getChild",value:function(e,t){if(N.supportsQueryScope)t=":scope>"+t;else{var n=e.id||(e.id="b-element-"+ ++Xt);t="#".concat(n," > ").concat(t)}return e.querySelector(t)}},{key:"hasChild",value:function(t,n){return null!=e.getChild(t,n)}},{key:"children",value:function(e,t){return Array.from(e.querySelectorAll(t))}},{key:"down",value:function(e,t){if(!e)return null;if(e.matches&&e.matches(t))return e;if(N.supportsQueryScope)t=":scope "+t;else{var n=e.id||(e.id="b-element-"+ ++Xt);t="#".concat(n," ").concat(t)}return e.querySelector(t)}},{key:"isDescendant",value:function(e,t){return e.contains||(e=e.body),e.contains(t)}},{key:"forEachSelector",value:function(e,t,n){"string"==typeof e&&(n=t,t=e,e=un),this.children(e,t).forEach(n)}},{key:"forEachChild",value:function(e,t){Array.from(e.children).forEach(t)}},{key:"removeEachSelector",value:function(e,t){this.forEachSelector(e,t,function(e){return e.remove()})}},{key:"removeClsGlobally",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach(function(n){return t.forEachSelector(e,"."+n,function(e){return e.classList.remove(n)})})}},{key:"up",value:function(e,t){return e&&e.closest(t)}},{key:"getAncestor",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!1,o=e;for(Array.isArray(t)||(t=[t]);o=o.parentElement;){if(t.includes(o)){i=!0;break}if(r&&o===r)break;n=o}return i?n||e:null}},{key:"getParents",value:function(e){for(var t=[];e.parentElement;)t.push(e.parentElement),e=e.parentElement;return t}},{key:"makeValidId",value:function(e){return null==e?null:String(e).replace(en,"")}},{key:"createElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;"string"==typeof t.parent&&(t.parent=document.getElementById(t.parent)),t.syncOptions&&t.syncOptions.syncIdField&&(i=t.syncOptions.syncIdField);var o,a=t.parent||t.nextSibling&&t.nextSibling.parentNode;o=t.ns?un.createElementNS(t.ns,t.tag||"svg"):un.createElement(t.tag||"div"),null!=t.html&&(t.html instanceof DocumentFragment?o.appendChild(t.html):o.innerHTML=t.html),t.tooltip&&Ce.attachTooltip(o,t.tooltip),t.style&&this.applyStyle(o,t.style),t.dataset&&Object.assign(o.dataset,t.dataset),a&&a.insertBefore(o,t.nextSibling),t.reference&&((r||(r={}))[t.reference]=o,o.setAttribute("reference",t.reference)),t.elementData&&(o.elementData=t.elementData);var s=t.className;s&&(s.isDomClassList?o.className=s.toString():"object"===oe()(s)?o.className=new Ft(s):o.className=s);for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];nn[l]||(t.ns?o.setAttribute(l,t[l]):o[l]=t[l])}return!0===n?n=[o]:Array.isArray(n)&&n.push(o),t.children&&(i&&(o.syncIdMap={}),t.children.forEach(function(a){if(a)if("string"==typeof a)o.appendChild(document.createTextNode(a));else if(isNaN(a.nodeType)){a.parent=o,!a.ns&&t.ns&&(a.ns=t.ns);var s=e.createElement(a,n,r,i),u=a.dataset&&a.dataset[i];null!=u&&(o.syncIdMap[u]=s),delete a.parent}else o.appendChild(a)})),o.lastConfig=t,t._element=o,r||n||o}},{key:"createElementFromTemplate",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cn,i=r.array,o=r.raw,a=r.fragment;if(e.supportsTemplate){if((Vt||(Vt=un.createElement("template"))).innerHTML=t,n=Vt.content,a)return n.cloneNode(!0)}else{if((Wt||(Wt=new DOMParser)).parseFromString(t,"text/html"),n=Wt.parseFromString(t,"text/html").body,a){var s=n?n.childNodes:ln;for(n=document.createDocumentFragment();s.length;)n.appendChild(s[0]);return n}n||(n={children:[],childNodes:[]})}return 1!==(n=o?n.childNodes:n.children).length||i?fn.call(n):n[0]}},{key:"insertFirst",value:function(t,n){return n&&n.nodeType!==Node.ELEMENT_NODE&&n.tag&&(n=e.createElement(n)),t.insertBefore(n,t.firstElementChild)}},{key:"insertBefore",value:function(t,n,r){return n&&n.nodeType!==Node.ELEMENT_NODE&&n.tag&&(n=e.createElement(n)),r?t.insertBefore(n,r):e.insertFirst(t,n)}},{key:"append",value:function(t,n){return n&&("string"==typeof n?n=e.createElementFromTemplate(n):n.nodeType!==Node.ELEMENT_NODE&&n.tag&&(n=e.createElement(n))),Array.isArray(n)?n.map(function(e){return t.appendChild(e)}):t.appendChild(n)}},{key:"getTranslateX",value:function(e){var t=e.style.transform,n=Jt.exec(t);return n?parseInt(n[2]):(n=Zt.exec(t)||Zt.exec(this.getStyleValue(this.getElement(e),"transform")))?parseInt(n[1]||n[3]):0}},{key:"getTranslateY",value:function(e){var t=e.style.transform,n=Qt.exec(t);if(n){var r=parseInt(n["Y"===n[1]?2:3]);return isNaN(r)?0:r}return(n=Zt.exec(t)||Zt.exec(this.getStyleValue(this.getElement(e),"transform")))?parseInt(n[2]||n[4]):0}},{key:"getTranslateXY",value:function(e){return[this.getTranslateX(e),this.getTranslateY(e)]}},{key:"getOffsetX",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?e.getBoundingClientRect().left-t.getBoundingClientRect().left:e.offsetLeft}},{key:"getOffsetY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?e.getBoundingClientRect().top-t.getBoundingClientRect().top:e.offsetTop}},{key:"getOffsetXY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return[this.getOffsetX(e,t),this.getOffsetY(e,t)]}},{key:"focusWithoutScrolling",value:function(t){function n(e){e.forEach(function(e){var t=e.element,n=e.scrollLeft,r=e.scrollTop;t.scrollLeft!==n&&(t.scrollLeft=n),t.scrollTop!==r&&(t.scrollTop=r)})}if(N.chromeVersion>=64||N.fireFoxVersion>=68)t.focus({preventScroll:!0});else{var r=e.getParents(t).map(function(e){return{element:e,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}});t.focus(),N.isIE11?n(r):setTimeout(function(){return n(r)},0)}}},{key:"getPageX",value:function(e){return e.getBoundingClientRect().left+sn.pageXOffset}},{key:"getPageY",value:function(e){return e.getBoundingClientRect().top+sn.pageYOffset}},{key:"getExtremalSizePX",value:function(e,t){var n=_.hyphenate(t),r=n.split("-")[1],i=this.getStyleValue(e,n);return i=/%/.test(i)?e.parentElement?parseInt(this.getStyleValue(e.parentElement,r),10):NaN:parseInt(i,10)}},{key:"setTranslateX",value:function(t,n){var r=e.getStyleValue(t,"transform").split(/,\s*/);n=e.roundPx(n),r.length>1?(r[r[0].startsWith("matrix3d")?12:4]=n,t.style.transform=r.join(",")):t.style.transform="translateX(".concat(n,"px)")}},{key:"setTranslateY",value:function(t,n){var r=e.getStyleValue(t,"transform").split(/,\s*/);n=e.roundPx(n),r.length>1?(r[r[0].startsWith("matrix3d")?13:5]=n,t.style.transform=r.join(",")+")"):t.style.transform="translateY(".concat(n,"px)")}},{key:"setTop",value:function(e,t){this.setLength(e,"top",t)}},{key:"setLeft",value:function(e,t){this.setLength(e,"left",t)}},{key:"setTranslateXY",value:function(t,n,r){if(null==n)return this.setTranslateY(t,r);if(null==r)return this.setTranslateX(t,n);n=e.roundPx(n),r=e.roundPx(r);var i=e.getStyleValue(t,"transform").split(/,\s*/),o=i[0].startsWith("matrix3d");i.length>1?(i[o?12:4]=n,i[o?13:5]=r,t.style.transform=i.join(",")+")"):t.style.transform="translateX(".concat(n,"px) translateY(").concat(r,"px)")}},{key:"addTranslateX",value:function(t,n){e.setTranslateX(t,e.getTranslateX(t)+n)}},{key:"addTranslateY",value:function(t,n){e.setTranslateY(t,e.getTranslateY(t)+n)}},{key:"addLeft",value:function(t,n){e.setLeft(t,e.getOffsetX(t)+n)}},{key:"addTop",value:function(t,n){e.setTop(t,e.getOffsetY(t)+n)}},{key:"alignTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut;t=t instanceof Wn?t:Wn.from(t,!0);var r=this.getTranslateXY(e),i=Wn.from(e,!0),o=i.alignTo(Object.assign(n,{target:t}));this.setTranslateXY(e,r[0]+o.x-i.x,r[1]+o.y-i.y)}},{key:"getStyleValue",value:function(e,t,n,r){var i=n?e.style:e.ownerDocument.defaultView.getComputedStyle(e,r);if(Array.isArray(t)){var o,a={},s=Nt(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;a[u]=i.getPropertyValue(_.hyphenate(u))}}catch(e){s.e(e)}finally{s.f()}return a}return i.getPropertyValue(_.hyphenate(t))}},{key:"getEdgeSize",value:function(t,n,r){for(var i="border"===n?"-width":"",o={raw:{}},a=0,s=["top","right","bottom","left"];a<s.length;a++){var u=s[a];r&&!r.includes(u[0])||(o[u]=parseFloat(o.raw[u]=e.getStyleValue(t,"".concat(n,"-").concat(u).concat(i))))}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}},{key:"applyStyle",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof t)n?(t.length||e.style.cssText.length)&&(e.style.cssText=t):e.style.cssText+=t;else for(var r in n&&(e.style.cssText=""),t.style&&("string"==typeof t.style?e.style.cssText=t.style:t=Object.assign({},t.style,t)),t)rn[r]||(on[r]&&"number"==typeof t[r]?e.style[_.hyphenate(r)]=t[r]+"px":e.style[_.hyphenate(r)]=t[r])}},{key:"getCSSText",value:function(e){if("string"==typeof e)return e;var t="";for(var n in e)rn[n]||(t+="".concat(_.hyphenate(n),":").concat(e[n],";"));return t}},{key:"addClasses",value:function(e,t){t.forEach(function(t){return e.classList.add(t)})}},{key:"removeClasses",value:function(e,t){t.forEach(function(t){return e.classList.remove(t)})}},{key:"toggleClasses",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Array.isArray(t)||(t=[t]),!0===n?this.addClasses(e,t):!1===n?this.removeClasses(e,t):t.forEach(function(t){return e.classList.toggle(t)})}},{key:"addTemporaryClass",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window;n>0&&(e.classList.add(t),r.setTimeout(function(){return e.classList.remove(t)},n))}},{key:"getPropertyTransitionDuration",value:function(e,t){var n,r=window.getComputedStyle(e),i=r.transitionProperty.split(", "),o=r.transitionDuration.split(", "),a=i.indexOf(t);return-1!==a&&(n=1e3*parseFloat(o[a])),n}},{key:"highlight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return e instanceof Wn?e.highlight():new Promise(function(n){t.setTimeout(function(){e.classList.add("b-fx-highlight"),t.setTimeout(function(){e.classList.remove("b-fx-highlight"),n()},1e3)},0)})}},{key:"resetScrollBarWidth",value:function(){qt=null}},{key:"measureText",value:function(e,t,n,r){var i=this.getMeasureElement(t,r);i[n?"innerHTML":"innerText"]=e;var o=i.clientWidth;return i.className="",o}},{key:"measureSize",value:function(t,n){if(!t)return 0;if("number"==typeof t)return t;if(!t.length)return 0;if(/^\d+(px)?$/.test(t))return parseInt(t);if(n){var r=this.getMeasureElement(n);r.innerHTML="",r.style.width=e.setLength(t);var i=r.offsetWidth;return r.style.width=r.className="",i}return/^\d+em$/.test(t)?14*parseInt(t):isNaN(t)?0:parseInt(t)}},{key:"getMeasureElement",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:un.body,r=sn.getComputedStyle(t),i=n.offScreenDiv=n.offScreenDiv||e.createElement({parent:n,style:"position:fixed;top:-10000px;left:-10000px;visibility:hidden;contain:strict",className:"b-measure-element",children:[{style:"white-space:nowrap;display:inline-block;will-change:contents;width:auto;contain:none"}]},!0)[1];return hn.forEach(function(e){i.style[e]!==r[e]&&(i.style[e]=r[e])}),i.className=t.className,i.parentElement.parentElement!==n&&n.appendChild(i.parentElement),i}},{key:"sync",value:function(e,t){if("string"==typeof e){if(""===e)return void(t.innerHTML="");e=this.createElementFromTemplate(e)}return this.performSync(e,t),t}},{key:"performSync",value:function(e,t){return e.outerHTML!==t.outerHTML&&(this.syncAttributes(e,t),this.syncContent(e,t),this.syncChildren(e,t),!0)}},{key:"getSyncAttributes",value:function(e){for(var t={},n=[],r=0;r<e.attributes.length;r++){var i=e.attributes[r];if(i.specified){var o=i.name.toLowerCase();t[o]=i.value,n.push(o)}}return{attributes:t,names:n}}},{key:"syncAttributes",value:function(e,t){var n=this.getSyncAttributes(e),r=n.attributes,i=n.names,o=this.getSyncAttributes(t),a=o.attributes,s=o.names,u=i.includes("dataset"),c=i.filter(function(e){return!s.includes(e)}),l=s.filter(function(e){return!(i.includes(e)||u&&e.startsWith("data-"))}),f=i.filter(function(e){return s.includes(e)});if(c.length>0)for(var d=0;d<c.length;d++){var h=c[d];"style"===h?this.applyStyle(t,r.style,!0):"dataset"===h?Object.assign(t.dataset,r.dataset):t.setAttribute(h,r[h])}if(l.length>0)for(var p=0;p<l.length;p++)t.removeAttribute(l[p]);if(f.length>0)for(var v=0;v<f.length;v++){var g=f[v];if("style"===g)this.applyStyle(t,r.style,!0);else if("dataset"===g)Object.assign(t.dataset,r.dataset);else if("class"!==g||!r.class.isDomClassList&&"object"!==oe()(r.class))a[g]!==r[g]&&t.setAttribute(g,r[g]);else{var y=void 0;(y=r.class.isDomClassList?r.class:new Ft(r.class)).isEqual(a.class)||t.setAttribute("class",y)}}}},{key:"syncContent",value:function(e,t){0===e.childElementCount&&(t.innerText=e.innerText)}},{key:"setInnerText",value:function(e,t){var n=e.firstChild;n?n.data=t:e.textContent=t}},{key:"syncChildren",value:function(e,t){for(var n=fn.call(e.childNodes),r=fn.call(t.childNodes);n.length;){var i=n.shift(),o=r.shift();if(i&&i.nodeType!==Node.TEXT_NODE&&i.nodeType!==Node.ELEMENT_NODE)throw new Error("Source node type ".concat(i.nodeType," not supported by DomHelper.sync()"));if(o&&o.nodeType!==Node.TEXT_NODE&&o.nodeType!==Node.ELEMENT_NODE)throw new Error("Target node type ".concat(o.nodeType," not supported by DomHelper.sync()"));if(o)if(i.nodeType===o.nodeType)i.nodeType===Node.TEXT_NODE?o.data=i.data:i.tagName===o.tagName?this.performSync(i,o):(t.insertBefore(i,o),o.remove());else{if(i.nodeType!==Node.TEXT_NODE||o.nodeType!==Node.ELEMENT_NODE)throw new Error("Currently no support for transforming nodeType");t.innerText=i.data.trim()}else t.appendChild(i)}r.forEach(function(e){e.remove()})}},{key:"syncClassList",value:function(e,t){var n,r=e.classList,i="string"==typeof t,o=i?t.trim().split(tn):Array.isArray(t)?t:It.getTruthyKeys(t),a=o.length,s=r.length!==a;for(n=0;!s&&n<a;n++)s=!r.contains(o[n]);s&&(e.className=i?t:o.join(" "))}},{key:"setTheme",value:function(t){t=t.toLowerCase();var n=this.themeInfo.name.toLowerCase(),r=document.head.querySelector("#bryntum-theme:not([data-loading])")||document.head.querySelector('[href$="'.concat(n,'.css"]:not([data-loading])'));if(e.removeEachSelector(document.head,"#bryntum-theme[data-loading]"),!r||!r.href.includes("".concat(n,".css")))throw new Error("Theme link for ".concat(n," not found"));return r.href.includes(t)?dn:new Promise(function(n,i){var o=document.createElement("link"),a=r.nextSibling,s=e.themeInfo.name.toLowerCase(),u={theme:t,prev:s};o.rel="stylesheet",o.id="bryntum-theme",o.addEventListener("load",function(){delete o.dataset.loading,Kt=null,r.remove(),window.bryntum.GlobalEvents.trigger("theme",u),n(u)}),o.addEventListener("error",function(e){delete o.dataset.loading,i(e)}),o.dataset.loading="true",o.href=r.href.replace(s,t),a.parentNode.insertBefore(o,a)})}},{key:"isOrphaned",value:function(e){return e!==document.body&&e!==document.documentElement&&e.nodeType===Node.ELEMENT_NODE&&null===e.offsetParent}},{key:"activeElement",get:function(){for(var e=document.activeElement;e.shadowRoot;)e=e.shadowRoot.activeElement;return e}},{key:"scrollBarWidth",get:function(){if(null===qt&&un.body){var t=e.createElement({parent:un.body,style:"position:absolute;top:-999px;width:100px;height:100px;overflow:scroll"});qt=t.offsetWidth-t.clientWidth,t.remove()}return qt}},{key:"themeInfo",get:function(){if(!Kt){var e=this.createElement({parent:document.body,className:"b-theme-info"}),t=this.getStyleValue(e,"content",!1,":before");if(t)try{Kt=JSON.parse(t.replace(/^["']|["']$|\\/g,""))}catch(e){Kt=null}e.remove()}return Kt}}]),e}(),mn=function(){return yn.isTouchEvent=!1},kn=function(){yn.isTouchEvent=!0,clearTimeout($t),$t=setTimeout(mn,400)};if(un.addEventListener("touchstart",kn,!0),un.addEventListener("touchend",kn,!0),yn.supportsTemplate="content"in un.createElement("template"),!("children"in Node.prototype)){var bn=function(e){return 1===e.nodeType};Object.defineProperty(Node.prototype,"children",{get:function(){return Array.prototype.filter.call(this.childNodes,bn)}})}(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),sn.Element&&!Element.prototype.closest?Node.prototype.closest=Element.prototype.closest=function(e){var t=this;if(!un.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}:Node.prototype.closest=function(e){return this.parentNode.closest(e)},[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){Object.prototype.hasOwnProperty.call(e,"remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),SVGElement.prototype.contains||(SVGElement.prototype.contains=function(e){do{if(this===e)return!0;e=e.parentNode}while(e);return!1}),"function"!=typeof sn.CustomEvent)&&(sn.CustomEvent=Yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0};return(Gt=un.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),Gt},Yt.prototype=sn.Event.prototype,sn.MouseEvent=Yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0};return(Gt=un.createEvent("MouseEvents")).initMouseEvent(e,t.bubbles,t.cancelable,un.defaultView||sn,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,document),Gt},Yt.prototype=sn.Event.prototype,sn.KeyboardEvent=Yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0},n="".concat(t.shiftKey?"Shift ":"").concat(t.ctrlKey?"Control":"");return(Gt=un.createEvent("KeyboardEvent")).initKeyboardEvent(e,t.bubbles,t.cancelable,un.defaultView||sn,t.key,t.location,n,!1,""),Gt},Yt.prototype=sn.Event.prototype);if(!Object.getOwnPropertyDescriptor(SVGElement.prototype,"dataset")||!Object.getOwnPropertyDescriptor(SVGElement.prototype,"dataset").get){var wn={enumerable:!0,get:function(){var e,t,n,r,i,o={},a=this.attributes,s=a.length,u=function(e){return e.charAt(1).toUpperCase()},c=function(){return this},l=function(e,t){return void 0!==t?this.setAttribute(e,t):this.removeAttribute(e)};for(e=0;e<s;e++)(i=a[e])&&i.name&&/^data-\w[\w-]*$/.test(i.name)&&(t=i.value,r=(n=i.name).substr(5).replace(/-./g,u),Object.defineProperty(o,r,{enumerable:this.enumerable,get:c.bind(t||""),set:l.bind(this,n)}));return o}};Object.defineProperty(SVGElement.prototype,"dataset",wn)}var Sn=DOMTokenList.prototype.add,Dn=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(e){Array.isArray(e)?Sn.call.apply(Sn,[this].concat(te()(e))):Sn.call.apply(Sn,[this].concat(Array.prototype.slice.call(arguments)))},DOMTokenList.prototype.remove=function(e){Array.isArray(e)?Dn.call.apply(Dn,[this].concat(te()(e))):Dn.call.apply(Dn,[this].concat(Array.prototype.slice.call(arguments)))},yn._$name="DomHelper";var Rn=["border-top-width","border-right-width","border-bottom-width","border-left-width"],Cn=["padding-top","padding-right","padding-bottom","padding-left"],xn="border-top-width",En="border-right-width",Tn="border-bottom-width",Mn="border-left-width",Pn="padding-top",An="padding-right",In="padding-bottom",Fn="padding-left",Ln=Object.freeze({x:0,y:0}),On=/^([trblc])(\d*)-([trblc])(\d*)$/i,_n=/^([trblc])(\d*)$/i,jn=["top","right","bottom","left"],Hn={t:0,r:1,b:2,l:3},Nn=["b-t","l-r","t-b","r-l"],Bn=Object.freeze([0,0]),zn=["width","height"];function Vn(e){return"".concat(jn[(Hn[e.myEdge]+2)%4][0]).concat(e.myOffset,"-").concat(jn[(Hn[e.targetEdge]+2)%4][0]).concat(e.targetOffset)}var Wn=function(){function e(t,n,r,i){E()(this,e),It.assertNumber(t,"Rectangle.x"),It.assertNumber(n,"Rectangle.y"),It.assertNumber(r,"Rectangle.width"),It.assertNumber(i,"Rectangle.height");this._x=t,this._y=n,this._width=r,this._height=i}return M()(e,[{key:"round",value:function(e){return H.deprecate("Core","3.0.0","Use Rectangle.roundPx() method instead."),this.roundPx(e)}},{key:"roundPx",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.devicePixelRatio||1,t=this;return t._x=yn.roundPx(t._x,e),t._y=yn.roundPx(t._y,e),t._width=yn.roundPx(t._width,e),t._height=yn.roundPx(t._height,e),t}},{key:"$name",get:function(){return this.constructor.$name}}],[{key:"from",value:function(t,n,r){if(t instanceof e)return t;if(void 0===r&&"boolean"==typeof n&&(r=n,n=null),n){var i=n,o=i.scrollLeft,a=i.scrollTop;(N.isEdge||N.isSafari)&&n===document.body&&(o=a=0),n=e.from(n).translate(-o,-a)}else n=Ln;var s=t===document||t===window,u=s?new e(0,0,window.innerWidth,window.innerHeight):t.getBoundingClientRect(),c=r||s?[0,0]:[window.pageXOffset,window.pageYOffset];return new e(u.left+c[0]-n.x,u.top+c[1]-n.y,u.width,u.height)}},{key:"inner",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.from(e,t,n);if(document.body.contains(e)){var i=yn.getStyleValue(e,Rn);r.x+=parseInt(i[Mn]),r.y+=parseInt(i[xn]),r.right-=parseInt(i[En]),r.bottom-=parseInt(i[Tn])}return r}},{key:"content",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.from(e,t,n);if(document.body.contains(e)){var i=yn.getStyleValue(e,Rn),o=yn.getStyleValue(e,Cn);r.x+=parseInt(i[Mn])+parseInt(o[Fn]),r.y+=parseInt(i[xn])+parseInt(o[Pn]),r.right-=parseInt(i[En])+parseInt(o[An]),r.bottom-=parseInt(i[Tn])+parseInt(o[In])}return r}},{key:"client",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.content(e,t,r),o=yn.scrollBarWidth;return o&&(e.scrollHeight>e.clientHeight&&"hidden"!==yn.getStyleValue(e,"overflow-y")&&(n=parseInt(yn.getStyleValue(e,"padding-right")),i.right+=n-Math.max(n,o)),e.scrollWidth>e.clientWidth&&"hidden"!==yn.getStyleValue(e,"overflow-x")&&(n=parseInt(yn.getStyleValue(e,"padding-bottom")),i.bottom+=n-Math.max(n,o))),i}},{key:"union",value:function(){var t,n=arguments.length<=0?void 0:arguments[0],r=n.x,i=n.y,o=n.right,a=n.bottom;if(arguments.length>1)for(var s=1;s<arguments.length;s++)(t=s<0||arguments.length<=s?void 0:arguments[s]).x<r&&(r=t.x),t.y<i&&(i=t.y),t.right>o&&(o=t.right),t.bottom>a&&(a=t.bottom);return new e(r,i,o-r,a-i)}},{key:"$name",get:function(){return Object.prototype.hasOwnProperty.call(this,"_$name")&&this._$name||this.name}}]),M()(e,[{key:"clone",value:function(){var t=this,n=new e(t.x,t.y,t.width,t.height);return n.minHeight=t.minHeight,n.minWidth=t.minWidth,n}},{key:"contains",value:function(t){return t instanceof e&&(t._x>=this._x&&t._y>=this._y&&t.right<=this.right&&t.bottom<=this.bottom)}},{key:"intersect",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this,o=Math.max(i.y,t.y),a=Math.min(i.right,t.right),s=Math.min(i.bottom,t.bottom),u=Math.max(i.x,t.x),c=r?s>=o&&a>=u:s>o&&a>u;return!!c&&(!!n||new e(u,o,a-u,s-o))}},{key:"equals",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n?function(e){return Math.round(e)}:function(e){return e};return t instanceof e&&r(t.x)===r(this.x)&&r(t.y)===r(this.y)&&r(t.width)===r(this.width)&&r(t.height)===r(this.height)}},{key:"translate",value:function(e,t){return this._x+=e||0,this._y+=t||0,this}},{key:"moveTo",value:function(e,t){return null!=e&&(this._x=e),null!=t&&(this._y=t),this}},{key:"getDelta",value:function(e){return[e.x-this.x,e.y-this.y]}},{key:"adjust",value:function(e,t,n,r){var i=this;return i.x+=e,i.y+=t,i.width+=n,i.height+=r,i}},{key:"inflate",value:function(e){return this.adjust(-e,-e,e,e)}},{key:"constrainTo",value:function(e,t){var n=this,r=n.height,i=n.y,o=n.minWidth||n.width,a=n.minHeight||n.height;if(n.height>=e.height){if(t&&a>e.height)return!1;n._y=e.y,n.height=e.height}if(n.width>=e.width){if(t&&o>e.width)return n.y=i,n.height=r,!1;n._x=e.x,n.width=e.width}var s=n.bottom-e.bottom;return s>0&&n.translate(0,-s),(s=n.right-e.right)>0&&n.translate(-s),(s=e.y-n.y)>0&&n.translate(0,s),(s=e.x-n.x)>0&&n.translate(s),n}},{key:"alignTo",value:function(t){var n,r,i,o,a=this.clone(),s=t.target,u=t.constrainTo;if(!s||s instanceof e||(s=e.from(s.element?s.element:s)),u&&!(u instanceof e)){o=u===window||u===document;var c="ignorePageScroll"in t?t.ignorePageScroll:!o;u=e.from(u.element?u.element:u,null,c),t.constrainPadding&&u.inflate(-t.constrainPadding)}var l,f=this,d=null==(l=t.offset)?Bn:"number"==typeof l?[l,l]:l,h=t.align,p=t.axisLock,v=t.anchorSize,g=t.anchorPosition,y=function(e){var t=On.exec(e),n=parseInt(t[2]||50),r=parseInt(t[4]||50);return{myAlignmentPoint:t[1]+n,myEdge:t[1],myOffset:n,targetAlignmentPoint:t[3]+r,targetEdge:t[3],targetOffset:r,startZone:Hn[t[3]]}}(h),m=t.position||(s&&"Point"===s.$name?s:null),k=u&&u.clone(),b=[],w=[{zone:r=y.startZone,align:h}],S=t.matchSize&&zn[1&y.startZone],D=f[S];if(S&&p&&(a[S]=s[S]),u&&a.constrainTo(u),u&&null!=y.startZone)if(p)w.push({zone:r=(r+2)%4,align:Vn(y)}),"flexible"===p&&(w.push({zone:r=(y.startZone+1)%4,align:Nn[r]}),w.push({zone:r=(r+2)%4,align:Nn[r]}));else for(var R=1;R<4;R++)w.push({zone:r=(r+1)%4,align:Nn[r]});if(g){var C,x=1&y.startZone?"y":"x";C={},se()(C,x,g[x]),se()(C,"edge",jn[(y.startZone+2)%4]),n=C}if(k&&s&&(k.adjust(-s.width,-s.height,s.width,s.height),s.constrainTo(k)),a.minWidth=f.minWidth,a.minHeight=f.minHeight,m)a.moveTo(m.x,m.y),u&&a.constrainTo(u);else{var E,T=v?[v[1]+d[0],v[1]+d[1]]:d,M=s.getAlignmentPoint(y.targetAlignmentPoint,T),P=a.getAlignmentPoint(y.myAlignmentPoint);if(a.translate(M[0]-P[0],M[1]-P[1]),a.intersect(s,!0))u&&a.constrainTo(u),i=y.startZone,(E=a).translate.apply(E,te()(T));else if(u&&!u.contains(a)){var A,I,F=a.clone(),L=[];n=null,b[0]=A=u.clone(),A.bottom=s.y-T[1],b[1]=A=u.clone(),A.x=s.right+T[0],b[2]=A=u.clone(),A.y=s.bottom+T[1],b[3]=A=u.clone(),A.right=s.x-T[0];for(var O=0;O<w.length;O++){if(S&&2==O&&(a[S]=D),A=b[i=w[O].zone],(a=a.alignTo({target:s,offsets:T,align:w[O].align})).constrainTo(A,!0)&&(L.push({result:a,zone:i}),!I||a.width<f.width||a.height<f.height)){a.align=w[O].align;break}if(!I||A.area>I.area){var _=a.clone();switch(i){case 0:_.moveTo(null,A.bottom-_.height);break;case 1:_.moveTo(A.left);break;case 2:_.moveTo(null,A.top);break;case 3:_.moveTo(A.right-_.width)}I={area:A.area,result:_,zone:i}}}L.length?(L.length>1&&!p&&L.sort(function(e,t){return Math.sqrt(Math.pow(F.x-e.result.x,2)+Math.pow(F.y-e.result.y,2))-Math.sqrt(Math.pow(F.x-t.result.x,2)+Math.pow(F.y-t.result.y,2))}),a=L[0].result,i=L[0].zone):(a=I.result,i=I.zone,o&&a.constrainTo(u))}else i=y.startZone;if(a.zone=i,v){if(!n){var j,H=1&i,N=H?"y":"x",B=H?"bottom":"right",z=Math.max(s[N],a[N]),V=z+(Math.min(s[B],a[B])-z)/2-v[0]/2,W=V+v[0];W>a[B]&&(V-=W-a[B]),V<a[N]&&(V+=a[N]-V),j={},se()(j,N,V-a[N]),se()(j,"edge",jn[(i+2)%4]),n=j}a.anchor=n}}return a}},{key:"getAlignmentPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bn,n=this,r=_n.exec(e),i=r[1].toLowerCase(),o=Math.min(Math.max(parseInt(r[2]||50),0),100)/100;switch(i){case"t":return[n.x+n.width*o,n.y-t[1]];case"r":return[n.right+t[0],n.y+n.height*o];case"b":return[n.x+n.width*o,n.bottom+t[1]];case"l":return[n.x-t[0],n.y+n.height*o];case"c":var a=n.center;return[a.x+t[0],a.y+t[1]]}}},{key:"highlight",value:function(){var e=yn.createElement({parent:document.body,style:"position:absolute;z-index:9999999;pointer-events:none;\n                            left:".concat(this.x,"px;top:").concat(this.y,"px;width:").concat(this.width,"px;height:").concat(this.height,"px")});return yn.highlight(e).then(function(){return e.remove()})}},{key:"center",get:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2)}},{key:"x",set:function(e){var t=e-this._x;this._x=e,this._width-=t},get:function(){return this._x}},{key:"left",set:function(e){this.x=e},get:function(){return this.x}},{key:"top",set:function(e){this.y=e},get:function(){return this.y}},{key:"y",set:function(e){var t=e-this._y;this._y=e,this._height-=t},get:function(){return this._y}},{key:"width",set:function(e){this._width=e},get:function(){return this._width}},{key:"height",set:function(e){this._height=e},get:function(){return this._height}},{key:"right",set:function(e){this._width=e-this._x},get:function(){return this._x+this._width}},{key:"bottom",set:function(e){this._height=e-this._y},get:function(){return this._y+this._height}},{key:"area",get:function(){return this.width*this.height}},{key:"minWidth",set:function(e){var t=this;isNaN(e)?t._minWidth=null:(t._minWidth=Number(e),t.width=Math.max(t.width,t._minWidth))},get:function(){return this._minWidth}},{key:"minHeight",set:function(e){var t=this;isNaN(e)?t._minHeight=null:(t._minHeight=Number(e),t.height=Math.max(t.height,t._minHeight))},get:function(){return this._minHeight}}]),e}();function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Wn._$name="Rectangle";var Gn=function(e){X()(n,e);var t=$n(n);function n(e,r){return E()(this,n),t.call(this,e,r,0,0)}return M()(n,null,[{key:"from",value:function(e){var t=e.changedTouches;return new n(t?t[0].screenX:e.screenX,t?t[0].screenY:e.pageY)}}]),M()(n,[{key:"constrain",value:function(e){return this.x=Math.min(Math.max(this.x,e.x),e.right-1),this.y=Math.min(Math.max(this.y,e.y),e.bottom-1),this}},{key:"toArray",value:function(){return[this.x,this.y]}}]),n}(Wn);Gn.__proto__.Point=Gn,Gn._$name="Point";var Yn=function(){function e(){E()(this,e)}return M()(e,null,[{key:"curry",value:function(e){return function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.length>=e.length?e.apply(this,r):function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.apply(this,r.concat(n))}}}},{key:"bindAll",value:function(e){for(var t in e)"function"==typeof e[t]&&(e[t]=e[t].bind(e))}},{key:"createInterceptor",value:function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return!1!==t.call.apply(t,[n].concat(i))&&e.call.apply(e,[n].concat(i))}}},{key:"createSequence",value:function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=e.call.apply(e,[n].concat(i)),s=t.call.apply(t,[n].concat(i));return void 0===s?a:s}}},{key:"createThrottled",value:function(e,t,n,r,i){var o,a,s,u=0,c=function(){a=0,u=performance.now(),o.push.apply(o,r),e.apply(n,o)};return(s=function(){for(var e=performance.now()-u,s=arguments.length,l=new Array(s),f=0;f<s;f++)l[f]=arguments[f];o=l,e>=t?(clearTimeout(a),c()):(a||(a=setTimeout(c,t-e)),i&&(o.push.apply(o,r),i.apply(n,o)))}).cancel=function(){return clearTimeout(a)},s}},{key:"createBuffered",value:function(e,t,n,r){var i,o,a,s=function(){o=0,i.push.apply(i,r),e.apply(n,i)};return(a=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];i=n,o&&clearTimeout(o),o=setTimeout(s,t)}).cancel=function(){return clearTimeout(o)},a}},{key:"returnTrue",value:function(){return!0}},{key:"animate",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"linear",o=!1,a=new Promise(function(a){var s=performance.now();!function u(){var c=Math.min((performance.now()-s)/e,1),l=n&&n.setTimeout?n:window;o||!1===t.call(n,r.easingFunctions[i](c))&&a(),o||1===c?l.requestAnimationFrame(function(){return a()}):l.requestAnimationFrame(u)}()});return a.cancel=function(){return o=!0,!1},a}}]),e}(),Un=1.70158,qn=7.5625,Xn=1.525,Kn=2/2.75,Zn=2.25/2.75,Jn=1/2.75,Qn=1.5/2.75,er=2.5/2.75,tr=2.625/2.75,nr=.984375;Yn.easingFunctions={linear:function(e){return e},easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<Jn?qn*e*e:e<Kn?qn*(e-=Qn)*e+.75:e<er?qn*(e-=Zn)*e+.9375:qn*(e-=tr)*e+nr},easeInBack:function(e){return e*e*((Un+1)*e-Un)},easeOutBack:function(e){return(e-=1)*e*((Un+1)*e+Un)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=Xn))*e-t)*.5:.5*((e-=2)*e*((1+(t*=Xn))*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=Xn))*e-t)*.5:.5*((e-=2)*e*((1+(t*=Xn))*e+t)+2)},swingFrom:function(e){return e*e*((Un+1)*e-Un)},swingTo:function(e){return(e-=1)*e*((Un+1)*e+Un)+1},bounce:function(e){return e<Jn?qn*e*e:e<Kn?qn*(e-=Qn)*e+.75:e<er?qn*(e-=Zn)*e+.9375:qn*(e-=tr)*e+nr},bouncePast:function(e){return e<Jn?qn*e*e:e<Kn?2-(qn*(e-=Qn)*e+.75):e<er?2-(qn*(e-=Zn)*e+.9375):2-(qn*(e-=tr)*e+nr)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}},Yn._$name="FunctionHelper";var rr=["clientX","clientY","pageX","pageY","screenX","screenY"],ir={element:1,thisObj:1,once:1,delegate:1,delay:1,capture:1,passive:1,throttled:1,autoDetach:1,expires:1},or={get:function(){return!0}},ar={Spacebar:"Space",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown"},sr=function(e){var t=e.type;if(t.startsWith("key")){var n=ar[e.key];n&&Object.defineProperty(e,"key",{get:function(){return n}})," "!==e.key||e.code||Object.defineProperty(e,"code",{get:function(){return"Space"}})}if(e.metaKey&&!e.ctrlKey&&Object.defineProperty(e,"ctrlKey",or),e.target&&e.target.shadowRoot&&e.composedPath&&!N.isIE11&&!N.isEdge){var r=e.composedPath()[0],i=e.target;e.target!==r&&(Object.defineProperty(e,"target",{get:function(){return r}}),Object.defineProperty(e,"originalTarget",{get:function(){return i}}))}if(N.isChrome&&e.target){var o=e.target,a=e.offsetX,s=e.offsetY,u=o.offsetWidth,c=o.offsetHeight,l=Math.min(Math.max(a,0),u-1),f=Math.min(Math.max(s,0),c-1);!Object.getOwnPropertyDescriptor(e,"offsetX")&&(a<0||a>=u)&&Object.defineProperty(e,"offsetX",{get:function(){return l}}),!Object.getOwnPropertyDescriptor(e,"offsetY")&&(s<0||s>=c)&&Object.defineProperty(e,"offsetY",{get:function(){return f}})}if(e.target&&9===e.target.nodeType&&"clientX"in e){var d=yn.elementFromPoint(e.clientX,e.clientY);Object.defineProperty(e,"target",{get:function(){return d}})}if(e.target&&3===e.target.nodeType){var h=e.target.parentElement;Object.defineProperty(e,"target",{get:function(){return h}})}if(e.relatedTarget&&3===e.relatedTarget.nodeType){var p=e.target.parentElement;Object.defineProperty(e,"relatedTarget",{get:function(){return p}})}return t.startsWith("touch")&&e.touches.length&&ur.normalizeEvent(e),e},ur=function(){function e(){E()(this,e)}return M()(e,null,[{key:"normalizeEvent",value:function(e){return It.copyPropertiesIf(e,e.touches[0]||e.changedTouches[0],rr)}},{key:"getXY",value:function(e){return e.touches&&(e=e.touches[0]),[e.clientX,e.clientY]}},{key:"getDistanceBetween",value:function(e,t){var n=this.getXY(e),r=this.getXY(t);return Math.sqrt(Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2))}},{key:"getPagePoint",value:function(e){return new Gn(e.pageX,e.pageY)}},{key:"getClientPoint",value:function(e){return new Gn(e.clientX,e.clientY)}},{key:"addListener",value:function(e,t,n,r){return r=e.nodeType?"string"==typeof t?Object.assign(se()({element:e},t,n),r):Object.assign({element:e},t):e,this.on(r)}},{key:"on",value:function(e){var t,n,r=e.element,i=e.thisObj,o=[],a=It.allKeys(e),s=a.length;for(t=0;t<s;t++)if(n=a[t],!ir[n]){var u=e[n];"object"!==oe()(u)&&(u={handler:u});var c=u.element||r;N.isTouchDevice&&!N.isAndroid&&"contextmenu"===n&&o.push(this.addElementListener(c,"touchstart",{handler:this.createContextMenuWrapper(u.handler,u.thisObj||i)},e)),o.push(this.addElementListener(c,n,u,e))}var l=function(){for(s=o.length,t=0;t<s;t++){var e=o[t];e[0].removeEventListener(e[1],e[2],e[3])}o.length=0};return i&&!1!==e.autoDetach&&(i.doDestroy=Yn.createInterceptor(i.doDestroy,l,i)),l}},{key:"addElementListener",value:function(e,t,n,r){var i=this.createHandler(e,t,n,r),o="passive"in n,a=n.expires||r.expires,s=r.thisObj,u=n.capture||r.capture;if((o||"passive"in r)&&N.supportsPassive&&(u={capture:!!u,passive:o?n.passive:r.passive}),e.addEventListener(t,i,u),a){var c=s&&s.setTimeout?s:window;("number"==typeof a?c.setTimeout:c.requestAnimationFrame).call(c,function(){return e.removeEventListener(t,i,u)},a)}return[e,t,i,u]}},{key:"createHandler",value:function(e,t,n,r){var i=this,o=n.delay||r.delay,a=n.throttled||r.throttled,s=n.once||r.once,u=n.thisObj||r.thisObj,c=n.capture||r.capture,l=n.delegate||r.delegate,f=n.handler,d=function(e){var t;if(!(i.playingDemo&&e.isTrusted||u&&u.isDestroyed)){if(sr(e),l){var n=e.target instanceof HTMLElement&&e.target.closest(l);if(!n)return;Object.defineProperty(e,"currentTarget",{get:function(){return n},configurable:!0})}"string"==typeof f&&(f=u[f]);for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];(t=f).call.apply(t,[u,e].concat(o))}};if(null!=o){var h=d,p=u&&u.setTimeout?u:window;d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];p.setTimeout(function(){h.apply(void 0,t)},o)}}if(null!=a){var v,g=a;a.buffer&&(v=function(e){return a.alt.call(i,sr(e))},g=a.buffer),d=u&&u.isDelayable?u.throttle(d,g,u,null,v):Yn.createThrottled(d,g,u,null,v)}if(s){var y=d;d=function(){e.removeEventListener(t,d,c),y.apply(void 0,arguments)}}return n.thisObj&&!1!==n.autoDetach&&(u.doDestroy=Yn.createInterceptor(u.doDestroy,function(){return e.removeEventListener(t,d)},u)),d}},{key:"onTransitionEnd",value:function(t){var n,r=t.element,i=t.property,o=t.handler,a=t.timeout,s=t.thisObj,u=void 0===s?window:s,c=e.on({element:r,thisObj:u,transitionend:function(e){e.propertyName===i&&(n&&(u.isDelayable?u.clearTimeout(n):clearTimeout(n),n=null),c(),o.call(u))}});null==a&&(a=yn.getPropertyTransitionDuration(r,i)),null!=a&&(n=u.isDelayable?u.setTimeout(function(){c(),o.call(u)},a):setTimeout(function(){c(),o.call(u)},a))}},{key:"createContextMenuWrapper",value:function(e,t){var n=this;return function(r){if(1===r.touches.length)var i=r.touches[0],o=setTimeout(function(){s();var o=new MouseEvent("contextmenu",i);Object.defineProperty(o,"target",{get:function(){return i.target}}),"string"==typeof e&&(e=t[e]),o.browserEvent=r,e.call(t,o),n.contextMenuTouchId=i.identifier},n.longPressTime),a=function(){n.contextMenuTouchId=null,s(),clearTimeout(o)},s=n.on({element:document,touchmove:a,touchend:a,pointermove:a,pointerup:a,capture:!0})}}},{key:"createDblClickWrapper",value:function(e,t,n){var r,i,o,a=this;return function(){i||(i=a.on({element:e,touchstart:function(e){r=e.changedTouches[0].identifier,e.preventDefault()},touchend:function(e){if(e.changedTouches[0].identifier===r){e.preventDefault(),clearTimeout(o),r=i=null;var a=Wn.from(e.changedTouches[0].target,null,!0),s=e.changedTouches[0].pageX-a.x,u=e.changedTouches[0].pageY-a.y,c=Object.assign({browserEvent:e},e),l=new MouseEvent("dblclick",c);Object.defineProperty(l,"target",{get:function(){return e.target}}),Object.defineProperty(l,"offsetX",{get:function(){return s}}),Object.defineProperty(l,"offsetY",{get:function(){return u}}),"string"==typeof t&&(t=n[t]),t.call(n,l)}},once:!0}),o=setTimeout(function(){i(),r=i=null},a.dblClickTime))}}},{key:"lockComposedPath",value:function(e){var t;e.composedPath&&(e.composedPath=(t=e.composedPath(),function(){return t}))}}]),e}();function cr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ur.longPressTime=500,ur.dblClickTime=300,ur.on({element:document,mousedown:function(){yn.isTouchEvent||(yn.usingKeyboard=!1,document.body.classList.remove("b-using-keyboard"))},touchmove:function(){yn.usingKeyboard=!1,document.body.classList.remove("b-using-keyboard")},keydown:function(){yn.usingKeyboard=!0,document.body.classList.add("b-using-keyboard")}}),N.isTouchDevice&&ur.on({element:document,touchmove:function(e){e.target.closest(".b-dragging")&&e.preventDefault()},passive:!1,capture:!0}),ur._$name="EventHelper";var fr=null,dr=[],hr=function(e){return 1===e.nodeType&&"absolute"===e.ownerDocument.defaultView.getComputedStyle(e).getPropertyValue("position")},pr=function(){function e(){E()(this,e)}return M()(e,null,[{key:"addResizeListener",value:function(e,t){var n=this;if(e!==document&&e!==window||(e=document.body),e.classList.contains("b-resize-monitored")||(e.classList.add("b-resize-monitored"),e._bResizemonitor={handlers:[]}),e===document.body)n.hasWindowResizeListener||(window.addEventListener("resize",n.onWindowResize),n.hasWindowResizeListener=!0);else if(window.ResizeObserver)n.resizeObserver||(n.resizeObserver=new ResizeObserver(n.onElementResize)),n.resizeObserver.observe(e);else{var r=yn.createElement({parent:e,className:"b-resize-monitors",children:[{className:"b-resize-monitor-expand"},{className:"b-resize-monitor-shrink"}]},!0),i=re()(r,3),o=i[0],a=i[1],s=i[2];a.scrollLeft=a.scrollTop=s.scrollLeft=s.scrollTop=1e6,a.addEventListener("scroll",n.onSizeMonitorScroll,!0),s.addEventListener("scroll",n.onSizeMonitorScroll,!0),(t.targetMutationMonitor=new MutationObserver(function(e){var t,n=[],r=cr(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;"childList"===i.type&&(n.push.apply(n,i.removedNodes),n.push.apply(n,i.addedNodes))}}catch(e){r.e(e)}finally{r.f()}n.length>0&&n.every(hr)||a.dispatchEvent(new CustomEvent("scroll",{bubbles:!1}))})).observe(e,{childList:!0,subtree:!0}),t.monitorElement=o}e._bResizemonitor.handlers.push(t)}},{key:"removeResizeListener",value:function(e,t){if(e){e!==document&&e!==window||(e=document.body);var n=e._bResizemonitor,r=0;n&&n.handlers&&(de.remove(n.handlers,t),r=n.handlers.length),r||(e.classList.remove("b-resize-monitored"),this.resizeObserver?this.resizeObserver.unobserve(e):(t.monitorElement&&(t.monitorElement.remove(),t.monitorElement=null),t.targetMutationMonitor&&t.targetMutationMonitor.disconnect()))}}},{key:"onElementResize",value:function(e){var t,n=cr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.target,o=i._bResizemonitor,a=r.contentRect||i.getBoundingClientRect();if(i.offsetParent&&(!o.rectangle||a.width!==o.rectangle.width||a.height!==o.rectangle.height)){var s=o.rectangle;o.rectangle=a;var u,c=cr(o.handlers);try{for(c.s();!(u=c.n()).done;){(0,u.value)(i,s,a)}}catch(e){c.e(e)}finally{c.f()}}}}catch(e){n.e(e)}finally{n.f()}}},{key:"onSizeMonitorScroll",value:function(t){if(document.body.contains(t.target)){t.stopImmediatePropagation();var n=t.target.parentNode,r=n.parentNode,i=r._bResizemonitor,o=r.getBoundingClientRect();i.rectangle&&o.width===i.rectangle.width&&o.height===i.rectangle.height||(dr.push([r,i.rectangle,o]),i.rectangle=o,fr||(fr=requestAnimationFrame(e.fireResizeEvents))),n.firstChild.scrollLeft=n.firstChild.scrollTop=n.childNodes[1].scrollTop=n.childNodes[1].scrollLeft=1e6}}},{key:"onWindowResize",value:function(e){var t=document.body,n=t._bResizemonitor,r=n.rectangle;n.rectangle=document.documentElement.getBoundingClientRect();var i,o=cr(n.handlers);try{for(o.s();!(i=o.n()).done;){(0,i.value)(t,r,n.rectangle)}}catch(e){o.e(e)}finally{o.f()}}},{key:"fireResizeEvents",value:function(){var e,t=cr(dr);try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=cr(r[0]._bResizemonitor.handlers);try{for(i.s();!(n=i.n()).done;){var o=n.value;r[0].offsetParent&&o.apply(this,r)}}catch(e){i.e(e)}finally{i.f()}}}catch(e){t.e(e)}finally{t.f()}fr=null,dr.length=0}}]),e}();pr._$name="ResizeMonitor";n(49),n(50),n(51),n(52),n(53),n(54),n(55),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65);function vr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var gr=null;H.isTestEnv&&(gr=window.bryntum.globalDelays={timeouts:new Map,intervals:new Map,animationFrames:new Map,isEmpty:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return gr.timeouts.size+gr.animationFrames.size+(e?gr.intervals.size:0)===0}});var yr=function(e){return function(e){X()(n,e);var t=vr(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"doDestroy",value:function(){var e=this;e.timeoutIds&&(e.timeoutIds.forEach(function(e,t){"function"==typeof e&&e(),clearTimeout(t),gr&&gr.timeouts.delete(t)}),e.timeoutIds=null),e.timeoutMap&&(e.timeoutMap.forEach(function(e,t){return clearTimeout(t)}),e.timeoutMap=null),e.intervalIds&&(e.intervalIds.forEach(function(e){clearInterval(e),gr&&gr.intervals.delete(e)}),e.intervalIds=null),e.animationFrameIds&&(e.animationFrameIds.forEach(function(e){cancelAnimationFrame(e),gr&&gr.animationFrames.delete(e)}),e.animationFrameIds=null),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"hasTimeout",value:function(e){return!(!this.timeoutMap||!this.timeoutMap.has(e))}},{key:"setTimeout",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=e.fn,n=e.delay,r=e.name,i=e.runOnDestroy,o=e.cancelOutstanding,a=e.args;if(arguments.length>1||"function"==typeof arguments[0]){var s=Array.prototype.slice.call(arguments);t=s[0],n=s[1],r=s[2],i=s[3]}"string"==typeof t?r=t:r||(r=t.name),o&&this.clearTimeout(r);var u=this,c=u.timeoutIds||(u.timeoutIds=new Map),l=u.timeoutMap||(u.timeoutMap=new Map),f=setTimeout(function(){"string"==typeof t&&(t=u[r]),c&&c.delete(f),l&&l.delete(r),gr&&gr.timeouts.delete(f),t.apply(u,a)},n);return c.set(f,!i||t),gr&&gr.timeouts.set(f,{fn:t,delay:n,name:r}),r&&l.set(r,f),f})},{key:"clearTimeout",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=e;if("string"==typeof t){if(!this.timeoutMap)return;t=this.timeoutMap.get(e),this.timeoutMap.delete(e)}clearTimeout(t),this.timeoutIds&&this.timeoutIds.delete(t),gr&&gr.timeouts.delete(t)})},{key:"clearInterval",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){clearInterval(e),this.intervalIds&&this.intervalIds.delete(e),gr&&gr.intervals.delete(e)})},{key:"setInterval",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var n=setInterval(e,t);return(this.intervalIds||(this.intervalIds=new Set)).add(n),gr&&gr.intervals.set(n,{fn:e,delay:t}),n})},{key:"requestAnimationFrame",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=this.animationFrameIds||(this.animationFrameIds=new Set),i=requestAnimationFrame(function(){return gr&&gr.animationFrames.delete(i),r.delete(i),e.apply(n,t)});return r.add(i),gr&&gr.animationFrames.set(i,{fn:e,extraArgs:t,thisObj:n}),i})},{key:"createOnFrame",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,o=arguments.length>3?arguments[3]:void 0,a=function(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];t&&o&&(n.cancelAnimationFrame(t),t=null),t||(t=n.requestAnimationFrame(function(){"string"==typeof e&&(e=i[e]),t=null,s.push.apply(s,te()(r)),e.apply(i,s)}))};return a.cancel=function(){return n.cancelAnimationFrame(t)},a}},{key:"cancelAnimationFrame",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){cancelAnimationFrame(e),this.animationFrameIds&&this.animationFrameIds.delete(e),gr&&gr.animationFrames.delete(e)})},{key:"buffer",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,i=null;"string"==typeof e&&(e=r[e]);var o=function o(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];o.called=!1,null!==i&&n.clearTimeout(i),i=n.setTimeout(function(){var t;(t=e).call.apply(t,[r].concat(s)),o.called=!0},t)};return o.cancel=function(){return n.clearTimeout(i)},o}},{key:"throttle",value:function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,s=this,u=0,c=function(){r=0,u=performance.now(),n.push.apply(n,o),e.apply(i,n),l.called=!0},l=function e(){for(var l=performance.now()-u,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];n=d,l>=t?(s.clearTimeout(r),c()):(r||(r=s.setTimeout(c,t-l),e.called=!1),a&&(n.push.apply(n,o),a.apply(i,n)))};return l.cancel=function(){return s.clearTimeout(r)},l}},{key:"isDelayable",get:function(){return!0}},{key:"widgetClass",get:function(){}}]),n}(e||U)};n(42),n(229),n(230),n(141);function mr(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var wr=function(e){X()(n,e);var t=br(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){"function"==typeof e&&(e={filterBy:e}),ce()(Q()(n.prototype),"construct",this).call(this,e)}},{key:"onChange",value:function(e){var t=this;!t.isConfiguring&&t.owner&&!t.owner.isConfiguring&&t.owner.onFilterChanged&&t.owner.onFilterChanged(t,e)}},{key:"defaultFilterBy",value:function(e){return this[this.operator](this.convert(e[this.property]))}},{key:"convert",value:function(e){return this.caseSensitive||"string"!=typeof e?e:e.toLowerCase()}},{key:"filter",value:function(e){return this.filterBy(e)}},{key:"startsWith",value:function(e){return String(e).startsWith(this.value)}},{key:"endsWith",value:function(e){return String(e).endsWith(this.value)}},{key:"=",value:function(e){return It.isEqual(e,this.value)}},{key:"!=",value:function(e){return!It.isEqual(e,this.value)}},{key:">",value:function(e){return It.isMoreThan(e,this.value)}},{key:">=",value:function(e){return It.isMoreThan(e,this.value)||It.isEqual(e,this.value)}},{key:"<",value:function(e){return It.isLessThan(e,this.value)}},{key:"<=",value:function(e){return It.isLessThan(e,this.value)||It.isEqual(e,this.value)}},{key:"*",value:function(e){return It.isPartial(e,this.value)}},{key:"id",get:function(){return this._id||(this._id=this.property||De.generateId("b-filter"))},set:function(e){this._id=e}},{key:"filterBy",get:function(){return this._filterBy||this.defaultFilterBy},set:function(e){this._filterBy=e}},{key:"property",set:function(e){this._property=e,this.onChange("property")},get:function(){return this._property}},{key:"value",set:function(e){this._value=this.caseSensitive||"string"!=typeof e?e:e.toLowerCase(),this.onChange("value")},get:function(){return this._value}},{key:"operator",set:function(e){this._operator=e,this.onChange("operator")},get:function(){return this._operator||("string"==typeof this.value?"*":"=")}}],[{key:"generateFiltersFunction",value:function(e){return e&&(e.length||e.count)?function(t){var n,r=!0,i=mr(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.disabled||(r=o.filter(t)),!r)break}}catch(e){i.e(e)}finally{i.f()}return r}:Yn.returnTrue}},{key:"defaultConfig",get:function(){return{property:null,value:null,operator:null,filterBy:null,convert:null,caseSensitive:!0,id:null}}}]),n}(U);function Sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}wr._$name="CollectionFilter";var Dr=function(e){X()(n,e);var t=Sr(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){"function"==typeof e&&(e={sortFn:e}),ce()(Q()(n.prototype),"construct",this).call(this,e)}},{key:"defaultSortFn",value:function(e,t){var n=this.convert,r=this.property,i=this.useLocaleSort,o="desc"===this.direction.toLowerCase()?-1:1;if(e=e[r],t=t[r],n&&(e=n(e),t=n(t)),i&&null!=e&&null!=t){if(!0===i)return String(e).localeCompare(t);if("string"==typeof i)return String(e).localeCompare(t,i);if("object"===oe()(i))return String(e).localeCompare(t,i.locale,i)}return(e>t?1:e<t?-1:0)*o}},{key:"id",get:function(){return this._id||(this._id=this.property||De.generateId("b-sorter"))},set:function(e){this._id=e}},{key:"sortFn",set:function(e){this._sortFn=e},get:function(){return this._sortFn?this._sortFn:this.defaultSortFn}}],[{key:"generateSortFunction",value:function(e,t){var n=e.isCollection?e.values:e,r=n.length;return function(e,i){var o,a;for(a=0;a<r;++a)if(o=n[a].sortFn(e,i))return o;return t?t(e,i):0}}},{key:"defaultConfig",get:function(){return{property:null,direction:"ASC",sortFn:null,convert:null,id:null,useLocaleSort:null}}}]),n}(U);function Rr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Dr._$name="CollectionSorter";var Cr=function(){return 0},xr=function(e,t){return t-e},Er=Symbol("filteredIndicesProperty"),Tr=Object.freeze([]),Mr=Object.freeze({action:"sort",added:Tr,removed:Tr,replaced:Tr}),Pr=Object.freeze({action:"filter",added:Tr,removed:Tr,replaced:Tr}),Ar={string:1,number:1},Ir=new WeakMap,Fr=function(e){if(e&&"object"===oe()(e)){var t=Ir.get(e);void 0===t&&(t=Symbol("bscik"),Ir.set(e,t)),e=t}return e},Lr=function(e){X()(n,e);var t=Rr(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){this.generation=0,this._values=[],ce()(Q()(n.prototype),"construct",this).call(this,e)}},{key:"doDestroy",value:function(){ce()(Q()(n.prototype),"doDestroy",this).call(this),this._values.length=0,this.isFiltered&&(this._filteredValues.length=0,this.filters.destroy()),this._sorters&&this._sorters.destroy()}},{key:"clear",value:function(){var e=this,t=this._values.slice();e.totalCount&&(e._values.length=0,e._filteredValues&&(e._filteredValues.length=0),e._indicesInvalid=!0,e.generation++,e.trigger("change",{action:"clear",removed:t}))}},{key:"replaceValues",value:function(e){var t,n,r=e.values,i=e.filteredValues,o=e.silent,a=void 0!==o&&o,s=e.isNewDataset,u=void 0!==s&&s,c=this;c.isFiltered&&!u?(Boolean(i)?r&&(t=c._values,c._values=r.slice()):(i=r.slice(),r=null),n=c._filteredValues,c._filteredValues=i.slice()):(t=c._values,c._values=r.slice(),i=null,c.isFiltered&&u&&c.autoFilter?(c._filterFunction=null,c._filteredValues=c._values.filter(c.filterFunction),c._indicesInvalid=!0):c._filteredValues&&(c._filteredValues.length=0));c._indicesInvalid=!0,c.generation++,a||c.trigger("change",{action:"replaceValues",replacedValues:t,replacedFilteredValues:n,values:r,filteredValues:i})}},{key:Symbol.iterator,value:function(){return this.values[Symbol.iterator]()}},{key:"forEach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(this.isFiltered&&!t?this._filteredValues:this._values).forEach(e)}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(this.isFiltered&&!t?this._filteredValues:this._values).map(e)}},{key:"find",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(this.isFiltered&&!t?this._filteredValues:this._values).find(e)}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];1===t.length?this.splice.apply(this,[this._values.length,null].concat(t)):this.splice(this._values.length,null,t)}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];1===t.length?this.splice.apply(this,[0].concat(t)):this.splice(0,t)}},{key:"move",value:function(e,t){var n=this,r=n._values,i=n.indexOf(e,!0),o=t?n.indexOf(t,!0):r.length;if(-1===i||-1===o)throw new Error("Collection move parameters must be present in Collection");return i!==o&&i!==o-1&&(i<o&&o--,r.splice(i,1),r.splice(o,0,e),n._indicesInvalid=!0,n.trigger("change",{action:"move",item:e,from:i,to:o})),o}},{key:"splice",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o,a,s=this,u=s.idProperty,c=s._values,l={},f=[],d=[],h=s.totalCount;if(r)if(1===r.length&&Array.isArray(r[0])&&(r=r[0]),h&&r.length){var p=s.indices[u];o=[];for(var v=0;v<r.length;v++){var g=r[v],y=Fr(g[u]),m=p[y];l[y]=!0,null!=m?c[m]!==g&&(d.push([c[m],g]),c[m]=g):o.push(g)}}else o=r;if(t)if("number"==typeof t)for(var k=e;t;--t){var b=Fr(c[k][u]);l[b]?(e++,k++):(f.push(c[k]),c.splice(k,1),s._indicesInvalid=a=!0)}else{var w,S=0===o.length;Array.isArray(t)||(t=[t]);var D=t.reduce(function(e,t){var n="number"==typeof t,r=n?t:s.indexOf(t,!0);return S&&(null!=w&&r!==w+1||n)&&(S=!1),r>=0&&r<h&&e.push(r),w=r,e},[]).sort(xr);if(S)D.length&&(f.push.apply(f,t),c.splice(D[D.length-1],D.length),s._indicesInvalid=a=!0);else for(var R=0;R<D.length;R++){var C=D[R];if(-1!==C){var x=Fr(c[C][u]);l[x]||(f.unshift(c[C]),c.splice(C,1),s._indicesInvalid=a=!0)}}}if(o.length&&(c.splice.apply(c,[Math.min(e,c.length),0].concat(te()(o))),s._indicesInvalid=a=!0),s.isSorted)s.onSortersChanged();else if(s.isFiltered){var E;if(s.autoFilter)s.onFiltersChanged();else(E=s._filteredValues).push.apply(E,te()(o))}a||d.length?(s.generation++,s.trigger("change",{action:"splice",removed:f,added:o,replaced:d,oldCount:h})):s.trigger("noChange",{index:e,toRemove:t,toAdd:r})}},{key:"changeId",value:function(e,t){var n=this,r=n.idProperty,i=Ar[oe()(e)]?e:e[r],o=n.get(i);if(o){var a=n.get(t);if(a&&o!==a)throw new Error("Attempt to set item ".concat(i," to already existing member's id ").concat(t));if(o[r]=t,!n._indicesInvalid){var s=n.indices.id,u=s[i];delete s[i],s[t]=u}}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getBy(this.idProperty,e,t)}},{key:"getAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.isFiltered&&!t?this._filteredValues[e]:this._values[e]}},{key:"getBy",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;if(r.isFiltered&&n){var i=r.findIndex(e,t,!0);if(-1!==i)return r._values[i]}else{var o=r.findIndex(e,t);if(-1!==o)return r.values[o]}}},{key:"addSorter",value:function(e){var t=e instanceof Dr?e:new Dr(e);return this.sorters.add(t),t}},{key:"onSortersChanged",value:function(){var e=this;delete e._sortFunction,e._values.sort(e.sortFunction),e._indicesInvalid=!0,e.trigger("change",Mr)}},{key:"addFilter",value:function(e){var t=e instanceof wr?e:new wr(e);return this.filters.add(t),t}},{key:"onFiltersChanged",value:function(){var e=this;e._filterFunction=null,e._filteredValues=e._values.filter(e.filterFunction),e._indicesInvalid=!0,e.trigger("change",Pr)}},{key:"addIndex",value:function(e){(this._indices||(this._indices={}))[e]={},this._indicesInvalid=!0}},{key:"findIndex",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.isFiltered,o=i&&!n?r.indices[Er][e]:r.indices[e];if(o){var a=o[Fr(t)];if(null!=a)return a}else for(var s=i&&!n?r._filteredValues:r._values,u=s.length,c=0;c<u;c++)if(s[c][e]==t)return c;return-1}},{key:"indexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.findIndex(this.idProperty,Ar[oe()(e)]?e:e[this.idProperty],t)}},{key:"includes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return-1!==this.indexOf(e,t)}},{key:"rebuildIndices",value:function(){var e,t,n=this,r=n.isFiltered,i=n._indices||(n._indices={}),o=Object.keys(i),a=o.length,s=n._values,u=s.length;for(r&&(i[Er]={}),e=0;e<a;e++)i[o[e]]={},r&&(i[Er][o[e]]={});for(e=0;e<u;e++){var c=s[e];for(t=0;t<a;t++){var l=o[t];i[l][Fr(c[l])]=e}}if(r){var f=n._filteredValues,d=f.length,h=n._indices[Er];for(e=0;e<d;e++){var p=f[e];for(t=0;t<a;t++){var v=o[t];h[v][Fr(p[v])]=e}}}n._indicesInvalid=!1}},{key:"isCollection",get:function(){return!0}},{key:"values",set:function(e){this.splice(0,this._values.length,e)},get:function(){return this.isFiltered?this._filteredValues:this._values}},{key:"first",get:function(){return this.values[0]}},{key:"last",get:function(){return this.values[this.count-1]}},{key:"allValues",get:function(){return this._values}},{key:"count",get:function(){return this.values.length}},{key:"totalCount",get:function(){return this._values.length}},{key:"idProperty",set:function(e){this._idProperty=e,this.addIndex(e)},get:function(){return this._idProperty}},{key:"extraKeys",set:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++)this.addIndex(e[t])}},{key:"sorters",get:function(){return this._sorters||(this._sorters=new n({listeners:{change:"onSortersChanged",thisObj:this}})),this._sorters}},{key:"isSorted",get:function(){return Boolean(this._sorters&&this._sorters.count)}},{key:"sortFunction",get:function(){return this._sortFunction||(this.isSorted?this._sortFunction=Dr.generateSortFunction(this.sorters.values):this._sortFunction=Cr),this._sortFunction}},{key:"filters",get:function(){return this._filters||(this._filters=new n({listeners:{change:"onFiltersChanged",thisObj:this}})),this._filters}},{key:"isFiltered",get:function(){return Boolean(this._filters&&this._filters.count)}},{key:"filterFunction",get:function(){return this._filterFunction||(this.isFiltered?this._filterFunction=wr.generateFiltersFunction(this.filters.values):this._filterFunction=Yn.returnTrue),this._filterFunction}},{key:"indices",get:function(){return this._indicesInvalid&&this.rebuildIndices(),this._indices}}],[{key:"defaultConfig",get:function(){return{idProperty:"id",extraKeys:null,autoFilter:!0}}}]),n}(me(U));function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Lr._$name="Collection";var _r={true:"auto",false:"hidden","hidden-scroll":"auto"},jr={block:"nearest"},Hr=new Promise(function(e){return e()}),Nr=function(e){return new Promise(function(t){return ur.on({element:e,scroll:t,once:!0})})},Br={x:1},zr=function(e){X()(n,e);var t=Or(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"addPartner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Br;"string"==typeof t&&(t=se()({},t,1)),(this.partners||(this.partners=new Lr)).add({id:e.id,scroller:e,axes:t}),e.partners&&e.partners.includes(this.id)||e.addPartner(this,t)}},{key:"removePartner",value:function(e){this.partners&&this.partners.includes(e)&&(this.partners.remove(e),e.removePartner(this))}},{key:"scrollIntoView",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jr,r=e instanceof Wn,i=r?e:Wn.from(e),o=this.getDeltaTo(e,n),a=o.xDelta,s=o.yDelta,u=this.scrollBy(a,s,n);return(n.highlight||n.focus)&&u.then(function(){r&&(e=i.translate(-a,-s)),n.highlight&&yn.highlight(e,t),n.focus&&e.focus()}),u}},{key:"scrollBy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jr,r=this,i="object"===oe()(n)?n.animate:n,o=Math.abs(e),a=Math.abs(t);r.scrollAnimation&&(r.scrollAnimation.cancel(),r.scrollAnimation=null),(e||t)&&(r.silent=n.silent);var s=i&&("number"==typeof i?i:"number"==typeof i.duration?i.duration:300);if(s&&(o>10||a>10)){var u=r.x,c=r.y,l=u,f=c;return Math.max(o,a)<50&&(s=Math.min(s,500)),r.scrollAnimation=Yn.animate(s,function(i){var o=1===i;if(e){if(r.x!==l&&!n.force)return r.scrollAnimation&&r.scrollAnimation.cancel();r.x=Math.max(u+(o?e:Math.round(e*i)),0)}if(t){if(r.y!==f&&!n.force)return r.scrollAnimation&&r.scrollAnimation.cancel();r.y=Math.max(c+(o?t:Math.round(t*i)),0)}l=r.x,f=r.y},r,i.easing),r.element.classList.add("b-scrolling"),r.scrollAnimation.then(function(){r.isDestroyed||(r.element.classList.remove("b-scrolling"),r.scrollAnimation=null)}),r.scrollAnimation}return e|t?(r.x+=e,r.y+=t,Nr(r.element)):Hr}},{key:"scrollTo",value:function(e,t,n){var r=this.x,i=this.y,o=null==e?0:e-r,a=null==t?0:t-i;return this.scrollBy(o,a,n)}},{key:"doDestroy",value:function(){var e=this;e._element&&(e._element.removeEventListener("scroll",e.scrollHandler),e.wheelListenerRemover&&e.wheelListenerRemover()),e.scrollAnimation&&e.scrollAnimation.cancel(),e.partners&&e.partners.forEach(function(t){return t.scroller.removePartner(e)}),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"onElMutation",value:function(e){var t=this,n=yn.getTranslateXY(t.element),r=re()(n,2),i=r[0],o=r[1];if(t._x!==-i||t.y!==-o){var a=new CustomEvent("scroll",{bubbles:!0});Object.defineProperty(a,"target",{get:function(){return t.element}}),t.onScroll(a)}}},{key:"onScroll",value:function(e){var t=this;t.widget&&t.widget.isDestroyed||(t.positionDirty=!0,t.element.classList.contains("b-scrolling")||t.element.classList.add("b-scrolling"),e.widget=t.widget,t.silent||t.trigger("scroll",e),t.syncPartners(),t.controllingPartner=null,t.scrollEndHandler(e))}},{key:"syncPartners",value:function(){var e=this;e.partners&&e.partners.forEach(function(t){var n=t.axes,r=t.scroller;r!==e.controllingPartner&&r.sync(e,n)})}},{key:"onScrollEnd",value:function(e){this.silent&&(this.silent=!1),this.trigger("scrollEnd",e),this.controllingPartner=null,this.element.classList.remove("b-scrolling")}},{key:"getDeltaTo",value:function(e,t){var n=this;if(!n.viewport)return{xDelta:0,yDelta:0};var r=e instanceof Wn?e:Wn.from(e),i=t.block||"nearest",o=n.viewport,a=t.edgeOffset||0,s=o.width>=r.width+2*a?a:0,u=o.height>=r.height+2*a?a:0,c=r.clone().adjust(-s,-u,s,u).constrainTo(new Wn(o.x-n.x,o.y-n.y,n.scrollWidth,n.scrollHeight)),l=c.clone(),f=0,d=0;if("start"===i)l.moveTo(o.x,o.y),f=c.x-l.x,d=c.y-l.y;else if("end"===i)l.translate(o.right-l.right,o.bottom-l.bottom),f=c.x-l.x,d=c.y-l.y;else if("center"===i){var h=o.center;l.moveTo(h.x-l.width/2,h.y-l.height/2),f=f||c.x-l.x,d=d||c.y-l.y}else l.width>o.width?f=l.x-o.x:l.right>o.right?f=l.right-o.right:l.x<o.x&&(f=l.x-o.x),l.height>o.height?d=l.y-o.y:l.bottom>o.bottom?d=l.bottom-o.bottom:l.y<o.y&&(d=l.y-o.y);return{xDelta:!1===t.x?0:Math.round(Math.max(Math.min(f,n.maxX-n.x),-n.x)),yDelta:!1===t.y?0:Math.round(Math.max(Math.min(d,n.maxY-n.y),-n.y))}}},{key:"sync",value:function(e,t){var n=t.x,r=t.y;null!=n&&this.x!==e.x&&(this.controllingPartner=e,this.x=e.x),null!=r&&this.y!==e.y&&(this.controllingPartner=e,this.y=e.y)}},{key:"updateOverflowX",value:function(e){var t=this.element,n=this.translate;"hidden-scroll"!==e||n||(t.classList.add("b-hide-scroll"),this.enableWheel()),n||(t.style.overflowX=_r[e]||e),this.positionDirty=!this.isConfiguring}},{key:"updateOverflowY",value:function(e){var t=this.element,n=this.translate;"hidden-scroll"!==e||n||(t.classList.add("b-hide-scroll"),this.enableWheel()),n||(t.style.overflowY=_r[e]||e),this.positionDirty=!this.isConfiguring}},{key:"enableWheel",value:function(){N.isChrome||N.isSafari||this.wheelListenerRemover||(this.wheelListenerRemover=ur.on({element:this.element,wheel:"onWheel",thisObj:this}))}},{key:"onWheel",value:function(e){Math.abs(e.deltaX)>Math.abs(e.deltaY)&&!1!==this.overflowX?(this.x+=e.deltaX,e.stopPropagation()):!1!==this.overflowY&&(this.y+=e.deltaY,e.stopPropagation())}},{key:"viewport",get:function(){return Wn.client(this.element)}},{key:"element",get:function(){return this._element},set:function(e){var t=this,n=t.scrollHandler||(t.scrollHandler=t.onScroll.bind(t));if(t.scrollEndHandler||(t.scrollEndHandler=t.buffer(t.onScrollEnd,t.scrollEndBuffer)),t._element&&(t.translate?t.mutationObserver&&t.mutationObserver.disconnect(t._element):(t._element.removeEventListener("scroll",n),t._element.classList.remove("b-widget-scroller"))),t._element=e,t.translate){if(t.mutationObserver||(t.mutationObserver=new MutationObserver(function(e){return t.onElMutation(e)})),t.mutationObserver.observe(e,{attributes:!0}),t._x=t._y=0,document.contains(e)){var r=yn.getTranslateXY(e),i=re()(r,2),o=i[0],a=i[1];t._x=-o,t._y=-a}}else e.addEventListener("scroll",n),e.classList.add("b-widget-scroller");t.updateOverflowX(t.overflowX),t.updateOverflowY(t.overflowY)}},{key:"x",get:function(){var e=this,t=e.element;if(t&&e.positionDirty){if(e.translate){var n=yn.getTranslateXY(t),r=re()(n,2),i=r[0],o=r[1];e._x=-i,e._y=-o}else e._x=t.scrollLeft,e._y=t.scrollTop;e.positionDirty=!1}return e._x},set:function(e){var t=this.element,n=this.widget;n&&n.isConfiguring||(this._x=e,t&&(this.trigger("scrollStart",{x:e}),this.translate?yn.setTranslateX(t,-e):t.scrollLeft=e,this.positionDirty=!0))}},{key:"y",get:function(){var e=this,t=e.element;if(t&&e.positionDirty){if(e.translate){var n=yn.getTranslateXY(t),r=re()(n,2),i=r[0],o=r[1];e._x=-i,e._y=-o}else e._x=t.scrollLeft,e._y=t.scrollTop;e.positionDirty=!1}return e._y},set:function(e){var t=this.element,n=this.widget;n&&n.isConfiguring||(this._y=e,t&&(this.trigger("scrollStart",{y:e}),this.translate?yn.setTranslateY(t,-e):t.scrollTop=e,this.positionDirty=!0))}},{key:"maxX",get:function(){return this.scrollWidth-this.clientWidth}},{key:"maxY",get:function(){return this.scrollHeight-this.clientHeight}},{key:"overflowX",get:function(){return this._overflowX},set:function(e){this._overflowX=e,this.element&&this.updateOverflowX(e)}},{key:"overflowY",get:function(){return this._overflowY},set:function(e){this._overflowY=e,this.element&&this.updateOverflowY(e)}},{key:"scrollWidth",get:function(){return this.element?this.element.scrollWidth:0},set:function(e){var t=this,n=t.widthStretcher;n&&null==e?(n.remove(),t.widthStretcher=null):e&&(n||(n=t.widthStretcher=yn.createElement({className:"b-scroller-stretcher"})),n.style.transform="translateX(".concat(e-1,"px)"),t.element&&t.element.lastChild!==n&&t.element.appendChild(n))}},{key:"scrollHeight",get:function(){return this.element?this.element.scrollHeight:0},set:function(e){var t=this,n=t.stretcher||(t.stretcher=yn.createElement({className:"b-scroller-stretcher"}));n.style.transform="translateY(".concat(e-1,"px)"),t.element&&t.element.lastChild!==n&&t.element.appendChild(n)}},{key:"clientWidth",get:function(){return this.element?this.element.clientWidth:0}},{key:"clientHeight",get:function(){return this.element?this.element.clientHeight:0}},{key:"id",get:function(){return this._id||(this.widget?this._id="".concat(this.widget.id,"-scroller"):this._id=De.generateId("scroller-")),this._id}}],[{key:"defaultConfig",get:function(){return{element:null,overflowX:null,overflowY:null,translate:null,_x:0,_y:0,scrollEndBuffer:100}}}]),n}(yr(me(U)));zr._$name="Scroller";var Vr={localeName:"En",localeDesc:"English",Object:{Yes:"Yes",No:"No",Cancel:"Cancel"},Combo:{noResults:"No results"},FilePicker:{file:"File"},Field:{badInput:"Invalid field value",patternMismatch:"Value should match a specific pattern",rangeOverflow:function(e){return"Value must be less than or equal to ".concat(e.max)},rangeUnderflow:function(e){return"Value must be greater than or equal to ".concat(e.min)},stepMismatch:"Value should fit the step",tooLong:"Value should be shorter",tooShort:"Value should be longer",typeMismatch:"Value is required to be in a special format",valueMissing:"This field is required",invalidValue:"Invalid field value",minimumValueViolation:"Minimum value violation",maximumValueViolation:"Maximum value violation",fieldRequired:"This field is required",validateFilter:"Value must be selected from the list"},DateField:{invalidDate:"Invalid date input"},TimeField:{invalidTime:"Invalid time input"},List:{loading:"Loading..."},PagingToolbar:{firstPage:"Go to first page",prevPage:"Go to previous page",page:"Page",nextPage:"Go to next page",lastPage:"Go to last page",reload:"Reload current page",noRecords:"No records to display",pageCountTemplate:function(e){return"of ".concat(e.lastPage)},summaryTemplate:function(e){return"Displaying records ".concat(e.start," - ").concat(e.end," of ").concat(e.allCount)}},DateHelper:{locale:"en-US",weekStartDay:0,unitNames:[{single:"millisecond",plural:"ms",abbrev:"ms"},{single:"second",plural:"seconds",abbrev:"s"},{single:"minute",plural:"minutes",abbrev:"min"},{single:"hour",plural:"hours",abbrev:"h"},{single:"day",plural:"days",abbrev:"d"},{single:"week",plural:"weeks",abbrev:"w"},{single:"month",plural:"months",abbrev:"mon"},{single:"quarter",plural:"quarters",abbrev:"q"},{single:"year",plural:"years",abbrev:"yr"}],unitAbbreviations:[["mil"],["s","sec"],["m","min"],["h","hr"],["d"],["w","wk"],["mo","mon","mnt"],["q","quar","qrt"],["y","yr"]],parsers:{L:"MM/DD/YYYY",LT:"HH:mm A"},ordinalSuffix:function(e){return e+({1:"st",2:"nd",3:"rd"}[e[e.length-1]]||"th")}}},Wr=Vr;function $r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}_e.registerLocale("En",{desc:"English",locale:Vr});var Ur=/transparent|rgba\(0,\s*0,\s*0,\s*0\)/,qr={INPUT:1,TEXTAREA:1},Xr=function(e){e.isVisible&&e.triggerPaint()},Kr=/^:not\((.+)\)$/,Zr=yn.createElement({html:"Â ",style:"position:absolute;top:-10000em;left:-10000em"}),Jr=function(e){X()(n,e);var t=Yr(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;t.alignConstrained=0,t.afterHideShowAnimate=t.afterHideShowAnimate.bind(t),t.onConstrainElementResize=t.realign.bind(t),t.doHideOrRealign=t.doHideOrRealign.bind(t),t.initialRender=!0,t._isUserAction=!1;for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];ce()(Q()(n.prototype),"construct",this).call(this,e,i),t.finalizeInit()}},{key:"isType",value:function(e,t){return De.isType(this,e,t)}},{key:"startConfigure",value:function(e){var t=this,r=t.adopt,i=t.element;if(r){var o="string"==typeof r?document.getElementById(r):r,a=De.fromElement(o);a&&a!==t&&a.destroy(),t.preExistingElements=Array.from(o.childNodes),t.adoptedElementClassName=o.className,t.adoptedElementCssText=o.style.cssText,o.id&&!e.id&&(t.id=i.id=o.id),yn.syncAttributes(i,o);for(var s=0,u=i.childNodes.length;s<u;s++)o.appendChild(i.childNodes[0]);t._element=o,delete t._contentRange}ce()(Q()(n.prototype),"startConfigure",this).call(this,e)}},{key:"finalizeInit",value:function(){(this.insertBefore||this.appendTo||this.insertFirst||this.adopt)&&this.render()}},{key:"doDestroy",value:function(){var e,t,r=this,i=r.tooltip,o=r.preExistingElements,a=r.element;if(r.scrollable&&r.scrollable.destroy(),i&&(r._tooltip?i.destroy():i.activeTarget===a&&i.isVisible&&i.hide()),r.unmask(),r.removeTransientListeners(),r.floating||r.positioned?r.hide():r.revertFocus(),pr.removeResizeListener(a.parentElement,r.onParentElementResize),pr.removeResizeListener(a,r.onElementResize),r.adopt){for(var s=Array.from(a.childNodes),u=0,c=s.length;u<c;u++){var l=s[u];o.includes(l)||l===n.floatRoot||l.remove()}a.className=r.adoptedElementClassName,a.style.cssText=r.adoptedElementCssText}else a.remove();null===(e=r.dragEventDetacher)||void 0===e||e.call(r),null===(t=r.dragOverEventDetacher)||void 0===t||t.call(r),Zr.remove(),De.unregister(r),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"render",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.element;pr.removeResizeListener(r.parentElement,n.onParentElementResize),pr.removeResizeListener(r,n.onElementResize),n.emptyCache(),n.syncElement&&n.currentElement?yn.sync(r,n.currentElement):(e?(n.appendTo="string"==typeof e?document.getElementById(e):e,n.appendTo.appendChild(r)):n.insertBefore?(n.insertBefore="string"==typeof n.insertBefore?document.getElementById(n.insertBefore):n.insertBefore,n.insertBefore.parentElement.insertBefore(r,n.insertBefore)):n.insertFirst?(n.insertFirst="string"==typeof n.insertFirst?document.getElementById(n.insertFirst):n.insertFirst,n.insertFirst.firstChild?n.insertFirst.insertBefore(r,n.insertFirst.firstChild):n.insertFirst.appendChild(r)):n.appendTo&&(n.appendTo="string"==typeof n.appendTo?document.getElementById(n.appendTo):n.appendTo,n.appendTo.appendChild(r)),n.currentElement=r),n.rendered=!0,t&&(n._thisIsAUsedExpression(n.contentRange),n.triggerPaint())}},{key:"template",value:function(e){return'<div class="'.concat(e.html?"b-html":"",'" ').concat(e.name?'data-name="'.concat(e.name,'"'):"",">").concat(e.html||"","</div>")}},{key:"alignTo",value:function(e){(1===e.nodeType||e instanceof n||e instanceof Gn)&&(e={target:e}),this.releaseSizeConstraints();var t=this,r=t.scrollable,i=t.element,o=e.target,a=o&&(o instanceof Wn?o:o.element||o),s=Wn.from(i,t.positioned?i.offsetParent:null,!0),u=a&&1===a.nodeType;if(e=It.assign({constrainTo:t.positioned?null:t.constrainTo,axisLock:t.axisLock,anchor:t.anchor},"object"===oe()(t.align)?t.align:{align:t.align},e),s.minWidth=e.minWidth||t.minWidth,s.minHeight=e.minHeight||t.minHeight,t.lastAlignSpec=e,u&&a.offsetParent){(e=Object.setPrototypeOf({},e)).target=Wn.from(a,t.positioned?i.offsetParent:null,!t.positioned),e.target.height=Math.max(e.target.height,1),e.target.width=Math.max(e.target.width,1);var c=t.clippedBy;if(c){var l=e.target.intersect(c);if(!l){var f=t.hide();return t.lastAlignSpec.targetHidden=!0,f}e.target=l}t.anchoredTo=a}else t.anchoredTo=null;e.anchor&&(e.anchorSize=t.anchorSize,i.appendChild(t.anchorElement)),t.isAligning=!0,t.trigger("beforeAlign",e),t.isAligning=!1;var d=e.constrainTo,h=s.alignTo(e),p=h.align,v=h.anchor,g=h.x,y=h.y,m=h.width,k=h.height,b=h.bottom,w=h.right;if(t.lastAlignSpec.zone=h.zone,k!==s.height&&("configuredHeight"in t||(t.configuredHeight=i.style.height),t.height=k,t.alignConstrained=1|t.alignConstrained,r&&(r.overflowY=!0)),m!==s.width&&("configuredWidth"in t||(t.configuredWidth=i.style.width),t.width=m,t.alignConstrained=2|t.alignConstrained,r&&(r.overflowX=r.clientWidth>r.scrollWidth)),p&&t.alignConstrained){e.align=p;var S=Wn.from(i,t.positioned?i.offsetParent:null,!0).alignTo(e);v=S.anchor,g=S.x,y=S.y,m=S.width,k=S.height,b=S.bottom,w=S.right}if(t.setXY(g,y),v){var D,R=v.edge,C=t.anchorElement,x=[],E=i.style.pointerEvents;i.style.pointerEvents="all","top"===R||"bottom"===R?(x[0]=g+v.x,x[1]="top"===R?y+1:b-1):(x[0]="left"===R?g+1:w-1,x[1]=y+v.y);var T=(D=document).elementFromPoint.apply(D,x);if(i.style.pointerEvents=E||null,T){var M=yn.getStyleValue(T,"background-color");M.match(Ur)?t.anchorPathElement.setAttribute("fill",t.defaultAnchorBackgroundColor):t.anchorPathElement.setAttribute("fill",M)}C.classList.remove("b-hide-display"),C.style.transform="",C.className="b-anchor b-anchor-".concat(R),yn.setTranslateXY(C,v.x,v.y)}else t._anchorElement&&t.anchorElement.classList.add("b-hide-display");"hide"!==t.scrollAction||u||(i.style.pointerEvents="none",t.anchoredTo=document.elementFromPoint(g,y),i.style.pointerEvents=""),("realign"===t.scrollAction&&u||"hide"===t.scrollAction)&&!t.documentScrollListener&&(t.clearTimeout(t.scrollListenerTimeout),t.scrollListenerTimeout=t.setTimeout(function(){t.documentScrollListener=!0,document.addEventListener("scroll",t.doHideOrRealign,!0)},"hide"===t.scrollAction?t.ignoreScrollDuration:0)),N.isAndroid||t.constrainListeners||d instanceof Wn||(t.clearTimeout(t.resizeListenerTimeout),t.resizeListenerTimeout=t.setTimeout(function(){t.constrainListeners=!0,pr.addResizeListener(d||window,t.onConstrainElementResize)},this.ignoreScrollDuration))}},{key:"realign",value:function(e){var t=this;if(t.isVisible&&(t.floating||t.positioned)&&t.lastAlignSpec){var n=t.lastAlignSpec.target;if(n&&1===n.nodeType){var r=Wn.from(n);if(r.minHeight=r.minWidth=1,n!==document.body&&!n.offsetParent||e&&1===e.nodeType&&e.contains(n)&&!Wn.from(e).intersect(r))return t.hide()}t.alignTo(t.lastAlignSpec)}}},{key:"releaseSizeConstraints",value:function(){var e=this,t=e.scrollable;1&e.alignConstrained&&(e.height=e.configuredHeight,t&&(t.overflowY=t.config.overflowY)),2&e.alignConstrained&&(e.width=e.configuredWidth,t&&(t.overflowX=t.config.overflowX)),e.alignConstrained=0}},{key:"toFront",value:function(){this.element&&this.element.nextSibling&&this.element.parentNode.appendChild(this.element)}},{key:"onThemeChange",value:function(){this.anchorElement&&this.anchorElement.offsetParent&&(this._anchorSize=null,this.realign())}},{key:"onWidgetDragStart",value:function(e){var t=this,n=document.elementFromPoint(e.clientX,e.clientY),r=t.draggable.handleSelector;if(r){var i=Kr.exec(r)[1];if(i){if(n.closest("#".concat(t.element.id," ").concat(i)))return void e.preventDefault()}else if(!n.closest("#".concat(t.element.id," ").concat(r)))return void e.preventDefault()}t.removeTransientListeners();var o=e.clientX,a=e.clientY,s=document.scrollingElement||document.body,u=t.getXY()[0],c=t.getXY()[1];document.body.appendChild(Zr),e.dataTransfer.setDragImage&&(e.dataTransfer.setData("application/node type",""),e.dataTransfer.setDragImage(Zr,0,0)),e.dataTransfer.effectAllowed="none",t.dragOverEventDetacher=ur.addListener({element:document.body,dragover:function(e){return t.setXY(u+e.clientX-o-s.scrollLeft,c+e.clientY-a-s.scrollTop)}}),t.anchor=null}},{key:"onWidgetDragEnd",value:function(e){Zr.remove(),this.dragOverEventDetacher()}},{key:"getXY",value:function(){return[yn.getPageX(this.element),yn.getPageY(this.element)]}},{key:"setXY",value:function(e,t){var n=this;(n.floating||n.positioned)&&(null!=e&&(n._x=e,n.centered=!1),null!=t&&(n._y=t,n.centered=!1),yn.setTranslateXY(n.element,n._x||0,n._y||0))}},{key:"fixIEMaxHeightBug",value:function(){var e=this.element,t=this.contentElement;if("column"===yn.getStyleValue(e,"flex-direction")){t.style.maxHeight="";for(var n=Wn.client(e).height,r=e.childNodes,i=r.length,o=0;o<i;o++){var a=r[o];a===t||a.classList.contains("b-resize-monitors")||(n-=a.offsetHeight)}this.contentElement.style.maxHeight="".concat(n,"px")}}},{key:"onDisabled",value:function(e){}},{key:"disable",value:function(){this.disabled=!0}},{key:"enable",value:function(){this.disabled=!1}},{key:"focus",value:function(){this.isFocusable&&yn.focusWithoutScrolling(this.focusElement)}},{key:"show",value:function(){var e=this;return new Promise(function(t){var r,i,o=e,a=o.showAnimation,s=o.element,u=n.floatRoot,c=s.style;o.isVisible||!1===o.trigger("beforeShow")||o.internalBeforeShow&&!1===o.internalBeforeShow()?t():(o.cancelHideShowAnimation(),a&&(r=Object.keys(a)[0],i=a[r],o.currentAnimation={styleProp:r,resolve:t},o.isAnimating=!0,s.addEventListener("transitionend",o.afterHideShowAnimate),c[r]=i.from),o.floating&&(u.contains(s)||(o.rendered?u.appendChild(o.element):o.render(u,!1))),o._hidden=!1,s.classList.remove("b-hidden"),a&&(c.transition="".concat(r," ").concat(i.duration," ease ").concat(i.delay),o.requestAnimationFrame(function(){c[r]=i.to})),o.afterShow(!a&&t),!o.inShowBy&&o.floating&&o.forElement&&!o.hidden&&o.alignTo(o.forElement))})}},{key:"showBy",value:function(e){var t=this;t.inShowBy=!0;var n=t.show();return t.inShowBy=!1,t.isVisible&&t.alignTo(e),n}},{key:"showByPoint",value:function(e,t,n){var r=1===arguments.length?e:[e,t];return this.showBy(Object.assign({target:new Wn(r[0],r[1],1,1),align:"t-b"},n))}},{key:"afterShow",value:function(e){this.boundMaxHeightBugHandler&&this.boundMaxHeightBugHandler(),this.trigger("show"),this.triggerPaint(),e&&e()}},{key:"triggerPaint",value:function(){var e=this,t=e.element,n=!e.isPainted;e.isVisible&&(n&&(e.scaleToFitWidth?(e.onParentElementResize=e.onParentElementResize.bind(e),pr.addResizeListener(t.parentElement,e.onParentElementResize),e.isVisible&&e.updateScale()):e.monitorResize&&(e.onElementResize=e.onElementResize.bind(e),pr.addResizeListener(t,e.onElementResize))),e.eachWidget&&e.eachWidget(Xr,!1),e.trigger("paint",{firstPaint:n}),n&&e.monitorResize&&!e.scaleToFitWidth&&pr.onElementResize([{target:e.element}]),e.isPainted=!0)}},{key:"cancelHideShowAnimation",value:function(){var e=this,t=e.element,n=t.style;e.currentAnimation&&(e.isAnimating=!1,t.classList.remove("b-hiding"),t.removeEventListener("transitionend",e.afterHideShowAnimate),n.transition=n[e.currentAnimation.styleProp]="",e.currentAnimation=null)}},{key:"afterHideShowAnimate",value:function(e){if(!this.isDestroyed){var t=this,n=t.element,r=n.style,i=t.currentAnimation,o=i.styleProp,a=i.resolve;e.target===n&&e.propertyName===o&&(n.classList.remove("b-hiding"),t.isAnimating=!1,t.currentAnimation=null,n.removeEventListener("transitionend",t.afterHideShowAnimate),r.transition=r[o]="",t._hidden&&t.afterHideAnimation(),a())}}},{key:"hide",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise(function(n){var r=e,i=r.element,o=i.style,a=t&&r.hideAnimation;if(!r._hidden&&!1!==r.trigger("beforeHide")){if(r._hidden=!0,!i)return;if(r.revertFocus(),r.isDestroyed)return void n();if(r.cancelHideShowAnimation(),a){var s=Object.keys(a)[0],u=a[s];Number(getComputedStyle(r.element)[s])!==u.to?(r.currentAnimation={styleProp:s,resolve:n},i.classList.add("b-hiding"),r.isAnimating=!0,i.addEventListener("transitionend",r.afterHideShowAnimate),o[s]=u.from,o.transition="".concat(s," ").concat(u.duration," ease ").concat(u.delay),r.requestAnimationFrame(function(){o[s]=u.to})):i.classList.add("b-hidden")}else i.classList.add("b-hidden");r.afterHide(!a&&n)}})}},{key:"doHideOrRealign",value:function(e){var t=this,n=t.anchoredTo,r=t.lastAlignSpec,i=r&&r.target,o=document.activeElement,a=t.getXY(),s=re()(a,2),u=s[0],c=s[1];if(!t.element.contains(e.target)&&e.isTrusted&&!(9===e.target.nodeType&&t.element.contains(o)&&qr[o]&&window.innerHeight<document.body.offsetHeight)&&(t.realign(e.target),!t.isDestroyed&&"hide"===t.scrollAction)){var l=t.getXY(),f=re()(l,2),d=f[0],h=f[1];!(d!==u||h!==c||i instanceof Gn)||n&&!yn.isDescendant(e.target,n)||t.hide()}}},{key:"afterHide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,n=t.lastAlignSpec;n&&(n.targetHidden=null),t.removeTransientListeners(),t.hideAnimation||t.afterHideAnimation(),t.trigger("hide"),e&&e()}},{key:"removeTransientListeners",value:function(){var e=this;e.documentScrollListener&&(document.removeEventListener("scroll",e.doHideOrRealign,!0),e.documentScrollListener=!1),e.constrainListeners&&(pr.removeResizeListener(e.lastAlignSpec.constrainTo||window,e.onConstrainElementResize),e.constrainMutationMonitor&&e.constrainMutationMonitor.disconnect(),e.constrainListeners=!1)}},{key:"afterHideAnimation",value:function(){var e=this.element;this.floating&&n.floatRoot.contains(e)?e.remove():e.classList.add("b-hidden")}},{key:"getSibling",value:function(e){var t=this.parent,n=t?t.childItems:Array.from(this.element.parentElement.querySelectorAll(".b-widget"));return t?n[n.indexOf(this)+e]:De.fromElement(n[n.indexOf(this.element)+e])}},{key:"up",value:function(e,t,n){for(var r=oe()(n),i="number"===r,o="string"===r,a=this.owner,s=1;a;a=a.owner,s++){if(Re(a,e,t))return a;if(i&&s>=n)return;if(o&&Re(a,n,t))return;if(a===n)return}}},{key:"owns",value:function(e){if(e){if(e.eventPhase&&(e=e.target),1===e.nodeType){if(this.element.contains(e))return!0;e=De.fromElement(e)}for(;e;){if(e===this)return!0;e=e.owner}}return!1}},{key:"onFocusIn",value:function(e){var t=this,n=t.element;t.containsFocus=!0,t.focusInEvent=e,n.classList.add("b-contains-focus"),n.contains(e.target)&&t.onInternalKeyDown&&!t.keyDownListenerRemover&&(t.keyDownListenerRemover=ur.on({element:n,keydown:"onInternalKeyDown",thisObj:t})),t.trigger("focusin",e)}},{key:"onFocusOut",value:function(e){var t=this;t.keyDownListenerRemover&&(t.keyDownListenerRemover(),t.keyDownListenerRemover=null),t.isDestroyed||(e.relatedTarget||t.revertFocus(!0),t.containsFocus=!1,t.element.classList.remove("b-contains-focus"),t.trigger("focusout",e))}},{key:"revertFocus",value:function(e){var t=this.focusInEvent&&this.focusInEvent.relatedTarget;(e||this.containsFocus&&t&&1===t.nodeType&&this.element.contains(document.activeElement))&&(t&&yn.isFocusable(t)||(t=this.getFocusRevertTarget()),t&&yn.isFocusable(t)&&yn.focusWithoutScrolling(t))}},{key:"getFocusRevertTarget",value:function(){var e=this,t=e.owner,n=e.focusInEvent,r=n&&n.backwards?1:-1,i=n&&n.relatedTarget,o=i&&De.fromElement(i);if(t&&!t.isDestroyed&&(!i||!yn.isFocusable(i)||o&&!o.isFocusable)){if(i=null,t.eachWidget){var a=[];if(t.eachWidget(function(t){(t===e||t.isFocusable)&&a.push(t)},!1),a.length>1){var s=a.indexOf(e);i=a[s+r]||a[s-r]}}!i&&t.isFocusable&&(i=t),i=i?i.focusElement:t.getFocusRevertTarget()}return i}},{key:"fromCache",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.element;if(!n)return null;var r=this;return r.cache[e]||(r.cache[e]=t?yn.children(n,e):yn.down(n,e)),r.cache[e]}},{key:"emptyCache",value:function(){this.cache={}}},{key:"mask",value:function(e){var t=this;return t.maskInstance&&t.maskInstance.destroy(),"string"==typeof e?t.maskInstance=Ce.mask(t.element,e):(e.element=t.element,t.maskInstance=Ce.mask(e))}},{key:"unmask",value:function(){this.maskInstance&&(Ce.unmask(this.element),this.maskInstance=null)}},{key:"onInternalResize",value:function(e,t,n,r,i){this._width=e.offsetWidth,this._height=e.offsetHeight}},{key:"onElementResize",value:function(e){var t=this,n=t.element,r=t._width,i=t._height,o=n.offsetWidth,a=n.offsetHeight;t.suspendResizeMonitor||r===o&&i===a||(t.onInternalResize(n,o,a,r,i),t.trigger("resize",{width:o,height:a,oldWidth:r,oldHeight:i}))}},{key:"updateScale",value:function(){var e=this,t=e.element,n=t.parentElement;e.configuredWidth||(e.configuredWidth=e.width),e.parentHeight||(e.parentHeight=n.offsetHeight),t.style.display="none";var r=n.offsetWidth/e.configuredWidth,i=e.allowGrowWidth?Math.min(r,1):r;t.style.transform="scale(".concat(i,")"),t.style.transformOrigin="top left",t.style.display="",n.style.height=e.parentHeight*i+"px",e.allowGrowWidth&&r>1&&(e.width=e.configuredWidth*r)}},{key:"onParentElementResize",value:function(e){this.updateScale()}},{key:"parseTRBL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"px";if("number"==typeof(e=e||0))return["".concat(e).concat(t),"".concat(e).concat(t),"".concat(e).concat(t),"".concat(e).concat(t)];var n=e.split(" "),r=n.length;return 1===r?n[1]=n[2]=n[3]=n[0]:2===r?(n[2]=n[0],n[3]=n[1]):3===r&&(n[3]=n[1]),[isFinite(n[0])?"".concat(n[0]).concat(t):n[0],isFinite(n[1])?"".concat(n[1]).concat(t):n[2],isFinite(n[2])?"".concat(n[2]).concat(t):n[3],isFinite(n[3])?"".concat(n[3]).concat(t):n[4]]}},{key:"title",set:function(e){this._title!==e&&(this._title=e,this.titleElement&&(this.titleElement.innerHTML=e))},get:function(){return this._title}},{key:"element",get:function(){return this._element},set:function(e){var t=this;"string"==typeof e?e=yn.createElementFromTemplate(e):"Object"===e.constructor.name?e=yn.createElement(e):1!==e.nodeType&&(e=yn.createElementFromTemplate(t.template(t))),t._element=e;var n=e.classList;e.id=t.id,e.className+=" "+t.widgetClassList.join(" "),t._hidden&&n.add("b-hidden"),t.parent||(t.floating||t.owner||n.add("b-outer"),N.isTouchDevice&&n.add("b-touch-events"),yn.scrollBarWidth?n.add("b-visible-scrollbar"):n.add("b-overlay-scrollbar"),N.isChrome?n.add("b-chrome"):N.isSafari?n.add("b-safari"):N.isFirefox?n.add("b-firefox"):N.isIE11?n.add("b-ie"):N.isEdge&&n.add("b-edge"));var r,i=$r(e.querySelectorAll("[reference]"));try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.getAttribute("reference");o.removeAttribute("reference"),t[a]=o,o.dataset&&(o.dataset.ownerCmp=t.id)}}catch(e){i.e(e)}finally{i.f()}}},{key:"constrainTo",set:function(e){this._constrainTo=e},get:function(){return"_constrainTo"in this?this._constrainTo:window}},{key:"centered",set:function(e){if(this._centered=e,e&&!this.floating)throw new Error("`centered` is only relevant when a Widget is `floating`");e?this.element.classList.add("b-centered"):this.element.classList.remove("b-centered")},get:function(){return this._centered}},{key:"contentElement",get:function(){return this.element}},{key:"contentRange",get:function(){var e=this,t=e.contentElement,n=e._contentRange||(e._contentRange=N.isIE11?document.createRange():new Range);return n.collapsed&&(n.setStart(t,e.contentRangeStartOffset||0),n.setEnd(t,e.contentRangeEndOffset||t.childNodes.length)),n}},{key:"id",get:function(){return this._id},set:function(e){var t=this,n=t._id;if(e?t.hasGeneratedId=!1:(e=De.generateId("b-".concat(t.$name.toLowerCase(),"-")),t.hasGeneratedId=!0),n){var r=t.element.querySelectorAll('[data-owner-cmp="'.concat(n,'"]'));De.unregister(t);for(var i=0,o=r.length;i<o;i++)r[i].dataset.ownerCmp=e;t.element.id=e}t._id=e,De.register(t)}},{key:"style",get:function(){return this.element?this.element.ownerDocument.defaultView.getComputedStyle(this.element):this._style},set:function(e){this._style=e,this.element&&yn.applyStyle(this.element,this._style)}},{key:"dataset",get:function(){return this.element.dataset},set:function(e){Object.assign(this.dataset,e)}},{key:"ref",set:function(e){this._ref=e,this.element.dataset.ref=e},get:function(){return this._ref}},{key:"clippedBy",set:function(e){this._clippedBy=Array.isArray(e)?e:e?[e]:null},get:function(){var e=this._clippedBy;if(e){var t,n=Wn.from(e[0],null,!0);for(t=1;t<e.length;t++)n=n.intersect(Wn.from(e[t],null,!0));return n}}},{key:"overflowElement",get:function(){return this.contentElement}},{key:"maxHeightElement",get:function(){return this.element}},{key:"scrollable",set:function(e){var t=this.overflowElement;"boolean"==typeof e&&(e={overflowX:e,overflowY:e}),t&&(e.element=t),e.widget=this,this._scrollable=new this.scrollerClass(e)},get:function(){return this._scrollable}},{key:"html",get:function(){return this.initializingElement||!this.element?this.content||this._html:this.contentElement.innerHTML},set:function(e){var t=this,n=null==e,r=t.element,i=t.contentElement;if(t._html!==e&&(t._html=e,r)){var o=i===r&&t._anchorElement;r.classList[n?"remove":"add"]("b-html"),o&&t.element.removeChild(o),t.contentElement.innerHTML=n?"":e,o&&r.appendChild(o),(t.floating||t.positioned)&&(t.isAligning||t.realign())}}},{key:"content",set:function(e){var t=this,n=null==e,r=t.element;if(t._html!==e&&(t._html=e,r)){var i=t.contentRange;r.classList[n?"remove":"add"]("b-html"),gn(r)?(i.deleteContents(),n||i.insertNode(yn.createElementFromTemplate(e,{fragment:!0}))):t.contentElement.innerHTML=e,t.contentRangeStartOffset=i.startOffset,t.contentRangeEndOffset=i.endOffset,t.isAligning&&!t.positioned||t.realign()}}},{key:"anchorSize",get:function(){var e=this,t=this._anchorSize;if(!t){var n=parseFloat(yn.getStyleValue(e.element,"border-top-width")),r=yn.getStyleValue(e.element,"border-top-color"),i=e.anchorElement,o=i.firstElementChild,a=e.anchorPathElement=o.lastElementChild,s=e._hidden,u=yn.getStyleValue(e.contentElement,"background-color");u.match(Ur)&&(u=yn.getStyleValue(e.element,"background-color")),e.defaultAnchorBackgroundColor=u,t=i.getBoundingClientRect();var c=t=e._anchorSize=[t.width,t.height],l=re()(c,2),f=l[0],d=l[1];o.setAttribute("height",d+n),o.setAttribute("width",f),a.setAttribute("d","M0,".concat(d,"L").concat(f/2,",0.5L").concat(f,",").concat(d)),n&&(a.setAttribute("stroke-width",n),a.setAttribute("stroke",r)),t[1]-=n,s&&e.element.classList.add("b-hidden"),e.themeChangeListener||(e.themeChangeListener=ri.on({theme:"onThemeChange",thisObj:e}))}return e.anchorPathElement.setAttribute("fill",e.defaultAnchorBackgroundColor),t}},{key:"anchorElement",get:function(){var e=this._anchorElement;return e||(e=this._anchorElement=yn.createElement({parent:this.element,className:"b-anchor b-anchor-top",children:[{tag:"svg",ns:"http://www.w3.org/2000/svg",version:"1.1",class:"b-pointer-el",children:[{tag:"defs",children:[{tag:"filter",id:"shadow-filter",children:[{tag:"feDropShadow",dx:0,dy:-1,stdDeviation:2,"flood-opacity":.05}]}]},{tag:"path",filter:N.isIE11||N.isEdge?null:"url(#shadow-filter)"}]}]})),e}},{key:"anchor",set:function(e){this._anchor=e,this._anchorElement&&this._anchorElement.classList[e?"remove":"add"]("b-hide-display")},get:function(){return this._anchor}},{key:"draggable",get:function(){return this._draggable},set:function(e){var t=this,n=t.element;t._draggable=e,n.setAttribute("draggable",Boolean(e)),e?t.dragEventDetacher=ur.addListener({element:t.element,dragstart:t.onWidgetDragStart,dragend:t.onWidgetDragEnd,thisObj:t}):(t.dragEventDetacher&&t.dragEventDetacher(),t.dragOverEventDetacher&&t.dragOverEventDetacher())}},{key:"floating",get:function(){return this._floating},set:function(e){e=Boolean(e),Boolean(this.floating)!==e&&(this._floating=e)}},{key:"positioned",get:function(){return this._positioned},set:function(e){e=Boolean(e),Boolean(this.positioned)!==e&&(this.element.classList[e?"add":"remove"]("b-positioned"),this._positioned=e)}},{key:"x",set:function(e){this.setXY(e)},get:function(){return this.getXY()[0]}},{key:"y",set:function(e){this.setXY(null,e)},get:function(){return this.getXY()[1]}},{key:"width",get:function(){var e=this,t=e.element;return e.monitorResize?(null==e._width&&(e._width=t.offsetWidth),e._width):t.offsetWidth},set:function(e){yn.setLength(this.element,"width",e),this._width=null,this._flex=null,this.element.style.flex=N.isIE11?"":null}},{key:"maxWidth",get:function(){return yn.measureSize(this.element.style.maxWidth,this.element)},set:function(e){yn.setLength(this.element,"maxWidth",e)}},{key:"minWidth",get:function(){return yn.measureSize(this.element.style.minWidth,this.element)},set:function(e){yn.setLength(this.element,"minWidth",e)}},{key:"flex",get:function(){return this._flex},set:function(e){this._flex=e,("number"==typeof e||"string"==typeof e&&1===e.split(/\s/).length)&&(e="".concat(e," ").concat(e)),this.element.style.flex=e,this.element.style.width=N.isIE11?"":null}},{key:"alignSelf",get:function(){return this._alignSelf},set:function(e){this.element.style.alignSelf=e}},{key:"margin",get:function(){return this._margin},set:function(e){this.element.style.margin=this._margin=this.parseTRBL(e).join(" ")}},{key:"height",get:function(){var e=this,t=e.element;return e.monitorResize?(null==e._height&&(e._height=t.offsetHeight),e._height):t.offsetHeight},set:function(e){yn.setLength(this.element,"height",e),this._height=null}},{key:"maxHeight",get:function(){return yn.measureSize(this.maxHeightElement.style.maxHeight,this.element)},set:function(e){var t=this,n=t.element;yn.setLength(t.maxHeightElement,"maxHeight",e),N.isIE11&&t.contentElement!==n&&(null==e?pr.removeResizeListener(n,t.boundMaxHeightBugHandler):(pr.addResizeListener(n,t.boundMaxHeightBugHandler||(t.boundMaxHeightBugHandler=t.fixIEMaxHeightBug.bind(t))),document.body.contains(n)&&t.fixIEMaxHeightBug()))}},{key:"minHeight",get:function(){return yn.measureSize(this.element.style.minHeight,this.element)},set:function(e){yn.setLength(this.element,"minHeight",e)}},{key:"disabled",get:function(){return this._disabled},set:function(e){var t=this.element,n=this.focusElement;e&&this.revertFocus(),t&&(t.classList[e?"add":"remove"]("b-disabled"),n&&(n.disabled=e)),this._disabled=e,this.onDisabled(e)}},{key:"tooltip",get:function(){if(this._tooltip)return this._tooltip;var e=this.constructor.tooltip;return e&&e.trigger("pointerOver",{source:e,target:this.element}),e},set:function(e){var t=this;t._tooltip&&(t._tooltip.destroy(),t._tooltip=null),delete t.element.dataset.btip,e&&(t.preventTooltipOnTouch&&N.isTouchDevice||("Object"!==e.constructor.name&&(e={html:"string"==typeof e?e:t.placeholder,textContent:!0}),e.newInstance?(e.type="tooltip",e.forElement||(e.forElement=t.element),"showOnHover"in e||e.forSelector||(e.showOnHover=!0),"autoClose"in e||(e.autoClose=!0),t._tooltip=Ce.createWidget(e)):(t.element.dataset.btip=!0,t.tipConfig=e)))}},{key:"isVisible",get:function(){var e=this,t=e.element;return Boolean(t&&!e._hidden&&!e.isDestroying&&gn(t)&&(!e.requireSize||function e(t){return t&&(t===document.body||("offsetParent"in t?t.offsetParent:e(t.parentNode)))}(t))&&(!e.owner||e.owner.isVisible))}},{key:"focusElement",get:function(){}},{key:"isFocusable",get:function(){var e=this.focusElement;return e&&this.isVisible&&!this.disabled&&(e===document.body||e.offsetParent)}},{key:"visible",set:function(e){this.hidden=!e}},{key:"hidden",set:function(e){this.isConfiguring?(this._hidden=e,this.element.classList[e?"add":"remove"]("b-hidden")):e?this.hide():this.show()},get:function(){return Boolean(this._hidden)}},{key:"assignedId",get:function(){return this.hasGeneratedId?null:this.id}},{key:"owner",get:function(){return this.parent||this._owner||this._element&&De.fromElement(this.forElement||this.element.parentNode)},set:function(e){this._owner=e}},{key:"previousSibling",get:function(){return this.getSibling(-1)}},{key:"nextSibling",get:function(){return this.getSibling(1)}},{key:"widgetClassList",get:function(){var e=this,t=e.cls,r=e.classHierarchy(n).reduce(function(t,n){var r,i=Reflect.getOwnPropertyDescriptor(n.prototype,"widgetClass");if(i&&i.get)r=i.get.call(e);else{var o=Object.prototype.hasOwnProperty.call(n,"$name")||Object.prototype.hasOwnProperty.call(n,"_$name")?n.$name:n.name;(o.length<3||o.includes("$"))&&console.warn("Widget class ".concat(o," with no $name getter found")),r="b-".concat(o.toLowerCase())}return r&&t.push.apply(t,te()(r.split(" "))),t},t?t.split(" "):[]);return e.floating&&r.push("b-floating"),N.isTouchDevice&&r.push("b-touch"),r}},{key:"isAnimating",get:function(){return this._animating},set:function(e){e!==this.isAnimating&&(this.element.classList[e?"add":"remove"]("b-animating"),this._animating=e)}}],[{key:"$name",get:function(){return"Widget"}},{key:"defaultConfig",get:function(){return{element:!0,callOnFunctions:!0,id:"",html:null,hasGeneratedId:null,cls:null,style:null,disabled:null,adopt:null,appendTo:null,insertBefore:null,insertFirst:null,dataset:null,tooltip:null,preventTooltipOnTouch:null,monitorResize:null,cache:{},floating:null,positioned:null,draggable:null,align:"t-b",centered:null,constrainTo:null,anchor:null,scrollAction:null,hideAnimation:null,showAnimation:null,x:null,y:null,scrollable:null,scrollerClass:zr,defaultBindProperty:"html",defaultAction:null,width:null,height:null,scaleToFitWidth:null,allowGrowWidth:!0,margin:null,flex:null,alignSelf:null,ripple:null,title:null,localizableProperties:["title"],requireSize:!1,ref:null,hidden:null,ignoreScrollDuration:500}}},{key:"floatRoot",get:function(){var e=this;return e._floatRoot||(e._floatRoot=document.querySelector(".b-float-root")),e._floatRoot?document.body.contains(e._floatRoot)||document.body.appendChild(e._floatRoot):(e._floatRoot=yn.createElement({className:"b-float-root",parent:document.body}),N.isAndroid&&(e._floatRoot.style.height="".concat(screen.height,"px"),ur.on({element:window,orientationchange:function(){return e._floatRoot.style.height="".concat(screen.height,"px")}}))),e._floatRoot}}]),n}(yr(me(We(U))));function Qr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Jr._$name="Widget",ke.register("widget",Jr);var ei,ti,ni=!1,ri=(window.bryntum||(window.bryntum={})).GlobalEvents=new(function(e){X()(n,e);var t=Qr(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"suspendFocusEvents",value:function(){ni=!0}},{key:"resumeFocusEvents",value:function(){ni=!1}},{key:"lastInteractionType",get:function(){return ti}}]),n}(me(U))),ii=function(e){return e.isVisible&&e.isTopModal};function oi(e,t,n,r,i,o,a){var s=new CustomEvent(e,a);return Object.defineProperty(s,"target",{get:function(){return t}}),Object.defineProperty(s,"relatedTarget",{get:function(){return n}}),s.fromWidget=r,s.toWidget=i,s.backwards=o,s}function ai(e,t){if(e===t)return e;for(var n=e instanceof Jr;e&&!e[n?"owns":"contains"](t)&&e!==t;)e=e[n?"owner":"parentNode"];return e}var si={element:document,touchstart:function(e){ei=ei||1!==e.changedTouches.length?null:e.changedTouches[0]},touchend:{handler:function(e){ei&&(ei.identifier===ur.contextMenuTouchId?(e.stopImmediatePropagation(),e.preventDefault()):1===e.changedTouches.length&&e.changedTouches[0].identifier===ei.identifier&&ri.trigger("globaltap",{event:e}),ei=null)},passive:!1},mousedown:{handler:function(e){ti="mouse",ei||ri.trigger("globaltap",{event:e})},passive:!1},keydown:function(){ti="key"},keypress:function(){ti="key"},focusin:function(e){if(Jr.floatRoot.scrollTop=Jr.floatRoot.scrollLeft=0,!ni){var t=e.relatedTarget?e.relatedTarget instanceof HTMLElement?e.relatedTarget:document.body:null,n=e.target||document.body,r=De.fromElement(t),i=De.fromElement(n),o=ai(r,i),a=!!(t&&4&n.compareDocumentPosition(t)),s=De.query(ii),u=document.activeElement;if(!s||i&&s.owns(i)){for(var c=oi("focusout",t,e.target,r,i,a),l=r;l&&l!==o;l=l.owner)if(!l.isDestroyed&&!l.isDestroying&&l.onFocusOut&&(l.onFocusOut(c),u!==document.activeElement))return;if(o&&e.target===o.element)document.activeElement===n&&o.focusElement&&o.focusElement!==o.element&&o.setTimeout(function(){return o.focus&&o.focus()},0);else{c=oi("focusin",n,t,r,i,a);for(var f=i;f&&f!==o;f=f.owner)f.isDestroyed||f.isDestroying||f.onFocusIn&&f.onFocusIn(c)}var d=ai(t&&1===t.nodeType?t:null,n)||n.parentNode;c=oi("focusmove",n,t,r,i,a,{bubbles:!0}),d.dispatchEvent(c)}else s.focus()}},focusout:function(e){ni||e.relatedTarget&&De.fromElement(e.relatedTarget)||si.focusin({target:e.relatedTarget,relatedTarget:e.target})},capture:!0,passive:!0};function ui(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=It.assign({},si,{element:e});ur.on(t)}function ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ui();var li=function(e){X()(n,e);var t=ci(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).call(this,e),this.element||(this.element=document.body),this.show()}},{key:"doDestroy",value:function(){var e=this;e.maskElement&&(e.maskElement.remove(),e.maskElement=null,e.mode.endsWith("blur")&&yn.forEachChild(e.element,function(t){t.classList.remove("b-masked-".concat(e.mode))}),e.elementMask=null),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"create",value:function(){var e,t=this;t.elementMask=t,Object.assign(t,yn.createElement({parent:t.element,className:(e={"b-mask":1,"b-mask-type":1,"b-widget":1},se()(e,"b-mask-".concat(t.mode),1),se()(e,"b-progress",t.maxProgress),se()(e,"b-prevent-transitions",!t.useTransition),e),reference:"maskElement",children:[{className:"b-mask-content",reference:"maskContent",children:[t.maxProgress?{className:"b-mask-progress-bar",reference:"progressElement",style:{width:Math.round(t.progress/t.maxProgress*100)+"%"}}:null,{className:"b-mask-text",reference:"maskText"}]}]})),t.text=t._text}},{key:"show",value:function(){var e=this;e.hasTimeout("hide")&&(e.resolve(),e.clearTimeout("hide")),e.elementMask||e.create();var t=e.element,n=e.maskElement;n&&(t.classList.add("b-masked"),n.classList.add("b-visible"),n.classList.remove("b-hidden"),e.shown=!0,e.mode.endsWith("blur")&&yn.forEachChild(t,function(t){t!==n&&t.classList.add("b-masked-".concat(e.mode))}))}},{key:"hide",value:function(){var e=this,t=e.element,n=e.maskElement;return new Promise(function(r){e.shown?(e.shown=!1,n.classList.remove("b-visible"),n.classList.add("b-hidden"),t.classList.remove("b-masked"),e.mode.endsWith("blur")&&yn.forEachChild(t,function(t){t!==n&&t.classList.remove("b-masked-".concat(e.mode))}),e.resolve=r,e.setTimeout(function(){return r()},500,"hide")):r()})}},{key:"close",value:function(){var e=this;return new Promise(function(t){e.hide().then(function(){e.destroy(),t()})})}},{key:"typeName",get:function(){return"string"==typeof this.type?this.type.trim():""}},{key:"maskName",get:function(){return"mask".concat(this.typeName)}},{key:"elementMask",get:function(){return this.element&&this.element[this.maskName]},set:function(e){this.element&&(this.element[this.maskName]=e)}},{key:"text",set:function(e){var t=this;t._text=e||"",t.maskText&&(t.maskText.innerHTML='<i class="b-mask-icon '.concat(t.icon,'"></i>').concat(t._text))},get:function(){return this._text}},{key:"progress",set:function(e){this._progress=e,this.progressElement&&null!=e&&(this.progressElement.style.width=Math.round(e/this._maxProgress*100)+"%")},get:function(){return this._progress}},{key:"maxProgress",set:function(e){this._maxProgress=e,this.progress=this.progress},get:function(){return this._maxProgress}}],[{key:"mask",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;return new n("string"!=typeof e?Object.assign({element:t},e):{element:t,text:e})}},{key:"unmask",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return e.mask&&e.mask.close()}},{key:"$name",get:function(){return"Mask"}},{key:"defaultConfig",get:function(){return{mode:"dark",icon:"b-icon b-icon-spinner",text:null,type:null,progress:null,maxProgress:null,useTransition:!1}}}]),n}(yr());li._$name="Mask";var fi=n(23),di=n.n(fi);n(89);function hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var pi=function(e){X()(n,e);var t=hi(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"template",value:function(){return'<div class="b-icon"></div>'}},{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).call(this,e),ur.on({element:this.element,click:"onClick",mousedown:"onMousedown",thisObj:this})}},{key:"onClick",value:function(e){var t=this,n=t.panel,r="function"==typeof t.handler?t.handler:n[t.handler];!1!==n.trigger("toolclick",{tool:t})&&r&&t.callback(r,n,[e])}},{key:"onMousedown",value:function(e){var t=this.panel,n=t.focusElement;e.preventDefault(),n&&document.activeElement!==n&&t.focus()}},{key:"panel",get:function(){return this.parent}}],[{key:"$name",get:function(){return"Tool"}}]),n}(Jr);function vi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}pi._$name="Tool",ke.register("tool",pi);var gi=function(e){X()(n,e);var t=vi(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"renderChildren",value:function(){var e=this.owner,t=this.containerCls,n=this.itemCls,r=e.contentElement,i=e.items,o=e.itemCls,a=i&&i.length;if(r.classList.add("b-content-element"),t&&r.classList.add(t),a){e.textContent=!1;for(var s=0;s<a;s++){var u=i[s],c=u.element;c.dataset.itemIndex=s,n&&c.classList.add(n),o&&c.classList.add(o),c.classList.remove("b-outer"),u.render(r,Boolean(e.isPainted))}}}},{key:"removeChild",value:function(e){var t=e.element,n=this.owner,r=this.itemCls,i=n.contentElement,o=n.itemCls;i.removeChild(t),delete t.dataset.itemIndex,r&&t.classList.remove(r),o&&t.classList.remove(o),this.fixChildIndices()}},{key:"appendChild",value:function(e){var t=e.element,n=this.owner.indexOfChild(e),r=this.owner,i=this.itemCls,o=r.contentElement,a=r.itemCls;t.dataset.itemIndex=n,r.textContent=!1,i&&t.classList.add(i),a&&t.classList.add(a),o.appendChild(t)}},{key:"insertChild",value:function(e,t){var n=e.element,r=this.owner,i=this.itemCls,o=r.contentElement,a=o.querySelector('[data-item-index="'.concat(t-1,'"]')),s=r.itemCls;r.textContent=!1,i&&n.classList.add(i),s&&n.classList.add(s),o.insertBefore(n,a&&a.nextSibling),this.fixChildIndices()}},{key:"fixChildIndices",value:function(){this.owner.items.forEach(function(e,t){e.element.dataset.itemIndex=t})}}],[{key:"getLayout",value:function(e,t){if(e instanceof n)return e;var r="string"==typeof e,i={owner:t};return new(r?yi[e]:e)(r?i:Object.assign(i,e))}},{key:"registerLayout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.$name.toLowerCase();yi[t]=e}},{key:"defaultConfig",get:function(){return{containerCls:null,itemCls:null}}}]),n}(me(U)),yi={default:gi};function mi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}gi._$name="Layout";var ki=0,bi=function(e){return e.ripple},wi=window.Ripple=new(function(e){X()(n,e);var t=mi(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"afterConstruct",value:function(){ce()(Q()(n.prototype),"afterConstruct",this).call(this),ur.on({element:document,mousedown:"onRippleControllingEvent",thisObj:this,capture:!0,once:!0})}},{key:"onRippleControllingEvent",value:function(e){var t=this;t.show();var n=yn.getStyleValue(t.circleElement,"animationName");t.hide(),t.listenerDetacher&&t.listenerDetacher(),n&&"none"!==n&&(t.listenerDetacher=ur.on({mousedown:{element:document,capture:!0,handler:"onDocumentMousedown"},touchstart:{element:document,capture:!0,handler:"onDocumentTouchStart"},animationend:{element:t.circleElement,handler:"onAnimationEnd"},thisObj:t}),"mousedown"===e.type&&(t.onDocumentMousedown(e),ri.on({theme:"onRippleControllingEvent",thisObj:this})))}},{key:"onDocumentTouchStart",value:function(e){ki=performance.now(),this.handleTriggerEvent(e)}},{key:"onDocumentMousedown",value:function(e){performance.now()-ki>200&&this.handleTriggerEvent(e)}},{key:"handleTriggerEvent",value:function(e){var t=De.fromElement(e.target,bi);if(t){var n=t.ripple,r=n.delegate?e.target.closest(n.delegate):t.focusElement||t.element;if(r){var i=It.assign({event:e,target:r,radius:this.radius},n);if("string"==typeof i.clip&&(i.clip=t[i.clip]||e.target.closest(i.clip),!i.clip))return;this.ripple(i)}}}},{key:"ripple",value:function(e){var t=e.event,n=e.point,r=void 0===n?ur.getClientPoint(t):n,i=e.target,o=void 0===i?t.target:i,a=e.clip,s=void 0===a?o:a,u=e.radius,c=void 0===u?this.radius:u,l=e.color,f=void 0===l?this.color:l;this.clip=s,s=Wn.from(s,null,!0);var d=this,h=s.getDelta(r),p=d.rippleElement.style,v=d.circleElement;d.hide(),d.alignTo(s),p.transform="translateX(".concat(h[0],"px) translateY(").concat(h[1],"px)"),p.height=p.width="".concat(c,"px"),v.setAttribute("r",c),v.setAttribute("fill",f),d.show(),d.requestAnimationFrame(function(){document.addEventListener("scroll",d.callRealign,!0),d.documentScrollListener=!0})}},{key:"alignTo",value:function(e){1===e.nodeType&&(e=Wn.from(e,null,!0));var t=e,n=t.x,r=t.y,i=t.width,o=t.height;this.x=n,this.y=r,this.height=o,this.width=i}},{key:"onAnimationEnd",value:function(e){"b-ripple-expand"===e.animationName&&this.hide()}},{key:"realign",value:function(){this.isVisible&&this.alignTo(this.clip)}}],[{key:"defaultConfig",get:function(){return{id:"bryntum-ripple",old_element:{children:[{className:"b-ripple-inner",reference:"rippleElement"}]},element:{children:[{tag:"svg",class:"b-ripple-inner",reference:"rippleElement",ns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 100 100",children:[{reference:"circleElement",tag:"circle",cx:"0",cy:"0",r:10}]}]},floating:!0,hideAnimation:!1,showAnimation:!1,scrollAction:"realign",color:"rgba(0,0,0,.3)",startRadius:10,radius:100}}},{key:"$name",get:function(){return"Ripple"}}]),n}(Jr));function Si(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Di(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ri=function(){function e(t){E()(this,e);var n=this;n.generation=0,n.items=new Set,n.idMap={},n.idProperty="id",t&&(t.idProperty&&(n.idProperty=t.idProperty),t.values&&(n.values=t.values))}return M()(e,[{key:"get",value:function(e){return this.idMap[Fr(e)]}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];1===t.length&&Array.isArray(t[0])&&(t=t[0]);for(var r=this,i=r.items,o=r.idMap,a=r.idProperty,s=t.length,u=0;u<s;u++){var c=t[u],l=Ar[oe()(c)]?c:Fr(c[a]),f=o[l];null==f?(o[l]=c,i.add(c),r.generation++):f!==c&&(o[l]=c,i.delete(f),i.add(c))}}},{key:"remove",value:function(e){Array.isArray(e)||(e=[e]);for(var t=this.items,n=this.idMap,r=this.idProperty,i=e.length,o=0;o<i;o++){var a=e[o],s=Ar[oe()(a)]?a:Fr(a[r]),u=n[s];null!=u&&(t.delete(u),delete n[s],this.generation++)}}},{key:"clear",value:function(){this.items.clear(),this.idMap={},this.generation++}},{key:"changeId",value:function(e,t){var n=this.idMap,r=this.idProperty,i=Ar[oe()(e)]?e:Fr(e[r]),o=this.get(i);if(o){var a=this.get(t);if(a&&o!==a)throw new Error("Attempt to set item ".concat(i," to already existing member's id ").concat(t));o[r]=t,delete n[i],n[t]=o}}},{key:"includes",value:function(e){var t=Ar[oe()(e)]?e:Fr(e[this.idProperty]);return Boolean(this.idMap[t])}},{key:"map",value:function(e,t){var n=this.items,r=new Array(n.size),i=0;return n.forEach(function(o){r[i]=e.call(t,o,i++,n)}),r}},{key:"forEach",value:function(e,t){return this.items.forEach(e,t)}},{key:"find",value:function(e){var t,n=Si(this.items);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(e){n.e(e)}finally{n.f()}}},{key:Symbol.iterator,value:function(){return this.items[Symbol.iterator]()}},{key:"indexOf",value:function(e){return this.values.indexOf(e)}},{key:"sort",value:function(e){this.values=this.values.sort(e)}},{key:"some",value:function(e,t){return this.values.some(e,t)}},{key:"count",get:function(){return this.items.size}},{key:"values",get:function(){return te()(this.items)},set:function(e){Array.isArray(e)||(e=[e]),this.clear(),this.add.apply(this,e),this.generation++}}]),e}();function Ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ri._$name="Bag";var xi=Object.freeze({}),Ei=function(e){return e.weight},Ti=function(e,t){return(e.weight||0)-(t.weight||0)},Mi=function(e){X()(n,e);var t=Ci(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"setConfig",value:function(e,t){e.widgets&&(e.items=e.widgets),ce()(Q()(n.prototype),"setConfig",this).call(this,e,t)}},{key:"startConfigure",value:function(e){var t=this.items;this.hasItems=Boolean(t&&t.length),ce()(Q()(n.prototype),"startConfigure",this).call(this,e)}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0;1===t.length&&(Array.isArray(t[0])?t=t[0]:r=!1);for(var i=this,o=[],a=0;a<t.length;a++){var s=t[a];i._items.includes(s)&&(i._items.remove(s),i.layout.removeChild(s),o.push(s),i.unregisterReference(s))}return r?o:o[0]}},{key:"removeAll",value:function(){return this.remove(this.items)}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0;1===t.length&&(Array.isArray(t[0])?t=t[0]:r=!1);for(var i=this,o=[],a=0;a<t.length;a++){var s=t[a];s instanceof Jr?s.parent=i:s=i.createWidget(s),i._items.includes(s)||(i.registerReference(s),i._items.add(s),i.layout.appendChild(s),o.push(s))}return r?o:o[0]}},{key:"insert",value:function(e,t){var n=this,r=n._items;e instanceof Jr?e.parent=n:e=n.createWidget(e),r.includes(t)&&(t=n.indexOfChild(t)),t=Math.min(t,r.count);var i=r.values;return i.splice(t,0,e),r.values=i,n.registerReference(e),n.layout.insertChild(e,t),e}},{key:"indexOfChild",value:function(e){return this._items.indexOf(e)}},{key:"processItemsArray",value:function(e,t){var n,r,i=e.length;for(n=0;n<i;n++)(r=e[n])instanceof Jr?r.parent=this:r=this.createWidget(r),r&&t.add(r)}},{key:"processItemsObject",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xi,i=arguments.length>2?arguments[2]:void 0;for(n in e)(t=e[n])&&(n in r&&(t="object"===oe()(t)?It.merge(It.clone(r[n]),t):r[n]),t&&(t instanceof Jr?t.parent=this:t=this.createWidget(t),t&&(t.ref=n,i.add(t))))}},{key:"registerReference",value:function(e){var t=e.ref||e.id;if(t)for(var n=this;n;n=n.parent)n.widgetMap[t]||(n.widgetMap[t]=e)}},{key:"unregisterReference",value:function(e){var t=e.ref||e.id;if(t)for(var n=this;n;n=n.parent)n.widgetMap[t]===e&&delete n.widgetMap[t]}},{key:"getValues",value:function(e){for(var t=this.queryAll(function(e){return e.name}),n=t.length,r={},i=0;i<n;i++){var o=t[i],a=o.name;e&&!e(o)||(r[a]=o.value)}return r}},{key:"eachWidget",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.childItems,r=n?n.length:0,i=0;i<r;i++){var o=n[i];if(!1===e(o))return!1;if(t&&o.eachWidget&&!1===o.eachWidget(e,t))return!1}return!0}},{key:"queryAll",value:function(e){var t=[];return this.eachWidget(function(n){e(n)&&t.push(n)}),t}},{key:"query",value:function(e){var t=null;return this.eachWidget(function(n){if(e(n))return t=n,!1}),t}},{key:"getWidgetById",value:function(e){return this.widgetMap[e]}},{key:"processWidgetConfig",value:function(e){}},{key:"createWidget",value:function(e){var t=this;"string"==typeof e?e={html:e}:1===e.nodeType&&(e={element:e,id:e.id}),(e=Object.setPrototypeOf({parent:t},e)).type||(e.type=t.defaultType);for(var n=e.parent;n;n=n.parent)if(!1===n.processWidgetConfig(e))return null;return!1===t.trigger("beforeWidgetCreate",{widget:e})?null:Ce.createWidget(It.assign({},t.defaults,e),t.defaultType||"widget")}},{key:"render",value:function(){this.layout.renderChildren(),ce()(Q()(n.prototype),"render",this).apply(this,arguments)}},{key:"doDestroy",value:function(){!this.configuredItems&&this.items&&this.items.forEach(function(e){return e.destroy&&e.destroy()}),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"setValues",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._isSettingValues=!0,this.eachWidget(function(n){var r=n.highlightExternalChange,i=t?n.name:n.name||n.ref||n.id;"value"in n&&i&&(n.highlightExternalChange=!1,n.value=e&&i in e?e[i]:null,n.highlightExternalChange=r)},!0),this._isSettingValues=!1}},{key:"widgets",set:function(e){console.warn("`widgets` was deprecated in 2.1, please change your code to use `items`")},get:function(){return console.warn("`widgets` was deprecated in 2.1, please change your code to use `items`"),this.items}},{key:"items",set:function(e){this.configuredItems=e},get:function(){var e=this,t=e._items||(e._items=new Ri),n=e.configuredItems;return n&&(e.configuredItems=!1,Array.isArray(n)?e.processItemsArray(n,t):n&&e.processItemsObject(n,e.namedItems,t),t.some(Ei)&&t.sort(Ti),t.forEach(e.registerReference,e)),t.values}},{key:"widgetMap",get:function(){return this._widgetMap||(this._widgetMap={}),this._thisIsAUsedExpression(this.items),this._widgetMap}},{key:"record",set:function(e){this._record=e,this.setValues(e,!0)},get:function(){return this._record}},{key:"textContent",set:function(e){this._textContent=e,this.element.classList[e?"add":"remove"]("b-text-content")},get:function(){return this._textContent}},{key:"layoutStyle",set:function(e){yn.applyStyle(this.contentElement,e),this._layoutStyle=e},get:function(){return this._layoutStyle}},{key:"layout",set:function(e){this._layout=gi.getLayout(e,this)},get:function(){return this._layout||(this._layout=new gi)}},{key:"childItems",get:function(){return this.items}},{key:"focusElement",get:function(){var e=this.query(this.defaultFocus||function(e){return e.isFocusable});return e?e.focusElement:ce()(Q()(n.prototype),"focusElement",this)}},{key:"isValid",get:function(){var e=!0;return this.eachWidget(function(t){if("isValid"in t&&!t.isValid)return e=!1},!0),e}},{key:"values",get:function(){var e={};return this.eachWidget(function(t){"value"in t&&(e[t.name||t.ref||t.id]=t.value)},!0),e},set:function(e){this.setValues(e)}},{key:"isSettingValues",get:function(){return this._isSettingValues||this.parent&&this.parent.isSettingValues}}],[{key:"$name",get:function(){return"Container"}},{key:"defaultConfig",get:function(){return{items:null,widgets:null,defaults:null,defaultType:"widget",layoutStyle:null,itemCls:null,layout:"default",namedItems:null,textContent:!0}}}]),n}(Jr);function Pi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Mi._$name="Container",ke.register("container",Mi);var Ai=function(e){X()(n,e);var t=Pi(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"createWidget",value:function(e){"->"===e?e={type:"widget",cls:"b-toolbar-fill"}:"|"===e?e={type:"widget",cls:"b-toolbar-separator"}:"string"==typeof e&&(e={type:"widget",cls:"b-toolbar-text",html:e});var t=ce()(Q()(n.prototype),"createWidget",this).call(this,e);return this.widgetCls&&t.element.classList.add(this.widgetCls),t}}],[{key:"$name",get:function(){return"Toolbar"}},{key:"defaultConfig",get:function(){return{defaultType:"button",widgetCls:null,layout:"default"}}}]),n}(Mi);function Ii(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ai._$name="Toolbar",ke.register("toolbar",Ai);var Fi=function(e){return!e.classList.contains("b-focus-trap")&&yn.isFocusable(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP},Li=function(e,t){return(e.weight||0)-(t.weight||0)},Oi=function(e,t){return(t.weight||0)-(e.weight||0)};Fi.acceptNode=Fi;var _i=function(e){X()(n,e);var t=Ii(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onFocusTrapped",value:function(e){var t=this,n=t.treeWalker;e.target===t.bottomFocusTrap?(n.currentNode=t.topFocusTrap,n.nextNode()):(n.currentNode=t.bottomFocusTrap,n.previousNode()),t.requestAnimationFrame(function(){return n.currentNode.focus()})}},{key:"doDestroy",value:function(){var e=this.tools;if(e)for(var t=0,r=Object.values(e);t<r.length;t++){r[t].destroy()}this.tbar&&this.tbar.destroy(),this.bbar&&this.bbar.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"element",set:function(e){var t=this,r=t.title&&(!t.parent||!t.parent.suppressChildHeaders),i=t.header||(t.tools||r?{}:null),o=t.footer,a=i&&("string"==typeof i?i:t.title||i.title),s=i&&(i.titleAlign||"start"),u=t.classHierarchy(n).map(function(e){return"b-".concat(e.$name.toLowerCase(),"-header")}).join(" "),c=t.tbar,l=t.bbar||t.buttons,f=[{reference:"topFocusTrap",className:"b-focus-trap",tabIndex:0}],d=[],h=[],p={children:f};if((t.hasItems||t.focusable)&&(p.tabIndex=0),i){var v=[{reference:"titleElement",className:"b-header-title b-align-".concat(s),html:a}];for(var g in t.tools){var y=t.tools[g];"start"===y.align?d.unshift(y):h.push(y)}d.sort(Li),h.sort(Oi),v.unshift.apply(v,te()(d.map(function(e){return e.element}))),v.push.apply(v,te()(h.map(function(e){return e.element}))),f.push({tag:"header",reference:"headerElement",className:"".concat(u," b-dock-").concat(i.dock||"top"," ").concat(i.cls||""),children:v})}c&&(c.layout.renderChildren(),f.push(c.element)),f.push(t.bodyConfig),l&&(l.layout.renderChildren(),f.push(l.element)),o&&f.push({tag:"footer",reference:"footerElement",className:"".concat(u," b-dock-").concat(o.dock||"bottom"," ").concat(o.cls||"")}),f.push({reference:"bottomFocusTrap",className:"b-focus-trap",tabIndex:0}),di()(Q()(n.prototype),"element",p,this,!0)},get:function(){return ce()(Q()(n.prototype),"element",this)}},{key:"bodyConfig",set:function(e){this._bodyConfig=e},get:function(){return this._bodyConfig||{reference:"bodyElement",className:this.classHierarchy(n).map(function(e){return"b-".concat(e.$name.toLowerCase(),"-content")}).join(" "),html:this.html}}},{key:"tbar",get:function(){return this._tbar},set:function(e){e instanceof Ai?e.parent=this:(Array.isArray(e)&&(e={items:e}),e=new Ai(Object.assign({parent:this},e))),this.hasItems=this.hasItems||e.hasItems,e.element.classList.add("b-top-toolbar","b-dock-".concat(e.dock||"top")),this._tbar=e}},{key:"bbar",get:function(){return this._bbar},set:function(e){e instanceof Ai?e.parent=this:(Array.isArray(e)&&(e={items:e}),e=Ce.createWidget(Object.assign({type:"toolbar",parent:this},e))),this.hasItems=this.hasItems||e.hasItems,e.element.classList.add("b-bottom-toolbar","b-dock-".concat(e.dock||"bottom")),this._bbar=e}},{key:"childItems",get:function(){var e=this,t=e.items?e.items.slice():[];return e.tools&&t.unshift.apply(t,te()(Object.values(e.tools))),e.tbar&&t.unshift(e.tbar),e.bbar&&t.push(e.bbar),t}},{key:"tools",set:function(e){var t=this._tools={};for(var n in e){var r=t[n]=Ce.createWidget(It.assign({type:"tool",ref:n,reference:n,parent:this},e[n]),this.defaultToolType||"tool");this.registerReference(r,r.ref)}},get:function(){return this._tools}},{key:"trapFocus",set:function(e){var t=this;t.element.classList[e?"add":"remove"]("b-focus-trapped"),e?(t.focusTrapListener=ur.on({element:t.element,focusin:"onFocusTrapped",delegate:".b-focus-trap",thisObj:t}),t.treeWalker||(t.treeWalker=document.createTreeWalker(t.element,NodeFilter.SHOW_ELEMENT,Fi,!1))):t.focusTrapListener&&(t.focusTrapListener(),t.focusTrapListener=null),t._trapFocus=e},get:function(){return this._trapFocus}},{key:"focusElement",get:function(){return this.hasItems&&(ce()(Q()(n.prototype),"focusElement",this)||this.element)}},{key:"contentElement",get:function(){return this.element&&this.bodyElement}},{key:"widgetClassList",get:function(){var e=this,t=ce()(Q()(n.prototype),"widgetClassList",this),r=e.header;return(r||e.title||e.tools)&&t.push("b-panel-has-header b-header-dock-".concat(r&&r.dock||"top")),e.tbar&&t.push("b-panel-has-top-toolbar"),e.bbar&&t.push("b-panel-has-bottom-toolbar"),t}}],[{key:"$name",get:function(){return"Panel"}},{key:"defaultConfig",get:function(){return{trapFocus:null,title:null,header:null,footer:null,tools:null,tbar:null,bbar:null}}}]),n}(Mi);function ji(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}_i._$name="Panel",ke.register("panel",_i);var Hi=function(e){X()(n,e);var t=ji(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"startConfigure",value:function(e){this._thisIsAUsedExpression(this.closable),ce()(Q()(n.prototype),"startConfigure",this).call(this,e)}},{key:"finalizeInit",value:function(){var e=this;e.anchoredTo=e.forElement,e.initialAnchor=e.anchor,e.forElement&&e.showOnClick&&(e.initialConfig.autoShow||(e.autoShow=!1),ur.on({element:e.forElement,click:"onElementUserAction",thisObj:e})),ce()(Q()(n.prototype),"finalizeInit",this).call(this),e.autoShow&&(!0===e.autoShow?e.show():e.setTimeout(function(){return e.show()},e.autoShow))}},{key:"doDestroy",value:function(){this.syncModalMask(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"close",value:function(){var e=this;if(!e._hidden&&!1!==e.trigger("beforeClose")||e._hidden&&"destroy"===e.closeAction)return e.containsFocus&&e.setTimeout(function(){return document.body.classList.add("b-using-keyboard")},0),e[e.closeAction]()}},{key:"onElementResize",value:function(e,t,r){var i=this,o=i.lastAlignSpec;if(i.isVisible&&o&&o.target){var a=!t||r.height!==t.height,s=!t||r.width!==t.width;(a&&2!==o.zone||s&&1!==o.zone)&&i.requestAnimationFrame(function(){return i.realign()})}ce()(Q()(n.prototype),"onElementResize",this).call(this,e)}},{key:"onInternalKeyDown",value:function(e){"Escape"===e.key&&(e.stopImmediatePropagation(),this.close(!0))}},{key:"onDocumentMouseDown",value:function(e){var t=e.event,r=this;r.modal&&t.target===n.modalMask?(t.preventDefault(),r.modal.closeOnMaskTap?r.close():r.containsFocus||r.focus()):r.owns(t.target)||!r.autoClose||r.containsFocus||r.close()}},{key:"onFocusIn",value:function(e){var t=document.activeElement;ce()(Q()(n.prototype),"onFocusIn",this).call(this,e),document.activeElement===t&&e.target===this.element&&this.focus()}},{key:"onFocusOut",value:function(e){!this.modal&&this.autoClose&&this.close(),ce()(Q()(n.prototype),"onFocusOut",this).call(this,e)}},{key:"onShow",value:function(){var e=this;e.autoClose&&e.addDocumentMouseDownListener(),e.focusOnToFront&&e.focus(),ce()(Q()(n.prototype),"onShow",this)&&ce()(Q()(n.prototype),"onShow",this).call(this),e.syncModalMask()}},{key:"addDocumentMouseDownListener",value:function(){this.mouseDownRemover||(this.mouseDownRemover=ri.on({globaltap:"onDocumentMouseDown",thisObj:this}))}},{key:"syncModalMask",value:function(){var e=this,t=e.modal,r=n.modalMask;if(t&&e.isVisible)e._x||e._y||(e.centered=!0),r.classList.remove("b-hide-display"),r.parentNode.insertBefore(r,e.element),e.element.classList.add("b-modal");else{e.element.classList.remove("b-modal");var i=e.constructor.floatRoot.querySelectorAll(".b-modal");if(i.length){var o=i[i.length-1];r.classList.remove("b-hide-display"),r.parentNode.insertBefore(r,o)}else r.classList.add("b-hide-display")}}},{key:"onHide",value:function(){this.mouseDownRemover&&(this.mouseDownRemover(),this.mouseDownRemover=null),ce()(Q()(n.prototype),"onHide",this)&&ce()(Q()(n.prototype),"onHide",this).call(this),this.syncModalMask()}},{key:"onElementUserAction",value:function(){this.show()}},{key:"isTopModal",get:function(){return yn.isVisible(n.modalMask)&&this.element.previousElementSibling===n.modalMask}},{key:"closable",set:function(e){this._closable=e,this.tools||(this.tools={})},get:function(){return this._closable}},{key:"tools",set:function(e){this.closable&&((e||(e={})).close={cls:"b-popup-close",handler:"close",weight:-1e3}),di()(Q()(n.prototype),"tools",e,this,!0)},get:function(){return ce()(Q()(n.prototype),"tools",this)}}],[{key:"$name",get:function(){return"Popup"}},{key:"defaultConfig",get:function(){return{autoShow:!0,autoClose:!0,showOnClick:!1,forElement:null,monitorResize:!0,floating:!0,hidden:!0,axisLock:!0,hideAnimation:N.isIE11?null:{opacity:{from:1,to:0,duration:".3s",delay:"0s"}},showAnimation:N.isIE11?null:{opacity:{from:0,to:1,duration:".4s",delay:"0s"}},testConfig:{hideAnimation:null,showAnimation:null},closeAction:"hide",trapFocus:!0,focusOnToFront:!0,closable:null,modal:null}}},{key:"modalMask",get:function(){var e=this;return e._modalMask?e.floatRoot.contains(e._modalMask)||e.floatRoot.appendChild(e._modalMask):e._modalMask=yn.createElement({className:"b-modal-mask b-hide-display",parent:e.floatRoot}),e._modalMask}}]),n}(_i);Hi._$name="Popup",ke.register("popup",Hi);var Ni=n(38),Bi=n.n(Ni),zi=(n(155),/>[ \t\r\n]+</g),Vi=/\s\s+/g,Wi=function(){function e(){E()(this,e)}return M()(e,null,[{key:"tpl",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.map(function(t,n){var r=e[n];return Array.isArray(t)?r+=t.reduce(function(e,t){return e+(("string"==typeof t?t.trim():t)+"\n")},""):(void 0===t&&(t=""),r+="string"==typeof t?t.trim():t),i++,r}).join("");return i<=e.length&&(o+=e[e.length-1]),o.replace(zi,"><").replace(Vi," ").trim()}},{key:"docsTpl",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.map(function(t,n){var r=e[n];return Array.isArray(t)?r+=t.reduce(function(e,t){return e+(("string"==typeof t?t.trim():t)+"\n")},""):(void 0===t&&(t=""),r+="string"==typeof t?t.trim():t),i++,r}).join("");return i<=e.length&&(o+=e[e.length-1]),o.replace(zi,"><").trim()}},{key:"repeat",value:function(t){return function(){return e.tpl.apply(e,arguments).repeat(t)}}},{key:"loop",value:function(e){}}]),e}();function $i(){var e=Bi()(["\n            <"," "," ",' class="','" ',' tabIndex="-1">\n                ','\n                <span class="b-menu-text" reference="textElement">',"</span>\n                ","\n            </",">"]);return $i=function(){return e},e}function Gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Wi._$name="TemplateHelper";var Yi=/^b-icon-/,Ui=/^b-fa-/,qi=function(e){X()(n,e);var t=Gi(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"doAction",value:function(e){var t=this.parent,n={menu:t,item:this,element:this.element,bubbles:!0};"boolean"==typeof this.checked&&(this.checked=!this.checked),this.trigger("beforeItem",n),this.trigger("item",n),this.closeParent&&t&&(t.rootMenu.close(),e&&!this.href&&e.preventDefault())}},{key:"doDestroy",value:function(){var e=this._menu;e instanceof Jr&&e.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"template",value:function(e){var t=e.icon||("boolean"==typeof e.checked?"b-fw-icon b-icon-".concat(e.checked?"":"un","checked"):""),n=Yi.test(t)?" b-icon":Ui.test(t)?" b-fa":"",r=e.href?"a":"div";return Wi.tpl($i(),r,"a"===r?'href="'.concat(e.href,'"'):"","a"===r&&e.target?'target="'.concat(e.target,'"'):"",e.hasMenu?"b-has-submenu":"",e.name?'data-name="'.concat(e.name,'"'):"",t?'<i class="b-menuitem-icon '.concat(t).concat(n,'" reference="iconElement"></i>'):"",e.text,e.hasMenu?'<i class="b-fw-icon b-icon-sub-menu" reference="subMenuIcon"></i>':"",r)}},{key:"onFocusIn",value:function(e){ce()(Q()(n.prototype),"onFocusIn",this).call(this,e),!this.disabled&&this.menu&&this.openMenu()}},{key:"onFocusOut",value:function(e){ce()(Q()(n.prototype),"onFocusOut",this).call(this,e),this.closeMenu()}},{key:"openMenu",value:function(e){var t=this.menu;!this.disabled&&t&&(t.focusOnToFront=e,t.show(),this.owner.currentSubMenu=t)}},{key:"closeMenu",value:function(){this._menu instanceof Jr&&this.menu.close()}},{key:"focusElement",get:function(){return this.element}},{key:"contentElement",get:function(){return this.textElement}},{key:"isFocusable",get:function(){var e=this.focusElement;return e&&this.isVisible&&(e===document.body||e.offsetParent)}},{key:"checked",set:function(e){var t=this,n=t.isConfiguring;(n||"boolean"==typeof t._checked)&&(e=!!e)!==t._checked&&(t._checked=e,n||(t.iconElement.classList[e?"add":"remove"]("b-icon-checked"),t.iconElement.classList[e?"remove":"add"]("b-icon-unchecked"),t.trigger("toggle",{menu:t.owner,item:t,checked:t._checked,element:t.element,bubbles:!0})))},get:function(){return this._checked}},{key:"menu",set:function(e){this._menu=e},get:function(){var e=this,t=e._menu;return!t||t instanceof Jr||("object"!==oe()(t)||"items"in t||"widgets"in t||"html"in t||(t={items:t}),t=e.menu=Ce.createWidget(Object.assign({type:"menu",autoShow:!1,autoClose:!0,scrollAction:e.owner.scrollAction,constrainTo:e.owner.constrainTo,forElement:e.element,align:"l0-r0",anchor:!0,owner:e,cls:"b-sub-menu"},t))),t}},{key:"text",get:function(){return this.html},set:function(e){this.html=e}},{key:"closeParent",set:function(e){this._closeParent=e},get:function(){return("boolean"==typeof this.checked?this._closeParent:!1!==this._closeParent)&&!this.hasMenu}},{key:"hasMenu",get:function(){var e=this.isConfiguring?this.initialConfig.menu:this._menu;return e&&(e instanceof Jr||"object"===oe()(e)||e.length>0)}}],[{key:"$name",get:function(){return"MenuItem"}},{key:"defaultConfig",get:function(){return{menu:null,icon:null,text:null,checked:null,closeParent:null,href:null,target:null,localizableProperties:["text"]}}}]),n}(Jr);function Xi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}qi._$name="MenuItem",ke.register("menuitem",qi);var Ki={ArrowUp:1,ArrowDown:1,ArrowRight:1,ArrowLeft:1,Enter:1,Escape:1},Zi=function(e){X()(n,e);var t=Xi(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){Array.isArray(e)&&(e={items:e}),ce()(Q()(n.prototype),"construct",this).call(this,e),ur.on({element:this.element,click:"onMouseClick",mouseover:"onMouseOver",mouseleave:"onMouseLeave",thisObj:this})}},{key:"afterShow",value:function(e){this.items.some(function(e){return Boolean(e._menu)})&&this.element.classList.add("b-menu-with-submenu"),this.items.some(function(e){return e.icon})&&this.element.classList.add("b-menu-with-icon"),ce()(Q()(n.prototype),"afterShow",this).call(this,e)}},{key:"createWidget",value:function(e){return"string"==typeof e&&(e={text:e}),ce()(Q()(n.prototype),"createWidget",this).call(this,e)}},{key:"onDocumentMouseDown",value:function(e){this.parentMenu&&this.parentMenu.owns(e.event.target)||ce()(Q()(n.prototype),"onDocumentMouseDown",this).call(this,e)}},{key:"hide",value:function(e){ce()(Q()(n.prototype),"hide",this).call(this,e),this.currentSubMenu&&!this.currentSubMenu.isDestroyed&&this.currentSubMenu.hide(e),this.parentMenu&&(this.parentMenu.currentSubMenu=null)}},{key:"onMouseClick",value:function(e){var t=e.target.closest(".b-menuitem");t&&(this.triggerElement(t,e),e.stopImmediatePropagation())}},{key:"onMouseOver",value:function(e){if(!1!==this.focusOnHover){var t=yn.up(e.relatedTarget,".b-widget"),n=yn.up(e.target,".b-widget"),r=De.fromElement(n);!yn.isTouchEvent&&n&&n!==t&&r.parent===this&&this.setTimeout({fn:"handleMouseOver",delay:30,args:[r],cancelOutstanding:!0})}}},{key:"handleMouseOver",value:function(e){e.focus()}},{key:"onMouseLeave",value:function(e){var t=this,n=e.relatedTarget,r=n&&t.owns(n),i=n&&n instanceof HTMLElement&&De.fromElement(n),o=!r;if(i){for(;i.ownerCmp;)i=i.ownerCmp;o&=!yn.getAncestor(i.element,[e.target])}!r&&o&&(t.currentSubMenu&&t.currentSubMenu.hide(),t.currentSubMenu=t.selectedElement=null,t.element.contains(document.activeElement)&&document.activeElement.matches(".b-menuitem")&&t.focusElement.focus())}},{key:"onInternalKeyDown",value:function(e){var t=De.fromElement(e),r=t&&t!==this&&!(t instanceof qi);if("Escape"!==e.key){if(ce()(Q()(n.prototype),"onInternalKeyDown",this).call(this,e),!r){Ki[e.key]&&e.preventDefault();var i=document.activeElement,o=this.element;this.navigateFrom(i!==o&&o.contains(i)?i:null,e.key,e)}}else(r?this:this.rootMenu).close()}},{key:"navigateFrom",value:function(e,t,n){var r,i=this,o=i.treeWalker,a=e&&i.getItem(e);switch(t){case"ArrowUp":o.currentNode=e||(e=i.bottomFocusTrap),o.previousNode(),r=o.currentNode;break;case"ArrowDown":o.currentNode=e||(e=i.topFocusTrap),o.nextNode(),r=o.currentNode;break;case" ":e&&!e.classList.contains("b-disabled")&&(a&&a.menu?i.openSubMenu(e,a):i.triggerElement(e,n));break;case"ArrowRight":if(e&&a&&a.menu&&!e.classList.contains("b-disabled")){var s=i.openSubMenu(e,a);s&&s.focus()}else o.currentNode=e||(e=i.topFocusTrap),o.nextNode(),r=o.currentNode;break;case"ArrowLeft":i.isSubMenu?i.hide():e||(o.currentNode=e||(e=i.topFocusTrap),o.nextNode(),r=o.currentNode);break;case"Enter":e&&!e.classList.contains("b-disabled")&&i.triggerElement(e,n)}r&&(r===i.element?i.navigateFrom(i.bottomFocusTrap,"ArrowUp",n):r===e?i.navigateFrom(i.topFocusTrap,"ArrowDown",n):r.focus())}},{key:"getItem",value:function(e){if(null!=e)return"number"==typeof e?this.items[e]:1===e.nodeType?De.fromElement(e,"menuitem",this.contentElement):this.items.find(function(t){return t.id==e})}},{key:"triggerElement",value:function(e,t){var n=this.getItem(e);n&&!n.disabled&&n.doAction(t)}},{key:"openSubMenu",value:function(e,t){var n=t.menu;if(n){if(!n.isVisible){var r={item:t,element:e};if(!1===this.trigger("beforeSubMenu",r))return;if(t.onBeforeSubMenu&&!1===t.onBeforeSubMenu(r))return;n.show()}return this.currentSubMenu=n}}},{key:"selectFirst",value:function(){var e=this.treeWalker;e.currentNode=this.topFocusTrap,e.nextNode(),this.requestAnimationFrame(function(){return e.currentNode.focus()})}},{key:"focusElement",get:function(){var e=this.parentMenu&&this.parentMenu.element.contains(document.activeElement),t=this.items[0];return!e&&t instanceof qi?this.element:ce()(Q()(n.prototype),"focusElement",this)}},{key:"isSubMenu",get:function(){return this.owner&&this===this.owner.menu}},{key:"selectedElement",set:function(e){var t=this._selectedElement;if(t){var n=this.getItem(t),r=n&&n.menu;r&&r.hide(),t.classList.remove("b-active")}if(this._selectedElement=e,e){var i=yn.isFocusable(e);e.classList.add("b-active"),this.scrollable.scrollIntoView(e,{animate:!i,focus:i})}},get:function(){return this._selectedElement}},{key:"parentMenu",get:function(){var e=this.owner;if(e instanceof qi&&(e=e.owner),e instanceof n)return e}},{key:"rootMenu",get:function(){for(var e=this;e.parentMenu&&e.parentMenu instanceof this.constructor;)e=e.parentMenu;return e}}],[{key:"$name",get:function(){return"Menu"}},{key:"defaultConfig",get:function(){return{align:"t-b",scrollAction:"hide",focusOnHover:null,scrollable:!1,defaultType:"menuitem"}}}]),n}(Hi);function Ji(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zi._$name="Menu",ke.register("menu",Zi);var Qi=function(e){X()(n,e);var t=Ji(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"doDestroy",value:function(){var e=n.toasts.indexOf(this);e>-1&&n.toasts.splice(e,1),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"show",value:function(){ce()(Q()(n.prototype),"show",this).call(this),this.timeout>0&&(this.hideTimeout=this.setTimeout("hide",this.timeout))}},{key:"hide",value:function(){var e=this;e.destroyTimer||(e.element.classList.add("b-toast-hide"),e.element.style.bottom="",e.destroyTimer=e.setTimeout("destroy",e.destroyTimeout))}},{key:"element",set:function(e){},get:function(){if(!this._element&&!this.isConfiguring){var e=this,t=n.toasts.length&&n.toasts[0].element,r=t?t._nextBottom:e.bottomMargin,i=di()(Q()(n.prototype),"element",yn.createElement({parent:e.appendTo||Jr.floatRoot,children:e.showProgress?[{className:"b-toast-progress",style:"animation-duration:".concat(e.timeout/1e3,"s;")}]:null,html:e._html,className:e.color||"",style:e._style||""}),this,!0);ur.on({element:i,click:"hide",thisObj:e}),n.toasts.unshift(e),i._nextBottom=r+i.offsetHeight+e.bottomMargin,i.style.cssText+=";bottom:".concat(r,"px;transform:translateY(0)")}return ce()(Q()(n.prototype),"element",this)}}],[{key:"hideAll",value:function(){n.toasts.reverse().forEach(function(e){return e.hide()})}},{key:"show",value:function(e){var t=new n("string"==typeof e?{html:e}:e);return t.show(),t}},{key:"$name",get:function(){return"Toast"}},{key:"defaultConfig",get:function(){return{testConfig:{timeout:100,destroyTimeout:1},floating:!0,timeout:2500,destroyTimeout:200,showProgress:!0,color:null,bottomMargin:20}}}]),n}(Jr);Qi.toasts=[],Qi._$name="Toast",ke.register("toast",Qi);var eo=n(6),to=n.n(eo),no=(n(29),n(11)),ro=n.n(no);function io(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var oo={left:!0,right:!0,top:!0,bottom:!0,transform:!0},ao=function(e){X()(o,e);var t,n,r,i=io(o);function o(){return E()(this,o),i.apply(this,arguments)}return M()(o,[{key:"afterConstruct",value:function(){var e=this;e.forSelector&&(e.showOnHover=!0,e.forElement||(e.trackMouse=!0,e.forElement=document.body)),ce()(Q()(o.prototype),"afterConstruct",this).call(this),e.forElement&&e.showOnHover&&(e.pointerOverOutDetacher=ur.on({element:e.forElement,mouseover:"internalOnPointerOver",mouseout:"internalOnPointerOut",thisObj:e})),e.autoShow&&e.show(),e.allowOver&&ur.on({element:e.element,mouseenter:"onOwnElementMouseEnter",mouseleave:"internalOnPointerOut",thisObj:e})}},{key:"doDestroy",value:function(){this.pointerOverOutDetacher&&this.pointerOverOutDetacher(),ce()(Q()(o.prototype),"doDestroy",this).call(this)}},{key:"onDocumentMouseDown",value:function(e){var t=e.event,n=this.triggeredByEvent;n&&yn.isTouchEvent&&t.pageX===n.pageX&&t.pageY===n.pageY&&this.activeTarget.contains(t.target)&&performance.now()-n.timeStamp<500||(this.abortDelayedShow(),ce()(Q()(o.prototype),"onDocumentMouseDown",this).call(this,{event:t}))}},{key:"internalOnPointerOver",value:function(e){var t,n=this,r=n.forElement,i=n.forSelector,o=n.activeTarget;if(!(n.disabled||n.allowOver&&n.element.contains(e.target))){if(i){if(o&&o.contains(e.target)&&o.contains(e.relatedTarget))return;if((t=e.target.closest(i))&&e.relatedTarget&&e.relatedTarget.closest(i)===t)return}else{if(r.contains(e.relatedTarget))return;t=r}t?n.handleForElementOver(e,t):o&&n.handleForElementOut()}}},{key:"onTransitionEnd",value:function(e){var t=this,n=o.currentOverElement;if(oo[e.propertyName]){if(t.allowOver&&t.element.contains(n))return;t.activeTarget&&t.activeTarget.contains(n)&&!t.trackMouse&&t.realign()}}},{key:"handleForElementOver",value:(r=ro()(to.a.mark(function e(t,n){var r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==(r=this).trigger("pointerOver",{event:t,target:n})){e.next=5;break}r.internalOnPointerOut(t),e.next=23;break;case 5:if(r.triggeredByEvent=t,r.abortDelayedHide(),!r.isVisible||r.hideOnDelegateChange){e.next=20;break}if(r.updateActiveTarget(n),!1!==r.trigger("beforeShow")){e.next=11;break}return e.abrupt("return",r.hide());case 11:if(i=r.updateContent(),!It.isPromise(i)||r.loadingMsg){e.next=15;break}return e.next=15,i;case 15:r.alignTo({target:r.anchorToTarget?n:new Gn(r.triggeredByEvent.pageX-window.pageXOffset+r.mouseOffsetX,r.triggeredByEvent.pageY-window.pageYOffset+r.mouseOffsetY),overlap:!(r.anchorToTarget&&r.anchor)}),r.trigger("show"),r.afterShowByTarget(),e.next=23;break;case 20:r.hideOnDelegateChange&&r.hide(),r.updateActiveTarget(n),r.delayShow(n);case 23:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"delayShow",value:(n=ro()(to.a.mark(function e(t){var n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=this).currentAnimation&&(n.cancelHideShowAnimation(),n._hidden=!0),n.isVisible||n.hasTimeout("show")){e.next=16;break}if(n.hoverDelay&&!(n.forSelector&&Date.now()-n.lastHidden<n.quickShowInterval)){e.next=11;break}if(r=n.updateContent(),!It.isPromise(r)||n.loadingMsg){e.next=8;break}return e.next=8,r;case 8:n.showByTarget(t),e.next=14;break;case 11:n.addDocumentMouseDownListener(),n.listeningForMouseMove||n.anchorToTarget||(n.mouseMoveRemover=ur.on({element:document,mousemove:"onMouseMove",thisObj:n})),n.setTimeout(ro()(to.a.mark(function e(){var r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(yn.isOrphaned(t)){e.next=6;break}if(r=n.updateContent(),!It.isPromise(r)||n.loadingMsg){e.next=5;break}return e.next=5,r;case 5:n.showByTarget(t);case 6:case"end":return e.stop()}},e)})),n.triggeredByEvent&&"mouseover"!==n.triggeredByEvent.type?0:n.hoverDelay,"show");case 14:e.next=17;break;case 16:n.isVisible&&n.showByTarget(t);case 17:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"updateContent",value:(t=ro()(to.a.mark(function e(){var t,n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this).getHtml){e.next=5;break}return n=t.getHtml({tip:t,element:t.element,activeTarget:t.activeTarget,event:t.triggeredByEvent}),t.html=n,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"internalBeforeShow",value:function(){return this.updateContentOnMouseMove||this.hasContent}},{key:"showAsyncMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.L(this.loadingMsg);e&&(this.html='\n                <div class="b-tooltip-loading">\n                    <i class="b-icon b-icon-spinner"></i>\n                    '.concat(e,"\n                </div>\n            "))}},{key:"showByTarget",value:function(e){var t=this;t.mouseMoveRemover&&(t.mouseMoveRemover(),t.mouseMoveRemover=null),t.showBy({target:t.anchorToTarget?e:new Gn(t.triggeredByEvent.pageX-window.pageXOffset+t.mouseOffsetX,t.triggeredByEvent.pageY-window.pageYOffset+t.mouseOffsetY),overlap:!(t.anchorToTarget&&t.anchor)})}},{key:"afterShowByTarget",value:function(){var e=this.dismissDelay;this.abortDelayedShow(),e&&this.setTimeout("hide",e),this.toFront()}},{key:"updateActiveTarget",value:function(e){var t=this.activeTarget;this.activeTarget=e,this.isConfiguring||this.trigger("overtarget",{newTarget:e,lastTarget:t})}},{key:"internalOnPointerOut",value:function(e){var t=this,n=e.relatedTarget;t.allowOver&&t.element.contains(n)||t.element.contains(e.target)&&t.activeTarget&&t.activeTarget.contains(n)||t.activeTarget&&!t.activeTarget.contains(e.relatedTarget)&&t.handleForElementOut()}},{key:"handleForElementOut",value:function(){var e=this,t=e.hideDelay;!1!==e.trigger("pointerOut")?(e.abortDelayedShow(),e.isVisible&&!1!==t&&(e.abortDelayedHide(),t>0?e.setTimeout("hide",t):e.hide())):e.activeTarget=null}},{key:"show",value:function(){var e,t=this;(t.forElement&&t.anchorToTarget&&!t.forSelector&&!t.inShowBy?t.showByTarget(t.forElement):(t.inShowBy&&(t.y=-1e4),ce()(Q()(o.prototype),"show",this).call(this)),t.afterShowByTarget(),t.mouseMoveRemover||t._hidden||!t.trackMouse&&!t.updateContentOnMouseMove)||(t.mouseMoveRemover=ur.on((e={element:document},se()(e,N.supportsPointerEvents?"pointermove":"touchmove","onMouseMove"),se()(e,"thisObj",t),e)));!t.forElement||t.transitionEndDetacher||t._hidden||(t.transitionEndDetacher=ur.on({element:t.forElement,transitionend:"onTransitionEnd",thisObj:t}))}},{key:"hide",value:function(){var e=this;if(e.abortDelayedShow(),e.isVisible){var t;e.abortDelayedHide();for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(t=ce()(Q()(o.prototype),"hide",this)).call.apply(t,[this].concat(r)),e.lastHidden=Date.now(),e.activeTarget=null,e.mouseMoveRemover&&(e.mouseMoveRemover(),e.mouseMoveRemover=null),e.transitionEndDetacher&&(e.transitionEndDetacher(),e.transitionEndDetacher=null),e.listeningForMouseMove=!1}}},{key:"abortDelayedShow",value:function(){var e=this;e.hasTimeout("show")&&(e.mouseDownRemover&&(e.mouseDownRemover(),e.mouseDownRemover=null),e.clearTimeout("show"),e.mouseMoveRemover&&(e.mouseMoveRemover(),e.mouseMoveRemover=null),e.transitionEndDetacher&&(e.transitionEndDetacher(),e.transitionEndDetacher=null))}},{key:"abortDelayedHide",value:function(){this.clearTimeout("hide")}},{key:"realign",value:function(e){var t=this,n=t.lastAlignSpec,r=t.clippedBy;!t.isConfiguring&&r&&!t.isVisible&&n&&n.targetHidden&&(Wn.from(n.target,t.positioned?t.element.offsetParent:null,!t.positioned).intersect(r)&&(t.show(),n.targetHidden=!1));ce()(Q()(o.prototype),"realign",this).call(this,e)}},{key:"alignTo",value:function(e){this.isVisible&&(this.triggeredByEvent&&this.element.contains(this.triggeredByEvent.target)||1===e.nodeType&&(e={target:e}),ce()(Q()(o.prototype),"alignTo",this).call(this,e))}},{key:"onMouseMove",value:function(e){var t,n=this,r=e.pageX-window.pageXOffset+n.mouseOffsetX,i=e.pageY-window.pageYOffset+n.mouseOffsetY,o=n.hasTimeout("hide"),a=e.target;(n.triggeredByEvent=e,n._hidden)||(n.forSelector&&n.activeTarget&&!o&&1===a.nodeType&&!a.matches(n.forSelector)&&!(n.allowOver&&n.element.contains(a))&&(t=n.handleForElementOut()),(t||!o||n.forElement.contains(a))&&(n.dismissDelay&&!o&&n.setTimeout("hide",n.dismissDelay),n.updateContentOnMouseMove&&n.getHtml&&(n.html=n.getHtml({tip:n,element:n.element,forElement:n.activeTarget,event:e})),n.trackMouse&&n.alignTo({position:new Gn(r,i),ignorePageScroll:!0})))}},{key:"onOwnElementMouseEnter",value:function(e){this.abortDelayedHide()}},{key:"focusElement",get:function(){var e=ce()(Q()(o.prototype),"focusElement",this);if(e!==this.element)return e}},{key:"anchorToTarget",get:function(){return this._anchorToTarget},set:function(e){this._anchorToTarget=e,e||(this.anchor=!1)}},{key:"trackMouse",set:function(e){this._trackMouse=e},get:function(){return this._trackMouse&&!this.anchorToTarget}},{key:"hasContent",get:function(){return Boolean("string"==typeof this.html&&this.html.length||this.items.length)}},{key:"html",set:function(e){var t=this,n=It.isPromise(e);return!1===e?(H.deprecate("Grid","5.0.0","Setting false to indicate loading is deprecated, in favor of `showAsyncMessage`. Please see https://bryntum.com/docs/grid/#guides/upgrades/3.0.1.md for more information"),void this.showAsyncMessage()):n?(t.showAsyncMessage(),e.target=t.activeTarget,void e.then(function(n){e.target===t.activeTarget&&(t.html=n)})):(e=null!=e?t.L(String(e)):"",di()(Q()(o.prototype),"html",e,this,!0),void(t.hasContent?(t.isVisible&&t.realign(),n||t.trigger("innerHtmlUpdate")):t.hide()))},get:function(){return ce()(Q()(o.prototype),"html",this)}}],[{key:"$name",get:function(){return"Tooltip"}},{key:"defaultConfig",get:function(){return{mouseOffsetX:15,mouseOffsetY:15,floating:!0,getHtml:null,forElement:null,trackMouse:null,updateContentOnMouseMove:!1,forSelector:null,hideOnDelegateChange:null,anchorToTarget:!0,showOnHover:!1,hoverDelay:500,autoShow:!1,dismissDelay:0,hideDelay:500,loadingMsg:"Loading...",allowOver:!1,anchor:!0,align:"b-t",axisLock:!0,showAnimation:null,hideAnimation:null,testConfig:{hideDelay:100,hoverDelay:100}}}}]),o}(Hi);function so(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ur.on({element:document,mouseenter:function(e){return ao.currentOverElement=e.target},capture:!0}),ao._$name="Tooltip",ke.register("tooltip",ao),Jr.tooltip=new ao({id:"bryntum-tooltip",forElement:window,forSelector:"[data-btip]",header:!0,resetCfg:{},listeners:{pointerOver:function(e){var t=e.source,n=e.target;for(var r in t.resetCfg)"listeners"===r?t.un(t.resetCfg[r].set):"was"in t.resetCfg[r]?t[r]=t.resetCfg[r].was:delete t[r];t.resetCfg={};var i=De.get(n.id),o=i?i.tipConfig:t.gatherDataConfigs(n.dataset);for(var a in o)t.resetCfg[a]={set:o[a]},Object.prototype.hasOwnProperty.call(t,a)&&(t.resetCfg[a].was=t[a]),"listeners"===a?t.on(o[a]):t[a]=o[a];t.headerElement.style.display=t.title?"":"none"}},gatherDataConfigs:function(e){var t={};for(var n in e)if(n.startsWith("btip"))if(n.length>4){var r=_.lowercaseFirstLetter(n.substr(4));if(r in this.getDefaultConfiguration()){var i=e[n];t[r]=isNaN(i)?i:parseInt(i,10)}}else t.html=e[n];return t}});var uo=function(e){return function(e){X()(n,e);var t=so(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).call(this,e),this._badge&&(this.badge=this._badge)}},{key:"badge",set:function(e){var t=this.element;this._badge=e,t&&(null!=e&&""!==e?(t.dataset.badge=e,t.classList.add("b-badge")):(t.dataset.badge&&delete t.dataset.badge,t.classList.remove("b-badge")))},get:function(){return this._badge}},{key:"widgetClass",get:function(){if(this.badge)return"b-badge"}}]),n}(e||U)};function co(){var e=Bi()(["\n            <"," "," ",' class="'," ",'" ','>\n                <label reference="label">Â </label>\n            </',">\n        "],["\n            <"," "," ",' class="'," ",'" ','>\n                <label reference="label">\\xa0</label>\n            </',">\n        "]);return co=function(){return e},e}function lo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var fo=/^b-icon-/,ho=/^b-fa-/,po=function(e){X()(n,e);var t=lo(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"template",value:function(){var e=this,t=e.href?"a":"button";return Wi.tpl(co(),t,"a"===t?'href="'.concat(e.href,'"'):"","a"===t&&e.target?'target="'.concat(e.target,'"'):"",e.color||"",e.toggleable&&e.pressed?"b-pressed":"",e.toggleGroup?'data-group="'.concat(e.toggleGroup,'"'):"",t)}},{key:"construct",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.toggleGroup&&(t.toggleable=!0);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(e=ce()(Q()(n.prototype),"construct",this)).call.apply(e,[this,t].concat(i)),ur.on({element:this.element,click:"onInternalClick",thisObj:this})}},{key:"doDestroy",value:function(){this.destroyProperties("menu"),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"eachWidget",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.menu;if(n){if(!1===e(n))return;t&&n.eachWidget&&n.eachWidget(e,t)}}},{key:"onFocusOut",value:function(e){ce()(Q()(n.prototype),"onFocusOut",this).call(this,e),this.menu&&this.menu.hide()}},{key:"onInternalClick",value:function(e){var t=this,n={event:e};if(t.toggleable){if(t.toggleGroup&&t.pressed)return;t.toggle(!t.pressed)}t.trigger("click",n),t.isDestroyed||t.trigger("action",n),this.href||(e.preventDefault(),e.stopPropagation())}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,n=t.menu;t.toggleable&&(null===e&&(e=!t.pressed),t.pressed=e,t.toggling=!0,n&&(n.minWidth=t.width,n[e?"show":"hide"]()),t.syncIconCls(),t.trigger("toggle",{pressed:e}),t.toggling=!1)}},{key:"syncIconCls",value:function(){var e=this,t=e._iconEl;if(e.icon){t||(t=e._iconEl=yn.createElement({tag:"i",nextSibling:e.element.firstChild}));var n=e.pressed&&e.pressedIcon?e.pressedIcon:e.icon;e._iconEl.className=n,fo.test(n)?t.classList.add("b-icon"):ho.test(n)&&t.classList.add("b-fa")}else t&&t.remove()}},{key:"focusElement",get:function(){return this.element}},{key:"text",get:function(){return this._text},set:function(e){var t=this.element;null==e&&(e=""),this.label.innerText=this._text=e,t.classList[String(e).length?"add":"remove"]("b-text")}},{key:"menu",get:function(){var e=this,t=e._menu;return!t||t instanceof Jr||("object"!==oe()(t)||"type"in t||"items"in t||"widgets"in t||"html"in t||(t={items:t}),t=e.menu=Ce.createWidget(Object.assign({type:"menu",floating:!0,autoShow:!1,autoClose:!0,scrollAction:"realign",constrainTo:document.body,forElement:e.element,align:"t0-b0",owner:e,onHide:function(){e.setTimeout(function(){return e.toggle(!1)},e.onMenuHideTimeout)}},t))),t},set:function(e){this._menu=e,this.toggleable=Boolean(e)}},{key:"pressed",set:function(e){var t=this;e&&t.toggleGroup&&yn.forEachSelector("button[data-group=".concat(t.toggleGroup,"]"),function(e){e!==t.element&&Ce.getById(e.id).toggle(!1)}),t._pressed=e,t.element&&t.element.classList[e?"add":"remove"]("b-pressed")},get:function(){return this._pressed}},{key:"icon",set:function(e){this._icon=e,this.syncIconCls()},get:function(){return this._icon}},{key:"pressedIcon",set:function(e){this._pressedIcon=e,this.syncIconCls()},get:function(){return this._pressedIcon}},{key:"iconAlign",set:function(e){var t=this._iconAlign;e!==t&&(t&&this.element.classList.remove("b-icon-align-".concat(t)),this.element.classList.add("b-icon-align-".concat(e)),this._iconAlign=e)},get:function(){return this._iconAlign}}],[{key:"$name",get:function(){return"Button"}},{key:"defaultConfig",get:function(){return{icon:null,pressedIcon:null,iconAlign:"start",text:"",color:null,toggleable:!1,pressed:!1,toggleGroup:null,ripple:{radius:75},defaultBindProperty:"text",localizableProperties:["text"],menu:null,href:null,target:null,onMenuHideTimeout:300,testConfig:{onMenuHideTimeout:0}}}}]),n}(uo(Jr));function vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}po._$name="Button",ke.register("button",po);var go=function(e){X()(n,e);var t=vo(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ce()(Q()(n.prototype),"construct",this).call(this,t),this.items.forEach(function(t){return t.on("click",e.onItemClick,e)})}},{key:"onItemClick",value:function(){this._value=null}},{key:"createWidget",value:function(e){var t=this;t.color&&!e.color&&(e.color=t.color),t.toggleGroup&&!e.toggleGroup&&("boolean"==typeof t.toggleGroup&&(t.toggleGroup=De.generateId("toggleGroup")),e.toggleGroup=t.toggleGroup),t.columns&&(e.width="".concat(100/t.columns,"%"));var r=ce()(Q()(n.prototype),"createWidget",this).call(this,e);if(!(r instanceof po))throw new Error("A ButtonGroup can only contain buttons");return r}},{key:"value",get:function(){if(!this._value){var e=[];this.items.forEach(function(t){t.pressed&&void 0!==t.value&&e.push(t.value)}),this._value=e.join(this.valueSeparator)}return this._value},set:function(e){Array.isArray(e)||(e=null==e?[]:"string"==typeof e?e.split(this.valueSeparator):[e]),this._value=e,this.items.forEach(function(t){void 0!==t.value&&(t.pressed=e.indexOf(t.value)>-1)})}},{key:"disabled",get:function(){return ce()(Q()(n.prototype),"disabled",this)},set:function(e){di()(Q()(n.prototype),"disabled",e,this,!0),this.items.forEach(function(t){return t.disabled=e})}},{key:"widgetClassList",get:function(){var e=ce()(Q()(n.prototype),"widgetClassList",this);return this.columns&&e.push("b-columned"),e}}],[{key:"$name",get:function(){return"ButtonGroup"}},{key:"defaultConfig",get:function(){return{defaultType:"button",cls:null,items:null,color:null,toggleGroup:null,valueSeparator:",",columns:null}}}]),n}(Mi);function yo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}go._$name="ButtonGroup",ke.register("buttonGroup",go);var mo=function(e){X()(n,e);var t=yo(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"doDestroy",value:function(){this.mousedownRemover&&this.mousedownRemover(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"onMouseDown",value:function(e){var t=this,n=t.delegate?e.target.closest(t.delegate):t.element;n&&(t.triggerEvent=e,ur.lockComposedPath(t.triggerEvent),t.activeListenerRemover=ur.on({mouseup:{element:document,handler:"onMouseUp"},mousemove:{element:n,handler:"onTargetMouseMove"},mouseleave:{element:n,handler:"onTargetMouseLeave"},mouseenter:{element:n,handler:"onTargetMouseEnter"},thisObj:t}),t.setTimeout("startAutoRepeat",t.delay))}},{key:"onMouseUp",value:function(e){var t=this;t.acceleration&&t.acceleration.cancel(),t.activeListenerRemover&&t.activeListenerRemover(),t.clearTimeout("startAutoRepeat"),t.clearTimeout(t.repeatTimer)}},{key:"onTargetMouseLeave",value:function(){this.clearInterval(this.repeatTimer)}},{key:"onTargetMouseEnter",value:function(e){this.triggerEvent=e,this.fireClick()}},{key:"onTargetMouseMove",value:function(e){this.triggerEvent=e}},{key:"startAutoRepeat",value:function(){var e=this;e.interval=e.startInterval=1e3/e.startRate,e.accelerationDelta=e.startInterval-1e3/e.endRate,e.fireClick(),e.acceleration=Yn.animate(e.accelerateDuration,e.nextTick,e,"easeOutQuad")}},{key:"nextTick",value:function(e){this.interval=this.startInterval-this.accelerationDelta*e}},{key:"fireClick",value:function(){var e=this,t=new MouseEvent("click",e.triggerEvent);e.triggerEvent.target.dispatchEvent(t),e.repeatTimer=e.setTimeout(e.fireClick,e.interval)}},{key:"element",set:function(e){this._element=e,this.mousedownRemover=ur.on({element:e,mousedown:"onMouseDown",thisObj:this})},get:function(){return this._element}}],[{key:"defaultConfig",get:function(){return{element:null,delegate:null,delay:500,startRate:2,endRate:20,accelerateDuration:4e3}}}]),n}(yr(U));function ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}mo._$name="ClickRepeater";var bo=function(e,t){return(e.weight||0)-(t.weight||0)},wo=function(e,t){return(t.weight||0)-(e.weight||0)},So={array:!0},Do=function(e){X()(n,e);var t=ko(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"doDestroy",value:function(){var e=this,t=e.triggers,r=n._errorTip;if(e.inputListenerRemover&&e.inputListenerRemover(),e.keyListenerRemover&&e.keyListenerRemover(),ce()(Q()(n.prototype),"doDestroy",this).call(this),t)for(var i=0,o=Object.values(t);i<o.length;i++){o[i].destroy()}r&&r.field===e&&r.hide()}},{key:"construct",value:function(e){var t=this;t.highlightChanged=t.createOnFrame("addUpdatedCls"),ce()(Q()(n.prototype),"construct",this).call(this,e),n.errorTip,t.keyStrokeChangeDelay&&(t.changeOnKeyStroke=t.buffer(t.internalOnChange,t.keyStrokeChangeDelay))}},{key:"onFocusIn",value:function(e){this.valueOnFocus=It.clone(this.value),ce()(Q()(n.prototype),"onFocusIn",this).call(this,e)}},{key:"onFocusOut",value:function(e){ce()(Q()(n.prototype),"onFocusOut",this).call(this,e),this.updateRequired(),this.onEditComplete()}},{key:"onEditComplete",value:function(){}},{key:"select",value:function(e,t){var n=this.focusElement;if(n.value.length){if(0===arguments.length)return void this.selectAll();if(!this.supportsTextSelection)return;N.isIE11?(n.focus(),n.setSelectionRange(e,t)):n.setSelectionRange(e,t)}}},{key:"moveCaretToEnd",value:function(){var e=this.input;if(e.createTextRange){var t=e.createTextRange();t.collapse(!1),t.select()}else this.supportsTextSelection&&this.select(e.value.length,e.value.length)}},{key:"selectAll",value:function(){this.focusElement.select()}},{key:"updateEmpty",value:function(){var e=this.isEmptyInput,t=this.isEmpty,n=this.element,r=this.clearIcon,i=e&&t;n&&(r&&r.classList[i?"add":"remove"]("b-icon-hidden"),n.classList[i?"add":"remove"]("b-empty"))}},{key:"updateInvalid",value:function(){this.updatingInvalid=!0;var e=this.isValid,t=this.element,n=this.errorTip,r=this.inputWrap;t&&(t.classList[e?"remove":"add"]("b-invalid"),e?n.isVisible&&n.field===this&&n.hide():r.contains(ao.currentOverElement)&&(n.activeTarget===r&&n.isVisible?n.onBeforeShow():(n.activeTarget=r,n.showBy(r)))),this.updatingInvalid=!1}},{key:"hasChanged",value:function(e,t){return t!==e}},{key:"syncInputFieldValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=t.input;n&&!t.inputting&&(t.input.value=t.inputValue,t.isConfiguring||t.containsFocus||!t.highlightExternalChange||(n.classList.remove("b-field-updated"),t.clearTimeout("removeUpdatedCls"),e||t.parent&&t.parent.isSettingValues||t.highlightChanged())),t.updateEmpty(),t.updateInvalid()}},{key:"addUpdatedCls",value:function(){this.input.classList.add("b-field-updated"),this.setTimeout("removeUpdatedCls",this.updatedClsDuration)}},{key:"removeUpdatedCls",value:function(){this.input.classList.remove("b-field-updated")}},{key:"internalOnInputFocus",value:function(){var e=this.input.value.length;N.isIE11&&e&&!this.autoSelect&&this.select(e,e)}},{key:"internalOnChange",value:function(e){var t=this;t.isValid&&t.hasChanged(t._lastValue,t.value)&&(t.triggerChange(e,!0),t._lastValue=t.value)}},{key:"triggerChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Boolean(this._isUserAction),n=this,r=n.value,i=n._lastValue,o=n.isValid;n.trigger("change",{value:r,oldValue:i,event:e,userAction:t,valid:o}),"change"===n.defaultAction&&n.trigger("action",{value:r,oldValue:i,event:e,userAction:t,valid:o})}},{key:"internalOnInput",value:function(e){var t=this;t.inputting=!0,t.value=t.input.value,t.inputting=!1,t.trigger("input",{value:t.value,event:e}),t.changeOnKeyStroke&&t.changeOnKeyStroke(e)}},{key:"internalOnKeyPress",value:function(e){var t=this,n=t.value,r=!1;if("keydown"===e.type)if("Escape"!==e.key||t.readOnly)"Enter"===e.key&&N.isIE11&&t.internalOnChange(e);else{var i="initialValue"in t?t.initialValue:t.valueOnFocus,o=t.hasChanged(i,n),a=t.input.value!==String(t.inputValue);t.revertOnEscape&&(!t.isValid||o||a)?(o&&(t.value=i),a&&t.syncInputFieldValue(!0),t.clearError(),r=!0):t.clearable&&(n||t.input.value)&&t.clear()}t.isDestroyed||(r&&e.stopImmediatePropagation(),t.trigger(e.type,{event:e}))}},{key:"clear",value:function(){this.value=null,this.trigger("clear")}},{key:"onDisabled",value:function(){this.updateInvalid()}},{key:"updateRequired",value:function(){var e=this;e.isConfiguring||!e.required||""!==e.value&&null!=e.value?e.clearError("L{fieldRequired}",e.updatingInvalid):e.setError("L{fieldRequired}",e.updatingInvalid)}},{key:"setError",value:function(e,t){e=this.L(e),(this.errors||(this.errors={}))[e]=e,t||this.updateInvalid()}},{key:"clearError",value:function(e,t){e=this.L(e),this.errors&&(e?delete this.errors[e]:this.errors={}),t||this.updateInvalid()}},{key:"getErrors",value:function(){var e=this;if(!e.isValid){var t,n=e.input.validity,r=It.allKeys(n).find(function(e){return"valid"!==e&&"customError"!==e&&n[e]});if(e.errors)t=It.getTruthyValues(e.errors);else if(n.customError)t=[e.input.validationMessage];else if(r){var i="L{".concat(r,"}");t=[e.L(i,{min:e.min,max:e.max})]}else t=[e.invalidValueError];if(t&&t.length)return t}}},{key:"invalidValueError",get:function(){return this.L("L{invalidValue}")}},{key:"errorTip",get:function(){return this.constructor.errorTip}},{key:"element",set:function(e){var t=this,r=t.initialConfig.value,i=yn.createElementFromTemplate(t.inputTemplate(t),So),o=[{className:"b-field-inner",reference:"inputWrap",children:i}],a=[],s=[],u=t.labels||[];for(var c in t.label&&u.push({reference:"labelElement",html:t.label}),u&&u.forEach(function(e){var n=Object.assign({tag:"label",htmlFor:"".concat(t.id,"_input"),className:"b-align-".concat(e.align||"start")},e);e.align&&"start"!==e.align?o.push(n):o.unshift(n)}),t._thisIsAUsedExpression(t.clearable),t.triggers){var l=t.triggers[c];"start"===l.align?a.unshift(l):s.push(l)}a.sort(bo),s.sort(wo),i.unshift.apply(i,te()(a.map(function(e){return e.element}))),i.push.apply(i,te()(s.map(function(e){return e.element}))),di()(Q()(n.prototype),"element",{className:u.length?"b-has-label":"",children:o},this,!0),null!=r&&(t.value=r),t.updateEmpty(),t.updateInvalid();var f=t.input||t.focusElement;f&&(t.keyListenerRemover=ur.on({element:f,thisObj:t,keydown:"internalOnKeyPress",keypress:"internalOnKeyPress",keyup:"internalOnKeyPress"}))},get:function(){return ce()(Q()(n.prototype),"element",this)}},{key:"focusElement",get:function(){return this.input}},{key:"attributeString",get:function(){var e=this,t=e.attributes.map(function(t){return null!=e[t]?"".concat(t.toLowerCase(),'="').concat(e[t],'"'):""}).join(" ");return e.inputAttributes&&(t+=Object.keys(e.inputAttributes).map(function(t){return"".concat(t,'="').concat(e.inputAttributes[t],'"')}).join(" ")),t}},{key:"editable",get:function(){return this._editable},set:function(e){var t=this,n=t.input;t._editable=e,n&&(n.readOnly=!1===e?"readOnly":null,!1!==e?t.inputListenerRemover=ur.on({element:n,thisObj:t,focus:"internalOnInputFocus",change:"internalOnChange",input:"internalOnInput"}):t.inputListenerRemover&&t.inputListenerRemover())}},{key:"clearable",set:function(e){this._clearable=e,e&&!this.triggers&&(this.triggers={})},get:function(){return this._clearable}},{key:"triggers",set:function(e){var t=this,n=t._triggers={};for(var r in t.clearable&&((e||(e={})).clear={cls:"b-icon-remove",handler:function(){t._isUserAction=!0,t.clear(),t._isUserAction=!1},weight:1e3}),e)n[r]=Ce.createWidget(It.assign({type:"trigger",reference:r,parent:t},e[r]),t.defaultTriggerType||"trigger")},get:function(){return this._triggers}},{key:"labelWidth",set:function(e){this.labelElement&&(this.labelElement.style.flex="0 0 ".concat(yn.setLength(e)),this.inputWrap.style.flexBasis=null==e?"":0)}},{key:"label",get:function(){return this._label},set:function(e){null==e&&(e=""),this._label=e,this.labelElement&&(this.labelElement.innerHTML=e)}},{key:"readOnly",get:function(){return this._readOnly||this.disabled},set:function(e){var t=this;e=Boolean(e),Boolean(t._readOnly)!==e&&(t._readOnly=e,t.element.classList[e?"add":"remove"]("b-readonly"),e?(t.readWriteEditability=t.editable,t.editable=!1):t.editable=t.readWriteEditability)}},{key:"isValid",get:function(){var e=this;if(!e.disabled){if(e.updateRequired(),e.errors&&It.getTruthyValues(e.errors).length)return!1;if(e.input&&e.input.validity)return e.input.validity.valid}return!0}},{key:"isEmpty",get:function(){return null==this.value||""===this.value}},{key:"isEmptyInput",get:function(){return!this.input||null==this.input.value||""===this.input.value}},{key:"value",get:function(){return this._value},set:function(e){var t=this,n=t._value;t.hasChanged(n,e)?(t._value=e,t.isConfiguring||(t.updateRequired(),t.inputting||t.triggerChange()),t.inputting||(t._lastValue=e),t.syncInputFieldValue()):""===e&&t.updateRequired()}},{key:"inputValue",get:function(){return null==this.value?"":this.value}},{key:"supportsTextSelection",get:function(){var e=this.focusElement;return e&&("textarea"===e.tagName.toLowerCase()||e.type&&(/text|search|password|tel|url/.test(e.type)||N.isEdge))}}],[{key:"$name",get:function(){return"Field"}},{key:"defaultConfig",get:function(){return{value:"",name:null,label:null,labels:null,required:null,clearable:null,revertOnEscape:null,labelWidth:null,inputWidth:null,keyStrokeChangeDelay:0,readOnly:null,editable:!0,defaultAction:"change",triggers:null,highlightExternalChange:!0,localizableProperties:["label","title","placeholder"],autoSelect:!1,autoComplete:"off",inputAttributes:null,updatedClsDuration:1500,testConfig:{updatedClsDuration:10}}}},{key:"errorTip",get:function(){return n._errorTip||(n._errorTip=new ao({id:"bryntum-field-errortip",cls:"b-field-error-tip",forSelector:".b-field.b-invalid .b-field-inner",align:"l-r",scrollAction:"realign",onBeforeShow:function(){var e=De.fromElement(this.activeTarget);if(e){var t=e.getErrors();if(t)return this.html=t.join("<br>"),this.field=e,!0}return!1}}))}}]),n}(uo(Jr));function Ro(){var e=Bi()(['\n            <input type="checkbox" id="','_input" reference="input" ','/>\n            <label class="b-checkbox-label" for="','_input" reference="textLabel">',"</label>\n        "]);return Ro=function(){return e},e}function Co(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Do.Trigger=function(e){X()(n,e);var t=ko(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"template",value:function(){return'<div class="b-icon b-align-'.concat(this.align||"end",'"></div>')}},{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).call(this,e),ur.on({element:this.element,click:{handler:"onClick",thisObj:this},mousedown:{handler:"onMousedown",thisObj:this}})}},{key:"onClick",value:function(e){var t=this,n=t.field,r="function"==typeof t.handler?t.handler:n[t.handler];n.disabled||n.readOnly||r&&!1!==n.trigger("trigger",{trigger:t})&&r.call(n,e)}},{key:"onMousedown",value:function(e){var t=this.field;!("key"in e)&&yn.isTouchEvent&&t.editable&&(t.editable=!1,t.setTimeout(function(){return t.editable=!0},500)),e.preventDefault(),document.activeElement!==t.input&&t.focus()}},{key:"field",get:function(){return this.parent}}],[{key:"$name",get:function(){return"FieldTrigger"}},{key:"defaultConfig",get:function(){return{align:null}}}]),n}(Jr),Do.SpinTrigger=function(e){X()(n,e);var t=ko(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"doDestroy",value:function(){this.clickRepeater&&this.clickRepeater.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"template",value:function(){return'<div class="b-icon b-align-'.concat(this.align||"end",'">\n                    <div reference="upButton" class="b-icon b-spin-up"></div>\n                    <div reference="downButton" class="b-icon b-spin-down"></div>\n                </div>')}},{key:"onClick",value:function(e){var t=this.field;t.disabled||(e.target===this.upButton?t.doSpinUp():e.target===this.downButton&&t.doSpinDown())}},{key:"repeat",set:function(e){var t=this;e?t.clickRepeater=new mo(Object.assign({element:t.element},e)):t.clickrepeater&&(t.clickRepeater.destroy(),t.clickrepeater=null)}}],[{key:"$name",get:function(){return"SpinTrigger"}},{key:"defaultConfig",get:function(){return{repeat:!0}}}]),n}(Do.Trigger),Do._$name="Field",ke.register("trigger",Do.Trigger),ke.register("spintrigger",Do.SpinTrigger);var xo=function(e){X()(n,e);var t=Co(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).call(this,e);var t=this;t.initialConfig.readOnly&&(t.readOnly=!0),t.isConfiguring=!0,t.initialConfig.checked&&(t.checked=!0),t.isConfiguring=!1}},{key:"inputTemplate",value:function(){var e=this;return Wi.tpl(Ro(),e.id,e.toggleGroup?'data-group="'.concat(e.toggleGroup,'"'):"",e.id,e.text||"")}},{key:"getToggleGroupMembers",value:function(){var e=this.checked,t=this.toggleGroup,n=this.input,r=[];return e&&t&&yn.forEachSelector("input[type=checkbox][data-group=".concat(t,"]"),function(e){if(e!==n){var t=Ce.fromElement(e);t&&r.push(t)}}),r}},{key:"uncheckToggleGroupMembers",value:function(){this.checked&&this.toggleGroup&&this.getToggleGroupMembers().forEach(function(e){return e.checked=!1})}},{key:"check",value:function(){this.checked=!0}},{key:"uncheck",value:function(){this.checked=!1}},{key:"toggle",value:function(){this.checked=!this.checked}},{key:"internalOnChange",value:function(e){this.triggerChange(!0)}},{key:"triggerChange",value:function(e){var t=this,n=t.input.checked;(!n&&e&&t.toggleGroup&&t.getToggleGroupMembers().filter(function(e){return e.isVisible&&!e.disabled}).length||!t.callPreventable("change",{checked:n,value:n,userAction:e},function(n){return e&&t.uncheckToggleGroupMembers(),t.trigger("action",n),!0}))&&(t.input.checked=!t.input.checked)}},{key:"element",set:function(e){var t=this;di()(Q()(n.prototype),"element",e,this,!0),t.color&&t.element.classList.add(t.color),t.text&&t.element.classList.add("b-text")},get:function(){return ce()(Q()(n.prototype),"element",this)}},{key:"text",get:function(){return this._text},set:function(e){this._text=e,this.textLabel&&(this.textLabel.innerHTML=e)}},{key:"value",get:function(){return this.checked},set:function(e){this.checked="false"!==e&&Boolean(e)}},{key:"checked",get:function(){return this.input.checked},set:function(e){var t=this;e=Boolean(e),t.inputting||t.input.checked===e||(t.input.checked=e,t.uncheckToggleGroupMembers(),t.isConfiguring||t.triggerChange(!1))}},{key:"readOnly",get:function(){return this._readOnly},set:function(e){this._readOnly=e,this.element.classList[e?"add":"remove"]("b-readonly"),this.input.disabled=e}}],[{key:"$name",get:function(){return"Checkbox"}},{key:"defaultConfig",get:function(){return{text:"",color:null,value:"",toggleGroup:null,defaultBindProperty:"value",localizableProperties:["label","text"]}}}]),n}(Do);xo._$name="Checkbox",ke.register("checkbox",xo),ke.register("check",xo);n(268);function Eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var To=function(e){X()(n,e);var t=Eo(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){this.pluggedInto=this.client=e,ce()(Q()(n.prototype),"construct",this).call(this,t),this.applyPluginConfig(e)}},{key:"applyPluginConfig",value:function(e){var t=this,n=t.pluginConfig||t.constructor.pluginConfig;if(n){var r=n.assign,i=n.chain,o=n.after,a=n.before,s=n.override;r&&t.applyAssign(e,r),(i||o)&&t.applyChain(e,i||o),a&&t.applyChain(e,a,!1),s&&t.applyOverride(e,s)}}},{key:"applyAssign",value:function(e,t){var n=this;t.forEach(function(t){return n.assign(e,t)})}},{key:"applyChain",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.forEach(function(t){e[t]?n.chain(e,t,r):n.assign(e,t)})}},{key:"applyOverride",value:function(e,t){var n=this;n.overridden||(n.overridden={}),t.forEach(function(t){if(!n[t])throw new Error("Trying to chain fn ".concat(e.$name,"#").concat(t,", but plugin fn ").concat(n.$name,"#").concat(t," does not exist"));"function"==typeof e[t]&&(n.overridden[t]=e[t].bind(e)),e[t]=n[t].bind(n)})}},{key:"assign",value:function(e,t){var n=this,r=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(n),t);r&&(r.get||r.set)?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:r.get&&r.get.bind(n),set:r.set&&r.set.bind(n)}):e[t]=n[t].bind(n)}},{key:"chain",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this,i=e.pluginFunctionChain||(e.pluginFunctionChain={});if(i[t]||(i[t]=[e[t].bind(e)]),!r[t])throw new Error("Trying to chain fn ".concat(e.$name,"#").concat(t,", but plugin fn ").concat(r.$name,"#").concat(t," does not exist"));i[t][n?"push":"unshift"](r[t].bind(r)),e[t]=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return r.functionChainRunner.apply(r,[t].concat(n))}}},{key:"functionChainRunner",value:function(e){for(var t,n=this.client.pluginFunctionChain[e],r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(var a=0;a<n.length;a++)if(!1===(t=n[a].apply(n,i)))return!1;return t}},{key:"doDisable",value:function(e){var t=this.constructor,n="featureClass"in t?t.featureClass:"b-".concat(t.$name.toLowerCase());n&&this.client&&this.client.element&&this.client.element.classList[e?"remove":"add"](n),e?this.trigger("disable"):this.trigger("enable")}},{key:"throwOverrideIsMissing",value:function(e){throw new Error("Trying to override fn ".concat(e.plugIntoName,"#").concat(e.fnName,", but plugin fn ").concat(e.pluginName,"#").concat(e.fnName," does not exist"))}},{key:"client",get:function(){return this._client},set:function(e){this._client=e}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e,this.doDisable(e)}}],[{key:"initPlugins",value:function(e){for(var t=e.plugins||(e.plugins={}),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o];t[s.$name]=new s(e)}}},{key:"defaultConfig",get:function(){return{disabled:!1}}}]),n}(We(me(U)));function Mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}To._$name="InstancePlugin";var Po=function(e){return function(e){X()(n,e);var t=Mo(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"initPlugins",value:function(){}},{key:"addPlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];To.initPlugins.apply(To,[this].concat(t))}},{key:"hasPlugin",value:function(e){return null!=this.getPlugin(e)}},{key:"getPlugin",value:function(e){return"function"==typeof e&&(e=e.$name),this.plugins&&this.plugins[e]}},{key:"plugins",get:function(){return this._plugins||(this._plugins={}),this._plugins},set:function(e){e&&(Array.isArray(e)||(e=[e]),To.initPlugins.apply(To,[this].concat(te()(e)))),this.initPlugins()}},{key:"widgetClass",get:function(){}}]),n}(e||U)};function Ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Io=function(e){return function(e){X()(n,e);var t=Ao(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"state",get:function(){return this._state=this.getState(),this._state},set:function(e){this._state=e,this.applyState(e)}},{key:"widgetClass",get:function(){}}]),n}(e||U)};n(231),n(232);function Fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Lo=Symbol("STM_PROP"),Oo={parentIndex:1};function _o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jo(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ho(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function No(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Bo,zo={children:1,data:1,meta:1},Vo={},Wo=function(e){return e instanceof Date||(e=xt.parse(e,this.format||this.dateFormat||xt.defaultParseFormat)),e||void 0},$o=function(e,t,n){return e&&e.isEqual?e.isEqual(t,n):It.isEqual(t,n)},Go=function(){},Yo=function(e){X()(n,e);var t=No(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this,a=o.constructor,s=a.fieldMap,u=t?Array.isArray(t)?t:[t]:[],c=null;if(t=u[0],o.meta=Object.assign({modified:{}},a.metaConfig,r),a.applyConfigs){var l=a.getDefaultConfiguration(),f=te()(new Set(It.allKeys(l)));f.length&&(o.useRawData&&o.useRawData.enabled||(e=Object.assign({},e)),c={},f.forEach(function(t){c[t]=e[t]||l[t],delete e[t]}))}if(ce()(Q()(n.prototype),"construct",this).call(this,c),i?a.hasOwnProperty("fieldMap")||a.exposeProperties():a.exposeProperties(e),!a.hasOwnProperty("idFieldProcessed")){var d=o.meta.idField;d||(a._assignedIdField?d=a.idField:t&&(d=t.idField)),d&&d!==s.id.dataSource&&a.addField({name:"id",dataSource:d}),a.idFieldProcessed=!0}o._internalId=n._internalIdCounter++,o.stores=[],o.unjoinedStores=[],o.originalData||(o.originalData=e),o.data=a.processData(e,!1,t),null==o.id&&o.setData("id",o.generateId(t)),o.data[a.childrenField]&&o.processChildren(u),o.generation=0}},{key:"equals",value:function(e){if(e instanceof this.constructor){for(var t=this.fields,n=0,r=t.length;n<r;n++){var i=t[n],o=i.name;if("id"!==o&&!$o(i,this[o],e[o]))return!1}return!0}return!1}},{key:"getFieldDefinition",value:function(e){return this.constructor.getFieldDefinition(e)}},{key:"getFieldDefinitionFromDataSource",value:function(e){return this.constructor.fieldDataSourceMap[e]}},{key:"getDataSource",value:function(e){var t=this.constructor.getFieldDefinition(e);if(t)return t.dataSource||t.name}},{key:"initRelations",value:function(){var e=this;e.constructor.relations&&e.stores.forEach(function(t){t.modelRelations||t.initRelations();var n=[];t.modelRelations&&t.modelRelations.forEach(function(t){n.push({related:e.initRelation(t),config:t})}),t.updateRecordRelationCache(e,n)})}},{key:"initRelation",value:function(e){var t=this.get(e.fieldName),n=void 0!==t&&"string"!=typeof e.store&&e.store.getById(t),r={id:t,placeHolder:!0};return this.meta.relationCache||(this.meta.relationCache={}),this.meta.relationCache[e.relationName]=n||(null!=t?r:null),n}},{key:"removeRelation",value:function(e){this.meta.relationCache[e.relationName]&&(delete this.meta.relationCache[e.relationName],e.nullFieldOnRemove&&this.setData(e.fieldName,null))}},{key:"getForeign",value:function(e){return this.meta.relationCache&&this.meta.relationCache[e]}},{key:"setForeign",value:function(e,t,r){var i=n.asId(t);return this.set(r.fieldName,i)}},{key:"get",value:function(e){var t=this.meta.batchChanges,n=this.data,r=this.constructor.fieldMap[e],i=r?r.dataSource:e;if(t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];if(i){if(!r&&e.includes(".")){var o=e.split(".")[0];r=this.constructor.fieldMap[o]}return r&&r.complexMapping?It.getPath(n,i):i in n?n[i]:n[e]}}},{key:"setData",value:function(e,t){var n=this.constructor.fieldMap[e],r=n?n.dataSource:e;r&&It.setPath(this.data,r,t)}},{key:"syncId",value:function(e){var t=this.id;if(t!==e){this.setData("id",e);var n={id:{value:e,oldValue:t}};this.afterChange(n,n)}}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this;if(i.isBatchUpdating)return i.inBatchSet(e,t),null;var o=i.beforeSet?i.beforeSet(e,t,n,r):void 0,a=i.inSet(e,t,n,r);return i.afterSet&&i.afterSet(e,t,n,r,o,a),a}},{key:"fieldToKeys",value:function(e,t){var n;return"string"!=typeof e?(n={},Reflect.ownKeys(e).forEach(function(t){return n[t]=e[t]})):n=se()({},e,t),n}},{key:"inBatchSet",value:function(e,t){var n=this;if("string"!=typeof e){var r=this.fieldToKeys(e,t);Object.keys(r).forEach(function(e){n.meta.batchChanges[e]=n.constructor.processField(e,r[e])})}else this.meta.batchChanges[e]=t}},{key:"inSet",value:function(e,t,n,r){var i=this,o=i.constructor.fieldMap,a=i.constructor.prototype,s=i.data,u={},c=i.fieldToKeys(e,t),l=!1;return n||i.triggerBeforeUpdate(c)?(Object.keys(c).forEach(function(e){if(e!==i.constructor.childrenField){var t=o[e],n=t&&t.readOnly,f=t?t.dataSource:e,d=!t&&e in a,h=d?i[f]:It.getPath(s,f),p=i.constructor.processField(e,c[e]),v=c[e]={value:p},g=i.getRelationConfig(e);n||$o(t,h,p)?delete c[e]:(i.generation++,v.oldValue=h,l=!0,$o(t,i.meta.modified[e],p)?Reflect.deleteProperty(i.meta.modified,e):(e in i.meta.modified||(i.meta.modified[e]=h),void 0===v.oldValue&&Reflect.deleteProperty(v,"oldValue")),u[e]=v,d?i[e]=p:It.setPath(s,f,p),g&&!r&&(i.initRelation(g),i.stores.forEach(function(e){return e.cacheRelatedRecord(i,p,g.relationName,v.oldValue)})))}}),l&&i.afterChange(c,u,n,r),l?u:null):null}},{key:"afterChange",value:function(e,t,n,r){var i=this;this.stores.forEach(function(o){o.onModelChange(i,e,t,n,r)})}},{key:"isFieldModified",value:function(e){return this.isModified&&this.meta.modified[e]}},{key:"getFieldPersistentValue",value:function(e){var t,n=this.getFieldDefinition(e);return n&&!n.persist||(t=this[e],n&&n.serialize&&(t=n.serialize.call(this,t,this))),t}},{key:"clearChanges",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n.meta;r.modified={},r.committing=!1,e&&n.stores.forEach(function(e){if(e.modified.remove(n),e.added.remove(n),t){var r=e.collectDescendants(n).all;e.added.remove(r),e.modified.remove(r)}})}},{key:"generateId",value:function(){return this.constructor.generatedIdIndex||(this.constructor.generatedIdIndex=0),"_generated"+this.$name+ ++this.constructor.generatedIdIndex}},{key:"toJSON",value:function(){return this.data}},{key:"beginBatch",value:function(){this.batching||(this.batching=0,this.meta.batchChanges={}),this.batching++}},{key:"endBatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=t.constructor.parentIdField;if(t.batching&&(t.batching--,!(t.batching>0||It.isEmpty(t.meta.batchChanges)))){var r=Object.assign({},t.meta.batchChanges);t.meta.batchChanges=null,r[n]&&(t.parentId=r[n],delete r[n]),t.set(r,void 0,e),t.cancelBatch()}}},{key:"cancelBatch",value:function(){this.batching=null,this.meta.batchChanges=null}},{key:"triggerBeforeUpdate",value:function(e){var t=this;return!this.stores.some(function(n){if(!1===n.trigger("beforeUpdate",{record:t,changes:e}))return!0})}},{key:"copy",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=this,i=Object.assign({},r.data),o=r.constructor.idField;n&&"object"===oe()(n)?(e=n.deep,t=n.id,delete n.id):t=n,e&&r.children?i.children=r.children.map(function(e){return e.copy(n)}):(delete i.children,delete i.expanded),t?i[o]=t:null==t&&(i[o]=r.generateId(r.firstStore));var a=new r.constructor(i);return a.originalInternalId=r.internalId,a}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=this.parent;n?n.removeChild(t):t.stores.length&&(t.meta.specialRow||t.stores.forEach(function(n){return n.remove(t,e,!1,!0)}))}},{key:"getRelationConfig",value:function(e){return this.firstStore&&this.firstStore.modelRelations&&this.firstStore.modelRelations.find(function(t){return t.fieldName===e})}},{key:"joinStore",value:function(e){var t=this,r=t.stores,i=t.unjoinedStores;r.includes(e)||(ce()(Q()(n.prototype),"joinStore",this)&&ce()(Q()(n.prototype),"joinStore",this).call(this,e),e.register(t),r.push(e),i.includes(e)&&i.splice(i.indexOf(e),1),t.isLoaded&&t.children.forEach(function(t){return t.joinStore(e)}),t.initRelations(),e.tree&&!t.isRoot&&(t.instanceMeta(e.id).collapsed=!t.expanded))}},{key:"unJoinStore",value:function(e){var t=this,r=t.stores,i=t.unjoinedStores;r.includes(e)&&(e.unregister(t),t.children&&t.children.forEach(function(t){return t.unJoinStore(e)}),r.splice(r.indexOf(e),1),i.push(e),ce()(Q()(n.prototype),"unJoinStore",this)&&ce()(Q()(n.prototype),"unJoinStore",this).call(this,e),e.uncacheRelatedRecord(t)),r.length||(t.meta.removed=!0)}},{key:"isPartOfStore",value:function(e){return e?e.indexOf(this)>=0:this.stores.length>0}},{key:"instanceMeta",value:function(e){var t=this.meta,n=e.id||e;return t.map||(t.map={}),t.map[n]||(t.map[n]={})}},{key:"indexPath",get:function(){for(var e=[],t=this;t&&!t.isRoot;t=t.parent)e.unshift(t.parentIndex+1);return e}},{key:"subclass",get:function(){return new this.constructor(Object.setPrototypeOf({id:void 0},this.data),this.stores[0],null,!0)}},{key:"fields",get:function(){return this.constructor.internalFields||this.constructor.fields}},{key:"fieldNames",get:function(){return Object.keys(this.data)}},{key:"isPersistable",get:function(){return!0}},{key:"isModified",get:function(){return Boolean(this.meta.modified&&Object.keys(this.meta.modified).length>0)}},{key:"modifications",get:function(){var e=this.rawModifications;return e&&Object.keys(e).length&&(e[this.constructor.idField]=this.id),e}},{key:"rawModifications",get:function(){var e=this,t={};if(!e.isModified)return null;var n=!1;return Object.keys(e.meta.modified).forEach(function(r){var i=e.getFieldPersistentValue(r);void 0!==i&&(t[r]=i,n=!0)}),n?t:null}},{key:"modificationData",get:function(){var e=this.rawModificationData;return e&&Object.keys(e).length&&It.setPath(e,this.constructor.getFieldDefinition(this.constructor.idField).dataSource,this.id),e}},{key:"rawModificationData",get:function(){var e=this,t=e.constructor.fieldMap,n={};if(!e.isModified)return null;var r=!1;return Object.keys(e.meta.modified).forEach(function(i){var o=t[i];if(o){var a=e.getFieldPersistentValue(i);void 0!==a&&(It.setPath(n,o.dataSource,a),r=!0)}}),r?n:null}},{key:"persistableData",get:function(){var e=this,t={};return e.fields.forEach(function(n){var r=e.getFieldPersistentValue(n.name);void 0!==r&&It.setPath(t,n.dataSource,r)}),t}},{key:"isCommitting",get:function(){return Boolean(this.meta.committing)}},{key:"internalId",get:function(){return this._internalId}},{key:"isPhantom",get:function(){return""===this.id||null==this.id||this.hasGeneratedId}},{key:"isModel",get:function(){return!0}},{key:"hasGeneratedId",get:function(){return this.id&&"string"==typeof this.id&&this.id.startsWith("_generated")}},{key:"json",get:function(){return JSON.stringify(this.data)}},{key:"isBatchUpdating",get:function(){return Boolean(this.batching)}},{key:"firstStore",get:function(){return this.stores.length>0&&this.stores[0]}},{key:"isValid",get:function(){return!0}}],[{key:"processData",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,i=this.fieldMap,o=this.defaultValues,a=r||{},s=a.useRawData,u=void 0===s?{enabled:!1}:s,c=u.enabled?e:Object.assign({},e);if(!(n=n||u.disableDefaultValue))for(t in o)void 0===c[t]&&(c[t]=o[t]);if(!u.disableTypeConversion)for(t in i){var l=i[t],f=l.name,d=l.dataSource,h=d!==f&&!It.pathExists(e,d)&&f in e,p=!u.disableTypeConversion&&l.convert;if(h||p){var v=h?e[f]:e[d];(!n||h&&f in e||!h&&d in e)&&(It.setPath(c,d,p?l.convert(v):v),h&&delete c[f])}}return c}},{key:"exposeProperties",value:function(e){var t=this,n=t.superclass,r=t.hasOwnProperty("fields")&&t.fields;if(n.exposeProperties&&!n.hasOwnProperty("fieldMap")&&n.exposeProperties(),t.hasOwnProperty("propertiesExposed")||(t.defaultValues=Object.assign({},n.defaultValues,t.hasOwnProperty("defaults")?t.defaults:null),t.fieldMap=Object.setPrototypeOf({},n.fieldMap||Vo),t.fieldDataSourceMap=Object.setPrototypeOf({},n.fieldDataSourceMap||Vo),t.propertiesExposed=Object.setPrototypeOf({},n.propertiesExposed||Vo),t.hasOwnProperty("idField")&&(t.addField({name:"id",dataSource:t.idField}),t.propertiesExposed[t.idField]=!0),r&&r.length&&r.map(t.addField,t)),t.autoExposeFields&&e&&!t.hasOwnProperty("propertiesExposedForData")){for(var i in e)t.propertiesExposed[i]||t.addField({name:i,dataSource:i,fromData:!0});t.propertiesExposedForData=!0}t.exposeRelations()}},{key:"addField",value:function(e){if(null!=e){"string"==typeof e&&(e={name:e});var t=this,n=t.propertiesExposed,r=t.defaultValues,i=e.name,o=e.dataSource||(e.dataSource=i);return e.hasOwnProperty("persist")||(e.persist=!0),"date"===e.type&&(e.convert=Wo),t.fieldMap[i]=e,t.fieldDataSourceMap[o]||(t.fieldDataSourceMap[o]=e),o.includes(".")||"model"===e.type?(e.complexMapping=!0,n[o.split(".")[0]]=!0):n[o]=!0,"defaultValue"in e&&(r[o]=e.defaultValue),t.createFieldProperty(i,o,e),e}}},{key:"removeField",value:function(e){var t=this.fieldMap[e];if(t){var n=t.dataSource;delete this.fieldMap[e],delete this.fieldDataSourceMap[n],delete this.prototype[e],this._internalFields=null}}},{key:"createFieldProperty",value:function(e,t,n){zo[t]||e in this.prototype||Object.defineProperty(this.prototype,e,{enumerable:!0,configurable:!0,get:function(){return this.get(e)},set:n&&n.readOnly?Go:function(t){this.set(e,t)}})}},{key:"exposeRelations",value:function(){var e=this;e.hasOwnProperty("relationsExposed")||e.relationConfig&&(e.relationsExposed=!0,e.relations=[],e.relationConfig.forEach(function(t){e.relations.push(t);var n=t.relationName;Reflect.ownKeys(e.prototype).includes(n)||Object.defineProperty(e.prototype,n,{enumerable:!0,get:function(){return this.getForeign(n)},set:function(e){this.setForeign(n,e,t)}})}))}},{key:"getFieldDefinition",value:function(e){return this.fieldMap[e]}},{key:"getFieldDataSource",value:function(e){return this.getFieldDefinition(e).dataSource}},{key:"processField",value:function(e,t){var n=this.fieldMap[e];return n&&n.convert?n.convert(t):t}},{key:"asId",value:function(e){return e&&e.isModel?e.id:e}},{key:"idField",set:function(e){this._assignedIdField=!0,this._idField=e},get:function(){return this._idField}},{key:"childrenField",set:function(e){this._childrenField=e},get:function(){return this._childrenField||"children"}},{key:"autoExposeFields",get:function(){return!0}},{key:"fields",get:function(){return[]}},{key:"internalFields",get:function(){var e=this.fieldMap,t=this._internalFields;if(this.hasOwnProperty("fieldMap")&&!t)for(var n in t=this._internalFields=[],e)t.push(e[n]);return t}}]),n}(function(e){return function(e){X()(n,e);var t=Ho(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"ingestChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.stores,n=this.inProcessChildren,r=this.constructor,i=t[0];if(!0===e)return!!n||[];if(e){Array.isArray(e)||(e=[e]);for(var o,a=e.length,s=[],u=0;u<a;u++)o=(o=e[u])instanceof Yo?o:i?i.createRecord(o):new r(o,null,null,!0),s.push(o);return s}}},{key:"processChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stores,t=this,n=t.meta;t.inProcessChildren=!0;var r=t.ingestChildren(t.data[t.constructor.childrenField],e);r&&(r.length?(n.isLeaf=!1,!0===t.children&&(t.children=[]),t.appendChild(r)):!0===r?(n.isLeaf=!1,t.children=!0):t.isRoot||(n.isLeaf=t.constructor.convertEmptyParentToLeaf.onLoad)),t.inProcessChildren=!1}},{key:"ancestorsExpanded",value:function(e){var t=this.parent;return!t||t.isExpanded(e)&&t.ancestorsExpanded(e)}},{key:"isExpanded",value:function(e){var t=this.instanceMeta(e.id);return Object.prototype.hasOwnProperty.call(t,"collapsed")||(t.collapsed=!this.expanded),!t.collapsed}},{key:"getDescendantCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.firstStore,n=this.children;return!n||!Array.isArray(n)||e&&!this.isExpanded(t)?0:n.reduce(function(t,n){return t+n.getDescendantCount(e)},n.length)}},{key:"traverse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.children;t||e.call(this,this);for(var r=0,i=n&&n.length;r<i;r++)n[r].traverse(e)}},{key:"traverseBefore",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.children,r=0,i=n&&n.length;r<i;r++)n[r].traverse(e);t||e.call(this,this)}},{key:"traverseWhile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=!0;return t||(r=!1!==e.call(n,n)),r&&n.isLoaded&&(r=n.children.every(function(t){return t.traverseWhile(e)})),r}},{key:"bubble",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;for(t||e.call(n,n);n.parent;)n=n.parent,e.call(n,n)}},{key:"bubbleWhile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=!0;for(t||(r=e.call(n,n));r&&n.parent;)n=n.parent,r=e.call(n,n);return r}},{key:"contains",value:function(e){return e&&"object"===oe()(e)&&(e=e.id),!this.traverseWhile(function(t){return t.id!=e})}},{key:"getTopParent",value:function(e){var t;return e?(t=[],this.bubbleWhile(function(e){return t.push(e),e.parent&&!e.parent.isRoot})):(t=null,this.bubbleWhile(function(e){return e.parent||(t=e),e.parent&&!e.parent.isRoot})),t}},{key:"appendChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.insertChild(e,null,t)}},{key:"insertChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"==typeof e){var r=e;e=t,t=this.children[r]}var i=this,o=i.isLeaf,a=Array.isArray(e);if(Array.isArray(e)||(e=[e]),!n&&!i.stores.every(function(t){return!1!==t.trigger("beforeAdd",{records:e,parent:i})}))return null;e=i.ingestChildren(e);var s=t?t.parentIndex:i.children?i.children.length:0,u=i.beforeInsertChild?i.beforeInsertChild(e):void 0,c=i.internalAppendInsert(e,t,n);return o&&c.length&&(i.meta.isLeaf=!1),i.isLeaf===o||i.root.isLoading||n||i.stores.forEach(function(e){var t={isLeaf:{value:!1,oldValue:!0}};e.trigger("update",{record:i,changes:t}),e.trigger("change",{action:"update",record:i,changes:t})}),i.afterInsertChild&&i.afterInsertChild(s,e,u,c),a||!c?c:c[0]}},{key:"tryInsertChild",value:function(){return this.insertChild.apply(this,arguments)}},{key:"internalAppendInsert",value:function(e,t,n){var r,i,o,a,s=this,u=s.stores,c=s.root,l=c.firstStore,f={};if(t&&t.parent!==s&&(t=null),s.children){var d=s.children,h=t?t.parentIndex:d.length;if(d[i=h]===e[0]||d[i=h-1]===e[0])for(r=!0,o=0;r&&o<e.length;o++)e[o]!==d[i+o]&&(r=!1)}if(r)return e;for(o=0;o<e.length;o++){var p=e[o],v=p.parent;if(f[p.id]=p.root===c,l&&p.traverse(function(e){e.root===c&&(f[e.id]=!0)}),v&&!1===v.removeChild(p,f[p.id]))a||(e=e.slice(),a=!0),e.splice(o--,1);else{var g=p.constructor.parentIdField,y=s.isAutoRoot?null:s.id;if(p.parent=s,p.data[g]=y,!s.inProcessChildren&&!s.isLoading){var m=se()({},g,y),k=p.meta.modified,b=v?v.id:null,w=se()({},g,{value:s.id,oldValue:b});k[g]===s.id?Reflect.deleteProperty(k,g):g in k||(k[g]=b),p.afterChange(m,w)}}}if(e.length){var S=s.addToChildren(s.children||(s.children=[]),t,e);s.addToChildren(s.unfilteredChildren,t,e,!0),u.forEach(function(t){t.isChained||(e.forEach(function(e){e.joinStore(t)}),t.onNodeAddChild(s,e,S,f,n))})}return e}},{key:"removeChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.isLeaf,o=r.children,a=r.stores;if(Array.isArray(e)||(e=[e]),e=e.filter(function(e){return e.parent===r}),!n){var s,u=_o(a);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(!c.isChained&&!1===c.trigger("beforeRemove",{parent:r,records:e,isMove:t}))return!1}}catch(e){u.e(e)}finally{u.f()}}var l,f=r.beforeRemoveChild?r.beforeRemoveChild(e,t):void 0,d=_o(e);try{var h=function(){var e=l.value,i=e.constructor.parentIdField,s=e.meta.modified,u=e.parent?e.parent.id:null;i in s||(s[i]=u);var c=r.removeFromChildren(o,e);r.removeFromChildren(r.unfilteredChildren,e,!0),a.forEach(function(i){i.isChained||i.onNodeRemoveChild(r,[e],c,{isMove:t,silent:n})}),t||(e.parent=e.parentIndex=e.unfilteredIndex=e.nextSibling=e.previousSibling=null,e.data[i]=null)};for(d.s();!(l=d.n()).done;)h()}catch(e){d.e(e)}finally{d.f()}o.length||!r.constructor.convertEmptyParentToLeaf.onRemove||r.isRoot||(r.meta.isLeaf=!0),r.isLeaf===i||n||r.stores.forEach(function(e){var t={isLeaf:{value:!0,oldValue:!1}};e.trigger("update",{record:r,changes:t}),e.trigger("change",{action:"update",record:r,changes:t})}),r.afterRemoveChild&&r.afterRemoveChild(e,f,t)}},{key:"clearParentId",value:function(){var e=this;Reflect.deleteProperty(e.data,e.parentIdField),Reflect.deleteProperty(e.originalData,e.parentIdField),e.meta.modified&&Reflect.deleteProperty(e.meta.modified,e.parentIdField)}},{key:"clearChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=t.children,r=t.stores;n&&(t.children=[],r.forEach(function(r){r.isChained||r.onNodeRemoveChild(t,n,0,{unfiltered:!0,silent:e})}),t.unfilteredChildren&&(t.unfilteredChildren=[]))}},{key:"clear",value:function(){var e=this,t=e.stores,n=e.children&&e.children.slice();if(e.isRoot&&n){var r,i=_o(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(!o.isChained&&!1===o.trigger("beforeRemove",{parent:e,records:n,isMove:!1,removingAll:!0}))return!1}}catch(e){i.e(e)}finally{i.f()}e.children.length=0,t.forEach(function(e){n.forEach(function(t){t.stores.includes(e)&&t.unJoinStore(e),t.parent=t.parentIndex=t.nextSibling=t.previousSibling=null}),e.storage.suspendEvents(),e.storage.clear(),e.storage.resumeEvents(),e.added.clear(),e.modified.clear(),e.trigger("removeAll"),e.trigger("change",{action:"removeall"})})}}},{key:"updateChildrenIndex",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"unfilteredIndex":"parentIndex",r=null,i=function(i){var o=e[i],a=o[n];if(o[n]=i,t||(o.previousSibling=r,r&&(r.nextSibling=o),i===e.length-1&&(o.nextSibling=null),r=o),"parentIndex"===n&&!o.getFieldDefinition(n)&&void 0!==a&&a!==o[n]){var s=!1;o[n]===o.meta.modified[n]?(Reflect.deleteProperty(o.meta.modified,n),s=!0):n in o.meta.modified||(o.meta.modified[n]=a,s=!0),s&&o.stores.forEach(function(e){e.updateModifiedBagForRecord(o)})}},o=0;o<e.length;o++)i(o)}},{key:"addToChildren",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var i=r?"unfilteredIndex":"parentIndex",o=t?t[i]:e.length;return e.splice.apply(e,[o,0].concat(te()(n))),this.updateChildrenIndex(e,r),o}}},{key:"removeFromChildren",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var r=n?"unfilteredIndex":"parentIndex",i=t[r];return i>-1&&(e.splice(i,1),this.updateChildrenIndex(e,n)),i}}},{key:"expanded",get:function(){return this.data.expanded}},{key:"childLevel",get:function(){return this.parent?this.parent.childLevel+1:this.isRoot?-1:0}},{key:"isLeaf",get:function(){return!1!==this.meta.isLeaf&&!this.isRoot}},{key:"isParent",get:function(){return!this.isLeaf}},{key:"isLoaded",get:function(){return this.isParent&&Array.isArray(this.children)}},{key:"descendantCount",get:function(){return this.getDescendantCount()}},{key:"visibleDescendantCount",get:function(){return this.getDescendantCount(!0)}},{key:"allChildren",get:function(){var e=this.children;return e?e.reduce(function(e,t){return e.push(t),e.push.apply(e,t.allChildren),e},[]):[]}},{key:"firstChild",get:function(){var e=this.children;return e&&e.length&&e[0]||null}},{key:"lastChild",get:function(){var e=this.children;return e&&e.length&&e[e.length-1]||null}},{key:"previousSiblingsTotalCount",get:function(){for(var e=this.previousSibling,t=this.parentIndex;e;)t+=e.descendantCount,e=e.previousSibling;return t}},{key:"root",get:function(){return this.parent&&this.parent.root||this}},{key:"parentId",get:function(){return this.parent&&!this.parent.isAutoRoot?this.parent.id:null},set:function(e){var t=this,n=t.parent,r=e&&t.firstStore.getById(e);r!==n&&(n||r)&&(t.isBatchUpdating?t.meta.batchChanges.parentId=e:r?r.appendChild(t):t.parent.removeChild(t))}}],[{key:"convertEmptyParentToLeaf",set:function(e){!0===e?e={onLoad:!0,onRemove:!0}:!1===e&&(e={onLoad:!1,onRemove:!1}),this._convertEmptyParentToLeaf=e},get:function(){return this._convertEmptyParentToLeaf||{onLoad:!1,onRemove:!1}}},{key:"parentIdField",set:function(e){this._parentIdField=e,Object.defineProperty(this.prototype,e,{set:function(e){this.parentId=e},get:function(){return this.parentId}})},get:function(){return this._parentIdField||"parentId"}}]),n}(e||U)}(function(e){X()(n,e);var t=Fo(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"joinStore",value:function(e){ce()(Q()(n.prototype),"joinStore",this)&&ce()(Q()(n.prototype),"joinStore",this).call(this,e),this.stm||(this.stm=e.stm)}},{key:"unJoinStore",value:function(e){this.stm===e.stm&&(this.stm=null),ce()(Q()(n.prototype),"unJoinStore",this)&&ce()(Q()(n.prototype),"unJoinStore",this).call(this,e)}},{key:"beforeSet",value:function(e,t,r,i){var o=this,a=ce()(Q()(n.prototype),"beforeSet",this)?ce()(Q()(n.prototype),"beforeSet",this).call(this,e,t,r,i):[],s=this.stm;if(s&&!s.disabled&&!Oo[e]){var u,c;if("object"==oe()(e)){var l=Object.keys(e).reduce(function(t,n){return t[0][n]=e[n],t[1][n]=o.get(n),t},[{},{}]),f=re()(l,2);u=f[0],c=f[1]}else u=se()({},e,t),c=se()({},e,this.get(e));a.push([u,c])}return a}},{key:"afterSet",value:function(e,t,r,i,o,a){var s=this.stm;if(s&&!s.disabled&&!Oo[e]){var u=o.pop();if(a){var c=re()(u,2),l=c[0],f=c[1],d=Object.keys(a).reduce(function(e,t){return e[0][t]=l[t],e[1][t]=f[t],e},[{},{}]),h=re()(d,2),p=h[0],v=h[1];s.onModelUpdate(this,p,v)}}ce()(Q()(n.prototype),"afterSet",this)&&ce()(Q()(n.prototype),"afterSet",this).call(this,e,t,r,i,o,a)}},{key:"beforeInsertChild",value:function(e){var t=this,r=ce()(Q()(n.prototype),"beforeInsertChild",this)?ce()(Q()(n.prototype),"beforeInsertChild",this).call(this,e):[],i=this.stm;return i&&!i.disabled&&r.push(e.reduce(function(e,n){return n.root===t.root&&e.set(n,{parent:n.parent,index:n.parent?n.parentIndex:void 0}),e},new Map)),r}},{key:"afterInsertChild",value:function(e,t,r,i){var o=this.stm;if(o&&!o.disabled){var a=r.pop();i&&o.onModelInsertChild(this,e,i,a)}ce()(Q()(n.prototype),"afterInsertChild",this)&&ce()(Q()(n.prototype),"afterInsertChild",this).call(this,e,t,r,i)}},{key:"beforeRemoveChild",value:function(e,t){var r=ce()(Q()(n.prototype),"beforeRemoveChild",this)?ce()(Q()(n.prototype),"beforeRemoveChild",this).call(this,e,t):[],i=this.stm;return!i||i.disabled||t||r.push(e.reduce(function(e,t){return e.set(t,t.parentIndex),e},new Map)),r}},{key:"afterRemoveChild",value:function(e,t,r){var i=this.stm;if(i&&!i.disabled&&!r){var o=t.pop();e&&e.length&&i.onModelRemoveChild(this,e,o)}ce()(Q()(n.prototype),"afterRemoveChild",this)&&ce()(Q()(n.prototype),"afterRemoveChild",this).call(this,e,t,r)}},{key:"stm",get:function(){return this[Lo]},set:function(e){this[Lo]=e}}],[{key:"defaultConfig",get:function(){return{stm:null}}}]),n}(Bo||U)));Yo._idField="id",Yo._internalIdCounter=1,Yo._assignedIdField=!1,Yo.exposeProperties(),Yo._$name="Model";var Uo=function(e){return{mixes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(function(e,t){return t(e)},e||U)}}};function qo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Xo=function(e){X()(n,e);var t=qo(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"add",value:function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return 1===r.length&&Array.isArray(r[0])&&(r=r[0]),(e=ce()(Q()(n.prototype),"add",this)).call.apply(e,[this].concat(te()(r.filter(function(e){return e.isPersistable}))))}}]),n}(Ri);function Ko(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Zo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zo(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Xo._$name="StoreBag";function Qo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ta={add:1,replace:1};function na(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function ia(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return oa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oa(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var sa=function(e,t){return-1!==String(e).toLowerCase().indexOf(t)},ua={string:sa,number:sa,boolean:sa,date:function(e,t){return e instanceof Date&&t instanceof Date?String(e)===String(t):-1!==String(e.getMonth()+1).indexOf(t)||-1!==String(e.getDate()).indexOf(t)||-1!==String(e.getFullYear()).indexOf(t)}};function ca(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function la(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var fa=function(){return!0};function da(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function ha(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pa(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ga=Object.freeze([]),ya=function(){function e(){E()(this,e)}return M()(e,null,[{key:"preWalk",value:function(e,t,n){for(var r,i,o=[e];o.length;)n(r=o.pop()),(i=t(r))&&o.push.apply(o,i.slice().reverse())}},{key:"preWalkWithParent",value:function(e,t,n){for(var r=[{node:e,parent:null}],i=function(){var e=r.pop(),i=e.parent,o=e.node;n(i,o);var a=t(o);a&&r.push.apply(r,te()(a.slice().reverse().map(function(e){return{node:e,parent:o}})))};r.length;)i()}},{key:"preWalkUnordered",value:function(e,t,n){for(var r,i,o=[e];o.length;)n(r=o[o.length-1]),(i=t(r))?o.splice.apply(o,[o.length-1,1].concat(te()(i))):o.length=o.length-1}},{key:"postWalk",value:function(e,t,n){for(var r,i,o=new Map,a=[e];a.length;)r=a[a.length-1],o.has(r)?(n(r),a.pop()):((i=t(r))&&(a=a.concat(i.slice().reverse())),o.set(r,r))}},{key:"prePostWalk",value:function(e,t,n,r){for(var i,o,a=new Map,s=[e];s.length;)i=s[s.length-1],a.has(i)?(r(i),s.pop()):(n(i),(o=t(i))&&(s=s.concat(o.slice().reverse())),a.set(i,i))}}]),e}();function ma(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ya._$name="WalkHelper";function ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ba=Symbol("STM_PROP");function wa(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sa(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Da(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ra=function(e){X()(n,e);var t=Da(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;Object.assign(t,{added:new Xo,removed:new Xo,modified:new Xo,idRegister:{},internalIdRegister:{}}),ce()(Q()(n.prototype),"construct",this).call(this,e),t.initRelations()}},{key:"doDestroy",value:function(){for(var e,t=this,r=t.registeredRecords,i=r.length-1;i>=0;i--)(e=r[i])&&!e.isDestroyed&&e.unJoinStore(t);t.storage.destroy(),delete n.storeMap[t.id],t.stm&&t.stm.removeStore(t),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"beginBatch",value:function(){this.suspendEvents()}},{key:"endBatch",value:function(){this.resumeEvents()&&this.trigger("refresh",{action:"batch",data:this.storage.values,records:this.storage.values})}},{key:"onDataChange",value:function(e){var t,r=e.source,i=e.action,o=e.added,a=e.removed,s=e.replaced,u=e.oldCount,c=e.item,l=e.from,f=e.to,d=this,h=o&&o.length,p=a&&a.length;if(d._idMap=null,h&&o.forEach(function(e){e.joinStore(d)}),s&&s.forEach(function(e){var t=re()(e,2),n=t[0],r=t[1];n.unJoinStore(d),r.joinStore(d)}),ce()(Q()(n.prototype),"onDataChange",this).apply(this,arguments),!d.isTree){if(h){var v,g=wa(o);try{for(g.s();!(v=g.n()).done;){var y=v.value;y.joinStore(d),d.removed.includes(y)?d.removed.remove(y):d.added.add(y)}}catch(e){g.e(e)}finally{g.f()}(t=!d.filterParamName&&d.filtered&&d.reapplyFilterOnAdd)&&d.filter({silent:!0})}if(p){var m,k=wa(a);try{for(k.s();!(m=k.n()).done;){var b=m.value;b.unJoinStore(d),d.added.includes(b)?d.added.remove(b):d.removed.add(b)}}catch(e){k.e(e)}finally{k.f()}d.modified.remove(a),(t=!d.filterParamName&&d.filtered)&&d.filter({silent:!0})}}switch(i){case"clear":d.relationCache={},d.updateDependentStores("removeall"),d.trigger("removeAll"),d.trigger("change",{action:"removeall"});break;case"splice":if(h){d.updateDependentStores("add",o);var w=o.reduce(function(e,t){var n=t.meta.previousIndex;return n>-1&&n<e&&(e=n),e},o[0].meta.previousIndex),S=r.indexOf(o[0],!r.autoFilter),D={records:o,index:S};w>-1&&(D.oldIndex=w),d.trigger("add",D),d.trigger("change",Object.assign({action:"add"},D)),t&&d.triggerFilterEvent({action:"filter",filters:d.filters,oldCount:u,records:d.storage.allValues})}a.length&&(d.updateDependentStores("remove",a),d.trigger("remove",{records:a}),d.trigger("change",{action:"remove",records:a})),s.length&&(d.trigger("replace",{records:s,all:d.records.length===s.length}),d.trigger("change",{action:"replace",replaced:s,all:d.records.length===s.length}));break;case"filter":d.isGrouped?d.group(null,null,null,null,!0):d.isSorted&&d.performSort(!0);break;case"move":for(var R=d.storage.allValues,C=Math.min(l,f);C<=Math.max(l,f);C++)R[C].parentIndex=C;d.trigger("move",{record:c,from:l,to:f}),d.trigger("change",{action:i,record:c,from:l,to:f})}}},{key:"onModelChange",value:function(e,t,n,r,i){var o=this,a=e.constructor.idField,s={record:e,changes:n,batch:null!=e.batching,fromRelationUpdate:i},u=o.updateModifiedBagForRecord(e);if(!r){if(a in n){var c=t[a],l=c.oldValue,f=c.value;o.updateDependentRecordIds(l,f),o.onRecordIdChange({record:e,oldValue:l,value:f}),o.trigger("idChange",{store:o,record:e,oldValue:l,value:f})}o.onUpdateRecord(e,n),o.trigger("update",s),o.trigger("change",Object.assign({action:"update"},s))}o.autoCommit&&u&&o.doAutoCommit()}},{key:"updateModifiedBagForRecord",value:function(e){var t=this,n=!1;return e.isModified?t.modified.includes(e)||t.added.includes(e)||(e.isPartOfStore(t)&&e.isPhantom?t.added.add(e):t.modified.add(e),n=!0):t.modified.remove(e),n}},{key:"buildRootNode",value:function(){return{}}},{key:"loadData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dataset",n=this,r=n.storage,i=n.allowNoId,o=n.modelClass.fieldMap.id.dataSource;if(n.storeCollapsedGroups(),n.removeHeadersAndFooters(n.storage.values),n.allCount&&n.clear(!1),n._idMap=null,e){var a=!(e[0]instanceof Yo);if(a){n.modelClass.exposeProperties(e[0]);for(var s=e.length,u=new Array(s),c=0;c<s;c++){var l=e[c];if(!i&&null==l[o])throw new Error("Id required but not found on row ".concat(c));u[c]=n.createRecord(l,!0),u[c].parentIndex=c}r.replaceValues({values:u,silent:!0,isNewDataset:!0})}else r.replaceValues({values:e.slice(),silent:!0,isNewDataset:!0});if(n.storage.allValues.forEach(function(e){e.joinStore(n)}),n.prepareGroupRecords(n.storage.values),n.restoreCollapsedGroups(),!n.filterParamName&&n.isFiltered&&n.filter({silent:!0}),n.isGrouped&&n.group(null,null,!1,!n.sorters.length,!0),!n.sortParamName&&n.sorters.length&&n.sort(null,null,!1,!0),!n.useRawData.disableDuplicateIdCheck){var f=n.idMap;if(Object.keys(f).length<n.storage.values.length){var d=[];throw n.storage.values.forEach(function(e){return f[e.id]?delete f[e.id]:d.push(e)}),new Error("Id collision on ".concat(d.map(function(e){return e.id})))}}var h={action:t,data:e,records:n.storage.values};n.updateDependentStores(h.action,h.records),n.trigger("refresh",h),n.trigger("change",h)}else n._data=null}},{key:"getRange",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(n?this.storage.allValues:this.storage.values).slice(e,t)}},{key:"createRecord",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new this.modelClass(e,this,null,t)}},{key:"refreshData",value:function(){this.filter(),this.sort()}},{key:"onRecordIdChange",value:function(e){var t=e.record,n=e.oldValue,r=e.value,i=this,o=i._idMap,a=i.idRegister;i.storage._indicesInvalid=!0,o&&(delete o[n],o[r]=t),i.added.changeId(n,r),i.removed.changeId(n,r),i.modified.changeId(n,r),delete a[n],a[r]=t,t.index=i.storage.indexOf(t)}},{key:"onUpdateRecord",value:function(e,t){var n=t.internalId,r=this.internalIdRegister;n&&(this.storage._indicesInvalid=!0,delete r[n.oldValue],r[n.value]=e),this.reapplyFilterOnUpdate&&this.isFiltered&&this.filter()}},{key:"getCount",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?this.count:this.originalCount}},{key:"getAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.storage.getAt(e,t)}},{key:"register",value:function(e){var t=this.isTree&&this.idRegister[e.id];if(t&&t!==e)throw new Error("Id collision on ".concat(e.id));this.idRegister[e.id]=e,this.internalIdRegister[e.internalId]=e}},{key:"unregister",value:function(e){delete this.idRegister[e.id],delete this.internalIdRegister[e.internalId]}},{key:"getById",value:function(e){return e&&e.isModel?e:this.idRegister[e]}},{key:"isVisible",value:function(e){return this.isAvailable(e)}},{key:"isAvailable",value:function(e){var t=this.getById(e);return t&&this.storage.includes(t)||!1}},{key:"getByInternalId",value:function(e){return this.internalIdRegister[e]}},{key:"includes",value:function(e){return this.isTree?null!=this.idRegister[Yo.asId(e)]:this.indexOf(e)>-1}},{key:"indexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Yo.asId(e);if(null==n)return-1;if(this.isTree)return this.storage.indexOf(n);var r=this.idMap[n];return r?r[t?"visibleIndex":"index"]:-1}},{key:"allIndexOf",value:function(e){var t=this;if(this.isTree){var n=this.getById(e),r=-1;return n&&n.bubble(function(e){e.parent?r+=e.parentIndex+1:e===t.rootNode&&t.rootVisible&&(r+=1)}),r}return this.storage.indexOf(e,!0)}},{key:"getDistinctValues",value:function(e){var t,n=[],r={};return this.forEach(function(i){i.meta.specialRow||i.isRoot||(t=i.get(e),r[t]||(n.push(t),r[t]=1))}),n}},{key:"getValueCount",value:function(e,t){var n=0;return this.forEach(function(r){It.isEqual(r.get(e),t)&&n++}),n}},{key:"toJSON",value:function(){return(this.isTree?this.rootNode.children:this).map(function(e){return e.toJSON()})}},{key:"forEach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=function(n,r){if(!n.isRoot&&!n.meta.specialRow)return e.call(t,n,r)};if(this.isTree)this.rootNode.traverseWhile(n);else for(var r=this.storage.values,i=0;i<r.length;i++)if(!1===n(r[i],i))return}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;return this.storage.values.map(e,t)}},{key:"reduce",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;return n!==this&&(e=e.bind(n)),this.storage.values.reduce(e,t,n)}},{key:Symbol.iterator,value:function(){return this.storage.values[Symbol.iterator]()}},{key:"traverse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootNode,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t===this.rootNode,r=this;if(r.isTree){if("boolean"==typeof t&&(n=t,t=r.rootNode),r.isChained){var i=e;e=function(e){r.chainedFilterFn(e)&&i(e)}}t.traverse(e,n)}else{var o,a=wa(r.storage);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.traverse(e)}}catch(e){a.e(e)}finally{a.f()}}}},{key:"traverseWhile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootNode,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t===this.rootNode,r=this;if(r.isTree){if("boolean"==typeof t&&(n=t,t=r.rootNode),r.isChained){var i=e;e=function(e){r.chainedFilterFn(e)&&i(e)}}t.traverseWhile(e,n)}else{var o,a=wa(r.storage);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(!1===s.traverse(e))break}}catch(e){a.e(e)}finally{a.f()}}}},{key:"getNext",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.storage.values,o=r.indexOf(e);if(o>=i.length-1){if(!t)return null;o=-1}var a=i[o+1];return n&&a&&a.meta.specialRow?r.getNext(i[o+1],t,!0):a}},{key:"getPrev",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.storage.values,o=r.indexOf(e);if(0===o){if(!t)return null;o=i.length}var a=i[o-1];return n&&a&&a.meta.specialRow?r.getNext(i[o+1],t,!0):a}},{key:"getAdjacent",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t?this.getNext(e,n,r):this.getPrev(e,n,r)}},{key:"getNextLeaf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n.leaves,i=n.getById(e),o=r.indexOf(i);if(o>=r.length-1){if(!t)return null;o=-1}return r[o+1]}},{key:"getPrevLeaf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n.leaves,i=n.getById(e),o=r.indexOf(i);if(0===o){if(!t)return null;o=r.length}return r[o-1]}},{key:"getAdjacentLeaf",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?this.getNextLeaf(e,n):this.getPrevLeaf(e,n)}},{key:"makeChained",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!0},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return new this.constructor(Object.assign(n||{},{tree:!1,autoTree:!1,masterStore:this,modelClass:this.modelClass,chainedFilterFn:e,chainedFields:t}))}},{key:"chain",value:function(){return this.makeChained.apply(this,arguments)}},{key:"storage",set:function(e){var t=this;e&&e.isCollection?t._storage=e:t._storage=new Lr(e),t._storage.autoFilter=t.reapplyFilterOnAdd;var n,r=wa(t._storage);try{for(r.s();!(n=r.n()).done;){n.value.joinStore(t)}}catch(e){r.e(e)}finally{r.f()}t._storage.on({change:"onDataChange",thisObj:t})},get:function(){return this._storage||(this.storage={}),this._storage}},{key:"allRecords",get:function(){var e=this;if(e.isTree){var t=e.collectDescendants(e.rootNode,void 0,void 0,{unfiltered:!0}).all;return e.rootVisible&&t.unshift(e.rootNode),t}return e.isGrouped?e.collectGroupRecords():e.storage.allValues}},{key:"idMap",get:function(){var e=this.storage.values,t=!this._idMap,n=this._idMap||(this._idMap={});if(t)for(var r,i=0,o=0;i<e.length;i++)n[(r=e[i]).id]={index:i,visibleIndex:o,record:r},r.meta.specialRow||o++;return n}},{key:"modelClass",get:function(){return this._modelClass},set:function(e){var t=this.fields,n=null;t&&t.length?(n=function(e){X()(r,e);var n=Da(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,null,[{key:"fields",get:function(){return t}}]),r}(e)).exposeProperties():n=this.preventSubClassingModel?e:function(e){X()(n,e);var t=Da(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(e),n.exposeRelations(),this._modelClass=n}},{key:"storeId",set:function(e){this.id=e},get:function(){return this.id}},{key:"id",set:function(e){this._id&&delete n.storeMap[this._id],this._id=!0===e?De.generateId("store-"):e,e&&(n.storeMap[e]=this)},get:function(){return this._id}},{key:"tree",get:function(){return this._tree},set:function(e){this._tree=e,e&&!this.rootNode&&(this.rootNode=this.buildRootNode(),this.rootNode.isAutoRoot=!0)}},{key:"rootNode",get:function(){return this.masterStore?this.masterStore.rootNode:this._rootNode},set:function(e){var t=this,n=t._rootNode;e!==n&&(n&&t.clear(!1),e instanceof Yo?(e.instanceMeta(t).collapsed=!1,t._rootNode=e):t._rootNode=e=new t.modelClass(Object.assign(se()({expanded:!0},t.modelClass.idField,"".concat(t.id,"-rootNode")),e),t,null,!0),t._tree=!0,e.isRoot=!0,e.joinStore(t),(e.children&&e.children.length||t.rootVisible)&&(e.isLoading=!0,t.onNodeAddChild(e,e.children||[],0),e.isLoading=!1),t.trigger("rootChange",{oldRoot:n,rootNode:e}))}},{key:"data",set:function(e){var t=this;if(t._thisIsAUsedExpression(t.plugins),t.processConfiguredListeners(),t.tree=!t.isChained&&(t.tree||Boolean(t.autoTree&&e&&e.some(function(e){return e[t.modelClass.childrenField]}))),t.syncDataOnLoad&&t._data)t.syncDataset(e);else{if(t._data=e,t.tree){var n=t.rootNode;n.clearChildren(!0),n.isLoading=!0,n.appendChild(e),t.updateDependentStores("dataset",[n]),n.isLoading=!1,0===e.length?t.trigger("refresh",{action:"dataset",data:[],records:[]}):t.isFiltered&&t.filter()}else t.loadData(e);t.added.clear(),t.removed.clear(),t.modified.clear()}},get:function(){return this._data}},{key:"useRawData",get:function(){return this._useRawData},set:function(e){this._useRawData=!0===e?{enabled:!0,disableDuplicateIdCheck:!0,disableTypeConversion:!0,disableDefaultValue:!1}:e?Object.assign(e,{enabled:!0}):{enabled:!1}}},{key:"originalCount",get:function(){return this.storage.totalCount}},{key:"count",get:function(){return this.storage.count}},{key:"allCount",get:function(){return this.isTree?this.rootNode.descendantCount:this.storage.totalCount}},{key:"records",get:function(){return this.storage.values}},{key:"first",get:function(){return this.storage.values[0]}},{key:"last",get:function(){return this.storage.values[this.storage.values.length-1]}},{key:"registeredRecords",get:function(){return Object.values(this.idRegister)}},{key:"json",get:function(){return JSON.stringify(this,null,4)}}],[{key:"getStore",value:function(e,t){if(e instanceof n)return e;if(this.storeMap[e])return this.storeMap[e];if(Array.isArray(e)){var r,i=e.map(function(e){return e instanceof Yo?r=e.constructor:"string"==typeof e&&(e={text:e}),e});e={autoCreated:!0,data:i,modelClass:r||function(e){X()(n,e);var t=Da(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(Yo),allowNoId:!0},t||(t=n)}return t?new t(e):void 0}},{key:"properties",get:function(){return{relationCache:{},dependentStoreConfigs:new Map}}},{key:"defaultConfig",get:function(){return{storeId:null,id:!0,fields:null,autoTree:!0,modelClass:Yo,data:null,tree:!1,callOnFunctions:!0,storage:null,useRawData:!1,allowNoId:!0,preventSubClassingModel:null}}},{key:"stores",get:function(){return Object.values(this.storeMap)}}]),n}(Uo(U).mixes(me,Po,Io,function(e){return function(e){X()(n,e);var t=Qo(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"traverseFilter",value:function(e){var t=this,n=!e.isRoot&&t.filtersFunction(e),r=e.unfilteredChildren||e.children;return r&&r.length?(e.unfilteredChildren||(e.unfilteredChildren=e.children.slice()),e.children=e.unfilteredChildren.filter(function(e){return t.traverseFilter(e)}),e.updateChildrenIndex(e.unfilteredChildren,!0),n||Boolean(e.children.length)):n}},{key:"traverseClearFilter",value:function(e){var t=this;e.unfilteredChildren&&(e.children=e.unfilteredChildren.slice(),e.unfilteredChildren=null),e.children&&e.children.forEach(function(e){return t.traverseClearFilter(e)})}},{key:"processFieldFilter",value:function(e,t){"string"==typeof e&&(e={property:e,value:t}),(e=e instanceof wr?e:new wr(e)).owner=this,this.filters.add(e)}},{key:"filter",value:function(e){var t=this,n=t.filters,r=!1;if(e){var i=oe()(e);if("object"===i&&("silent"in e||"replace"in e)&&(r=e.silent,e.replace&&n.clear(),e=e.filters,i=oe()(e)),e&&(t.isConfiguring=!0,Array.isArray(e)?e.forEach(t.processFieldFilter,t):"function"===i?n.add(new wr(e)):"string"===i?t.processFieldFilter(e,arguments[1]):t.processFieldFilter(e),t.isConfiguring=!1,!t.isFiltered))return}t.filtersFunction=null,t.performFilter(r)}},{key:"performFilter",value:function(e){var t=this,n=t.storage,r=t.filters,i=t.rootNode,o=t.count;t.tree?(t.isFiltered?t.traverseFilter(i):t.traverseClearFilter(i),n.replaceValues({values:t.collectDescendants(i).visible,silent:!0})):t.isFiltered?n.addFilter({id:"primary-filter",filterBy:t.filtersFunction}):n.filters.clear(),t.afterPerformFilter(e?null:{action:"filter",filters:r,oldCount:o,records:t.storage.values})}},{key:"afterPerformFilter",value:function(e){this.resetRelationCache(),e&&this.triggerFilterEvent(e)}},{key:"triggerFilterEvent",value:function(e){this.trigger("filter",e),this.filterParamName||(this.trigger("refresh",e),this.trigger("change",e))}},{key:"filterBy",value:function(e){this.filter(e)}},{key:"removeFilter",value:function(e,t){var n=e instanceof wr?e:this.filters.get(e);n&&(this.filters.remove(n),this._filtersFunction=null,t||this.filter())}},{key:"clearFilters",value:function(){this.filters.clear(),this.filter()}},{key:"convertFilterToString",value:function(e){var t=this.filters.getBy("property",e);return t&&!t.filterBy?String(t):""}},{key:"filters",set:function(e){var t=this,n=t.filters;if(n.clear(),t._filtersFunction=null,e){if("Object"===e.constructor.name)for(var r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];"filterBy"===o[0]&&"function"==typeof o[1]?n.add(new wr({filterBy:o[1]})):n.add(new wr("Object"===o[1].constructor.name?Object.assign({property:o[0]},o[1]):{property:o[0],value:o[1]}))}else Array.isArray(e)?n.add.apply(n,te()(e.map(function(e){return e instanceof wr?e:new wr(e)}))):e.isCollection?n.add.apply(n,te()(e.values)):n.add(new wr({filterBy:e}));n.forEach(function(e){return e.owner=t})}},get:function(){return this._filters||(this._filters=new Lr({extraKeys:["property"]}))}},{key:"filtersFunction",set:function(e){this._filtersFunction=e},get:function(){var e=this,t=e.filters,n=e.isGrouped;if(!e._filtersFunction)if(t.count){var r=wr.generateFiltersFunction(t);e._filtersFunction=function(e){return n&&e.meta.specialRow?e.groupChildren.some(r):r(e)}}else e._filtersFunction=Yn.returnTrue;return e._filtersFunction}},{key:"isFiltered",get:function(){return this.filters.values.some(function(e){return!e.disabled})}},{key:"latestFilterField",get:function(){return this.filters.last?this.filters.last.property:null}},{key:"filtered",get:function(){return this.storage.isFiltered}},{key:"filterState",get:function(){return this.filters.values.map(function(e){return It.cleanupProperties(e.config)})}}],[{key:"defaultConfig",get:function(){return{filters:null,reapplyFilterOnAdd:!1,reapplyFilterOnUpdate:!1}}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Jo(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n.storage;if((e=(Array.isArray(e)?e:[e]).reduce(function(e,t){return(t=n.getById(t))&&e.push(t),e},[])).length){if(n.tree){for(var i=e.reduce(function(e,t){var n=t.parent;return n&&(e[n.id]||(e[n.id]=[n,[]]),e[n.id][1].push(t)),e},{}),o=0,a=Object.values(i);o<a.length;o++){var s=a[o];s[0].removeChild(s[1],!1,t)}return e}if(n.isGrouped){var u,c=r.count,l=[],f=new Set,d=Ko(e);try{for(d.s();!(u=d.n()).done;){var h=u.value,p=h.instanceMeta(n),v=p.groupParent;v&&v.meta.collapsed&&l.push(h),de.remove(v.groupChildren,h),v.meta.childCount--,f.add(v)}}catch(e){d.e(e)}finally{d.f()}var g,y=Ko(f);try{for(y.s();!(g=y.n()).done;){var m=g.value;n.onModelChange(m,{},{})}}catch(e){y.e(e)}finally{y.f()}l.length&&r.trigger("change",{action:"splice",removed:l,added:[],replaced:[],oldCount:c})}if(!e.length||!t&&!1===n.trigger("beforeRemove",{records:e}))return null;t&&n.suspendEvents(),r.remove(e),t&&n.resumeEvents(),n.autoCommit&&n.doAutoCommit()}return e}},{key:"clear",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this,n=t.storage;if(t.storage.totalCount){if(e&&!1===t.trigger("beforeRemove",{records:n.allValues,removingAll:!0}))return null;if(!e){for(var r,i=t.registeredRecords,o=i.length-1;o>=0;o--)(r=i[o])&&!r.isDestroyed&&r.unJoinStore(t);t.removed.clear()}e||n.suspendEvents(),n.clear(),e||n.resumeEvents(),t.added.clear(),t.modified.clear()}}},{key:"removeAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=t.storage;if(e){n.suspendEvents();for(var r,i=t.registeredRecords,o=i.length-1;o>=0;o--)(r=i[o])&&!r.isDestroyed&&r.unJoinStore(t)}t.tree?t.rootNode.clear():t.clear(),e&&n.resumeEvents()}},{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n.storage,i=[];if(Array.isArray(e)){if(!e.length)return}else e=[e];if(n.tree=n.tree||Boolean(n.autoTree&&e[0].children),n.tree){var o=new Map,a=[];return e.forEach(function(e){var t=e[n.modelClass.parentIdField];o.has(t)||o.set(t,[]),o.get(t).push(e)}),o.forEach(function(e,r){var i=null==r?n.rootNode:n.getById(r);if(!i)throw new Error("Parent node with id ".concat(r," not found, cannot add children."));a.push.apply(a,te()(i.appendChild(e,t)))}),a}return t||!1!==n.trigger("beforeAdd",{records:e})?(n.tree=n.tree||Boolean(n.autoTree&&e[0].children),n.tree?n.rootNode.appendChild(e):(e.forEach(function(e){i.push(e instanceof Yo?e:n.createRecord(e))}),t&&n.suspendEvents(),r.add(i),t&&n.resumeEvents(),n.autoCommit&&n.doAutoCommit(),i)):null}},{key:"insert",value:function(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this,s=a.storage,u=[],c=a.getAt(e),l=s.values,f=[];if(Array.isArray(t)||(t=[t]),!1===a.trigger("beforeAdd",{records:t}))return null;if(l[r=e]===t[0]||l[r=e-1]===t[0])for(n=!0,i=0;n&&i<t.length;i++)t[i]!==l[r+i]&&(n=!1);if(n)return null;if(t.forEach(function(t){var n=t instanceof Yo?t:a.createRecord(t),r=s.indexOf(n);n.children&&n.children.length&&a.autoTree&&(a.tree=!0),u.push(n),r>-1&&(r<e&&c&&e--,f.push(r)),n.meta.previousIndex=r}),a.tree){var d=a.rootNode;return d.insertChild(t,d.children&&d.children[e])}return a.suspendEvents(),a.storage.remove(f),a.resumeEvents(),o&&a.suspendEvents(),s.splice.apply(s,[e,0].concat(u)),o&&a.resumeEvents(),a.autoCommit&&a.doAutoCommit(),u}},{key:"move",value:function(e,t){this.storage.move(e,t)}},{key:"setMultiple",value:function(e,t,n){var r=this,i=[],o=[];r.forEach(function(r){e(r)&&(o.push(r.set(t,n,!0)),i.push(r))}),r.trigger("updateMultiple",{records:i,all:r.records.length===i.length}),r.trigger("change",{action:"updatemultiple",records:i,all:r.records.length===i.length}),r.reapplyFilterOnUpdate&&r.isFiltered&&r.filter()}},{key:"setAll",value:function(e,t){var n=this,r=[];n.forEach(function(n){r.push(n.set(e,t,!0))}),n.trigger("updateMultiple",{records:n.records,all:!0}),n.trigger("change",{action:"updatemultiple",records:n.records,all:!0}),n.reapplyFilterOnUpdate&&n.isFiltered&&n.filter()}},{key:"acceptChanges",value:function(){var e=this;e.added.forEach(function(e){return e.clearChanges(!1)}),e.modified.forEach(function(e){return e.clearChanges(!1)}),e.added.clear(),e.modified.clear(),e.removed.clear()}},{key:"commit",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.changes;return this.callPreventable("commit",{changes:n},function(){return e.acceptChanges(),n},[],t)}},{key:"clearChanges",value:function(){var e=this;e.remove(e.added.values,!0),e.modified.forEach(function(e){return e.clearChanges(!1)}),e.added.clear(),e.modified.clear(),e.removed.clear(),e.trigger("change",{action:"clearchanges"})}},{key:"suspendAutoCommit",value:function(){this.suspendCount++}},{key:"resumeAutoCommit",value:function(){this.suspendCount--,this.autoCommit&&this.doAutoCommit()}},{key:"doAutoCommit",value:function(){this.suspendCount<=0&&this.commit()}},{key:"applyChangesFromStore",value:function(e){var t=this,n=e.changes;n&&(n.added&&t.add(n.added),n.removed&&t.remove(n.removed.map(function(e){return e.id})),n.modified&&n.modified.forEach(function(e){t.getById(e.id).set(e.modifications)}))}},{key:"changes",get:function(){var e=this,t=e.modified.values.filter(function(e){return e.modificationData});return e.added.count||t.length||e.removed.count?{added:e.added.values.slice(),modified:t,removed:e.removed.values.slice()}:null}},{key:"autoCommit",get:function(){return this._autoCommit},set:function(e){this._autoCommit=e,e&&this.changes&&this.commit()}}],[{key:"defaultConfig",get:function(){return{autoCommit:!1,suspendCount:0}}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=na(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"initRelations",value:function(e){var t=this,n=t.modelClass.relations;e&&t.modelRelations&&t.modelRelations.forEach(function(e){e.storeDetacher&&e.storeDetacher()}),t.modelRelations&&0!==t.modelRelations.length&&!e||!n||(t.modelRelations=[],n&&n.forEach(function(e){var n=Object.assign({},e),r="string"==typeof n.store?t[n.store]:n.store;if(n.dependentStore=t,t.modelRelations.push(n),r){n.storeProperty=n.store,n.store=r;var i=r.dependentStoreConfigs;i.has(t)?i.get(t).push(n):i.set(t,[n]),n.collectionName&&r.initRelationCollection(n,t),r.count>0&&r.updateDependentStores("dataset",r.records)}}))}},{key:"initRelationCollection",value:function(e,t){var n=this,r=e.collectionName;n.collectionStores||(n.collectionStores={}),n.collectionStores[r]={store:t,config:e},n[r+"Store"]||(n[r+"Store"]=t),n.count>0&&n.initModelRelationCollection(r,n.records)}},{key:"initModelRelationCollection",value:function(e,t){var n=this;t.forEach(function(t){t.traverse(function(t){!(e in t)&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n.getCollection(this,e)},set:function(t){return n.setCollection(this,e,t)}})})})}},{key:"resetRelationCache",value:function(){this.relationCache={},this.forEach(function(e){return e.initRelations()})}},{key:"updateRecordRelationCache",value:function(e,t){var n=this;t&&t.forEach(function(t){var r=t.related?t.related.id:e.get(t.config.fieldName);void 0!==r&&n.cacheRelatedRecord(e,r,t.config.relationName,r)})}},{key:"getCollection",value:function(e,t){var n=this.collectionStores[t],r=n.config,i=n.store;return i.relationCache[r.relationName]&&i.relationCache[r.relationName][e.id]||[]}},{key:"setCollection",value:function(e,t,n){var r=this.collectionStores[t],i=r.config,o=r.store;o.relationCache[i.relationName]||(o.relationCache[i.relationName]={});var a=(o.relationCache[i.relationName][e.id]||[]).slice(),s=[],u=[];o.suspendEvents(),a.forEach(function(e){n.includes(e)||(e[i.fieldName]=null,o.remove(e),u.push(e))}),n.forEach(function(t){if(t instanceof Yo)t.stores.includes(o)||(o.add(t),s.push(t));else{var n=o.add(t);t=re()(n,1)[0],s.push(t)}t[i.fieldName]=e.id}),o.resumeEvents(),u.length&&(o.trigger("remove",{records:u}),o.trigger("change",{action:"remove",records:u})),s.length&&(o.trigger("add",{records:s}),o.trigger("change",{action:"add",records:s}))}},{key:"cacheRelatedRecord",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=this,o=i.relationCache[n]||(i.relationCache[n]={});null!==r&&i.uncacheRelatedRecord(e,n,r),null!=t&&de.include(o[t]||(o[t]=[]),e)}},{key:"uncacheRelatedRecord",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this;function i(t,n){var i=r.relationCache[t],o=i&&i[n];if(o){var a=o.indexOf(e);a>=0&&o.splice(a,1),0===o.length&&delete i[n]}}null!=n?i(t,n):e.meta.relationCache&&Object.entries(e.meta.relationCache).forEach(function(e){var t=re()(e,2),n=t[0],r=t[1];i(n,r&&r.id)})}},{key:"updateDependentStores",value:function(e,t){var n=this;this.dependentStoreConfigs.forEach(function(r){r.forEach(function(r){var i=r.dependentStore,o=i.relationCache[r.relationName];return"dataset"===e?(r.collectionName&&n.initModelRelationCollection(r.collectionName,t),void i.forEach(function(e){var t=e.initRelation(r);t&&i.cacheRelatedRecord(e,t.id,r.relationName,t.id)})):"removeall"===e?(i.forEach(function(e){e.removeRelation(r)}),void delete i.relationCache[r.relationName]):("add"===e&&r.collectionName&&n.initModelRelationCollection(r.collectionName,t),void("add"!==e&&"remove"!==e||t.forEach(function(t){var n=o&&o[t.id];switch(e){case"remove":n&&n.forEach(function(e){return e.removeRelation(r)});break;case"add":i.forEach(function(e){e.get(r.fieldName)==t.id&&(e.initRelation(r),i.cacheRelatedRecord(e,t.id,r.relationName))})}})))})})}},{key:"updateDependentRecordIds",value:function(e,t){this.dependentStoreConfigs&&this.dependentStoreConfigs.forEach(function(n){n.forEach(function(n){var r=n.dependentStore,i=r.relationCache[n.relationName],o=i&&i[e]&&i[e].slice();o&&o.forEach(function(i){i.set(n.fieldName,t,!1,!0),r.cacheRelatedRecord(i,t,n.relationName,e)})})})}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=ra(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"sum",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.storage.values;return t?t.reduce(function(t,n){if(n.meta.specialRow)return t;var r=Number(n[e]);return isNaN(r)?t:t+r},0):0}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.storage.values;return t&&t.length?t.reduce(function(t,n){return"number"==typeof n[e]&&n[e]<t&&(t=n[e]),t},t[0][e]):0}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.storage.values;return t&&t.length?t.reduce(function(t,n){return"number"==typeof n[e]&&n[e]>t&&(t=n[e]),t},t[0][e]):0}},{key:"average",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.storage.values;if(!t||!t.length)return 0;var n=0,r=t.reduce(function(t,r){if(r.meta.specialRow)return t;var i=parseFloat(r[e]);return isNaN(i)?t:(n++,t+i)},0);return n>0?r/n:0}},{key:"groupSum",value:function(e,t){return this.sum(t,this.getGroupRecords(e))}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=aa(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"search",value:function(e){var t,n,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=this.storage.values,u=s.length,c=[];if(null==e)return null;for("string"==typeof e&&(e=String(e).toLowerCase()),t=0;t<u;t++){n=s[t];var l,f=ia(a||n.fieldNames);try{for(f.s();!(l=f.n()).done;){var d=l.value;i=(r=n[d])instanceof Date?"date":oe()(r),o=ua[i],r&&o&&o(r,e)&&c.push({index:t,data:n,field:d,id:n.id})}}catch(e){f.e(e)}finally{f.f()}}return c}},{key:"findByField",value:function(e,t){var n,r,i,o=this.storage.values,a=o.length,s=[];for(null!=t&&(t=String(t).toLowerCase()),n=0;n<a;n++){r=o[n];var u=(i=r[e])instanceof Date?"date":oe()(i),c={date:function(){return Boolean(i)&&i.toLocaleString().includes(t)},string:function(){return Boolean(i)&&i.toLowerCase().includes(t)},number:function(){return"number"==typeof i&&i.toString().includes(t)},object:function(){return i===t},undefined:function(){return i===t}};(null==t&&i===t||t&&c[u]())&&s.push({id:r.id,index:n,data:r})}return s}},{key:"find",value:function(e){return this.storage.values.find(e)}},{key:"findRecord",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(n){return It.isEqual(n[e],t)};return this.tree?this.query(r)[0]:(n?this.storage.allValues:this.storage.values).find(r)}},{key:"query",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isTree){var n=[];return this.traverse(function(t){e(t)&&n.push(t)}),n}return(t?this.storage.allValues:this.storage.values).filter(e)}},{key:"some",value:function(e){return this.storage.values.some(e)}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=ca(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"sort",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this,a=o.allRecords,s=o.sorters?o.sorters.slice():[],u=null;if(e)if(Array.isArray(e))o.sorters=e.map(function(e){return o.normalizeSorterConfig(e,"string"==typeof e||t)});else{var c=o.normalizeSorterConfig(e,t);r?(n=o.getCurrentSorterByField(c.field))?(u=n.ascending,n.ascending=c.ascending):o.sorters.push(c):o.sorters=[c]}return i||!1!==o.trigger("beforeSort",{sorters:o.sorters,records:a,currentSorters:s})?o.performSort(i):(o.sorters=s,void(null!==u&&(n.ascending=u)))}},{key:"normalizeSorterConfig",value:function(e,t){var n={ascending:t};if("object"===oe()(e)?(n.field=e.field,n.sortFn=e.fn||e.sortFn,n.useLocaleSort=e.useLocaleSort,n.ascending=null!=e.ascending?e.ascending:t):"function"==typeof e?n.sortFn=e:n.field=e,null==n.ascending){var r=this.getCurrentSorterByField(n.field);n.ascending=!r||!r.ascending}return n}},{key:"getCurrentSorterByField",value:function(e){return"string"==typeof e&&this.sorters.find(function(t){return t.field===e})||null}},{key:"addSorter",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.sort(e,t,!0)}},{key:"removeSorter",value:function(e){var t=this.sorters.findIndex(function(t){return t.field==e});t>-1&&(this.sorters.splice(t,1),this.sort())}},{key:"clearSorters",value:function(){this.sorters.length=0,this.sort()}},{key:"createSorterFn",value:function(e){var t=this.useLocaleSort;return function(n,r){for(var i=0;i<e.length;i++){var o=e[i],a=o.field,s=o.ascending,u=void 0===s||s,c=o.useLocaleSort,l=void 0===c?t:c,f=o.fn||o.sortFn,d=u?1:-1;if(f){var h=f(n,r);if(null!==h)return h*d}var p=n[a],v=r[a];if(null==p)return-d;if(null==v)return d;if(l){if(!0===l)return String(p).localeCompare(v)*d;if("string"==typeof l)return String(p).localeCompare(v,l)*d;if("object"===oe()(l))return String(p).localeCompare(v,l.locale,l)*d}if(p>v)return d;if(p<v)return-d}return 0}}},{key:"performSort",value:function(e){var t=this,n=t.rootNode,r=t.storage,i=t.sorters,o=t.createSorterFn(t.isGrouped?t.groupers.concat(i):i);t.isGrouped&&t.storeCollapsedGroups()&&r.replaceValues({values:t.removeHeadersAndFooters(r.values),silent:!0}),t.tree?(n.traverse(function(e){e.isLoaded&&e.isParent&&(e.children=e.children.sort(o),e.updateChildrenIndex(e.children))}),r.replaceValues({values:t.collectDescendants(n).visible,silent:!0})):r.replaceValues({values:r.values.sort(o),silent:!0}),t.afterPerformSort(e)}},{key:"afterPerformSort",value:function(e){var t=this,n=t.storage;if(t._idMap=null,t.isGrouped&&(n.replaceValues({values:t.prepareGroupRecords(n.values),silent:!0}),t.restoreCollapsedGroups()),!e){var r={action:"sort",sorters:t.sorters,records:t.allRecords};t.trigger("sort",r),t.sortParamName||t.trigger("refresh",r)}}},{key:"isSorted",get:function(){return Boolean(this.sorters.length)||this.isGrouped}}],[{key:"defaultConfig",get:function(){return{sorters:[],useLocaleSort:null}}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=ea(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).call(this,e),this.on("change",this.onDataChanged)}},{key:"storeCollapsedGroups",value:function(){var e=this;return e.collapsedGroupsHash={},!(!e.groupRecords||!e.groupRecords.length)&&(e.groupRecords.forEach(function(t){e.expand(t)&&(e.collapsedGroupsHash[t.id]=!0)}),!0)}},{key:"restoreCollapsedGroups",value:function(){var e=this;Object.keys(e.collapsedGroupsHash).forEach(function(t){return e.collapse(e.getById(t))})}},{key:"onDataChange",value:function(e){var t=e.source,r=e.action,i=e.removed,o=this,a=o.groupers;if(a){var s=t.values;a.length?"splice"===r&&i&&i.length&&(o.storeCollapsedGroups()&&o.storage.replaceValues({values:o.removeHeadersAndFooters(s),silent:!0}),o.storage.replaceValues({values:o.prepareGroupRecords(s),silent:!0}),o.restoreCollapsedGroups()):t.replaceValues({values:o.removeHeadersAndFooters(s),silent:!0})}ce()(Q()(n.prototype),"onDataChange",this)&&ce()(Q()(n.prototype),"onDataChange",this).apply(this,arguments)}},{key:"collapse",value:function(e){return!(!e||e.meta.collapsed)&&(this.excludeGroupRecords(e),e.meta.collapsed=!0,!0)}},{key:"expand",value:function(e){return!(!e||!e.meta.collapsed)&&(this.includeGroupRecords(e),e.meta.collapsed=!1,!0)}},{key:"removeHeadersAndFooters",value:function(e){var t=this;return e.filter(function(e){return!e.meta.specialRow||(t.unregister(e),!1)},!0)}},{key:"prepareGroupRecords",value:function(e){var t=this;if(e=t.removeHeadersAndFooters(e),!t.isGrouped)return e;var n=[],r=t.groupers[0].field,i=[],o=null,a=null,s=0;function u(){var e=a.meta.groupRowFor,r="group-footer-".concat("number"==typeof e?e:_.createId(e)),o=t.getById(r)||new t.modelClass({id:r},t,{specialRow:!0,groupFooterFor:e,groupRecord:a});return t.register(o),o.groupChildren=a.groupChildren,i.push(o),n.push(o),t.allRecords.push(o),a.groupChildren.push(o),s++,o}return e.forEach(function(e){var c=null==e[r]?"__novalue__":e[r],l="group-header-".concat("number"==typeof c?c:_.createId(c));!e.groupChildren||e.groupChildren.length?(It.isEqual(c,o)||(a&&(t.useGroupFooters&&u(),a.meta.childCount=s),a=t.getById(l)||new t.modelClass({id:l},t,{specialRow:!0,groupRowFor:c,groupField:r}),t.register(a),a.groupChildren=[],n.push(a),t.allRecords.push(a),i.push(a),o=c,s=0),e.instanceMeta(t.id).groupParent=a,n.push(e),a.groupChildren.push(e),s++):t.unregister(e)}),a&&(a.meta.childCount=s,t.useGroupFooters&&u()),t.groupRecords=i,n}},{key:"group",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this;if(r?a.groupers.push(n={field:e,ascending:t,complexMapping:e.includes(".")}):e&&(null==t&&(t=!a.groupInfo||a.groupInfo.field!==e||!a.groupInfo.ascending),a.groupInfo=n={field:e,ascending:t,complexMapping:e.includes(".")},a.groupers=[a.groupInfo]),n){var s=a.modelClass.prototype;n.complexMapping&&!Object.prototype.hasOwnProperty.call(s,e)&&Object.defineProperty(s,e,{get:function(){return It.getPath(this,e)}})}!1!==i&&a.sort(null,null,!1,!0),o||(a.trigger("group",{isGrouped:a.isGrouped,groupers:a.groupers,records:a.storage.values}),a.trigger("refresh",{action:"group",isGrouped:a.isGrouped,groupers:a.groupers,records:a.storage.values}))}},{key:"addGrouper",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.group(e,t,!0)}},{key:"removeGrouper",value:function(e){var t=this.groupers.findIndex(function(t){return t.field===e});t>-1&&(this.groupers.splice(t,1),this.group())}},{key:"clearGroupers",value:function(){this.groupers=null}},{key:"isRecordInGroup",value:function(e,t){if(!this.isGrouped)return null;return e[this.groupers[0]&&this.groupers[0].field]===t&&!e.meta.specialRow}},{key:"isInCollapsedGroup",value:function(e){var t=e.instanceMeta(this).groupParent;return t&&t.meta.collapsed}},{key:"getGroupRecords",value:function(e){var t=this;return t.isGrouped?t.storage.values.filter(function(n){return t.isRecordInGroup(n,e)}):null}},{key:"getGroupTitles",value:function(){return this.isGrouped?this.getDistinctValues(this.groupers[0]&&this.groupers[0].field):null}},{key:"onDataChanged",value:function(e){this.isGrouped&&(!e.changes&&ta[e.action]||e.changes&&this.groupers.some(function(t){return t.field in e.changes}))&&this.sort()}},{key:"internalIncludeExcludeGroupRecords",value:function(e,t){var n=this,r=n.indexOf(e),i=n.id;if(-1!==r&&!(e.meta.collapsed&&!t||!e.meta.collapsed&&t)){if(e.groupChildren.forEach(function(e){return e.instanceMeta(i).hiddenByCollapse=!t}),t){var o,a=e.groupChildren.filter(function(e){return!n.isAvailable(e)});(o=n.storage.values).splice.apply(o,[r+1,0].concat(te()(a)))}else n.storage.values.splice(r+1,e.groupChildren.length);n.storage._indicesInvalid=!0,n._idMap=null}}},{key:"excludeGroupRecords",value:function(e){this.internalIncludeExcludeGroupRecords(e,!1)}},{key:"includeGroupRecords",value:function(e){this.internalIncludeExcludeGroupRecords(e,!0)}},{key:"collectGroupRecords",value:function(){return this.records.reduce(function(e,t){return t.meta.specialRow&&(e.push(t),"groupRowFor"in t.meta&&e.push.apply(e,t.groupChildren)),e},[])}},{key:"groupers",get:function(){return this._groupers},set:function(e){var t=this;e&&e.length?t._groupers=e:t.groupers&&(delete t._groupers,t.groupRecords.forEach(function(e){e.meta.collapsed&&t.includeGroupRecords(e)}),t.storage.replaceValues({values:t.removeHeadersAndFooters(t.storage._values),filteredValues:t.storage.isFiltered?t.removeHeadersAndFooters(t.storage._filteredValues):null,silent:!0}),t.group(null,null,null,!1),"groupRecords"in t&&delete t.groupRecords)}},{key:"isGrouped",get:function(){return Boolean(this.groupers&&this.groupers.length)}}],[{key:"defaultConfig",get:function(){return{groupers:null}}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=la(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;ce()(Q()(n.prototype),"construct",this).call(this,e),t.masterStore&&(t.methodNamesToRelay.forEach(function(e){return t[e]=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.relayToMaster(e,r)}}),t.removeAll=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(e=t.masterStore).remove.apply(e,[t.getRange()].concat(r))},t.masterStore.on({change:t.onMasterDataChanged,prio:1,thisObj:t}),t.masterStore.chainedStores||(t.masterStore.chainedStores=[]),t.masterStore.chainedStores.push(t),t.fillFromMaster())}},{key:"updateChainedStores",value:function(){this.chainedStores&&this.chainedStores.forEach(function(e){return e.fillFromMaster()})}},{key:"fillFromMaster",value:function(){var e=this,t=e.masterStore,n=e.isTree;if(!e.isChained)throw new Error("fillFromMaster only allowed on chained store");if(e.keepUncommittedChanges){if(n)throw new Error("Cannot use keepUncommittedChanges on a chained tree store");e.data=[].concat(e.added.values.filter(function(t){return!e.removed.includes(t)}),t.allRecords.filter(function(t){return!e.removed.includes(t)&&!e.added.includes(t)&&e.chainedFilterFn(t)}))}else{var r=t.allRecords.filter(e.chainedFilterFn);if(n&&(e.idRegister={},e.internalIdRegister={},r.forEach(function(t){t.stores.includes(e)?e.register(t):t.joinStore(e)}),e.excludeCollapsedRecords)){var i=e.getChildren(e.rootNode);r=e.doIncludeExclude(i,!0)}e.data=r}}},{key:"commitToMaster",value:function(){var e=this,t=e.masterStore;if(!e.isChained)throw new Error("commitToMaster only allowed on chained store");return t.beginBatch(),t.remove(e.removed.values),t.add(e.added.values),t.endBatch(),e.commit()}},{key:"relayToMaster",value:function(e,t){var n;return(n=this.masterStore)[e].apply(n,te()(t))}},{key:"onMasterDataChanged",value:function(e){var t=e.action,n=e.changes;if("update"===t&&!(this.chainedFields&&this.chainedFields.some(function(e){return e in n})))return;this.fillFromMaster()}},{key:"isChained",get:function(){return Boolean(this.masterStore)}},{key:"chainedFilterFn",set:function(e){this._chainedFilterFn=this.thisObj?e.bind(this.thisObj):e},get:function(){return this._chainedFilterFn||fa}},{key:"methodNamesToRelay",get:function(){var e=this,t=Array.isArray(this.doRelayToMaster),n=Array.isArray(this.dontRelayToMaster);return t&&this.doRelayToMaster.filter(function(t){return!n||!e.dontRelayToMaster.includes(t)})||[]}}],[{key:"defaultConfig",get:function(){return{chainedFilterFn:null,chainedFields:null,masterStore:null,doRelayToMaster:["add","remove","insert"],dontRelayToMaster:[],keepUncommittedChanges:!1,excludeCollapsedRecords:!0}}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=da(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getState",value:function(){var e=this,t={};return e.sorters&&e.sorters.length&&(t.sorters=e.sorters.slice()),e.groupers&&e.groupers.length&&(t.groupers=e.groupers.slice()),e.filters&&e.filters.values.length&&(t.filters=e.filterState),t}},{key:"applyState",value:function(e){var t=this;"sorters"in e&&(t.sorters=e.sorters.slice()),"groupers"in e&&(t.groupers=e.groupers.slice()),("sorters"in e||"groupers"in e)&&t.sort(),"filters"in e&&(t.filters=e.filters.slice(),t.filter())}}]),n}(e||U)},function(e){return function(e){X()(i,e);var t,n,r=va(i);function i(){return E()(this,i),r.apply(this,arguments)}return M()(i,[{key:"loadChildren",value:(n=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})},{key:"onNodeAddChild",value:function(e,t,n,r){var i,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this,s=e===a.rootNode&&e.isLoading,u=a.storage,c=[],l=[],f=t[0].previousSibling;if(a.collectDescendants(t,c,l,{inCollapsedBranch:!(e.isExpanded(a)&&e.ancestorsExpanded(a))}),!s&&l.length){var d,h=ha(l);try{for(h.s();!(d=h.n()).done;){var p=d.value;a.modified.includes(p)||r[p.id]||(a.removed.includes(p)?a.removed.remove(p):a.added.add(p))}}catch(e){h.e(e)}finally{h.f()}}if(s&&a.rootVisible&&(c.unshift(e),l.unshift(e)),c.length&&(i=0!==n&&f?u.indexOf(f)+f.getDescendantCount(!0,a):u.indexOf(e),u.suspendEvents(),a.storage.splice(++i,0,c),u.resumeEvents()),a.updateDependentStores("add",t),s&&c.length){if(a.sorters.length&&a.sort(null,null,!1,!0),!o){var v={action:"dataset",data:a._data,records:c};a.trigger("refresh",v),a.trigger("change",v)}}else if(!o){var g={action:"add",parent:e,isChild:!0,isMove:r,records:t,allRecords:l,index:i};a.trigger("add",g),a.trigger("change",g)}}},{key:"onNodeRemoveChild",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{isMove:!1,silent:!1,unfiltered:!1},i=this,o=i.storage,a=[],s=[],u=r.isMove,c=r.silent,l=r.unfiltered,f=l&&i.isFiltered,d=f&&e.unfilteredChildren?e.unfilteredChildren:t;if(i.collectDescendants(d,a,s,{inCollapsedBranch:!(e.isExpanded(i)&&e.ancestorsExpanded(i)),unfiltered:f}),!u){var h,p=ha(t);try{for(p.s();!(h=p.n()).done;){var v=h.value;v.unJoinStore(i)}}catch(e){p.e(e)}finally{p.f()}if(s.length){var g,y=ha(s);try{for(y.s();!(g=y.n()).done;){var m=g.value;m.stores.includes(i)&&m.unJoinStore(i),i.added.includes(m)?i.added.remove(m):i.removed.add(m)}}catch(e){y.e(e)}finally{y.f()}i.modified.remove(s)}}if(a.length?(n=o.indexOf(a[0]))>-1&&(o.suspendEvents(),o.splice(n,a.length),o.resumeEvents()):n=-1,!c){var k={action:"remove",parent:e,isChild:!0,isMove:u,records:t,allRecords:s,index:n};i.trigger("remove",k),i.trigger("change",k)}}},{key:"collectDescendants",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{inCollapsedBranch:!1,unfiltered:!1},i=this,o=r.inCollapsedBranch,a=r.unfiltered,s=Array.isArray(e)?e:i.getChildren(e,a);if(s)for(var u,c=0,l=s.length;c<l;c++)u=s[c],o||t.push(u),n.push(u),i.collectDescendants(u,t,n,{inCollapsedBranch:o||!u.isExpanded(i),unfiltered:a});return{visible:t,all:n}}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(t||this.isChained)&&e.unfilteredChildren||e.children;return n&&n.length?this.isChained?n.filter(this.chainedFilterFn):n:ga}},{key:"internalToggleTreeSubRecords",value:function(e,t){var n=this,r=n.storage,i=r.indexOf(e),o=n.doIncludeExclude(n.getChildren(e),t);if(o.length&&!1!==i){if(r.suspendEvents(),t){r.splice.apply(r,[i+1,0].concat(te()(o)));var a={action:"add",isExpand:!0,records:o,index:i+1};n.trigger("add",a),n.trigger("change",a)}else{r.splice(i+1,o.length);var s={action:"remove",isCollapse:!0,records:o,index:i+1};n.trigger("remove",s),n.trigger("change",s)}r.resumeEvents()}}},{key:"doIncludeExclude",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this,i=e&&e.length,o=0;o<i;o++){var a=e[o];if(!r.isChained||r.chainedFilterFn(a)){var s=a.instanceMeta(r.id);t?n.push(a):s.hidden||n.push(a),s.hidden=!t,a.isExpanded(r)&&r.doIncludeExclude(r.getChildren(a),t,n)}}return n}},{key:"toggleCollapse",value:(t=ro()(to.a.mark(function e(t,n){var r,i,o,a;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(r=this).getById(t),o=i.instanceMeta(r),void 0===n&&(n=!o.collapsed),o.isLoadingChildren||i.isLeaf||i.isExpanded(r)!==n){e.next=28;break}if(r.trigger("beforeToggleNode",{record:i,collapse:n}),o.collapsed=n,!o.collapsed){e.next=10;break}return r.onNodeCollapse(i),e.abrupt("return",!0);case 10:if(r.onNodeExpand(i),a=!0,i.isLoaded){e.next=27;break}return o.isLoadingChildren=!0,e.prev=14,e.next=17,r.loadChildren(i);case 17:e.next=24;break;case 19:e.prev=19,e.t0=e.catch(14),o.collapsed=!0,a=!1,r.trigger("loadChildrenException",{record:i,exception:e.t0});case 24:return e.prev=24,o.isLoadingChildren=!1,e.finish(24);case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}},e,this,[[14,19,24,27]])})),function(e,n){return t.apply(this,arguments)})},{key:"onNodeCollapse",value:function(e){if(e.ancestorsExpanded(this))return this.internalToggleTreeSubRecords(e,!1)}},{key:"onNodeExpand",value:function(e){if(e.ancestorsExpanded(this))return this.internalToggleTreeSubRecords(e,!0)}},{key:"isTree",get:function(){return this.tree||this.masterStore&&this.masterStore.tree}},{key:"leaves",get:function(){var e=[];return this.isTree?(this.traverse(function(t){t.isLeaf&&e.push(t)}),e):(this.allRecords.forEach(function(t){t.isLeaf&&e.push(t),t.traverse(function(t){t.isLeaf&&e.push(t)},!0)}),e)}}]),i}(e||U)},function(e){return function(e){X()(n,e);var t=ka(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"add",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.stm;return this.tree||!i||i.disabled?t=ce()(Q()(n.prototype),"add",this).call(this,e,r):(t=ce()(Q()(n.prototype),"add",this).call(this,e,r))&&t.length&&i.onStoreModelAdd(this,t,r),t}},{key:"insert",value:function(e,t){var r,i=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=this.stm;if(this.tree||!a||a.disabled)r=ce()(Q()(n.prototype),"insert",this).call(this,e,t,o);else{var s=(Array.isArray(t)?t:[t]).reduce(function(e,t){var n=t instanceof Yo?i.indexOf(t):void 0;return void 0!==n&&-1!==n&&e.set(t,n),e},new Map);(r=ce()(Q()(n.prototype),"insert",this).call(this,e,t))&&r.length&&(e=this.indexOf(r[0]),a.onStoreModelInsert(this,e,r,s,o))}return r}},{key:"remove",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0,a=this.stm;if(this.tree||!a||a.disabled)t=ce()(Q()(n.prototype),"remove",this).call(this,e,i,o);else{var s=(Array.isArray(e)?e:[e]).map(function(e){return r.getById(e)}).filter(function(e){return!!e}),u=s.reduce(function(e,t){var n=r.indexOf(t);return void 0!==n&&-1!=n&&e.set(t,n),e},new Map);(t=ce()(Q()(n.prototype),"remove",this).call(this,e,i,o))&&t.length&&a.onStoreModelRemove(this,t,u,i)}return t}},{key:"removeAll",value:function(e){var t=this.stm;if(t&&!t.disabled){var r=this.tree,i=this.rootNode,o=this.allRecords,a=o.length,s=r?i.children.slice():o.slice();ce()(Q()(n.prototype),"removeAll",this).call(this,e),a&&0===this.count&&t.onStoreRemoveAll(this,s,e)}else ce()(Q()(n.prototype),"removeAll",this).call(this,e)}},{key:"stm",get:function(){return this[ba]},set:function(e){var t=this;t.stm!=e&&(t.stm&&t.stm.hasStore(t)&&t.stm.removeStore(t),t[ba]=e,t.stm&&!t.stm.hasStore(t)&&t.stm.addStore(t))}}],[{key:"defaultConfig",get:function(){return{stm:null}}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=ma(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"syncDataset",value:function(e){var t=this,n=t.storage,r=t.tree?t.syncTreeDataset(e):t.syncFlatDataset(e),i=r.toAdd,o=r.toRemove,a=r.updated,s=t.syncDataOnLoad.threshold,u=!1;if(s&&("string"==typeof s&&(s=parseInt(s,10)/100*t.count),u=i.length+o.length+a.length>s),t.tree){if(i.length)t.add(i,u).forEach(function(e){return e.clearParentId()});t.remove(o,u)}else u&&n.suspendEvents(),n.splice(t.count-o.length,o,i),u&&n.resumeEvents();s&&!u&&a.forEach(function(e){var n=e.record,r=e.toSet,i=e.wasSet;return t.onModelChange(n,r,i)}),t.acceptChanges();var c={added:i,removed:o,updated:a,thresholdSurpassed:u};u&&this.trigger("refresh",{action:"batch",data:e,records:n.values,syncInfo:c}),t.isFiltered&&t.filter(),t.isGrouped?t.group():t.isSorted&&t.sort(),t.trigger("loadSync",c)}},{key:"syncFlatDataset",value:function(e){if(e){var t=this,n=t.modelClass.idField,r=[],i=[],o=[],a={},s=t.syncDataOnLoad.threshold,u=0;return e.forEach(function(e){var r=e[n],c=t.getById(r);if(c){var l=c.set(e,null,Boolean(s));l&&o.push({record:c,wasSet:l,toSet:e}),u++}else i.push(t.createRecord(e));a[r]=1}),u<t.allCount&&t.forEach(function(e){a[e.id]||r.push(e)}),{toAdd:i,toRemove:r,updated:o}}}},{key:"syncTreeDataset",value:function(e){if(e){var t=this,n=t.modelClass,r=n.idField,i=n.parentIdField,o=[],a=[],s=[],u={},c=t.syncDataOnLoad.threshold;return ya.preWalkWithParent({isRoot:!0,children:e},function(e){return e.children},function(e,n){if(e){var o=n[r],l=t.getById(o);if(l){var f=l.set(n,null,Boolean(c));f&&s.push({record:l,wasSet:f,toSet:n})}else n[i]=e[r],a.push(n);u[o]=1}}),t.traverse(function(e){u[e.id]||o.push(e)}),{toAdd:a,toRemove:o,updated:s}}}}],[{key:"defaultConfig",get:function(){return{syncDataOnLoad:null}}}]),n}(e||U)}));function Ca(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return xa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xa(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ra.storeMap={},Ra._$name="Store";var Ta=function(e,t){return Array.isArray(t[1])?t[1].forEach(function(n){return e.push(encodeURIComponent(t[0])+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t[0])+"="+encodeURIComponent(t[1])),e},Ma=new Promise(function(e){return e()}),Pa=function(e){X()(a,e);var t,n,r,i,o=Ea(a);function a(){return E()(this,a),o.apply(this,arguments)}return M()(a,[{key:"afterConstruct",value:function(e){ce()(Q()(a.prototype),"afterConstruct",this).call(this,e),this.autoLoad&&this.load().catch(function(){})}},{key:"buildQueryString",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Object.entries(Object.assign.apply(Object,[{}].concat(t))).reduce(Ta,[]).join("&");return r?"?"+r:""}},{key:"performSort",value:function(e){var t=this;if(t.sortParamName){var n=t.groupRecords,r={};return t.isGrouped&&n&&n.length&&n.forEach(function(e){e.meta.collapsed&&(t.includeGroupRecords(e),r[e.id]=!0)}),t.internalLoad({},"",function(n){t.data=n.data,t.afterPerformSort(e,r)})}ce()(Q()(a.prototype),"performSort",this).call(this,e)}},{key:"performFilter",value:function(e){var t=this;if(t.filterParamName){var n=t.count,r=t.filters;return t.currentPage=1,t.internalLoad({},"",function(i){t.data=i.data,t.afterPerformFilter(e?null:{action:"filter",filters:r,oldCount:n,records:t.storage.values})})}ce()(Q()(a.prototype),"performFilter",this).call(this)}},{key:"encodeFilterParams",value:function(e){var t,n=[],r=Ca(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.property,a=i.operator,s=i.value,u=i.caseSensitive;n.push({field:o,operator:a,value:s,caseSensitive:u})}}catch(e){r.e(e)}finally{r.f()}return JSON.stringify(n)}},{key:"encodeSorterParams",value:function(e){return JSON.stringify(e.map(function(e){return e}))}},{key:"internalLoad",value:function(e,t,n){var r=this,i=Object.assign({},r.params,e),o={action:"read"+t,params:i};return r.readUrl?new Promise(function(e,a){if(!1===r.trigger("beforeLoad"+t,o))return a(!1);if(r._isLoading=!0,r.trigger("load".concat(t,"Start"),o),r.trigger("beforeRequest",o),r.filterParamName&&r.isFiltered&&(i[r.filterParamName]=r.encodeFilterParams(r.filters.values)),r.sortParamName&&r.isSorted&&(i[r.sortParamName]=r.encodeSorterParams(r.groupers?r.groupers.concat(r.sorters):r.sorters)),r.isPaged){if(!i[r.pageParamName]&&!i[r.pageStartParamName]){var s=Math.min(r.currentPage||1,r.allCount?r.lastPage:1/0);r.pageParamName?i[r.pageParamName]=s:i[r.pageStartParamName]=(s-1)*r.pageSize}i[r.pageSizeParamName]=r.pageSize}var u={headers:r.headers,parseJson:!0};r.useRestfulMethods&&(u.method=r.httpMethods.read),Ae.get(r.readUrl+r.buildQueryString(i),Object.assign(u,r.fetchOptions)).then(function(s){var u=s.parsedJson,c=Array.isArray(u),l=c||u&&!1!==u.success;if(r._isLoading=!1,o.response=s,o.json=u,l){if(r.responseTotalProperty in u&&(r.remoteTotal=parseInt(u[r.responseTotalProperty],10)),r.isPaged){if(!(r.remoteTotal>=0))throw new Error("A paged store must receive its responseTotalProperty in each data packet");var f=r.pageParamName?i[r.pageParamName]:i[r.pageStartParamName]/r.pageSize+1;r.currentPage=Math.min(f,r.lastPage)}o.data=c?u:u[r.responseDataProperty],n(o),r.trigger("load"+t,o),e(o)}else o.exception=!0,o.exceptionType="server",r.trigger("exception",o),a(o);r.trigger("afterRequest",o)}).catch(function(e){r._isLoading=!1,o.exception=!0,e instanceof Response?(o.exceptionType=e.ok?"server":"network",o.response=e,o.error=e.error):(o.exceptionType="server",o.error=e),r.trigger("exception",o),a(o),r.trigger("afterRequest",o)})}):null}},{key:"load",value:function(e){var t=this;return t.isPaged?t.loadPage((t.currentPage||0)+1,e):t.internalLoad(e,"",function(e){t.data=e.data})}},{key:"loadChildren",value:(i=ro()(to.a.mark(function e(t){var n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.abrupt("return",n.internalLoad(se()({},n.parentIdParamName,t.id),"Children",function(e){e.parentRecord=t,t.data[t.constructor.childrenField]=e.data,t.processChildren(t.stores)}));case 2:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"loadPage",value:(r=ro()(to.a.mark(function e(t,n){var r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.allCount&&(t=Math.min(t,this.lastPage)),(i=(r=this).pageParamName?se()({},r.pageParamName,t):se()({},r.pageStartParamName,(t-1)*r.pageSize))[r.pageSizeParamName]=r.pageSize,e.abrupt("return",r.internalLoad(Object.assign(i,n),"Page",function(e){r.loadData(e.data,"pageLoad")}));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"nextPage",value:(n=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.isPaged&&this.currentPage!==this.lastPage?this.loadPage(this.currentPage+1,t):Ma);case 1:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"previousPage",value:(t=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.isPaged&&1!==this.currentPage?this.loadPage(this.currentPage-1,t):Ma);case 1:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"commit",value:function(){var e=this,t=e.changes,n=[];if(!t||e.commitPromise)return Ma;if([].concat(te()(t.added),te()(t.modified),te()(t.removed)).forEach(function(e){return e.meta.committing=!0}),!1!==e.trigger("beforeCommit",{changes:t})){var r={action:"commit",exception:!1,changes:t},i=e.commitRemoved(r);return i&&n.push(i),(i=e.commitAdded(r))&&n.push(i),(i=e.commitModified(r))&&n.push(i),n.length?(i=1===n.length?n[0]:Promise.all(n),e.commitPromise=new Promise(function(n,o){i.then(function(){e.commitPromise=null,r.exception?(e.trigger("exception",r),o(r)):(e.trigger("commit",{changes:t}),n(r))}).catch(function(){e.commitPromise=null,o(r)})})):(e.modified.forEach(function(e){return e.clearChanges(!1)}),e.modified.clear(),e.added.forEach(function(e){return e.clearChanges(!1)}),e.added.clear(),e.removed.clear(),e.trigger("commit",{changes:t}),Ma)}}},{key:"doAutoCommit",value:function(){this.suspendCount<=0&&this.commit().catch(function(e){var t=e.response;if(!t||!(t.ok&&t.parsedJson||[500,404].includes(t.status)))throw e})}},{key:"commitAdded",value:function(e){var t=this,n=t.added,r={action:"create",params:t.params};return n.count&&t.createUrl?new Promise(function(i){var o=n.values.map(function(e){return e.persistableData});e.create=r;var a=r.body={data:o};if(t.trigger("beforeRequest",r),t.sendAsFormData){var s=new FormData;s.append("data",JSON.stringify(o)),a=s}var u={headers:t.headers,parseJson:!0};t.useRestfulMethods&&(u.method=t.httpMethods.create),Ae.post(t.createUrl+t.buildQueryString(t.params),a,Object.assign(u,t.fetchOptions)).then(function(o){var a=o.parsedJson,s=Array.isArray(a),u=s||a&&!1!==a.success;e.response=o,r.json=a,r.response=o,u?(t.processReturnedData(n.values,s?a:a[t.responseDataProperty]),n.clear(),t.trigger("commitAdded"),t.trigger("refresh",r),i(e)):(n.forEach(function(e){return e.meta.committing=!1}),e.exception=r.exception=!0,e.exceptionType=r.exceptionType="server",t.trigger("exception",r),i(e)),t.trigger("afterRequest",r)}).catch(function(o){n.forEach(function(e){return e.meta.committing=!1}),e.exception=r.exception=!0,o instanceof Response?(e.response=o,r.exceptionType=o.ok?"server":"network",r.response=o,r.error=o.error):(r.exceptionType="server",r.error=o),t.trigger("exception",r),i(e),t.trigger("afterRequest",r)})}):null}},{key:"commitModified",value:function(e){var t=this,n=t.modified,r=[];if(n.forEach(function(e){var n=e.modificationData;It.isEmpty(n)||r.push(t.writeAllFields?e.persistableData:n)}),!r.length||!t.updateUrl)return null;var i={action:"update",params:t.params};return new Promise(function(o){e.update=i;var a=i.body={data:r};if(t.trigger("beforeRequest",i),t.sendAsFormData){var s=new FormData;s.append("data",JSON.stringify(r)),a=s}var u={headers:t.headers,parseJson:!0};t.useRestfulMethods&&(u.method=t.httpMethods.update),Ae.post(t.updateUrl+t.buildQueryString(t.params),a,Object.assign(u,t.fetchOptions)).then(function(r){var a=r.parsedJson,s=Array.isArray(a),u=s||a&&!1!==a.success;e.response=r,i.json=a,i.response=r,u?(t.processReturnedData(t.modified.values,s?a:a[t.responseDataProperty],!0),n.clear(),t.trigger("commitModified"),t.trigger("refresh",i),o(e)):(n.forEach(function(e){return e.meta.committing=!1}),e.exception=i.exception=!0,i.exceptionType="server",t.trigger("exception",i),o(e)),t.trigger("afterRequest",i)}).catch(function(r){n.forEach(function(e){return e.meta.committing=!1}),e.exception=i.exception=!0,r instanceof Response?(e.response=r,i.exceptionType=r.ok?"server":"network",i.response=r,i.error=r.error):(i.exceptionType="server",i.error=r),t.trigger("exception",i),o(e),t.trigger("afterRequest",i)})})}},{key:"processReturnedData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.modelClass,o=i.fieldMap.id.dataSource;t.forEach(function(t,r){var a=e[r];a.clearChanges(!1),a.syncId(t[o]),Object.assign(e[r].data,i.processData(t,n))})}},{key:"commitRemoved",value:function(e){var t=this,n=t.removed,r={action:"delete",params:t.params};return n.count&&t.deleteUrl?new Promise(function(i){e.delete=r;var o=r.body={ids:n.map(function(e){return e.id})};if(t.trigger("beforeRequest",r),t.sendAsFormData){var a=new FormData;a.append("id",JSON.stringify(o.ids)),o=a}var s={headers:t.headers,parseJson:!0};t.useRestfulMethods&&(s.method=t.httpMethods.delete),Ae.post(t.deleteUrl+t.buildQueryString(t.params),o,Object.assign(s,t.fetchOptions)).then(function(o){var a=o.parsedJson,s=Array.isArray(a)||a&&!1!==a.success;e.response=o,r.json=a,r.response=o,s?(n.forEach(function(e){return e.meta.committing=!1}),n.clear(),t.trigger("commitRemoved"),t.trigger("refresh",r),i(e)):(n.forEach(function(e){return e.meta.committing=!1}),e.exception=r.exception=!0,r.exceptionType="server",t.trigger("exception",r),i(e)),t.trigger("afterRequest",r)}).catch(function(o){n.forEach(function(e){return e.meta.committing=!1}),e.exception=r.exception=!0,o instanceof Response?(e.response=o,r.exceptionType=o.ok?"server":"network",r.response=o,r.error=o.error):(r.exceptionType="server",r.error=o),t.trigger("exception",r),i(e),t.trigger("afterRequest",r)})}):null}},{key:"isLoading",get:function(){return this._isLoading}},{key:"isCommitting",get:function(){return Boolean(this.commitPromise)}},{key:"pageParamName",set:function(e){if(this.tree)throw new Error("Paging cannot be supported for tree stores");if(this.pageStartParamName)throw new Error("Configs pageStartParamName and pageParamName are mutually exclusive");this._pageParamName=e},get:function(){return this._pageParamName}},{key:"pageStartParamName",set:function(e){if(this.tree)throw new Error("Paging cannot be supported for tree stores");if(this.pageParamName)throw new Error("Configs pageParamName and pageStartParamName are mutually exclusive");this._pageStartParamName=e},get:function(){return this._pageStartParamName}},{key:"isPaged",get:function(){return this.pageParamName||this.pageStartParamName}},{key:"allCount",get:function(){return"remoteTotal"in this?this.remoteTotal:ce()(Q()(a.prototype),"allCount",this)}},{key:"lastPage",get:function(){if(this.isPaged)return Math.floor((this.allCount+this.pageSize-1)/this.pageSize)}}],[{key:"defaultConfig",get:function(){return{headers:null,fetchOptions:null,sendAsFormData:!1,writeAllFields:null,parentIdParamName:"id",responseDataProperty:"data",responseTotalProperty:"total",filterParamName:null,sortParamName:null,pageParamName:null,pageStartParamName:null,pageSizeParamName:"pageSize",pageSize:50,useRestfulMethods:!1,httpMethods:{create:"POST",read:"GET",update:"PUT",delete:"DELETE"}}}}]),a}(Ra);function Aa(){var e=Bi()(['<input type="','"\n            reference="input"\n            class="','"\n            name="','"\n            id="','"\n            ',"\n            ","/>"]);return Aa=function(){return e},e}function Ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Pa._$name="AjaxStore";var Fa=function(e){X()(n,e);var t=Ia(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"inputTemplate",value:function(){var e=this,t="inputWidth"in e?'style="width:'.concat(yn.setLength(e.inputWidth),'"'):"";return Wi.tpl(Aa(),e.inputType||"text",e.inputCls||"",e.name||e.id,e.id+"_input",t,e.attributeString)}},{key:"construct",value:function(e){"hidden"===e.inputType&&(e.hidden=!0),ce()(Q()(n.prototype),"construct",this).apply(this,arguments)}},{key:"value",set:function(e){di()(Q()(n.prototype),"value","TextField"===this.$name&&null==e?"":e,this,!0)},get:function(){return ce()(Q()(n.prototype),"value",this)}},{key:"placeholder",set:function(e){this._placeholder=e,this.input&&(this.input.placeholder=e)},get:function(){return this._placeholder}}],[{key:"defaultConfig",get:function(){return{attributes:["placeholder","autoComplete","minLength","maxLength","pattern","tabIndex"],localizableProperties:["label","title","placeholder"]}}},{key:"$name",get:function(){return"TextField"}}]),n}(Do);function La(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Fa._$name="TextField",ke.register("textfield",Fa),ke.register("text",Fa);var Oa=function(e){X()(n,e);var t=La(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"doDestroy",value:function(){this.globalTapListener&&this.globalTapListener(),this.picker=null,ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"finalizeInit",value:function(){ce()(Q()(n.prototype),"finalizeInit",this).call(this);var e=this,t=e.element;!1===e.editable?(t.classList.add("b-not-editable"),ur.on({element:e.input,click:"onTriggerClick",thisObj:e})):e.globalTapListener=ri.on({globaltap:"showKeyboard",thisObj:e})}},{key:"createPicker",value:function(){throw new Error("createPicker must be implemented in PickerField subclass implementations")}},{key:"onEditComplete",value:function(){ce()(Q()(n.prototype),"onEditComplete",this).call(this),this.autoClosePicker()}},{key:"onElementResize",value:function(e){this.pickerVisible&&this.picker.requestAnimationFrame(this.picker.realign,null,this.picker),ce()(Q()(n.prototype),"onElementResize",this).call(this,e)}},{key:"internalOnKeyPress",value:function(e){var t=this,r=!0;if("keydown"===e.type&&!t.disabled)if(t.pickerVisible){var i=t.picker;"Escape"===e.key?(e.stopImmediatePropagation(),t.hidePicker(),r=!1):i.onInternalKeyDown?i.onInternalKeyDown(e):"ArrowDown"===e.key&&i.focusable&&i.focus()}else"ArrowDown"===e.key&&(e.stopImmediatePropagation(),e.preventDefault(),t.onTriggerClick(e));r&&ce()(Q()(n.prototype),"internalOnKeyPress",this).call(this,e)}},{key:"onFocusIn",value:function(e){ce()(Q()(n.prototype),"onFocusIn",this).call(this,e),this.autoExpand&&(this.minChars=0,this.onTriggerClick(e))}},{key:"onFocusOut",value:function(e){this.autoClosePicker(),ce()(Q()(n.prototype),"onFocusOut",this).call(this,e)}},{key:"onTriggerClick",value:function(e){this.disabled||this.togglePicker("key"in e)}},{key:"showKeyboard",value:function(e){var t=e.event,n=this.input;yn.isTouchEvent&&document.activeElement===n&&t.target===n&&(ri.suspendFocusEvents(),n.blur(),n.focus(),ri.resumeFocusEvents())}},{key:"togglePicker",value:function(e){this.pickerVisible?this.hidePicker():this.showPicker(e)}},{key:"showPicker",value:function(e){var t=this,n=t.picker;t.pickerHideShowListenersAdded||(n.on({show:"onPickerShow",hide:"onPickerHide",thisObj:t}),t.pickerHideShowListenersAdded=!0),n.autoClose=t.autoClose,n.show(),n.isVisible&&e&&t.focusPicker()}},{key:"onPickerShow",value:function(){var e=this;e.pickerVisible=!0,e.element.classList.add("b-open"),e.trigger("togglePicker",{show:!0}),e.pickerTapOutRemover=ri.on({globaltap:"onPickerTapOut",thisObj:e}),e.pickerKeyDownRemover=ur.on({element:e.picker.element,keydown:"onPickerKeyDown",thisObj:e})}},{key:"onPickerHide",value:function(){var e=this;e.pickerVisible=!1,e.element.classList.remove("b-open"),e.trigger("togglePicker",{show:!1}),e.pickerTapOutRemover&&e.pickerTapOutRemover(),e.pickerKeyDownRemover&&e.pickerKeyDownRemover()}},{key:"onPickerTapOut",value:function(e){var t=e.event;this.owns(t.target)||this.autoClosePicker()}},{key:"onPickerKeyDown",value:function(e){if("Tab"===e.key){var t=document.activeElement,n=new KeyboardEvent("keydown",e);this.input.dispatchEvent(n),n.defaultPrevented&&e.preventDefault(),document.activeElement===t?this.input.focus():e.preventDefault(),this.isDestroyed||this.hidePicker()}}},{key:"autoClosePicker",value:function(){this.autoClose&&this.hidePicker()}},{key:"hidePicker",value:function(){this.pickerVisible&&this.picker.hide()}},{key:"focusPicker",value:function(){}},{key:"focus",value:function(){var e=this.input;yn.isTouchEvent&&this.editable&&(e.readOnly=!0,this.setTimeout(function(){return e.readOnly=!1},500)),ce()(Q()(n.prototype),"focus",this).call(this)}},{key:"picker",get:function(){var e=this._picker;return e instanceof Jr||(this.picker=e=this.createPicker(e||{})),e},set:function(e){var t=this._picker;t&&t.destroy&&(t.hide(),t.destroy()),this._picker=e}}],[{key:"$name",get:function(){return"PickerField"}},{key:"defaultConfig",get:function(){return{editable:!0,pickerAlignElement:"inputWrap",value:null,triggers:{expand:{cls:"bars"}},autoClose:!0,autoExpand:null,picker:null,inputType:"text",monitorResize:!0}}}]),n}(Fa);function _a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Oa._$name="PickerField";var ja=function(e){X()(n,e);var t=_a(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onKeyDown",value:function(e){var t=this,n=t.ownerCmp,r=t.activeItem,i=t.target.querySelector(t.itemSelector),o=(e.key||"").trim()||e.code,a="".concat(e.ctrlKey?"CTRL+":"").concat(e.shiftKey?"SHIFT+":"").concat(e.altKey?"ALT+":"").concat(o);if(i&&t.target.offsetParent){if(null==t.inlineFlow){var s=i.parentNode,u=yn.getStyleValue(i,"position"),c=yn.getStyleValue(i,"display"),l=yn.getStyleValue(i,"float");t.inlineFlow="absolute"===u||"inline"===c||"inline-block"===c||"left"===l||"right"===l||"flex"===yn.getStyleValue(s,"display")&&"row"===yn.getStyleValue(s,"flex-direction"),t.inlineFlow?(t.prevKey="ArrowLeft",t.nextKey="ArrowRight"):(t.prevKey="ArrowUp",t.nextKey="ArrowDown")}if(t.processEvent&&!(e=t.processEvent.call(n,e)))return;if(r)switch(o){case t.prevKey:if(t.disabled||e.ctrlKey&&!t.allowCtrlKey)return;if(e.shiftKey&&!t.allowShiftKey)return;e.preventDefault(),t.navigatePrevious(e);break;case t.nextKey:if(t.disabled||e.ctrlKey&&!t.allowCtrlKey)return;if(e.shiftKey&&!t.allowShiftKey)return;e.preventDefault(),t.navigateNext(e);break;default:var f=t.keys&&t.keys[a];f&&!t.disabled?t.callback(f,t.thisObj||n,[e]):n.onInternalKeyDown&&n.onInternalKeyDown(e)}else t.activeItem=t.previousActiveItem||t.getDefaultNavigationItem(e);t.activeItem!==r&&t.trigger("navigate",{event:e,item:t.activeItem})}}},{key:"getDefaultNavigationItem",value:function(e){var t=this.target,n=this.itemSelector,r=this.prevKey,i=this.nextKey;return 4&t.compareDocumentPosition(e.target)&&e.key===r?t.querySelector("".concat(n,":last-of-type")):2&t.compareDocumentPosition(e.target)&&e.key===i?t.querySelector("".concat(n)):void 0}},{key:"navigatePrevious",value:function(e){var t=this,n=t.previous;e.preventDefault(),n&&t.ownerCmp.scrollable.scrollIntoView(n,{animate:t.scrollDuration}).then(function(){t.activeItem=n,t.trigger("navigate",{event:e,item:t.activeItem})})}},{key:"navigateNext",value:function(e){var t=this,n=t.next;e.preventDefault(),n&&t.ownerCmp.scrollable.scrollIntoView(n,{animate:t.scrollDuration}).then(function(){t.activeItem=n,t.trigger("navigate",{event:e,item:t.activeItem})})}},{key:"onTargetFocusIn",value:function(e){e.target.matches(this.itemSelector)&&(this.skipScrollIntoView=!0,this.activeItem=e.target,this.skipScrollIntoView=!1)}},{key:"onTargetFocusOut",value:function(e){e.relatedTarget&&this.target.contains(e.relatedTarget)||(this.activeItem=null)}},{key:"onTargetMouseDown",value:function(e){if(!1===this.ownerCmp.itemsFocusable)this.onFocusGesture(e);else{var t=e.target.closest(this.itemSelector);t&&(e.preventDefault(),yn.focusWithoutScrolling(t))}}},{key:"onTargetClick",value:function(e){var t=this;t.disabled||(t.skipScrollIntoView=!0,t.processEvent&&(e=t.processEvent.call(t.ownerCmp,e)),e&&(t.activeItem=e.target.closest(t.itemSelector),t.trigger("navigate",{event:e,item:t.activeItem})),t.skipScrollIntoView=!1)}},{key:"onFocusGesture",value:function(e){(e.target===this.ownerCmp.contentElement||e.target.closest(this.itemSelector)&&!1===this.ownerCmp.itemsFocusable)&&e.preventDefault()}},{key:"acceptNode",value:function(e){return e.offsetParent&&e.matches&&e.matches(this.itemSelector)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}},{key:"onTargetChildListChange",value:function(){var e=this.activeItem;e&&!this.target.contains(e)&&(this.activeItem=this.target.querySelector("".concat(this.itemSelector,'[data-id="').concat(e.dataset.id,'"]')))}},{key:"itemSelector",set:function(e){this._itemSelector=e},get:function(){return this._itemSelector||".".concat(this.ownerCmp.itemCls)}},{key:"owner",get:function(){return this.ownerCmp}},{key:"previous",get:function(){var e=this.treeWalker;if(e.currentNode=this.activeItem,e.previousNode(),e.currentNode!==this.activeItem)return e.currentNode}},{key:"next",get:function(){var e=this.treeWalker;if(e.currentNode=this.activeItem,e.nextNode(),e.currentNode!==this.activeItem)return e.currentNode}},{key:"activeItem",get:function(){return this._activeItem},set:function(e){var t=this,n=t.ownerCmp,r=t.activeItem,i=r&&t.target.contains(r);if(i&&(t.previousActiveItem=r),null!=e){if(n.getItem&&(e=t.ownerCmp.getItem(e)),!e)return;if(t.skipScrollIntoView||n.scrollable.scrollIntoView(e,{block:"nearest",focus:yn.isFocusable(e)&&e!==document.activeElement,silent:t.scrollSilently}),e===r&&i)return;r&&t.activeItem.classList.remove(t.focusCls),e.classList.add(t.focusCls),t._activeItem=e}else r&&(r.classList.remove(t.focusCls),r===document.activeElement&&t.ownerCmp.revertFocus()),t._activeItem=null}},{key:"target",get:function(){return this._target},set:function(e){var t=this,n={element:e,thisObj:t,focusin:"onTargetFocusIn",focusout:"onTargetFocusOut",mousedown:"onTargetMouseDown",click:"onTargetClick"};t._target=e,Object.prototype.hasOwnProperty.call(t,"acceptNode")||(t.acceptNode=t.acceptNode.bind(t),t.acceptNode.acceptNode=t.acceptNode),ur.on(n),t.treeWalker=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,t.acceptNode,!1),t.keyEventTarget||(t.keyEventTarget=e),(t.targetMutationMonitor=new MutationObserver(t.onTargetChildListChange.bind(t))).observe(e,{childList:!0})}},{key:"keyEventTarget",get:function(){return this._keyEventTarget},set:function(e){this._keyEventTarget=e,ur.on({element:e,keydown:"onKeyDown",thisObj:this})}}],[{key:"defaultConfig",get:function(){return{ownerCmp:null,target:null,keyEventTarget:null,processEvent:null,itemSelector:null,focusCls:"b-active",keys:null,allowCtrlKey:null,allowShiftKey:null,scrollDuration:50,testConfig:{scrollDuration:1}}}}]),n}(me(U));function Ha(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Na(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Na(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ba(){var e=Bi()(["","",""]);return Ba=function(){return e},e}function za(){var e=Bi()(['<div class="','" data-index="','" data-id="','" ',">\n            ","\n            </div>"]);return za=function(){return e},e}function Va(){var e=Bi()(["",""]);return Va=function(){return e},e}function Wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ja._$name="Navigator";var $a=document.createRange(),Ga=function(e){X()(n,e);var t=Wa(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t,r=this;Array.isArray(e)&&(e={items:e});for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];(t=ce()(Q()(n.prototype),"construct",this)).call.apply(t,[this,e].concat(o));var s=r.element,u=s.classList;r.multiSelect&&u.add("b-multiselect"),r.store.count?r.refresh():u.add("b-empty"),ur.on({element:s,delegate:r.itemSelector,mouseover:"onMouseOver",click:"onClick",thisObj:r})}},{key:"doDestroy",value:function(){this.detachListeners("store"),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"contentTpl",value:function(){var e=this;return Wi.tpl(Va(),this.store.records.map(function(t,n){return e.itemWrapperTpl(t,n)}))}},{key:"itemWrapperTpl",value:function(e,t){return Wi.tpl(za(),this.getItemClasses(e,t),t,e.id,this.itemsFocusable?'tabindex="-1"':"",this.itemContentTpl(e,t))}},{key:"itemContentTpl",value:function(e,t){return Wi.tpl(Ba(),this.multiSelect?'<div class="b-selected-icon b-icon b-icon-check"></div>':"",this.itemTpl(e,t))}},{key:"getItemClasses",value:function(e){var t=this,n=t._navigator&&t._navigator.activeItem,r=n&&n.dataset.id==e.id,i=t.selected.includes(e);return"".concat(t.itemCls," ").concat(e.cls||""," ").concat(i?t.selectedCls:""," ").concat(r?t.navigator.focusCls:"")}},{key:"onBeforeStoreLoad",value:function(){this.mask(this.L("L{loading}"))}},{key:"onAfterStoreRequest",value:function(){this.unmask()}},{key:"onStoreChange",value:function(e){e.source;var t=e.action,n=e.records,r=e.record;switch(t){case"remove":this.selected.remove(n);break;case"clear":this.selected.clear();break;case"update":return void this.refreshItem(r)}this.refresh()}},{key:"onStoreRefresh",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=this;if(e.isVisible){var t=e.navigator.activeItem;e.paintListener=null,e.clearItems().insertNode(yn.createElementFromTemplate(e.contentTpl(),{fragment:!0})),t&&e.restoreActiveItem(t),e.refreshCount=(e.refreshCount||0)+1,e.element.classList[e.store.count>0?"remove":"add"]("b-empty")}else e.paintListener||(e.paintListener=e.on({paint:"refresh",thisObj:e,once:!0}))}},{key:"clearItems",value:function(){var e=this,t=e.contentElement.querySelector(e.itemSelector),n=e.contentElement.lastChild;if(t){var r=e.contentElement.querySelectorAll("".concat(e.itemSelector,":not(.b-mask)"));$a.setStartBefore(t),$a.setEndAfter(r[r.length-1]),$a.deleteContents()}else n?($a.setStartAfter(n),$a.setEndAfter(n)):($a.setStart(e.contentElement,0),$a.setEnd(e.contentElement,0));return $a}},{key:"refreshItem",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r],a=this.getItem(o);if(a){var s=this.store.indexOf(o),u=yn.createElementFromTemplate(this.itemWrapperTpl(o,s));yn.sync(u,a)}}}},{key:"getItem",value:function(e){if(null!=e)return"number"==typeof e?this.contentElement.querySelector('[data-index="'.concat(e,'"]')):(1===e.nodeType&&(e=e.dataset.id),null!=e.id&&(e=e.id),this.contentElement.querySelector('[data-id="'.concat(e,'"]')))}},{key:"getRecord",value:function(e){return e.target&&(e=e.target),e=e.closest(this.itemSelector),this.store.getAt(parseInt(e.dataset.index))}},{key:"alignTo",value:function(){var e;di()(Q()(n.prototype),"minHeight",this.minAlignHeight,this,!0);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=ce()(Q()(n.prototype),"alignTo",this)).call.apply(e,[this].concat(r))}},{key:"hide",value:function(){var e;this.navigator.activeItem=null;for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=ce()(Q()(n.prototype),"hide",this)).call.apply(e,[this].concat(r))}},{key:"show",value:function(){var e=this.refreshCount,t=this.navigator.previousActiveItem;di()(Q()(n.prototype),"minHeight",this._minHeight,this,!0),ce()(Q()(n.prototype),"show",this).call(this),this.refreshCount===e&&this.restoreActiveItem(t,!0)}},{key:"restoreActiveItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.navigator.previousActiveItem,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearest",n=this,r=n.navigator,i=n.lastAlignSpec;if(null!=e){if("string"!=typeof t){var o=i?i.zone:1;t=1&o?"nearest":o?"start":"end"}(e=n.getItem(e))&&(n.scrollable.scrollIntoView(e,{block:t}),r.activeItem=e)}}},{key:"onMouseOver",value:function(e){var t=e.currentTarget;!yn.isTouchEvent&&t&&this.navigator&&this.activateOnMouseover&&this.setTimeout({fn:"handleMouseOver",delay:30,args:[t],cancelOutstanding:!0})}},{key:"handleMouseOver",value:function(e){this.navigator.activeItem=e}},{key:"onClick",value:function(e){var t=e.target.closest(this.itemSelector);t&&this.onItemClick(t,e)}},{key:"onInternalKeyDown",value:function(e){var t=this.navigator.activeItem;switch(e.key){case" ":if(!e.target.readOnly)break;case"Enter":t&&(this.onItemClick(t,e),e.stopImmediatePropagation(),e.preventDefault())}}},{key:"onItemClick",value:function(e,t){var n=this,r=parseInt(e.dataset.index),i=n.store.getAt(r),o=n.selected,a=o.includes(i);n.trigger("item",{item:e,record:i,index:r,event:t}),e.contains(t.target.closest("[data-noselect]"))||(n.multiSelect?o[a?"remove":"add"](i):o.splice(0,o.count,i)),n.lastClicked=i}},{key:"onSelectionChange",value:function(e){var t,n,r=e.action,i=e.removed,o=e.added,a=(e.replaced,this.selectedCls);if("clear"===r){var s,u=Ha(this.element.querySelectorAll(".".concat(a)));try{for(u.s();!(s=u.n()).done;)(n=s.value).classList.remove(a)}catch(e){u.e(e)}finally{u.f()}}else{var c,l=Ha(i);try{for(l.s();!(c=l.n()).done;)t=c.value,(n=this.getItem(t))&&n.classList.remove(a)}catch(e){l.e(e)}finally{l.f()}var f,d=Ha(o);try{for(d.s();!(f=d.n()).done;)t=f.value,(n=this.getItem(t))&&n.classList.add(a)}catch(e){d.e(e)}finally{d.f()}}}},{key:"items",set:function(e){this.store&&this.store.autoCreated&&this.store.destroy(),this.store=Ra.getStore(e)}},{key:"selected",set:function(e){e&&e instanceof Lr||(e=new Lr(e)),this._selected=e,e.on({change:"onSelectionChange",thisObj:this})},get:function(){return this._selected}},{key:"itemSelector",get:function(){return".".concat(this.itemCls)}},{key:"store",get:function(){return this._thisIsAUsedExpression(this.items),this._store},set:function(e){var t=this;if(e instanceof Ra||(e=new Ra(e)),t._store=e,t.detachListeners("store"),e){var n={name:"store",change:"onStoreChange",refresh:"onStoreRefresh",thisObj:t};e.readUrl&&(n.beforeLoad="onBeforeStoreLoad",n.afterRequest="onAfterStoreRequest"),t.store.on(n)}t.refresh()}},{key:"navigator",get:function(){return this._navigator},set:function(e){var t=this.element;this._navigator=t?new(e.class||ja)(Object.assign({ownerCmp:this,target:t,keyEventTarget:t},e)):e}},{key:"minHeight",get:function(){return ce()(Q()(n.prototype),"minHeight",this)},set:function(e){di()(Q()(n.prototype),"minHeight",this._minHeight=e,this,!0)}},{key:"minAlignHeight",get:function(){var e=this.element.lastElementChild,t=this.minHeight;if(null!=t)return this.store.count?Math.min(e.offsetTop+e.offsetHeight,t):0}}],[{key:"$name",get:function(){return"List"}},{key:"defaultConfig",get:function(){return{itemCls:"b-list-item",selectedCls:"b-selected",items:null,store:null,navigator:!0,scrollable:{x:!1,y:!0},itemsFocusable:!0,multiSelect:!1,itemTpl:function(e){return e.text},selected:{},activateOnMouseover:null}}}]),n}(Jr);function Ya(){var e=Bi()(["","\n            ","\n            ",""]);return Ya=function(){return e},e}function Ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ga.prototype.navigatorClass=ja,Ga._$name="List",ke.register("list",Ga);var qa=function(e){X()(n,e);var t=Ua(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"itemContentTpl",value:function(e,t){return Wi.tpl(Ya(),this.iconTpl?this.iconTpl(e):"",this.itemTpl(e,t),this.closable?'<div class="b-icon b-close-icon b-icon-clear" data-noselect></div>':"")}},{key:"onInternalKeyDown",value:function(e){"Delete"===e.key||"Backspace"===e.key&&this.selected.count?this.callback(this.closeHandler,this.owner,[this.selected.values,{isKeyEvent:!0}]):ce()(Q()(n.prototype),"onInternalKeyDown",this).call(this,e)}},{key:"onClick",value:function(e){var t=this,r=e.target.closest(".".concat(t.itemCls));if(t.closable&&e.target.classList.contains("b-close-icon")){var i=t.store.getAt(parseInt(r.dataset.index));t.callback(t.closeHandler,t.owner,[[i]])}else ce()(Q()(n.prototype),"onClick",this).call(this,e)}}],[{key:"$name",get:function(){return"ChipView"}},{key:"defaultConfig",get:function(){return{itemCls:"b-chip",closable:!0,iconTpl:null,closeHandler:null}}}]),n}(Ga);function Xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}qa._$name="ChipView",ke.register("chipview",qa);var Ka=Symbol("Combo.queryAll"),Za=Symbol("Combo.queryLast"),Ja=function(e){X()(n,e);var t=Xa(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"afterConfigure",value:function(){ce()(Q()(n.prototype),"afterConfigure",this).call(this),"_value"in this||(this._value=this.valueField===this.displayField?"":null)}},{key:"encodeFilterParams",value:function(e){return e.map(function(e){return e.value})}},{key:"eachWidget",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0,r=[this.chipView,this._picker];n<r.length;n++){var i=r[n];if(i){if(!1===e(i))return;t&&i.eachWidget&&i.eachWidget(e,t)}}}},{key:"onChipViewMousedown",value:function(e){e.preventDefault(),this.containsFocus||this.focus()}},{key:"onChipClose",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(t.isKeyEvent&&""===this.input.value||!t.isKeyEvent)&&this.valueCollection.remove(e)}},{key:"onComboStoreChange",value:function(e){"filter"!==e.action&&this.syncInputFieldValue(!0)}},{key:"syncInputFieldValue",value:function(e){this.multiSelect||ce()(Q()(n.prototype),"syncInputFieldValue",this).call(this,e)}},{key:"onEditComplete",value:function(){var e=this,t=e.valueCollection.count;ce()(Q()(n.prototype),"onEditComplete",this).call(this),t&&(e.clearError("L{Field.validateFilter}"),e.syncInputFieldValue()),e.required&&!t&&e.setError("L{Field.fieldRequired}")}},{key:"onTriggerClick",value:function(){var e=this;if(e.pickerVisible)e.hidePicker();else if(!e.readOnly&&!e.disabled)switch(e.triggerAction){case Ka:e.doFilter(null);break;case Za:e.doFilter(e.lastQuery);break;default:e.doFilter(e.input.value)}}},{key:"internalOnInput",value:function(e){var t=this,n=t.input.value,r=n.length;t.editable&&(t.updateEmpty(),t.syncInputWidth(),t.inputting=!0,r>=t.minChars?t.filterList(n):(t.validateFilter&&!t.filterParamName&&t[r?"setError":"clearError"]("L{Field.validateFilter}"),t.hidePicker()),t.inputting=!1,t.trigger("input",{value:n,event:e}))}},{key:"syncInputWidth",value:function(){var e=this;if(e.multiSelect){var t=e.input,n=e._inputPadding||(e._inputPadding=yn.getEdgeSize(t,"padding","lr")),r=t.value||"",i=yn.measureText(r+"W",t,!1,e.element)+n.width;t.style.flex="1 1 ".concat(Math.ceil(i),"px")}}},{key:"filterList",value:function(e){this.doFilter(e)}},{key:"doFilter",value:function(e){var t=this,n=t.store,r=t.filterParamName,i=null==e||""===e;t.lastQuery=e,t.primaryFilter.setConfig({value:e,disabled:i}),r&&n.clear(!0),n.filter(),t.showPicker(),n.count?i||(t.picker.navigator.activeItem=0):r||i||!t.validateFilter||t.setError("L{Field.validateFilter}")}},{key:"onRemoteFilter",value:function(){var e=this,t=e._picker;e.store.count?t&&(t.navigator.activeItem=0):e.validateFilter&&e.setError("L{Field.validateFilter}"),e.filterSelected&&e.valueCollection.count&&(e.store.storage.onFiltersChanged(),t&&t.refresh())}},{key:"onValueCollectionChange",value:function(e){var t=e.source,n=this,r=n.multiSelect,i="hidePickerOnSelect"in n?n.hidePickerOnSelect:!r,o=r?t.values.slice():t.first,a=t.values.slice(),s=n._isUserAction||i&&n.pickerVisible||!1,u=n._value;i&&n.hidePicker(),!t.count&&n.required?n.setError("L{Field.fieldRequired}"):(n.clearError("L{Field.fieldRequired}"),n.clearError("L{Field.validateFilter}")),n.validateFilter&&o&&n.clearError("L{Field.validateFilter}"),n.filterSelected&&(n.filterParamName?(n.store.storage.onFiltersChanged(),n._picker&&n._picker.refresh()):n.store.filter()),n._value=null;var c=n._value=n.value;n.syncInputFieldValue(),n.updateEmpty(),n.isConfiguring||(n.trigger("change",{value:c,oldValue:u,userAction:s,valid:n.isValid}),n.trigger("select",{record:o,records:a,userAction:n.containsFocus}),"select"===n.defaultAction&&n.trigger("action",{value:c,record:o,records:a}))}},{key:"onValueCollectionNoChange",value:function(e){var t=e.toAdd;!this.multiSelect&&t.length&&this.pickerVisible&&this.picker.hide()}},{key:"showPicker",value:function(){var e=this,t=e.picker;ce()(Q()(n.prototype),"showPicker",this).call(this),e.overlayAnchor&&!t.align.offset&&(t.align.offset=-t.anchorSize[1],t.realign()),!e.multiSelect&&e.selected&&t.restoreActiveItem(e.selected,!0),e.input.focus()}},{key:"createPicker",value:function(e){var t=this,n=t.multiSelect,r=t.pickerWidth||e.width,i=Ce.createWidget(It.merge({type:"list",owner:t,floating:!0,scrollAction:"realign",itemsFocusable:!1,activateOnMouseover:!0,store:t.store,selected:t.valueCollection,multiSelect:n,cls:t.listCls,itemTpl:t.listItemTpl||function(e){return e[t.displayField]},forElement:t[t.pickerAlignElement],align:{align:"t-b",axisLock:!0,matchSize:null==r,anchor:t.overlayAnchor,target:t[t.pickerAlignElement]},width:r,navigator:{keyEventTarget:t.input},maxHeight:324,scrollable:{overflowY:!0},autoShow:!1,focusOnHover:!1},e));return i.element.dataset.emptyText=t.emptyText||t.L("L{noResults}"),i}},{key:"onPickerHide",value:function(){ce()(Q()(n.prototype),"onPickerHide",this).call(this),this.multiSelect&&this.clearTextOnPickerHide&&(this.input.value="")}},{key:"element",set:function(e){var t=this;di()(Q()(n.prototype),"element",e,this,!0),t.multiSelect&&(t.element.classList.add("b-multiselect"),t.chipView=new Qa(It.assign({parent:t,insertBefore:t.input,store:t.chipStore=new Ra({storage:t.valueCollection}),navigator:{class:es,keyEventTarget:t.input}},t.chipView)),t.chipView.element.appendChild(t.input),ur.on({element:t.chipView.element,mousedown:"onChipViewMousedown",thisObj:t}))},get:function(){return ce()(Q()(n.prototype),"element",this)}},{key:"filterParamName",set:function(e){this._filterParamName=e,!1!==this.hideTrigger&&(this.hideTrigger=Boolean(e))},get:function(){return this._filterParamName}},{key:"hideTrigger",set:function(e){this._hideTrigger=e,this.element.classList[e?"add":"remove"]("b-hide-trigger")},get:function(){return this._hideTrigger}},{key:"keyStrokeFilterDelay",set:function(e){e&&(this.filterList=this.buffer(this.doFilter,e)),this._keyStrokeFilterDelay=e},get:function(){return this._keyStrokeFilterDelay}},{key:"minChars",set:function(e){this._minChars=e},get:function(){return"_minChars"in this?this._minChars:this.filterParamName?4:1}},{key:"items",set:function(e){var t=this;if(null==e){if(t.store&&!t.store.isItemStore)return;e=[]}if(e instanceof Ra)return t.store=e;var n,r,i=t.displayField,o=t.valueField;if(Array.isArray(e)?r=e.map(function(e){var r,a,s=e;e instanceof Yo?(n=e.constructor,o||(t.valueField=o=n.idField)):"string"==typeof e||"number"==typeof e?(o||(t.valueField=o=t.displayField),r={},se()(r,o,e),se()(r,i,e),s=r):(o||(t.valueField=o="value"),Array.isArray(e)&&(a={},se()(a,o,e[0]),se()(a,i,e[1]),s=a));return s.selected&&(t.value=s),s}):(o||(t.valueField=o="value"),r=[],Object.entries(e).forEach(function(e){var t,n=re()(e,2),a=n[0],s=n[1];r.push((t={},se()(t,o,a),se()(t,i,s),t))})),t.store)t.store.data=r;else{var a=o===i?{name:"value",dataSource:i}:o;t.store=new Ra({isItemStore:!0,data:r,idField:o,modelClass:n||function(e){X()(r,e);var n=Xa(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,null,[{key:"idField",get:function(){return t.valueField},set:function(e){di()(Q()(r),"idField",e,this,!0)}},{key:"fields",get:function(){return[a,i]}}]),r}(Yo)})}},get:function(){return this.store.allRecords}},{key:"value",set:function(e){var t=this;if(e!==t.value){if(!t.multiSelect&&Array.isArray(e)&&e.length>1)throw new Error("Multiple values cannot be set to a non-multiselect Combo");t._thisIsAUsedExpression(t.items);var n,r=t.valueField,i=t.displayField,o=t.store,a=t.valueCollection;if(t.filterParamName){if(null!=e){var s=t.isConfiguring;return t.primaryFilter.setConfig({value:e,disabled:!1}),o.performFilter(!0).then(function(){var e=t.isConfiguring;t.isConfiguring=s,a.splice(0,a.count,o.allRecords),t.isConfiguring=e})}}else o.filtered&&(t.primaryFilter.disabled=!0,o.filter());if(null!=e){for(var u=Array.isArray(e)?e.slice():[e],c=0,l=u.length;c<l;c++){var f=u[c];if(f instanceof Yo)o.storage.includes(f)||o.add(f);else{var d=f instanceof Object;d&&(f=f[r]),(n=o.storage.getBy(i,f)||o.storage.getBy(r,f))?(d&&n.set(u[c]),u[c]=n):(u.splice(c,1),l--,c--)}}var h=a.generation;a.splice(0,a.count,u),a.generation===h&&t.syncInputFieldValue(),u.length||(t._value=e)}else if(a.count)a.clear();else{var p=t._value;t._value=null,t.syncInputFieldValue(),t.updateEmpty(),t.isConfiguring||t.trigger("change",{value:e,oldValue:p,userAction:t._isUserAction,valid:t.isValid})}}else t.syncInputFieldValue(!0)},get:function(){var e=this;return e.multiSelect?e.valueCollection.map(function(t){return t[e.valueField]}):e.valueCollection.count?e.valueCollection.first[e.valueField]:e._value}},{key:"isEmpty",get:function(){return 0===this.valueCollection.count}},{key:"isValid",get:function(){var e=this;return e.isConfiguring||!e.required||e.valueCollection.count?e.clearError("L{Field.fieldRequired}",!0):e.setError("L{Field.fieldRequired}",!0),ce()(Q()(n.prototype),"isValid",this)}},{key:"inputValue",get:function(){var e=this,t=e.value;return t=e.selected?e.selected[e.displayField]:t,e.displayValueRenderer&&(t=e.displayValueRenderer(e.selected)),null==t?"":t}},{key:"displayValueRenderer",set:function(e){this._displayValueRenderer=e},get:function(){return this._displayValueRenderer}},{key:"valueCollection",get:function(){return this._valueCollection||(this._valueCollection=new Lr({listeners:{noChange:"onValueCollectionNoChange",change:"onValueCollectionChange",prio:-1e3,thisObj:this}})),this._valueCollection}},{key:"store",set:function(e){var t=this,n=t.filterParamName,r=[],i={thisObj:this};if(Array.isArray(e))return t.initialConfig.store=null,t.items=e;if(!e||e instanceof Ra||(e=new(e.readUrl?Pa:Ra)(e)),n&&(e.filterParamName=n,t.encodeFilterParams&&(e.encodeFilterParams=t.encodeFilterParams),i.filter="onRemoteFilter"),t.valueField||(t.valueField=e.modelClass.idField),!t.primaryFilter){t.primaryFilter=new wr({id:"primary",property:t.displayField,operator:t.filterOperator,disabled:!0,caseSensitive:t.caseSensitive})}r.push(t.primaryFilter),n?t.filterSelected&&(e.storage.autoFilter=!0,e.storage.addFilter({id:"".concat(t.id,"-selected-filter"),filterBy:function(e){return!t.valueCollection.includes(e)}})):t.filterSelected&&(t.selectedItemsFilter=function(e){return!t.valueCollection.includes(e)},r.push(t.selectedItemsFilter),e.reapplyFilterOnAdd=!0),e.filter(r),t._store=e,t._picker&&(t.picker.store=e),e.storage.addIndex(t.displayField),e.storage.addIndex(t.valueField),t.displayValueRenderer&&(i.change="onComboStoreChange",t.syncInputFieldValue()),e.on(i)},get:function(){return this._store}},{key:"record",get:function(){return this.selected}},{key:"records",get:function(){return this.valueCollection.values.slice()}},{key:"selected",get:function(){return this.valueCollection.first}}],[{key:"$name",get:function(){return"Combo"}},{key:"defaultConfig",get:function(){return{items:null,store:null,valueField:null,displayField:"text",pickerWidth:null,minChars:null,selected:null,listItemTpl:null,displayValueRenderer:null,listCls:null,triggers:{expand:{cls:"b-icon-picker",handler:"onTriggerClick"}},filterParamName:null,encodeFilterParams:null,hideTrigger:null,overlayAnchor:null,keyStrokeFilterDelay:null,defaultAction:"select",triggerAction:Ka,filterOperator:"startsWith",caseSensitive:!1,multiSelect:null,hidePickerOnSelect:null,chipView:null,filterSelected:null,emptyText:null,value:null,validateFilter:!0,clearTextOnPickerHide:!0}}}]),n}(Oa);Ja.queryAll=Ka,Ja.queryLast=Za;var Qa=function(e){X()(n,e);var t=Xa(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"MultiSelectChipView"}},{key:"defaultConfig",get:function(){return{itemsFocusable:!1,multiSelect:!0,closeHandler:"up.onChipClose",itemTpl:function(e){return e[this.owner.displayField]}}}}]),n}(qa),es=function(e){X()(n,e);var t=Xa(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onTargetClick",value:function(e){var t=e.target.closest(this.itemSelector);!t||e.shiftKey||t.contains(e.target.closest("[data-noselect]"))||this.ownerCmp.selected.clear(),di()(Q()(n.prototype),"activeItem",t,this,!0)}},{key:"onKeyDown",value:function(e){"Enter"!==e.key&&ce()(Q()(n.prototype),"onKeyDown",this).call(this,e)}},{key:"navigatePrevious",value:function(e){var t=this.ownerCmp;t.navigator.activeItem&&!e.shiftKey&&t.selected.clear(),this.previous?ce()(Q()(n.prototype),"navigatePrevious",this).call(this,e):this.activeItem=null}},{key:"navigateNext",value:function(e){var t=this.ownerCmp;t.navigator.activeItem&&!e.shiftKey&&t.selected.clear(),this.next?ce()(Q()(n.prototype),"navigateNext",this).call(this,e):this.activeItem=null}},{key:"activeItem",set:function(e){var t=this.ownerCmp;e=t.getItem(e),di()(Q()(n.prototype),"activeItem",e,this,!0),e&&t.selected.add(t.getRecord(e))},get:function(){return ce()(Q()(n.prototype),"activeItem",this)}}],[{key:"defaultConfig",get:function(){return{allowShiftKey:!0}}}]),n}(ja);Ja._$name="Combo",ke.register("combo",Ja),ke.register("combobox",Ja),ke.register("dropdown",Ja);var ts=function(){function e(t){E()(this,e);var n=t.date,r=t.weekStartDay,i=t.sixWeeks;this.constructor.updateDayNumbers(r),this.sixWeeks=i,this.date=n}return M()(e,[{key:"eachDay",value:function(e){for(var t=this.startDayOfMonth;t<=this.endDayOfMonth;t++)e(new Date(this.year,this.month,t))}},{key:"eachWeek",value:function(e){for(var t=this,n=t.weekCount,r=t.startDayOfMonth,i=0;i<n;i++){for(var o=[],a=t.getWeekNumber(new Date(t.year,t.month,Math.max(r,1))),s=0;s<7;s++,r++)o.push(new Date(t.year,t.month,r));e(a,o)}}},{key:"getWeekNumber",value:function(t){var n=this,r=n.weekStartDay;if((t=xt.clearTime(t))<n.startDate||t>n.endDate)return new e({date:t,weekStartDay:r}).getWeekNumber(t);var i=Math.floor((t-n.weekBase)/864e5/7),o=t.getFullYear();if(!i){var a=new Date(n.year,0,0);return new e({date:a,weekStartDay:r}).getWeekNumber(a)}return 53!==i||n.has53weeks||(i=1,o++),[o,i]}},{key:"date",set:function(t){var n="string"==typeof t;if(t=new Date(t),n){if(isNaN(t))throw new Error("CalendarPanel date ingestion must be passed a Date, or a valid argument to the Date constructor");t=xt.add(t,t.getTimezoneOffset(),"minute")}var r=this,i=xt.getFirstDateOfMonth(t),o=xt.getLastDateOfMonth(i),a=r.dayNumbers[i.getDay()],s=r.dayNumbers[o.getDay()];if(r._date=t,r.startDayOfMonth=1-a,r.endDayOfMonth=o.getDate()+(6-s),r.sixWeeks)for(;r.weekCount<6;)r.endDayOfMonth+=7;var u=new Date(r.year,0,1),c=new Date(r.year,1,31),l=r.month?new e({date:u,weekStartDay:r.weekStartDay}):r;r.dayNumbers[u.getDay()]>3?r.weekBase=l.startDate:r.weekBase=new Date(r.year,0,l.startDayOfMonth-7),r.has53weeks=c.getDay()<4},get:function(){return this._date}},{key:"year",set:function(e){this.date.setFullYear(e),this.date=this.date},get:function(){return this.date.getFullYear()}},{key:"month",set:function(e){this.date.setMonth(e),this.date=this.date},get:function(){return this.date.getMonth()}},{key:"dayCount",get:function(){return this.endDayOfMonth+1-this.startDayOfMonth}},{key:"weekCount",get:function(){return this.dayCount/7}},{key:"startDate",get:function(){return new Date(this.year,this.month,this.startDayOfMonth)}},{key:"endDate",get:function(){return new Date(this.year,this.month,this.endDayOfMonth)}}],[{key:"applyLocale",value:function(){this.updateDayNumbers()}},{key:"updateDayNumbers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt.weekStartDay,t=this.prototype,n=t.dayNumbers=[],r=t.canonicalDayNumbers=[];t.weekStartDay=e;for(var i=0;i<7;i++){var o=(e+i)%7;r[i]=o,n[o]=i}}}]),e}();function ns(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}_e.on({locale:"applyLocale",thisObj:ts}),ts._$name="Month";var rs=function(e){X()(n,e);var t=ns(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){is(),this.weekStartDay=e&&e.weekStartDay||null,ce()(Q()(n.prototype),"construct",this).call(this,e),this.refresh()}},{key:"doDestroy",value:function(){this.tip&&this.tip.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"ingestDate",value:function(e){if(!(e instanceof Date)){if(e=new Date(e),isNaN(e))throw new Error("CalendarPanel date ingestion must be passed a Date, or a valid argument to the Date constructor");var t=e.getTimezoneOffset();t&&(e=xt.add(e,t,"minute"))}return xt.clearTime(e)}},{key:"refresh",value:function(){var e=this,t=xt.clearTime(new Date),n=e.cellElements,r=e.weekElements,i=e.date,o=e.month,a=e.cellCls,s=e.disabledCls,u=e.otherMonthCls,c=e.weekendCls,l=e.todayCls;if(!i)return e.date=t;for(var f=0,d=n.length;f<d;f++)n[f].className=n[f].innerHTML="";for(var h=0;h<7;h++){var p=e.weekdayCells[h],v=e.canonicalDayNumbers[h];p.className=p.innerHTML="",e.headerRenderer?e.headerRenderer(p,h):p.innerHTML=as[v],p.classList.add("b-calendar-day-header"),p.dataset.columnIndex=h,p.dataset.cellDay=v}var g=0,y=0;o.eachWeek(function(n,i){var f=r[g].children;f[0].className="b-week-number-cell",e.weekRenderer?e.weekRenderer(f[0],n):f[0].innerHTML=n[1];for(var d=0;d<7;d++){var h=i[d],p=h.getDay(),v=f[d+1],m=v.classList;m.add(a),e.isDisabledDate(h)&&m.add(s),h.getMonth()!==o.month&&m.add(u),0!==p&&6!==p||m.add(c),h.getTime()===t.getTime()&&m.add(l),v.dataset.date=xt.format(h,"YYYY-MM-DD"),v.dataset.cellIndex=y,v.dataset.columnIndex=d,e.cellRenderer?e.cellRenderer(v,h):v.innerHTML=h.getDate(),y++}g++}),e.floating&&(e.isAligning||e.realign())}},{key:"isDisabledDate",value:function(e){var t=e.getDay(),n=this.disabledDates;if(this.disableWeekends&&(0===t||6===t))return!0;if(n){if("function"==typeof n)return n(e);if(Array.isArray(n))return n.some(function(t){return xt.clearDate(t,!0).getTime()===xt.clearDate(e,!0).getTime()})}}},{key:"updateWeekStartDay",value:function(e){var t=this;t.dayNames=[],t.dayNumbers=[],t.canonicalDayNumbers=[];for(var n=0;n<7;n++){var r=(e+n)%7;t.canonicalDayNumbers[n]=r,t.dayNumbers[r]=n,t.dayNames[n]=as[r]}}},{key:"onTipOverCell",value:function(e){var t=e.source,n=e.target;t.date=xt.parse(n.dataset.date,"YYYY-MM-DD")}},{key:"updateLocalization",value:function(){is(),this.updateWeekStartDay(this.weekStartDay),this.refresh(),ce()(Q()(n.prototype),"updateLocalization",this).call(this)}},{key:"tip",set:function(e){this._tip=new ao(Object.assign({forElement:this.element,forSelector:".b-calendar-cell"},e)),this._tip.on({pointerOver:"onTipOverCell",thisObj:this})},get:function(){return this._tip}},{key:"element",get:function(){return ce()(Q()(n.prototype),"element",this)},set:function(e){di()(Q()(n.prototype),"element",e,this,!0),this.weekElements=Array.from(this.element.querySelectorAll(".b-calendar-week")),this.cellElements=Array.from(this.element.querySelectorAll(".b-calendar-week > div"))}},{key:"date",set:function(e){var t=this;e=t._date=t.ingestDate(e),t.month&&t.month.month===e.getMonth()||(t.month=new ts({date:e,weekStartDay:t._weekStartDay,sixWeeks:t.sixWeeks})),t.refresh()},get:function(){return this._date}},{key:"month",set:function(e){e instanceof ts?this._month=e:(this.month.month=e,this.refresh())},get:function(){return this._month}},{key:"year",set:function(e){this.month.year=e,this.refresh()},get:function(){return this.month.year}},{key:"showWeekNumber",set:function(e){this.element.classList[e?"add":"remove"]("b-show-week-number"),this.floating&&(this.isAligning||this.realign())}},{key:"bodyConfig",get:function(){var e=ce()(Q()(n.prototype),"bodyConfig",this),t=[];e.children=[{tag:"div",className:"b-calendar-row b-calendar-weekdays",children:this.dayNameCells},{className:"b-weeks-container notranslate",reference:"weeksElement",children:t}];for(var r=0;r<6;r++){for(var i={className:"b-calendar-row b-calendar-week",children:[]},o=0;o<8;o++)i.children.push({});t.push(i)}return e}},{key:"weekStartDay",set:function(e){this._weekStartDay=e,this.updateWeekStartDay(this.weekStartDay)},get:function(){return null!=this._weekStartDay?this._weekStartDay:xt.weekStartDay}},{key:"dayNameCells",get:function(){var e=document.createElement("div"),t=[e];this.weekdayCells=[],e.className="b-week-number-cell";for(var n=0;n<7;n++){var r=document.createElement("div");t.push(r),this.weekdayCells.push(r)}return t}}],[{key:"$name",get:function(){return"CalendarPanel"}},{key:"defaultConfig",get:function(){return{weekStartDay:null,sixWeeks:!0,showWeekNumber:!1,disabledDates:null,headerRenderer:null,weekRenderer:null,cellRenderer:null,disableWeekends:null,tip:null,cellCls:"b-calendar-cell",disabledCls:"b-disabled-date",otherMonthCls:"b-other-month",weekendCls:"b-weekend",todayCls:"b-today"}}}]),n}(_i);function is(){as.length=0;for(var e=2;e<9;e++)os.setDate(e),as.push(xt.format(os,"ddd"))}var os=new Date("2000-01-01T00:00:00"),as=[];function ss(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}rs._$name="CalendarPanel",ke.register("calendarpanel",rs);var us=function(e){X()(n,e);var t=ss(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"Fit"}},{key:"defaultConfig",get:function(){return{containerCls:"b-fit-container",itemCls:"b-fit-item"}}}]),n}(gi);function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}us._$name="Fit",gi.registerLayout(us);var fs=function(e){X()(r,e);var t,n=ls(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"afterConfigure",value:function(){var e=this;ce()(Q()(r.prototype),"afterConfigure",this).call(this),e.onTargetSizeChange=e.onTargetSizeChange.bind(e),(e.completeKey||e.cancelKey)&&ur.on({element:e.element,keydown:"onKeyDown",thisObj:e}),e.on({hide:"afterHide",thisObj:e}),_e.on({locale:"onLocaleChange",thisObj:e})}},{key:"onLocaleChange",value:function(){var e=this.inputField;e&&!e.isDestroyed&&e.syncInputFieldValue&&e.syncInputFieldValue(!0)}},{key:"startEdit",value:function(e){var t=e.target,n=e.align,r=void 0===n?this.align:n,i=e.hideTarget,o=void 0!==i&&i,a=e.matchSize,s=void 0===a||a,u=e.matchFont,c=void 0===u||u,l=e.fitTargetContent,f=void 0!==l&&l,d=e.value,h=e.record,p=e.field,v=void 0===p?this.inputField.name:p,g=e.focus,y=void 0===g||g,m=this,k=m.inputField,b=yn.getStyleValue(t,"font-size"),w=yn.getStyleValue(t,"font-family");if(!1!==m.trigger("beforestart",{value:d})){if(h&&v&&void 0===d&&(m.record=h,m.dataField=v,d=h[v]),s&&(t instanceof HTMLElement&&m.updateSize(t),t instanceof HTMLElement&&pr.addResizeListener(t,m.onTargetSizeChange)),k.input&&(c?(k.input.style.fontSize=b,k.input.style.fontFamily=w):k.input.style.fontSize=k.input.style.fontFamily=""),k.clearError&&k.clearError(),k.value=d,k.initialValue=k.value,m.showBy(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach(function(t){se()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({target:t},r)),f){var S=k.input.scrollWidth-k.input.clientWidth;S>0&&(m.width+=S+yn.scrollBarWidth)}return y&&m.inputField.focus&&m.inputField.focus(),1===t.nodeType&&(t.classList.add("b-editing"),o&&t.classList.add("b-hide-visibility")),m.trigger("start",{value:k.value}),m.oldValue=k.value,Array.isArray(m.oldValue)&&(m.oldValue=m.oldValue.slice()),!0}return!1}},{key:"refreshEdit",value:function(){if(this.isVisible){var e=this.record,t=this.dataField,n=this.inputField;if(e&&t){var r=e[t];It.isEqual(n.value,r)||(n.value=r)}}}},{key:"onKeyDown",value:function(e){var t=this;switch(e.key){case t.completeKey:t.completeEdit(),e.stopImmediatePropagation();break;case t.cancelKey:t.cancelEdit(),e.stopImmediatePropagation()}t.trigger("keydown",{event:e})}},{key:"onFocusOut",value:function(e){if(ce()(Q()(r.prototype),"onFocusOut",this).call(this,e),!this.isFinishing){var t=this["".concat(this.blurAction,"Edit")];t&&t.call(this)}}},{key:"completeEdit",value:(t=ro()(to.a.mark(function e(t){var n,r,i,o,a,s,u,c,l,f,d;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=this).inputField,i=n.oldValue,o=n.record,a=r.invalidAction||(!1===r.allowInvalid?"block":n.invalidAction),s=r.value,r.isValid){e.next=12;break}if("block"!==a){e.next=7;break}return r.focus&&r.focus(),e.abrupt("return",!1);case 7:if("revert"!==a){e.next=10;break}return n.cancelEdit(),e.abrupt("return",!0);case 10:e.next=33;break;case 12:if(!It.isEqual(s,i)){e.next=17;break}return n.cancelEdit(),e.abrupt("return",!0);case 17:if(u={inputField:r,record:o,value:s,oldValue:i},!1!==n.trigger("beforeComplete",u)){e.next=22;break}r.focus&&r.focus(),e.next=33;break;case 22:if(t||(t=u.finalize||u.editorContext&&u.editorContext.finalize),!t){e.next=31;break}return e.next=26,t(u);case 26:return!0===(c=e.sent)?n.onEditComplete():(r.setError&&(l=c||r.invalidValueError,f=function(){d(),r.clearError(l)},d=r.on({change:f,input:f}),r.setError(l)),"block"===a?r.focus&&r.focus():"revert"===a&&(r.value=i,c=!0),c=!1),e.abrupt("return",c);case 31:return n.onEditComplete(),e.abrupt("return",!0);case 33:return e.abrupt("return",!1);case 34:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"cancelEdit",value:function(){var e=this,t=e.inputField,n=e.oldValue,r=e.lastAlignSpec.target,i=t.value;e.isFinishing||!1===e.trigger("beforeCancel",{value:i,oldValue:n})||(e.isFinishing=!0,e.hide(),e.trigger("cancel",{value:i,oldValue:n}),1===r.nodeType&&(r.classList.remove("b-editing"),r.classList.remove("b-hide-visibility")),e.isFinishing=!1)}},{key:"onEditComplete",value:function(){var e=this,t=e.record,n=e.dataField,r=e.inputField,i=e.oldValue,o=e.lastAlignSpec.target,a=r.value;if(!e.isFinishing){if(e.isFinishing=!0,e.hide(),t){var s="set".concat(_.capitalizeFirstLetter(n));t[s]?t[s](a):t[n]=a}e.trigger("complete",{value:a,oldValue:i}),1===o.nodeType&&(o.classList.remove("b-editing"),o.classList.remove("b-hide-visibility")),e.isFinishing=!1}}},{key:"doDestroy",value:function(){this.createdInputField&&this.inputField.destroy(),ce()(Q()(r.prototype),"doDestroy",this).call(this)}},{key:"onInputFieldChange",value:function(){this.containsFocus&&this.completeEdit()}},{key:"onTargetSizeChange",value:function(e,t,n){t&&n&&this.updateSize(e)}},{key:"updateSize",value:function(e){var t=e.getBoundingClientRect();this.width=t.width-this.align.offset[0],this.height=t.height}},{key:"afterHide",value:function(){pr.removeResizeListener(this.lastAlignSpec.target,this.onTargetSizeChange)}},{key:"allowInvalid",set:function(e){this._allowInvalid=e,this.invalidAction=e?"allow":"block"},get:function(){return this._allowInvalid}},{key:"owner",set:function(e){this._owner=e},get:function(){return this._owner||De.fromElement(this.element.parentNode)}},{key:"inputField",set:function(e){var t=this;t._inputField&&t._inputField.destroy(),"string"==typeof e&&(e={type:e}),e instanceof Jr?t._inputField=e:(t._inputField=Ce.createWidget(e),t.createdInputField=!0),t.completeOnChange&&t._inputField.on({change:"onInputFieldChange",thisObj:t}),t._inputField.parent=t,t.removeAll(),t.add(e)},get:function(){return this.items[0]}}],[{key:"$name",get:function(){return"Editor"}},{key:"defaultConfig",get:function(){return{positioned:!0,hidden:!0,layout:"fit",align:{align:"t0-t0",offset:[0,0]},inputField:"textfield",blurAction:"complete",completeKey:"Enter",cancelKey:"Escape",allowInvalid:null,invalidAction:"block",completeOnChange:null}}}]),r}(Mi);function ds(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}fs._$name="Editor",ke.register("editor",fs);var hs=function(e){X()(n,e);var t=ds(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;t.selection=[],t.refresh=t.createOnFrame(t.refresh),ce()(Q()(n.prototype),"construct",this).call(this,e),t.element.setAttribute("aria-activedescendant","".concat(t.id,"-active-day")),ur.on({element:t.element,mouseover:"onPickerMouseover",mousedown:"onPickerMousedown",click:"onPickerClick",keydown:"onPickerKeyDown",thisObj:t})}},{key:"doDestroy",value:function(){this._yearEditor&&this._yearEditor.destroy(),this._monthEditor&&this._monthEditor.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"eachWidget",value:function(e,t){var n=this.items||[];this._yearEditor&&n.unshift(this._yearEditor),this._monthEditor&&n.unshift(this._monthEditor);for(var r=0;r<n.length;r++){var i=n[r];if(!1===e(i))return;t&&i.eachWidget&&i.eachWidget(e,t)}}},{key:"refresh",value:function(){var e=this,t=yn.scrollBarWidth;ce()(Q()(n.prototype),"refresh",this).call(this),e.monthElement.style.minWidth="calc(".concat(e.maxMonthLength+1,"ch + ").concat(t,"px)"),e.monthElement.innerHTML=xt.format(e.month.date,"MMMM"),e.yearElement.style.minWidth=t?"calc(3ch + ".concat(t,"px"):"7ch",e.yearElement.innerHTML=xt.format(e.month.date,"YYYY")}},{key:"cellRenderer",value:function(e,t){var n=this,r=n.activeCls,i=n.selectedCls,o=e.classList;e.innerHTML=t.getDate(),e.setAttribute("aria-label",xt.format(t,"MMMM D, YYYY")),n.isActiveDate(t)&&(o.add(r),e.id="".concat(n.id,"-active-day")),n.isSelectedDate(t)&&o.add(i),(n.minDate&&t<n.minDate||n.maxDate&&t>n.maxDate)&&o.add(n.outOfRangeCls)}},{key:"onPickerMousedown",value:function(e){e.preventDefault()}},{key:"onPickerMouseover",value:function(e){if(this.editOnHover&&yn.up(e.target,".b-editable"))return this.onEditGesture(e)}},{key:"onPickerClick",value:function(e){var t=this,n=e.target,r=yn.up(n,".".concat(t.cellCls,":not(.").concat(t.disabledCls,"):not(.").concat(t.outOfRangeCls,")")),i=yn.up(n,".b-editable");return r?t.onCellClick(e):t.editOnHover&&!yn.isTouchEvent||!i?(t._monthEditor&&!t._monthEditor.owns(e)&&t._monthEditor.cancelEdit(),void(t._yearEditor&&!t._yearEditor.owns(e)&&t._yearEditor.cancelEdit())):t.onEditGesture(e)}},{key:"onCellClick",value:function(e){this.onDateActivate(xt.parse(e.target.dataset.date,"YYYY-MM-DD"),e)}},{key:"onEditGesture",value:function(e){var t=this,n=t.month,r=e.target;r===t.monthElement?t.monthEditor.startEdit({target:r,value:n.month,fitTargetContent:!1,hideTarget:!0}):r===t.yearElement&&(t.yearEditor.minWidth="calc(50px + ".concat(yn.scrollBarWidth,"px)"),t.yearEditor.startEdit({target:r,value:n.year,fitTargetContent:!0,hideTarget:!0}))}},{key:"onDateActivate",value:function(e,t){var n=this,r=n.lastClickedDate,i=n.selection;n.activeDate=e,n.lastClickedDate=e,n.multiSelect?n.multiRange||r&&e.getTime()===r.getTime()||(r&&t.shiftKey?(i[1]=e,i.sort()):(i.length=0,i[0]=e),n.trigger("selectionChange",{selection:i})):n.value&&n.value.getTime()===e.getTime()?n.hide():n.value=e}},{key:"onPickerKeyDown",value:function(e){var t=this,n=e.key.trim()||e.code,r=t.activeDate,i=new Date(r);if(r){do{switch(n){case"Escape":t.hide();break;case"ArrowLeft":e.preventDefault(),e.ctrlKey?i.setMonth(i.getMonth()-1):i.setDate(i.getDate()-1);break;case"ArrowUp":e.preventDefault(),i.setDate(i.getDate()-7);break;case"ArrowRight":e.preventDefault(),e.ctrlKey?i.setMonth(i.getMonth()+1):i.setDate(i.getDate()+1);break;case"ArrowDown":e.preventDefault(),i.setDate(i.getDate()+7);break;case"Enter":t.onDateActivate(r,e)}}while(t.isDisabledDate(i)&&!t.focusDisabledDates);if(t.minDate&&i<t.minDate)return;if(t.maxDate&&i>t.maxDate)return;t.activeDate=i}}},{key:"gotoPrevMonth",value:function(){var e=this.date;e.setMonth(e.getMonth()-1),this.date=e}},{key:"gotoNextMonth",value:function(){var e=this.date;e.setMonth(e.getMonth()+1),this.date=e}},{key:"isActiveDate",value:function(e){return this.activeDate&&this.ingestDate(e).getTime()===this.activeDate.getTime()}},{key:"isSelectedDate",value:function(e){return this.selection.some(function(t){return t.getTime()===e.getTime()})}},{key:"onMonthPicked",value:function(e){var t=e.value;this.month=t}},{key:"onYearPicked",value:function(e){var t=e.value;this.year=t}},{key:"updateLocalization",value:function(){this._monthEditor&&(this._monthEditor.doDestroy(),this._monthEditor=null),this._yearEditor&&(this._yearEditor.doDestroy(),this._yearEditor=null),this._maxMonthLength=0,ce()(Q()(n.prototype),"updateLocalization",this).call(this)}},{key:"focusElement",get:function(){return this.element}},{key:"minDate",set:function(e){this._minDate=e?this.ingestDate(e):null,this.refresh()},get:function(){return this._minDate}},{key:"maxDate",set:function(e){this._maxDate=e?this.ingestDate(e):null,this.refresh()},get:function(){return this._maxDate}},{key:"activeDate",set:function(e){var t=this;t._activeDate=e?t.ingestDate(e):xt.clearTime(new Date),t.month.month!==t._activeDate.getMonth()&&(t.month.date=t._activeDate),t.refresh()},get:function(){return this._activeDate}},{key:"value",set:function(e){var t,n=this,r=n.selection;e?(e=n.ingestDate(e),n.value&&e.getTime()===n.value.getTime()||(r.length=0,r[0]=e,t=!0),n.date=e):(t=r.length,r.length=0,n.date=new Date),t&&n.trigger("selectionChange",{selection:r})},get:function(){return this.selection[this.selection.length-1]}},{key:"monthEditor",get:function(){var e=this;return e._monthEditor||(e._monthEditor=new fs({owner:e,appendTo:e.element,inputField:e.monthInput=new Ja({editable:!1,autoExpand:!e.editOnHover,items:e.monthItems,highlightExternalChange:!1,picker:{align:{align:"t0-b0"},cls:"b-month-picker-list",scrollable:{overflowX:!1}}}),completeOnChange:!0,listeners:{complete:"onMonthPicked",thisObj:e}})),e._monthEditor}},{key:"yearEditor",get:function(){var e=this;return e._yearEditor||(e._yearEditor=new fs({owner:e,appendTo:e.element,inputField:e.yearInput=new Ja({editable:!1,autoExpand:!e.editOnHover,items:e.yearItems,highlightExternalChange:!1,picker:{cls:"b-year-picker-list",scrollable:{overflowX:!1}}}),completeOnChange:!0,listeners:{complete:"onYearPicked",thisObj:e}})),e._yearEditor}},{key:"monthItems",get:function(){return xt.getMonthNames().map(function(e,t){return[t,e]})}},{key:"yearItems",get:function(){for(var e=[],t=(new Date).getFullYear(),n=t-20;n<t+21;n++)e.push(n);return e}},{key:"maxMonthLength",get:function(){if(!this._maxMonthLength){this._maxMonthLength=0;for(var e=0,t=this.monthItems;e<12;e++)this._maxMonthLength=Math.max(this._maxMonthLength,t[e][1].length)}return this._maxMonthLength}}],[{key:"$name",get:function(){return"DatePicker"}},{key:"defaultConfig",get:function(){return{focusable:!0,tools:{prevMonth:{align:"start",cls:"b-icon b-icon-angle-left",handler:"gotoPrevMonth"},nextMonth:{align:"end",cls:"b-icon b-icon-angle-right",handler:"gotoNextMonth"}},header:{title:'<div class="b-editable b-datepicker-month" reference="monthElement"></div> <div class="b-editable b-datepicker-year" reference="yearElement"></div>',titleAlign:"center"},minDate:null,maxDate:null,outOfRangeCls:"b-out-of-range",activeCls:"b-active-date",selectedCls:"b-selected-date",focusDisabledDates:null,multiSelect:!1,editOnHover:!0}}}]),n}(rs);function ps(){var e=Bi()(['<input type="','"\n            reference="input"\n            class="','"\n            min="','"\n            max="','"\n            placeholder="','"\n            name="','"\n            id="','"/>']);return ps=function(){return e},e}function vs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}hs._$name="DatePicker",ke.register("datepicker",hs);var gs=function(e){X()(n,e);var t=vs(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"inputTemplate",value:function(){var e=this;return Wi.tpl(ps(),e.inputType||"text",e.inputCls||"",e.min,e.max,e.placeholder,e.name||e.id,e.id+"_input")}},{key:"createPicker",value:function(e){var t=this;return e=new hs(Object.assign({owner:t,forElement:t[t.pickerAlignElement],floating:!0,scrollAction:"realign",align:{align:"t0-b0",axisLock:!0,anchor:t.overlayAnchor,target:t[t.pickerAlignElement]},value:t.value,minDate:t.min,maxDate:t.max,weekStartDay:t._weekStartDay,onSelectionChange:function(e){var n=e.selection,r=e.source;r.isVisible&&(t._isUserAction=!0,t.value=n[0],t._isUserAction=!1,r.hide())}},e)),t.calendarContainerCls&&e.element.classList.add(t.calendarContainerCls),e}},{key:"onBackClick",value:function(){var e=this,t=e.min;if(!e.readOnly&&e.value){var n=xt.add(e.value,-1*e._step.magnitude,e._step.unit);(!t||t.getTime()<=n)&&(e.value=n)}}},{key:"onForwardClick",value:function(){var e=this,t=e.max;if(!e.readOnly&&e.value){var n=xt.add(e.value,e._step.magnitude,e._step.unit);(!t||t.getTime()>=n)&&(e.value=n)}}},{key:"showPicker",value:function(e){this.picker.value=this.picker.activeDate=this.value,ce()(Q()(n.prototype),"showPicker",this).call(this,e)}},{key:"focusPicker",value:function(){this.picker.focus()}},{key:"transformDateValue",value:function(e){return null!=e&&(xt.isDate(e)||(e="string"==typeof e?xt.parse(e,this.format)||xt.parse(e,this.fallbackFormat):new Date(e)),xt.isValidDate(e))?this.transformTimeValue(e):null}},{key:"transformTimeValue",value:function(e){var t=this.keepTime;if(e=xt.clone(e),t){var n=xt.parse(t,this.timeFormat);xt.isValidDate(n)?xt.copyTimeValues(e,n):xt.isValidDate(this.value)&&xt.copyTimeValues(e,this.value)}else xt.clearTime(e,!1);return e}},{key:"hasChanged",value:function(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()!==t.getTime():ce()(Q()(n.prototype),"hasChanged",this).call(this,e,t)}},{key:"updateLocalization",value:function(){ce()(Q()(n.prototype),"updateLocalization",this).call(this),this.syncInputFieldValue(!0)}},{key:"internalOnKeyPress",value:function(e){ce()(Q()(n.prototype),"internalOnKeyPress",this).call(this,e),"Enter"===e.key&&this.isValid&&this.picker.hide()}},{key:"triggers",set:function(e){di()(Q()(n.prototype),"triggers",It.assign(e,this.stepTriggers),this,!0)},get:function(){return ce()(Q()(n.prototype),"triggers",this)}},{key:"isValid",get:function(){var e=this,t=e.min,r=e.max;e.clearError("L{Field.minimumValueViolation}",!0),e.clearError("L{Field.maximumValueViolation}",!0);var i=e.value;if(i){if(i=i.getTime(),t&&t.getTime()>i)return e.setError("L{Field.minimumValueViolation}",!0),!1;if(r&&r.getTime()<i)return e.setError("L{Field.maximumValueViolation}",!0),!1}return ce()(Q()(n.prototype),"isValid",this)}},{key:"min",set:function(e){var t=this;t._min=t.transformDateValue(e),t.input&&(t.input.min=t._min),t._picker&&(t._picker.minDate=t._min),t.updateInvalid()},get:function(){return this._min}},{key:"max",set:function(e){var t=this;t._max=t.transformDateValue(e),t.input&&(t.input.max=t._max),t._picker&&(t._picker.maxDate=t._max),t.updateInvalid()},get:function(){return this._max}},{key:"weekStartDay",set:function(e){this._weekStartDay=e,this._picker&&(this._picker.weekStartDay=e)},get:function(){return null!=this._weekStartDay?this._weekStartDay:this._picker?this._picker.weekStartDay:xt.weekStartDay}},{key:"value",set:function(e){var t=this,r=t.value,i=t._picker,o=t.transformDateValue(e);!e||o?(t.clearError("L{invalidDate}"),t.hasChanged(r,o)?(i&&!t.inputting&&(i.value=o),di()(Q()(n.prototype),"value",o,this,!0)):t.inputting||t.syncInputFieldValue()):t.setError("L{invalidDate}")},get:function(){return ce()(Q()(n.prototype),"value",this)}},{key:"step",set:function(e){var t=this;t.element.classList[e?"add":"remove"]("b-show-steppers"),"number"==typeof e?e={magnitude:e,unit:t._step?t._step.unit:"day"}:"object"!==oe()(e)&&(e=xt.parseDuration(e)),e&&e.magnitude&&e.unit&&(e.magnitude=Math.abs(e.magnitude),t._step=e,t.updateInvalid())},get:function(){return this._step}},{key:"inputValue",get:function(){var e=this.value;return e?xt.format(e,this.format):""}},{key:"format",set:function(e){this._format=e,this.syncInputFieldValue(!0)},get:function(){return this._format}}],[{key:"$name",get:function(){return"DateField"}},{key:"defaultConfig",get:function(){return{format:"L",fallbackFormat:"YYYY-MM-DD",timeFormat:"HH:mm:ss:SSS",keepTime:!1,pickerFormat:null,triggers:{expand:{cls:"b-icon-calendar",handler:"onTriggerClick",weight:200}},stepTriggers:{back:{cls:"b-icon-angle-left b-step-trigger",handler:"onBackClick",align:"start",weight:100},forward:{cls:"b-icon-angle-right b-step-trigger",handler:"onForwardClick",align:"end",weight:100}},calendarContainerCls:"",min:null,max:null,step:null,weekStartDay:null,picker:null,value:null}}}]),n}(Oa);function ys(){var e=Bi()(['\n            <input type="number"\n                reference="input"\n                value="','"\n                name="','"\n                id="','_input"\n                step="any"\n                ',"\n                ","/>\n            "]);return ys=function(){return e},e}function ms(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}gs._$name="DateField",ke.register("datefield",gs),ke.register("date",gs);var ks=/[.,]/,bs=function(e){X()(n,e);var t=ms(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;ce()(Q()(n.prototype),"construct",this).call(this,e),t.input.addEventListener("dblclick",function(){t.select()}),"number"==typeof t.changeOnSpin&&(t.bufferedSpinChange=t.buffer(t.triggerChange,t.changeOnSpin))}},{key:"inputTemplate",value:function(){var e=this,t="inputWidth"in e?'style="width:'.concat(e.inputWidth).concat("number"==typeof e.inputWidth?"px":"",'"'):"";return Wi.tpl(ys(),e._value,e.name||e.id,e.id,t,e.attributeString)}},{key:"internalOnKeyPress",value:function(e){"keydown"===e.type&&("ArrowUp"===e.key?(this.doSpinUp(),e.preventDefault()):"ArrowDown"===e.key&&(this.doSpinDown(),e.preventDefault())),ce()(Q()(n.prototype),"internalOnKeyPress",this).call(this,e)}},{key:"doSpinUp",value:function(){var e=this,t=e.min,n=e.max,r=(e.value||0)+e.step;!isNaN(t)&&r<t&&(r=t),(isNaN(n)||r<=n)&&e.applySpinChange(r)}},{key:"doSpinDown",value:function(){var e=this,t=e.min,n=e.max,r=(e.value||0)-e.step;!isNaN(n)&&r>n&&(r=n),(isNaN(t)||r>=t)&&e.applySpinChange(r)}},{key:"applySpinChange",value:function(e){var t=this;t._isUserAction=!0,!0!==t.changeOnSpin&&(t.silenceChange=!0,t.bufferedSpinChange&&t.bufferedSpinChange(null,!0)),t.value=e,t._isUserAction=!1,t.silenceChange=!1}},{key:"triggerChange",value:function(){this.silenceChange||ce()(Q()(n.prototype),"triggerChange",this).apply(this,arguments)}},{key:"internalOnInput",value:function(e){var t=this.input,r=this.formatValue(t.value);t.value!==r&&(t.value=r),ce()(Q()(n.prototype),"internalOnInput",this).call(this,e)}},{key:"formatValue",value:function(e){return n.formatValue(e,this.leadingZeroes,this.decimalPrecision)}},{key:"step",set:function(e){this.element.classList[e?"remove":"add"]("b-hide-spinner"),this._step=e},get:function(){return this._step}},{key:"min",set:function(e){this._min=e,this.input&&(this.input.min=e)},get:function(){return this._min}},{key:"max",set:function(e){this._max=e,this.input&&(this.input.max=e)},get:function(){return this._max}},{key:"value",set:function(e){var t,r=this;e||0===e?("number"!=typeof e&&(e="string"==typeof e?parseFloat(e):Number(e),(t=isNaN(e))&&(e="")),t||null==r.decimalPrecision||(e=It.round(e,r.decimalPrecision))):e=void 0;r.value!==e&&(di()(Q()(n.prototype),"value",e,this,!0),r.leadingZeroes&&(r.input.value=r.formatValue(e.toString())))},get:function(){return ce()(Q()(n.prototype),"value",this)}}],[{key:"formatValue",value:function(e,t,n){if("string"!=typeof e)return e;var r=e.split(ks),i=re()(r,2),o=i[0],a=i[1];return n&&a&&a.length>n&&(a=a.substr(0,n)),t&&o&&o.length<t&&(o=o.padStart(t,"0")),[o,a].filter(function(e){return e}).join(".")}},{key:"$name",get:function(){return"NumberField"}},{key:"defaultConfig",get:function(){return{min:null,max:null,step:1,value:0,decimalPrecision:null,leadingZeroes:null,triggers:{spin:{type:"spintrigger"}},attributes:["placeholder","autoComplete","min","max","tabIndex"],changeOnSpin:!0}}}]),n}(Do);function ws(){var e=Bi()(['\n            <div class="','">\n                <input type="range"\n                   reference="input"\n                   id="','_input"\n                   min="','"\n                   max="','"\n                   step="','"\n                   value="','">\n                <label reference="label" for="','_input">',"</label>\n            </div>\n        "]);return ws=function(){return e},e}function Ss(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}bs._$name="NumberField",ke.register("numberfield",bs),ke.register("number",bs);var Ds=function(e){X()(n,e);var t=Ss(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;ce()(Q()(n.prototype),"construct",this).call(this,e),t.updateLabel(),t.showTooltip&&(t.tip=new ao({forElement:t.input,anchor:!1,align:"b-t",axisLock:!0})),t.input.addEventListener("input",t.onInternalInput.bind(t)),t.input.addEventListener("change",t.onInternalChange.bind(t)),t.input.addEventListener("mouseover",t.onInternalMouseOver.bind(t)),t.input.addEventListener("mouseout",t.onInternalMouseOut.bind(t))}},{key:"template",value:function(e){return Wi.tpl(ws(),e.text?"b-text b-has-label":"",e.id,e.min,e.max,e.step,e.value,e.id,e.text)}},{key:"onInternalInput",value:function(e){var t=this;t._value=parseInt(t.input.value),t.updateUI(),t.trigger("input",{value:t.value})}},{key:"onInternalChange",value:function(e){this.updateUI(),this.triggerChange(!0),this.trigger("action",{value:this.value})}},{key:"onInternalMouseOver",value:function(e){this.updateLabel(),this.tip&&this.tip.showBy({target:this.calcThumbPosition(),offset:5})}},{key:"onInternalMouseOut",value:function(e){this.tip&&this.tip.hide()}},{key:"triggerChange",value:function(e){this.trigger("change",{value:this.value,userAction:e})}},{key:"updateLabel",value:function(){this.text=this._text}},{key:"updateTooltipPosition",value:function(){this.tip&&this.tip.alignTo({target:this.calcThumbPosition(),offset:5})}},{key:"updateUI",value:function(){this.updateLabel(),this.updateTooltipPosition()}},{key:"calcThumbPosition",value:function(){var e=this,t=Wn.from(e.input),n=(t.width-e.thumbSize)*e.calcPercentProgress()/100;return new Wn(t.x+n,t.y+t.height/2-e.thumbSize/2,e.thumbSize,e.thumbSize)}},{key:"calcPercentProgress",value:function(){return(this.value-this.min)/(this.max-this.min)*100}},{key:"focusElement",get:function(){return this.input}},{key:"text",get:function(){return this._text},set:function(e){var t=this;t._text=e,t.label&&(t.showValue&&(e=e?"".concat(e," (").concat(t.value,")"):t.value),t.label.innerHTML=e),t.tip&&(t.tip.html=t.value)}},{key:"value",get:function(){return this.input?parseInt(this.input.value):this._value},set:function(e){var t=this;t._value!==e&&(t.input&&(t.input.value=e,t.updateUI(),t.triggerChange(!1)),t._value=e)}},{key:"min",get:function(){return this.input?this.input.min:this._min},set:function(e){var t=this;t.input&&(t.input.min=e,t._value<e&&(t.value=e,t.trigger("input",{value:t.value}))),t._min=e}},{key:"max",get:function(){return this.input?this.input.max:this._max},set:function(e){var t=this;t.input&&(t.input.max=e,t._value>e&&(t.value=e,t.trigger("input",{value:t.value}))),t._max=e}},{key:"step",get:function(){return this.input?this.input.step:this._step},set:function(e){this.input&&(this.input.step=e),this._step=e}}],[{key:"$name",get:function(){return"Slider"}},{key:"defaultConfig",get:function(){return{text:"",showValue:!0,showTooltip:!1,min:0,max:100,step:1,value:null,thumbSize:20,localizableProperties:["text"]}}}]),n}(Jr);function Rs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ds._$name="Slider",ke.register("slider",Ds);var Cs=["b-slide-out-left","b-slide-out-right","b-slide-in-left","b-slide-in-right"],xs=function(e){X()(n,e);var t=Rs(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"setActiveItem",value:function(e){var t=this,n=t.owner,r=n.contentElement,i=n.items,o=e instanceof Jr,a=parseInt(r.dataset.activeIndex),s=i[a],u=n.items[e=o?e=i.indexOf(e):parseInt(e)],c={prevActiveIndex:a,prevActiveItem:s};if(u&&u!==s){var l=s&&s.element,f=u&&u.element;if(c.activeIndex=e,c.activeItem=u,t.animateDetacher){var d,h=t.animateDetacher.event;t.animateDetacher(),h.prevActiveItem.element.classList.remove(Cs),(d=h.activeItem.element.classList).remove.apply(d,["b-active"].concat(Cs)),t.animateDetacher=null}c.promise=new Promise(function(i,o){l&&t.animateCardChange?(l.classList.add(e>a?"b-slide-out-left":"b-slide-out-right"),f.classList.add("b-active",e<a?"b-slide-in-left":"b-slide-in-right"),n.isAnimating=!0,u.triggerPaint(),t.animateDetacher=ur.on({element:f,animationend:function(){var o,a;(t.animateDetacher=null,n.isAnimating=!1,(o=f.classList).remove.apply(o,Cs),l)&&(a=l.classList).remove.apply(a,["b-active"].concat(Cs));r.dataset.activeIndex=e,u.focus(),i(c)},once:!0}),t.animateDetacher.reject=o,t.animateDetacher.event=c):(l&&l.classList.remove("b-active"),f.classList.add("b-active"),r.dataset.activeIndex=e,u.focus(),u.triggerPaint(),i(c))})}return c}},{key:"renderChildren",value:function(){var e=this.owner,t=e.activeIndex;N.isIE11&&(this.animateCardChange=!1),e.items&&null!=t&&e.items[t]&&(e.contentElement.dataset.activeIndex=t,e.items[t].element.classList.add("b-active")),ce()(Q()(n.prototype),"renderChildren",this).call(this)}},{key:"activeIndex",get:function(){return parseInt(this.owner.contentElement.dataset.activeIndex)}},{key:"activeItem",get:function(){return this.owner.items[parseInt(this.owner.contentElement.dataset.activeIndex)]}}],[{key:"$name",get:function(){return"Card"}},{key:"defaultConfig",get:function(){return{containerCls:"b-card-container",itemCls:"b-card-item",animateCardChange:!0}}}]),n}(gi);function Es(){var e=Bi()(['\n                <div>\n                    <div class="b-tabpanel-tabs" reference="tabStrip">\n                        ','\n                    </div>\n                    <div class="b-tabpanel-body" reference="tabPanelBody" data-activeIndex="','">\n                    </div>\n                </div>\n            ']);return Es=function(){return e},e}function Ts(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}xs._$name="Card",gi.registerLayout(xs);var Ms=function(e){X()(n,e);var t=Ts(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;ce()(Q()(n.prototype),"construct",this).call(this,e),t.items.forEach(function(e,n){e.titleElement=t.element.querySelector('div.b-tabpanel-tab[data-index="'.concat(n,'"] span'))}),ur.on({element:t.tabStrip,delegate:".b-tabpanel-tab",click:"onTabElementClick",thisObj:this})}},{key:"createWidget",value:function(e){return(e=ce()(Q()(n.prototype),"createWidget",this).call(this,e)).on({hide:this.onTabVisibilityChange,show:this.onTabVisibilityChange,thisObj:this}),e}},{key:"onTabElementClick",value:function(e){this.activeTab=e.currentTarget.dataset.index}},{key:"onTabVisibilityChange",value:function(e){var t=e.source;this.element.querySelector('div.b-tabpanel-tab[data-index="'.concat(this.items.indexOf(t),'"]')).classList[t.hidden?"add":"remove"]("b-hidden")}},{key:"tabMinWidth",set:function(e){this._tabMinWidth=e,this.element&&yn.forEachSelector(this.element,".b-tabpanel-tab",function(t){yn.setLength(t,"minWidth",e||null)})},get:function(){return this._tabMinWidth}},{key:"tabMaxWidth",set:function(e){this._tabMaxWidth=e,this.element&&yn.forEachSelector(this.element,".b-tabpanel-tab",function(t){yn.setLength(t,"maxWidth",e||null)})},get:function(){return this._tabMaxWidth}},{key:"layout",set:function(e){di()(Q()(n.prototype),"layout",e,this,!0),this.layout.animateCardChange=this.animateTabChange},get:function(){return ce()(Q()(n.prototype),"layout",this)}},{key:"contentElement",get:function(){return this.tabPanelBody}},{key:"focusElement",get:function(){var e=this.items[this.activeTab||0];return e&&e.focusElement||this.tabStrip.children[this.activeTab]}},{key:"activeTab",set:function(e){var t=this;if(e<0||e>=t.items.length)throw new Error("Invalid tab index: "+e);if(t.isConfiguring)t._activeTab=e;else{var n=t.layout.setActiveItem(e),r=n.promise,i=n.activeIndex;if(n.activeItem){var o=t.tabStrip,a=o.children[t._activeTab];t._activeTab=i,a&&a.classList.remove("b-active"),o.children[i].classList.add("b-active"),r.then(function(){t.trigger("tabchange",n)})}}},get:function(){return this._activeTab}},{key:"activeIndex",get:function(){return this.activeTab}},{key:"activeItem",get:function(){return this.layout.activeItem}}],[{key:"$name",get:function(){return"TabPanel"}},{key:"defaultConfig",get:function(){return{template:function(e){return Wi.tpl(Es(),e.items.map(function(t,n){return'\n                        <div tabindex="-1" data-index="'.concat(n,'" class="b-tabpanel-tab ').concat(n===e.activeIndex?"b-active":""," ").concat(t.cls||""," ").concat(t.hidden?"b-hidden":"",'" style="').concat(e.tabMinWidth?"min-width:"+yn.setLength(e.tabMinWidth)+";":""," ").concat(e.tabMaxWidth?"max-width:"+yn.setLength(e.tabMaxWidth)+";":"",'" >\n                            <span class="b-tabpanel-tab-title">').concat(t.title,"</span>\n                        </div>\n                        ")}),e.activeIndex)},itemCls:"b-tabpanel-item",defaultType:"container",activeTab:0,tabMinWidth:null,tabMaxWidth:null,animateTabChange:!0,layout:"card",suppressChildHeaders:!0}}}]),n}(Mi);function Ps(){var e=Bi()(['<input type="text"\n                readOnly="readonly"\n                reference="displayElement"\n                placeholder="','"/>']);return Ps=function(){return e},e}function As(){var e=Bi()(['<textarea\n                reference="input"\n                class="','"\n                placeholder="','"\n                name="','"\n                style="resize:','"\n                id="','"></textarea>']);return As=function(){return e},e}function Is(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ms._$name="TabPanel",ke.register("tabpanel",Ms),ke.register("tabs",Ms);var Fs=function(e){X()(n,e);var t=Is(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"startConfigure",value:function(e){this._thisIsAUsedExpression(this.inline),ce()(Q()(n.prototype),"startConfigure",this).call(this,e)}},{key:"inputTemplate",value:function(){var e=this;return e.inline?Wi.tpl(As(),e.inputCls||"",e.placeholder,e.name||e.id,e.resize,e.id+"_input"):Wi.tpl(Ps(),e.placeholder)}},{key:"showPicker",value:function(){this.picker.width=this.pickerWidth||this[this.pickerAlignElement].offsetWidth,ce()(Q()(n.prototype),"showPicker",this).call(this,!0)}},{key:"focusPicker",value:function(){this.input.focus()}},{key:"onPickerKeyDown",value:function(e){var t=this,r=t.input;switch(e.key.trim()||e.code){case"Escape":return void t.picker.hide();case"Enter":e.ctrlKey&&(t.syncInputFieldValue(),t.picker.hide())}t.input=t.displayElement;var i=ce()(Q()(n.prototype),"onPickerKeyDown",this).call(this,e);return t.input=r,i}},{key:"syncInputFieldValue",value:function(e){this.displayElement&&(this.displayElement.value=this.inputValue),ce()(Q()(n.prototype),"syncInputFieldValue",this).call(this,e)}},{key:"createPicker",value:function(e){var t=this;e.width&&(t.pickerWidth=e.width),e=new Jr(It.merge({cls:"b-textareafield-picker",owner:t,floating:!0,scrollAction:"realign",forElement:t[t.pickerAlignElement],align:{align:"t-b",axisLock:!0,anchor:t.overlayAnchor,target:t[t.pickerAlignElement]},html:'<textarea id="'.concat(t.id+"_input",'" style="resize:').concat(t.resize,'">').concat(t.value,"</textarea>"),autoShow:!1},e));var n=t.input=e.element.querySelector("#".concat(t.id,"_input"));return t.inputListenerRemover=ur.on({element:n,thisObj:t,focus:"internalOnInputFocus",change:"internalOnChange",input:"internalOnInput",keydown:"internalOnKeyPress",keypress:"internalOnKeyPress",keyup:"internalOnKeyPress"}),e}},{key:"focusElement",get:function(){return this.inline||this._picker&&this._picker.isVisible?this.input:this.displayElement}},{key:"value",set:function(e){di()(Q()(n.prototype),"value",null==e?"":e,this,!0)},get:function(){return ce()(Q()(n.prototype),"value",this)}},{key:"inline",set:function(e){this._inline=e,e||this.triggers||(this.triggers={})},get:function(){return this._inline}},{key:"triggers",set:function(e){this.inline||((e||(e={})).expand={cls:"b-icon-picker",handler:"onTriggerClick"}),di()(Q()(n.prototype),"triggers",e,this,!0)},get:function(){return ce()(Q()(n.prototype),"triggers",this)}}],[{key:"$name",get:function(){return"TextAreaField"}},{key:"defaultConfig",get:function(){return{triggers:null,inline:!0,resize:"none"}}}]),n}(Oa);function Ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Fs._$name="TextAreaField",ke.register("textareafield",Fs),ke.register("textarea",Fs);var Os=function(e){X()(n,e);var t=Ls(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;ce()(Q()(n.prototype),"construct",this).call(this,e),t._pm=!1,t.fieldHours.on("change",t.onFieldChange,t),t.fieldMinutes.on("change",t.onFieldChange,t),t.buttonAM.on("click",t.onButtonAMClick,t),t.buttonPM.on("click",t.onButtonPMClick,t),ur.on({element:t.element,keydown:"onPickerKeyDown",thisObj:t}),ur.on({element:t.fieldHours.element,keydown:"onPickerKeyDown",thisObj:t}),ur.on({element:t.fieldMinutes.element,keydown:"onPickerKeyDown",thisObj:t}),t.refresh()}},{key:"onFieldChange",value:function(){this._time&&(this.value=this.pickerToTime())}},{key:"onButtonAMClick",value:function(){this._pm=!1,this._time&&(this.value=this.pickerToTime())}},{key:"onButtonPMClick",value:function(){this._pm=!0,this._time&&(this.value=this.pickerToTime())}},{key:"onPickerKeyDown",value:function(e){var t=this;switch(e.key&&e.key.trim()||e.code){case"Escape":t.triggerTimeChange(t._initialValue),t.hide(),e.preventDefault();break;case"Enter":t.value=t.pickerToTime(),t.hide(),e.preventDefault()}}},{key:"pickerToTime",value:function(){var e=this,t=e._pm,n=e.fieldHours.value,r=new Date(e._time);return e._is24Hour||(t&&n<12&&(n+=12),t||12!==n||(n=0)),r.setHours(n),r.setMinutes(e.fieldMinutes.value),e._min&&(r=xt.max(e._min,r)),e._max&&(r=xt.min(e._max,r)),r}},{key:"triggerTimeChange",value:function(e){this.trigger("timeChange",{time:e})}},{key:"refresh",value:function(){var e=this;if(!e.isConfiguring){var t=e._time,n=e._is24Hour,r=t.getHours(),i=e._pm=r>=12,o=e.fieldHours;e.element.classList[n?"add":"remove"]("b-24h"),o.min=n?0:1,o.max=n?23:12,o.value=n?r:r%12||12,e.fieldMinutes.value=t.getMinutes(),e.buttonAM.pressed=!i,e.buttonPM.pressed=i,e.buttonAM.hidden=e.buttonPM.hidden=n}}},{key:"value",set:function(e){var t=this,r=!1;e&&t._time?e.getTime()!==t._time.getTime()&&(t._time=e,r=!0):(t._time=n.defaultConfig.value,r=!0),r&&(t.isVisible&&t.triggerTimeChange(t.value),t.refresh())},get:function(){return this._time}},{key:"format",set:function(e){this._format=e,this._is24Hour=xt.is24HourFormat(this._format),this.refresh()},get:function(){return this._format}},{key:"min",set:function(e){this._min=e},get:function(){return this._min}},{key:"max",set:function(e){this._max=e},get:function(){return this._max}},{key:"initialValue",set:function(e){this.value=e,this._initialValue=e},get:function(){return this._initialValue}},{key:"buttonAM",get:function(){return this.widgetMap.buttonAM}},{key:"buttonPM",get:function(){return this.widgetMap.buttonPM}},{key:"fieldHours",get:function(){return this.widgetMap.fieldHours}},{key:"fieldMinutes",get:function(){return this.widgetMap.fieldMinutes}}],[{key:"$name",get:function(){return"TimePicker"}},{key:"defaultConfig",get:function(){return{items:[{type:"number",ref:"fieldHours",min:0,max:23,highlightExternalChange:!1},{html:"<label>:</label>"},{type:"number",ref:"fieldMinutes",min:0,max:59,highlightExternalChange:!1},{type:"button",text:"AM",toggleGroup:"am-pm",ref:"buttonAM",cls:"b-blue"},{type:"button",text:"PM",toggleGroup:"am-pm",ref:"buttonPM",cls:"b-blue"}],float:"1",autoShow:!1,trapFocus:!0,value:xt.getTime(0),format:null}}}]),n}(Hi);function _s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Os._$name="TimePicker",ke.register("timepicker",Os);var js=function(e){X()(n,e);var t=_s(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"createPicker",value:function(e){var t=this;return new Os(Object.assign({owner:t,floating:!0,forElement:t[t.pickerAlignElement],align:{align:"t0-b0",axisLock:!0,anchor:t.overlayAnchor,target:t[t.pickerAlignElement]},value:t.value,format:t.format,onTimeChange:function(e){var n=e.time;t._isUserAction=!0,t.value=n,t._isUserAction=!1}},e))}},{key:"onBackClick",value:function(){var e=this,t=e.min;if(!e.readOnly&&e.value){var n=xt.add(e.value,-1*e.step.magnitude,e.step.unit);(!t||t.getTime()<=n)&&(e._isUserAction=!0,e.value=n,e._isUserAction=!1)}}},{key:"onForwardClick",value:function(){var e=this,t=e.max;if(!e.readOnly&&e.value){var n=xt.add(e.value,e.step.magnitude,e.step.unit);(!t||t.getTime()>=n)&&(e._isUserAction=!0,e.value=n,e._isUserAction=!1)}}},{key:"hasChanged",value:function(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()!==t.getTime():ce()(Q()(n.prototype),"hasChanged",this).call(this,e,t)}},{key:"showPicker",value:function(e){var t=this,r=t.picker;r.initialValue=t.value,r.format=t.format,r.maxTime=t.max,r.minTime=t.min,t.value=r.value,ce()(Q()(n.prototype),"showPicker",this).call(this,e)}},{key:"onPickerShow",value:function(){ce()(Q()(n.prototype),"onPickerShow",this).call(this),this.pickerKeyDownRemover&&this.pickerKeyDownRemover()}},{key:"focusPicker",value:function(){this.picker.focus()}},{key:"transformTimeValue",value:function(e){return null!=e&&(xt.isDate(e)||(e="string"==typeof e?xt.parse(e,this.format):new Date(e)),xt.isValidDate(e))?xt.getTime(e):null}},{key:"updateLocalization",value:function(){ce()(Q()(n.prototype),"updateLocalization",this).call(this),this.syncInputFieldValue(!0)}},{key:"isValid",get:function(){var e=this;e.clearError("L{Field.minimumValueViolation}",!0),e.clearError("L{Field.maximumValueViolation}",!0);var t=e.value;if(t){if(t=t.getTime(),e._min&&e._min.getTime()>t)return e.setError("L{Field.minimumValueViolation}",!0),!1;if(e._max&&e._max.getTime()<t)return e.setError("L{Field.maximumValueViolation}",!0),!1}return ce()(Q()(n.prototype),"isValid",this)}},{key:"min",set:function(e){var t=this;t._min=t.transformTimeValue(e),t.input&&(t.input.min=t._min),t.updateInvalid()},get:function(){return this._min}},{key:"max",set:function(e){var t=this;t._max=t.transformTimeValue(e),t.input&&(t.input.max=t._max),t.updateInvalid()},get:function(){return this._max}},{key:"value",set:function(e){var t=this,r=t.value,i=t.transformTimeValue(e);e&&!i||""===e?t.setError("L{invalidTime}"):(t.clearError("L{invalidTime}"),t.hasChanged(r,i)?(t.triggers.expand&&i&&(t.triggers.expand.element.firstElementChild.style.animationDelay=-(60*i.getHours()+i.getMinutes())/10+"s"),di()(Q()(n.prototype),"value",i,this,!0)):t.inputting||t.syncInputFieldValue())},get:function(){return ce()(Q()(n.prototype),"value",this)}},{key:"step",set:function(e){"number"==typeof e?e={magnitude:e,unit:this._step.unit}:"object"!==oe()(e)&&(e=xt.parseDuration(e)),e&&e.magnitude&&e.unit&&(e.magnitude=Math.abs(e.magnitude),this._step=e,this.updateInvalid())},get:function(){return this._step}},{key:"format",set:function(e){this._format=e,this.syncInputFieldValue(!0)},get:function(){return this._format}},{key:"inputValue",get:function(){return xt.format(this.value,this.format)}}],[{key:"$name",get:function(){return"TimeField"}},{key:"defaultConfig",get:function(){var e=this;return{format:"LT",triggers:{back:{cls:"b-icon b-icon-angle-left",handler:"onBackClick",align:"start"},expand:{template:function(){return'<div class="b-align-'.concat(e.align||"end",'"><div class="b-icon-clock-live"></div></div>')},handler:"onTriggerClick",align:"end"},forward:{cls:"b-icon b-icon-angle-right",handler:"onForwardClick",align:"end"}},min:null,max:null,step:"5m",value:null}}}]),n}(Oa);js._$name="TimeField",ke.register("timefield",js),ke.register("time",js);var Hs=function(){function e(){E()(this,e)}return M()(e,[{key:"createWidget",value:function(e){return ke.createWidget(e.type,e)}},{key:"getClass",value:function(e){return ke.getClass(e)}},{key:"appendWidget",value:function(e){return this.createWidget(e)}},{key:"appendWidgets",value:function(e,t){var n=this;return e.map(function(e){return n.appendWidget(It.assign({},t||{},e))})}},{key:"openPopup",value:function(e,t){return new Hi(It.assign({forElement:e},"string"==typeof t?{html:t}:t))}},{key:"showContextMenu",value:function(e,t){var n=this;return n.currentContextMenu&&n.currentContextMenu.destroy(),e instanceof HTMLElement?t.forElement=e:Array.isArray(e)?t.forElement={target:Ee()(Gn,te()(e))}:e instanceof Gn&&(t.forElement={target:e}),n.currentContextMenu=new Zi(t),n.currentContextMenu.on("destroy",function(){n.currentContextMenu=null}),n.currentContextMenu}},{key:"attachTooltip",value:function(e,t){return"string"==typeof t&&(t={html:t}),new ao(Object.assign({forElement:e},t)),e}},{key:"hasTooltipAttached",value:function(e){return ao.hasTooltipAttached(e)}},{key:"destroyTooltipAttached",value:function(e){return ao.destroyTooltipAttached(e)}},{key:"mask",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Loading";if(e)return e instanceof HTMLElement&&(e={element:e,text:t}),li.mask(e,e.element)}},{key:"unmask",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.mask&&(t?e.mask.close():e.mask.hide())}},{key:"toast",value:function(e){return Qi.show(e)}},{key:"defaultStyle",set:function(e){this._defaultStyle=e},get:function(){return this._defaultStyle}}]),e}();Ce._adapter||(Ce.adapter=Hs),Hs._$name="BryntumWidgetAdapter";var Ns=function(){function e(){E()(this,e)}return M()(e,null,[{key:"get",value:function(e,t){var n=e._domData||(e._domData={});return null!=t?n[t]:n}},{key:"set",value:function(e,t,n){3===arguments.length?(e._domData||(e._domData={}))[t]=n:e._domData=t}},{key:"assign",value:function(e,t){Object.assign(e._domData||(e._domData={}),t)}}]),e}();Ns._$name="DomDataStore";var Bs=function(){function e(t,n){E()(this,e),"number"==typeof t?(this._magnitude=t,this._unit=n):"object"===oe()(t)&&Object.assign(this,t)}return M()(e,[{key:"isEqual",value:function(e){return Boolean(e&&this._magnitude===e.magnitude&&this._unit===e.unit)}},{key:"toString",value:function(e){var t=this,n=t.useAbbreviation?"getShortNameOfUnit":"getLocalizedNameOfUnit";return t.isValid?"".concat(t._magnitude," ").concat(xt[n](t._unit,1!==t._magnitude)):""}},{key:"magnitude",get:function(){return this._magnitude},set:function(e){this._magnitude="number"==typeof e&&e}},{key:"unit",get:function(){return this._unit},set:function(e){this._unit=xt.parseTimeUnit(e)}},{key:"isValid",get:function(){return this._magnitude&&this._unit}},{key:"milliseconds",get:function(){return this.isValid?xt.asMilliseconds(this._magnitude,this._unit):0}}]),e}();function zs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Bs._$name="Duration";var Vs=function(){throw new Error("Abstract method call!")},Ws=function(){throw new Error("Method cannot be called at this state!")},$s=function(e){X()(n,e);var t=zs(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"canUndo",value:function(e){Vs()}},{key:"canRedo",value:function(e){Vs()}},{key:"onUndo",value:function(e){Vs()}},{key:"onRedo",value:function(e){Vs()}},{key:"onStartTransaction",value:function(e){Vs()}},{key:"onStopTransaction",value:function(e){Vs()}},{key:"onStopTransactionDelayed",value:function(e){Vs()}},{key:"onRejectTransaction",value:function(e){Vs()}},{key:"onEnable",value:function(e){Vs()}},{key:"onDisable",value:function(e){Vs()}},{key:"onAutoRecordOn",value:function(e){Vs()}},{key:"onAutoRecordOff",value:function(e){Vs()}},{key:"onResetQueue",value:function(e){Vs()}},{key:"onModelUpdate",value:function(e){Vs()}},{key:"onStoreModelAdd",value:function(e){Vs()}},{key:"onStoreModelInsert",value:function(e){Vs()}},{key:"onStoreModelRemove",value:function(e){Vs()}},{key:"onStoreModelRemoveAll",value:function(e){Vs()}},{key:"onModelInsertChild",value:function(e){Vs()}},{key:"onModelRemoveChild",value:function(e){Vs()}}]),n}(U);$s._$name="StateBase";var Gs=Symbol("STATE_PROP"),Ys=Symbol("STORES_PROP"),Us=Symbol("QUEUE_PROP"),qs=Symbol("POS_PROP"),Xs=Symbol("TRANSACTION_PROP"),Ks=Symbol("TRANSACTION_TIMER_PROP"),Zs=Symbol("AUTO_RECORD_PROP"),Js=(Object.freeze([Gs,Ys,Us,qs,Xs,Ks,Zs]),new Map),Qs=function(e,t){Js.set(e,t)},eu=function(e){return"string"==typeof e&&(e=Js.get(e)),e},tu=function(e,t){var n,r,i=t.undo,o=t.redo;if(i&&!o)r={},se()(r,Us,e[Us].slice(e.position)),se()(r,qs,0),n=r;else if(o&&!i)n=se()({},Us,e[Us].slice(0,e.position));else{var a;a={},se()(a,Us,[]),se()(a,qs,0),n=a}return[n,function(){e.notifyStoresAboutQueueReset(t)}]};function nu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ru=new(function(e){X()(n,e);var t=nu(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"canUndo",value:function(){return!1}},{key:"canRedo",value:function(){return!1}},{key:"onUndo",value:function(){Ws()}},{key:"onRedo",value:function(){Ws()}},{key:"onEnable",value:function(e){return e.autoRecord?"autoreadystate":"readystate"}},{key:"onDisable",value:function(){Ws()}},{key:"onAutoRecordOn",value:function(){return se()({},Zs,!0)}},{key:"onAutoRecordOff",value:function(){return se()({},Zs,!1)}},{key:"onStartTransaction",value:function(){Ws()}},{key:"onStopTransaction",value:function(){Ws()}},{key:"onStopTransactionDelayed",value:function(){Ws()}},{key:"onRejectTransaction",value:function(){Ws()}},{key:"onResetQueue",value:function(e,t){return tu(e,t)}},{key:"onModelUpdate",value:function(){}},{key:"onModelInsertChild",value:function(){}},{key:"onModelRemoveChild",value:function(){}},{key:"onStoreModelAdd",value:function(){}},{key:"onStoreModelInsert",value:function(){}},{key:"onStoreModelRemove",value:function(){}},{key:"onStoreRemoveAll",value:function(){}}]),n}($s)),iu=ru;function ou(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Qs("disabledstate",ru);var au=Symbol("ACTION_QUEUE_PROP"),su=function(e){X()(n,e);var t=ou(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e;this[au]=[];for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=ce()(Q()(n.prototype),"construct",this)).call.apply(e,[this].concat(r))}},{key:"addAction",value:function(e){this[au].push(e)}},{key:"undo",value:function(){for(var e=this[au],t=e.length-1;t>=0;--t)e[t].undo()}},{key:"redo",value:function(){for(var e=this[au],t=0,n=e.length;t<n;++t)e[t].redo()}},{key:"defaultConfig",get:function(){return{title:null}}},{key:"queue",get:function(){return this[au].slice(0)}},{key:"length",get:function(){return this[au].length}}]),n}(U);function uu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}su._$name="Transaction";var cu=function(e){X()(n,e);var t=uu(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"canUndo",value:function(e){return 0<e.position&&e.position<=e.length}},{key:"canRedo",value:function(e){return 0<=e.position&&e.position<e.length}},{key:"onUndo",value:function(e,t){var n,r=e[Us],i=e.position,o=Math.max(0,i-t);return[(n={},se()(n,Gs,"restoringstate"),se()(n,qs,o),n),function(){for(e.notifyStoresAboutStateRestoringStart();i!=o;)r[--i].undo();return[e.autoRecord?"autoreadystate":"readystate",function(){e.notifyStoresAboutStateRestoringStop()}]}]}},{key:"onRedo",value:function(e,t){var n,r=e[Us],i=e.position,o=Math.min(r.length,i+t);return[(n={},se()(n,Gs,"restoringstate"),se()(n,qs,o),n),function(){e.notifyStoresAboutStateRestoringStart();do{r[i++].redo()}while(i!=o);return[e.autoRecord?"autoreadystate":"readystate",function(){e.notifyStoresAboutStateRestoringStop()}]}]}},{key:"onEnable",value:function(){Ws()}},{key:"onDisable",value:function(){return"disabledstate"}},{key:"onAutoRecordOn",value:function(){var e;return e={},se()(e,Gs,"autoreadystate"),se()(e,Zs,!0),e}},{key:"onAutoRecordOff",value:function(){Ws()}},{key:"onStartTransaction",value:function(e,t){var n,r=new su({title:t});return[(n={},se()(n,Gs,"recordingstate"),se()(n,Xs,r),n),function(){e.notifyStoresAboutStateRecordingStart(r)}]}},{key:"onStopTransaction",value:function(){Ws()}},{key:"onStopTransactionDelayed",value:function(){Ws()}},{key:"onRejectTransaction",value:function(){Ws()}},{key:"onResetQueue",value:function(e,t){return tu(e,t)}},{key:"onModelUpdate",value:function(){}},{key:"onModelInsertChild",value:function(){}},{key:"onModelRemoveChild",value:function(){}},{key:"onStoreModelAdd",value:function(){}},{key:"onStoreModelInsert",value:function(){}},{key:"onStoreModelRemove",value:function(){}},{key:"onStoreRemoveAll",value:function(){}}]),n}($s),lu=new cu,fu=lu;function du(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Qs("readystate",lu);var hu=function(e){X()(n,e);var t=du(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"canUndo",value:function(){return!1}},{key:"canRedo",value:function(){return!1}},{key:"onEnable",value:function(){}},{key:"onDisable",value:function(e){var t,n=e[Xs];return e.notifyStoresAboutStateRecordingStop(n,{disabled:!0}),t={},se()(t,Gs,"disabledstate"),se()(t,Xs,null),t}},{key:"onAutoRecordOn",value:function(e){var t;return[(t={},se()(t,Gs,"autorecordingstate"),se()(t,Zs,!0),t),function(){e[Gs].onStopTransactionDelayed(e)}]}},{key:"onAutoRecordOff",value:function(){Ws()}},{key:"onStartTransaction",value:function(){Ws()}},{key:"onStopTransaction",value:function(e,t){var n,r=e[Xs],i=e[qs],o=e[Us];return r.length&&(r.title||t||!e.getTransactionTitle?t&&(r.title=t):r.title=e.getTransactionTitle(r),o[i]=r,o.length=++i),[(n={},se()(n,Gs,"readystate"),se()(n,qs,i),se()(n,Xs,null),n),function(){e.notifyStoresAboutStateRecordingStop(r,{stop:!0})}]}},{key:"onRejectTransaction",value:function(e){var t,n=e[Xs];return[(t={},se()(t,Gs,"restoringstate"),se()(t,Xs,null),t),function(){return n.length&&n.undo(),["readystate",function(){e.notifyStoresAboutStateRecordingStop(n,{rejected:!0})}]}]}},{key:"onStopTransactionDelayed",value:function(){Ws()}},{key:"onQueueReset",value:function(){Ws()}},{key:"onModelUpdate",value:function(e,t,n,r){e[Xs].addAction(e.makeModelUpdateAction(t,n,r))}},{key:"onModelInsertChild",value:function(e,t,n,r,i,o){e[Xs].addAction(e.makeModelInsertChildAction(t,n,r,i,o))}},{key:"onModelRemoveChild",value:function(e,t,n,r){e[Xs].addAction(e.makeModelRemoveChildAction(t,n,r))}},{key:"onStoreModelAdd",value:function(e,t,n,r){e[Xs].addAction(e.makeStoreModelAddAction(t,n,r))}},{key:"onStoreModelInsert",value:function(e,t,n,r,i,o){e[Xs].addAction(e.makeStoreModelInsertAction(t,n,r,i,o))}},{key:"onStoreModelRemove",value:function(e,t,n,r,i){e[Xs].addAction(e.makeStoreModelRemoveAction(t,n,r,i))}},{key:"onStoreRemoveAll",value:function(e,t,n,r){e[Xs].addAction(e.makeStoreRemoveAllAction(t,n,r))}}]),n}($s),pu=new hu,vu=pu;function gu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Qs("recordingstate",pu);var yu=new(function(e){X()(n,e);var t=gu(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"canUndo",value:function(){return!1}},{key:"canRedo",value:function(){return!1}},{key:"onUndo",value:function(){Ws()}},{key:"onRedo",value:function(){Ws()}},{key:"onEnable",value:function(){Ws()}},{key:"onDisable",value:function(){Ws()}},{key:"onAutoRecordOn",value:function(){return se()({},Zs,!0)}},{key:"onAutoRecordOff",value:function(){return se()({},Zs,!1)}},{key:"onStartTransaction",value:function(){Ws()}},{key:"onStopTransaction",value:function(){Ws()}},{key:"onStopTransactionDelayed",value:function(){Ws()}},{key:"onRejectTransaction",value:function(){Ws()}},{key:"onQueueReset",value:function(){Ws()}},{key:"onModelUpdate",value:function(){}},{key:"onModelInsertChild",value:function(){}},{key:"onModelRemoveChild",value:function(){}},{key:"onStoreModelAdd",value:function(){}},{key:"onStoreModelInsert",value:function(){}},{key:"onStoreModelRemove",value:function(){}},{key:"onStoreRemoveAll",value:function(){}}]),n}($s)),mu=yu;function ku(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Qs("restoringstate",yu);var bu=new(function(e){X()(n,e);var t=ku(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onAutoRecordOn",value:function(){Ws()}},{key:"onAutoRecordOff",value:function(){var e;return e={},se()(e,Gs,"readystate"),se()(e,Zs,!1),e}},{key:"onStartTransaction",value:function(e,t){var n,r=new su({title:t});return[(n={},se()(n,Gs,"autorecordingstate"),se()(n,Xs,r),n),function(){e.notifyStoresAboutStateRecordingStart(r),e.stopTransactionDelayed()}]}},{key:"onModelUpdate",value:function(e,t,n,r){e.startTransaction(),e.onModelUpdate(t,n,r)}},{key:"onModelInsertChild",value:function(e,t,n,r,i){e.startTransaction(),e.onModelInsertChild(t,n,r,i)}},{key:"onModelRemoveChild",value:function(e,t,n,r){e.startTransaction(),e.onModelRemoveChild(t,n,r)}},{key:"onStoreModelAdd",value:function(e,t,n,r){e.startTransaction(),e.onStoreModelAdd(t,n,r)}},{key:"onStoreModelInsert",value:function(e,t,n,r,i,o){e.startTransaction(),e.onStoreModelInsert(t,n,r,o)}},{key:"onStoreModelRemove",value:function(e,t,n,r,i){e.startTransaction(),e.onStoreModelRemove(t,n,r,i)}},{key:"onStoreRemoveAll",value:function(e,t,n,r){e.startTransaction(),e.onStoreRemoveAll(t,n,r)}}]),n}(cu)),wu=bu;function Su(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Qs("autoreadystate",bu);var Du=new(function(e){X()(n,e);var t=Su(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onDisable",value:function(e){var t,n=e[Xs],r=e[Ks];return r&&this.clearTimeout(r),e.notifyStoresAboutStateRecordingStop(n,{disabled:!0}),t={},se()(t,Gs,"disabledstate"),se()(t,Xs,null),se()(t,Ks,null),t}},{key:"onAutoRecordOn",value:function(e){Ws()}},{key:"onAutoRecordOff",value:function(e){var t,n=e[Ks];return n&&this.clearTimeout(n),t={},se()(t,Gs,"recordingstate"),se()(t,Zs,!1),se()(t,Ks,null),t}},{key:"onStopTransaction",value:function(e,t){var n,r=e[Xs],i=e[Ks],o=e[qs],a=e[Us];return i&&this.clearTimeout(i),r.length&&(r.title||t||!e.getTransactionTitle?t&&(r.title=t):r.title=e.getTransactionTitle(r),a[o]=r,a.length=++o),[(n={},se()(n,Gs,"autoreadystate"),se()(n,qs,o),se()(n,Xs,null),se()(n,Ks,null),n),function(){e.notifyStoresAboutStateRecordingStop(r,{stop:!0})}]}},{key:"onStopTransactionDelayed",value:function(e){var t,n=e[Ks];return n&&this.clearTimeout(n),n=this.setTimeout(function(){e.stopTransaction()},e.autoRecordTransactionStopTimeout),t={},se()(t,Gs,Du),se()(t,Ks,n),t}},{key:"onRejectTransaction",value:function(e){var t,n=e[Xs],r=e[Ks];return r&&this.clearTimeout(r),[(t={},se()(t,Gs,"restoringstate"),se()(t,Xs,null),se()(t,Ks,null),t),function(){return n.length&&n.undo(),["autoreadystate",function(){e.notifyStoresAboutStateRecordingStop(n,{rejected:!0})}]}]}},{key:"onModelUpdate",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(t=ce()(Q()(n.prototype),"onModelUpdate",this)).call.apply(t,[this,e].concat(i)),e.stopTransactionDelayed()}},{key:"onModelInsertChild",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(t=ce()(Q()(n.prototype),"onModelInsertChild",this)).call.apply(t,[this,e].concat(i)),e.stopTransactionDelayed()}},{key:"onModelRemoveChild",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(t=ce()(Q()(n.prototype),"onModelRemoveChild",this)).call.apply(t,[this,e].concat(i)),e.stopTransactionDelayed()}},{key:"onStoreModelAdd",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(t=ce()(Q()(n.prototype),"onStoreModelAdd",this)).call.apply(t,[this,e].concat(i)),e.stopTransactionDelayed()}},{key:"onStoreModelInsert",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(t=ce()(Q()(n.prototype),"onStoreModelInsert",this)).call.apply(t,[this,e].concat(i)),e.stopTransactionDelayed()}},{key:"onStoreModelRemove",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(t=ce()(Q()(n.prototype),"onStoreModelRemove",this)).call.apply(t,[this,e].concat(i)),e.stopTransactionDelayed()}},{key:"onStoreRemoveAll",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(t=ce()(Q()(n.prototype),"onStoreRemoveAll",this)).call.apply(t,[this,e].concat(i)),e.stopTransactionDelayed()}}]),n}(yr(hu))),Ru=Du;function Cu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Qs("autorecordingstate",Du);var xu=function(){throw new Error("Abstract method call!")},Eu=function(e){X()(n,e);var t=Cu(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"undo",value:function(){xu()}},{key:"redo",value:function(){xu()}},{key:"type",get:function(){return this.constructor.name}}]),n}(U);function Tu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Eu._$name="ActionBase";var Mu=Symbol("MODEL_PROP"),Pu=Symbol("NEW_DATA_PROP"),Au=Symbol("OLD_DATA_PROP"),Iu=function(e){X()(n,e);var t=Tu(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"undo",value:function(){this.model.set(this.oldData),this.model.$&&Object.assign(this.model,this.oldData)}},{key:"redo",value:function(){this.model.set(this.newData),this.model.$&&Object.assign(this.model,this.newData)}},{key:"type",get:function(){return"UpdateAction"}},{key:"model",get:function(){return this[Mu]},set:function(e){this[Mu]=e}},{key:"newData",get:function(){return this[Pu]},set:function(e){this[Pu]=Object.assign({},e)}},{key:"oldData",get:function(){return this[Au]},set:function(e){this[Au]=Object.assign({},e)}}],[{key:"defaultConfig",get:function(){return{model:void 0,newData:void 0,oldData:void 0}}}]),n}(Eu);function Fu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Iu._$name="UpdateAction";var Lu=Symbol("PARENT_MODEL_PROP"),Ou=Symbol("CHILD_MODELS_PROP"),_u=Symbol("INSERT_INDEX_PROP"),ju=Symbol("CONTEXT_PROP"),Hu=function(e){X()(n,e);var t=Fu(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"undo",value:function(){var e=this.parentModel,t=this.context,n=this.childModels;n.sort(function(e,n){var r=t.get(e)||{},i=r.lhsParent,o=r.lhsIndex,a=t.get(n)||{},s=a.rhsParent,u=a.rhsIndex;return i&&i===s?o-u:0}),n.forEach(function(n){var r=t.get(n)||{},i=r.parent,o=r.index;if(i)if(i===e){var a;a=o>n.parentIndex?o+1:o,a=o===i.children.length-1?null:a;var s=i.children[a];i.insertChild(n,s)}else i.insertChild(n,i.children[o]);else e.removeChild(n)})}},{key:"redo",value:function(){var e=this.parentModel,t=this.insertIndex,n=this.childModels,r=e.children[t];e.insertChild(n,r)}},{key:"type",get:function(){return"InsertChildAction"}},{key:"parentModel",get:function(){return this[Lu]},set:function(e){this[Lu]=e}},{key:"childModels",get:function(){return this[Ou]},set:function(e){this[Ou]=e.slice(0)}},{key:"insertIndex",get:function(){return this[_u]},set:function(e){this[_u]=e}},{key:"context",get:function(){return this[ju]},set:function(e){this[ju]=e}}],[{key:"defaultConfig",get:function(){return{parentModel:void 0,childModels:void 0,insertIndex:void 0,context:void 0}}}]),n}(Eu);function Nu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Hu._$name="InsertChildAction";var Bu=Symbol("PARENT_MODEL_PROP"),zu=Symbol("CHILD_MODELS_PROP"),Vu=Symbol("CONTEXT_PROP"),Wu=function(e){X()(n,e);var t=Nu(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"undo",value:function(){var e=this.parentModel,t=this.context,n=this.childModels;n.sort(function(e,n){return t.get(e)-t.get(n)}),n.forEach(function(n){e.insertChild(t.get(n),n)})}},{key:"redo",value:function(){this.parentModel.removeChild(this.childModels)}},{key:"type",get:function(){return"RemoveChildAction"}},{key:"parentModel",get:function(){return this[Bu]},set:function(e){this[Bu]=e}},{key:"childModels",get:function(){return this[zu]},set:function(e){this[zu]=e.slice(0)}},{key:"context",get:function(){return this[Vu]},set:function(e){this[Vu]=e}}],[{key:"defaultConfig",get:function(){return{parentModel:void 0,childModels:void 0,context:void 0}}}]),n}(Eu);function $u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Wu._$name="RemoveChildAction";var Gu=Symbol("STORE_PROP"),Yu=Symbol("MODEL_LIST_PROP"),Uu=function(e){X()(n,e);var t=$u(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"undo",value:function(){this.store.remove(this.modelList,this.silent)}},{key:"redo",value:function(){this.store.add(this.modelList,this.silent)}},{key:"type",get:function(){return"AddAction"}},{key:"store",get:function(){return this[Gu]},set:function(e){this[Gu]=e}},{key:"modelList",get:function(){return this[Yu]},set:function(e){this[Yu]=e.slice(0)}}],[{key:"defaultConfig",get:function(){return{store:void 0,modelList:void 0,silent:!1}}}]),n}(Eu);function qu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Uu._$name="AddAction";var Xu=Symbol("STORE_PROP"),Ku=Symbol("MODEL_LIST_PROP"),Zu=Symbol("INSERT_INDEX_PROP"),Ju=Symbol("CONTEXT_PROP"),Qu=function(e){X()(n,e);var t=qu(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"undo",value:function(){var e=this.store,t=this.modelList,n=this.context,r=this.silent;t.sort(function(e,t){var r=n.get(e),i=n.get(t);return void 0!==r&&void 0!==i?r-i:0}),t.forEach(function(t){var i=n.get(t);void 0!==i?e.insert(i,t,r):e.remove(t,r)})}},{key:"redo",value:function(){this.store.insert(this.insertIndex,this.modelList,this.silent)}},{key:"type",get:function(){return"InsertAction"}},{key:"store",get:function(){return this[Xu]},set:function(e){this[Xu]=e}},{key:"modelList",get:function(){return this[Ku]},set:function(e){this[Ku]=e.slice(0)}},{key:"insertIndex",get:function(){return this[Zu]},set:function(e){this[Zu]=e}},{key:"context",get:function(){return this[Ju]},set:function(e){this[Ju]=e}}],[{key:"defaultConfig",get:function(){return{store:void 0,modelList:void 0,insertIndex:void 0,context:void 0,silent:!1}}}]),n}(Eu);function ec(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Qu._$name="InsertAction";var tc=Symbol("STORE_PROP"),nc=Symbol("MODEL_LIST_PROP"),rc=Symbol("CONTEXT_PROP"),ic=function(e){X()(n,e);var t=ec(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"undo",value:function(){var e=this.store,t=this.context,n=this.modelList,r=this.silent;n.sort(function(e,n){return t.get(e)-t.get(n)}),n.forEach(function(n){var i=t.get(n);e.insert(i,n,r)})}},{key:"redo",value:function(){this.store.remove(this.modelList,this.silent)}},{key:"type",get:function(){return"RemoveAction"}},{key:"store",get:function(){return this[tc]},set:function(e){this[tc]=e}},{key:"modelList",get:function(){return this[nc]},set:function(e){this[nc]=e.slice(0)}},{key:"context",get:function(){return this[rc]},set:function(e){this[rc]=e}}],[{key:"defaultConfig",get:function(){return{store:void 0,modelList:void 0,context:void 0,silent:!1}}}]),n}(Eu);function oc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ic._$name="RemoveAction";var ac=Symbol("STORE_PROP"),sc=Symbol("ALL_RECORDS_PROP"),uc=function(e){X()(n,e);var t=oc(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"undo",value:function(){var e=this.store,t=this.allRecords,n=this.silent;e.add(t,n)}},{key:"redo",value:function(){this.store.removeAll(this.silent)}},{key:"type",get:function(){return"RemoveAllAction"}},{key:"store",get:function(){return this[ac]},set:function(e){this[ac]=e}},{key:"allRecords",get:function(){return this[sc]},set:function(e){this[sc]=e.slice(0)}}],[{key:"defaultConfig",get:function(){return{store:void 0,allRecords:void 0,silent:!1}}}]),n}(Eu);function cc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}uc._$name="RemoveAllAction";var lc=function(e,t,n){return new Iu({model:e,newData:t,oldData:n})},fc=function(e,t,n,r){return new Hu({parentModel:e,childModels:n,insertIndex:t,context:r})},dc=function(e,t,n){return new Wu({parentModel:e,childModels:t,context:n})},hc=function(e,t,n){return new Uu({store:e,modelList:t,silent:n})},pc=function(e,t,n,r,i){return new Qu({store:e,insertIndex:t,modelList:n,context:r,silent:i})},vc=function(e,t,n,r){return new ic({store:e,modelList:t,context:n,silent:r})},gc=function(e,t,n){return new uc({store:e,allRecords:t,silent:n})},yc=function e(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a=n.call.apply(n,[t[Gs],t].concat(i));if("string"==typeof a)t[Gs]=eu(a);else if(a instanceof $s)t[Gs]=a;else if(Array.isArray(a)){var s=re()(a,2),u=s[0],c=s[1];"string"==typeof u?t[Gs]=eu(u):u instanceof $s?t[Gs]=u:u&&"object"===oe()(u)&&((t=Object.assign(t,u))[Gs]=eu(t[Gs])),"function"==typeof c&&e.apply(void 0,[t,c].concat(i))}else a&&"object"===oe()(a)&&((t=Object.assign(t,a))[Gs]=eu(t[Gs]))},mc=function(e){X()(n,e);var t=cc(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e,t,r=this;Object.assign(r,(e={},se()(e,Gs,fu),se()(e,Ys,[]),se()(e,Us,[]),se()(e,qs,0),se()(e,Xs,null),se()(e,Ks,null),se()(e,Zs,!1),e));for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];(t=ce()(Q()(n.prototype),"construct",this)).call.apply(t,[this].concat(o))}},{key:"doDestroy",value:function(){ce()(Q()(n.prototype),"doDestroy",this).call(this),this.destroyProperties(Gs)}},{key:"hasStore",value:function(e){return this[Ys].includes(e)}},{key:"addStore",value:function(e){this.hasStore(e)||(this[Ys].push(e),e.stm=this)}},{key:"removeStore",value:function(e){this.hasStore(e)&&(this[Ys]=this[Ys].filter(function(t){return t!==e}),e.stm=null)}},{key:"getStoreById",value:function(e){return this[Ys].find(function(t){return t.id===e})}},{key:"forEachStore",value:function(e){this[Ys].forEach(function(t){return e(t,t.id)})}},{key:"enable",value:function(){this.disabled=!1}},{key:"disable",value:function(){this.disabled=!0}},{key:"startTransaction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;yc(this,this.state.onStartTransaction,e)}},{key:"stopTransaction",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;yc(this,this.state.onStopTransaction,e)}},{key:"stopTransactionDelayed",value:function(){yc(this,this.state.onStopTransactionDelayed)}},{key:"rejectTransaction",value:function(){yc(this,this.state.onRejectTransaction)}},{key:"undo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;yc(this,this.state.onUndo,e)}},{key:"undoAll",value:function(){this.undo(this.length)}},{key:"redo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;yc(this,this.state.onRedo,e)}},{key:"redoAll",value:function(){this.redo(this.length)}},{key:"resetQueue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{undo:!0,redo:!0};yc(this,this.state.onResetQueue,e)}},{key:"resetUndoQueue",value:function(){this.resetQueue({undo:!0})}},{key:"resetRedoQueue",value:function(){this.resetQueue({redo:!0})}},{key:"notifyStoresAboutStateRecordingStart",value:function(e){var t=this;this.forEachStore(function(n){n.onStmRecordingStart&&n.onStmRecordingStart(t,e)}),this.trigger("recordingStart",{stm:this,transaction:e})}},{key:"notifyStoresAboutStateRecordingStop",value:function(e,t){var n=this;this.forEachStore(function(r){r.onStmRecordingStop&&r.onStmRecordingStop(n,e,t)}),this.trigger("recordingStop",{stm:this,transaction:e,reason:t})}},{key:"notifyStoresAboutStateRestoringStart",value:function(){var e=this;this.forEachStore(function(t){t.onStmRestoringStart&&t.onStmRestoringStart(e)}),this.trigger("restoringStart",{stm:this})}},{key:"notifyStoresAboutStateRestoringStop",value:function(){var e=this;this.forEachStore(function(t){t.onStmRestoringStop&&t.onStmRestoringStop(e)}),this.trigger("restoringStop",{stm:this})}},{key:"notifyStoresAboutQueueReset",value:function(e){var t=this;this.forEachStore(function(n){n.onStmQueueReset&&n.onStmQueueReset(t,e)}),this.trigger("queueReset",{stm:this,options:e})}},{key:"onModelUpdate",value:function(e,t,n){yc(this,this.state.onModelUpdate,e,t,n)}},{key:"onModelInsertChild",value:function(e,t,n,r){yc(this,this.state.onModelInsertChild,e,t,n,r)}},{key:"onModelRemoveChild",value:function(e,t,n){yc(this,this.state.onModelRemoveChild,e,t,n)}},{key:"onStoreModelAdd",value:function(e,t,n){yc(this,this.state.onStoreModelAdd,e,t,n)}},{key:"onStoreModelInsert",value:function(e,t,n,r,i){yc(this,this.state.onStoreModelInsert,e,t,n,r,i)}},{key:"onStoreModelRemove",value:function(e,t,n,r){yc(this,this.state.onStoreModelRemove,e,t,n,r)}},{key:"onStoreRemoveAll",value:function(e,t,n){yc(this,this.state.onStoreRemoveAll,e,t,n)}},{key:"state",get:function(){return this[Gs]}},{key:"position",get:function(){return this[qs]}},{key:"length",get:function(){return this[Us].length}},{key:"stores",get:function(){return Array.from(this[Ys])}},{key:"disabled",get:function(){return this.state===iu},set:function(e){var t=this;t.disabled!=e&&(e?(yc(t,t.state.onDisable,t),t.trigger("stmDisabled",{disabled:!0})):(yc(t,t.state.onEnable,t),t.trigger("stmDisabled",{disabled:!1})))}},{key:"isReady",get:function(){return this.state===fu||this.state===wu}},{key:"isRecording",get:function(){return this.state===vu||this.state===Ru}},{key:"autoRecord",get:function(){return this[Zs]},set:function(e){var t=this;t.autoRecord!=e&&yc(t,e?t.state.onAutoRecordOn:t.state.onAutoRecordOff,t)}},{key:"transaction",get:function(){return this[Xs]}},{key:"queue",get:function(){return this[Us].map(function(e){return e.title})}},{key:"isRestoring",get:function(){return this.state===mu}},{key:"canUndo",get:function(){return this.state.canUndo(this)}},{key:"canRedo",get:function(){return this.state.canRedo(this)}}],[{key:"defaultConfig",get:function(){return{disabled:!0,autoRecord:!1,autoRecordTransactionStopTimeout:100,makeModelUpdateAction:lc,makeModelInsertChildAction:fc,makeModelRemoveChildAction:dc,makeStoreModelAddAction:hc,makeStoreModelInsertAction:pc,makeStoreModelRemoveAction:vc,makeStoreRemoveAllAction:gc,getTransactionTitle:null}}}]),n}(me(U));mc._$name="StateTrackingManager";var kc=function(){function e(){E()(this,e)}return M()(e,null,[{key:"insertRule",value:function(e){var t=this.styleSheet,n=t.cssRules.length;if(t.insertRule(e,0),t.cssRules.length>n)return t.cssRules[0]}},{key:"findRule",value:function(e){var t,n="function"==typeof e;return Array.prototype.find.call(document.head.querySelectorAll("link[rel=stylesheet],style[type*=css]"),function(r){if(t=Array.prototype.find.call(r.sheet.rules||r.sheet.cssRules,function(t){return n?e(t):t.selectorText===e}))return!0}),t}},{key:"styleSheet",get:function(){return this._stylesheet||(this._stylesheet=yn.createElement({tag:"style",id:"bryntum-private-styles",type:"text/css",parent:document.head}).sheet),this._stylesheet}}]),e}();kc._$name="CSSHelper";var bc=Array.prototype.slice,wc={ignore:{_element:1,parent:1,elementData:1,ns:1},evaluate:function(e,t,n){if("html"===e&&"string"!=typeof t.value&&"compareHtml"in t.object)return t.object.compareHtml===n.object.compareHtml}},Sc={tag:1,html:1,children:1,tooltip:1,parent:1,nextSibling:1,ns:1,reference:1,_element:1,elementData:1,retainElement:1,compareHtml:1,syncOptions:1,isReleased:1},Dc={class:1,className:1,classname:1},Rc=Object.freeze([]),Cc=function(){function e(){E()(this,e)}return M()(e,null,[{key:"sync",value:function(e){return this.performSync(e,e.targetElement),e.targetElement}},{key:"performSync",value:function(e,t){var n=e.domConfig,r=e.callback;return(e.configEquality?e.configEquality(n,t.lastDomConfig,wc):It.isDeeplyEqual(n,t.lastDomConfig,wc))?(this.relinkElements(n,t),r&&r({action:"none",domConfig:n,targetElement:t}),!1):(n?(n.onlyChildren||(this.syncAttributes(n,t),this.syncContent(n,t)),this.syncChildren(e,t),n._element=t):(t.innerHTML=null,t.syncIdMap=null),t.lastDomConfig=n,!0)}},{key:"relinkElements",value:function(e,t){var n=this;e._element=t,e.children&&e.children.forEach(function(e,r){e&&"string"!=typeof e&&n.relinkElements(e,t.lastDomConfig.children[r]._element)})}},{key:"syncDataset",value:function(e,t){for(var n=t.lastDomConfig,r=e===n,i=Object.keys(e.dataset),o=n&&n.dataset&&Object.keys(n.dataset),a=de.delta(i,o),s=0;s<a.onlyInA.length;s++){var u=a.onlyInA[s];t.setAttribute("data-".concat(_.hyphenate(u)),e.dataset[u])}for(var c=0;c<a.inBoth.length;c++){var l=a.inBoth[c];(r||e.dataset[l]!=n.dataset[l])&&t.setAttribute("data-".concat(_.hyphenate(l)),e.dataset[l])}for(var f=0;f<a.onlyInB.length;f++)t.removeAttribute("data-".concat(_.hyphenate(a.onlyInB[f])))}},{key:"syncClassList",value:function(e,t){var n=e.className||e.class,r="object"===oe()(n)?It.getTruthyKeys(n).join(" "):n;t.setAttribute("class",r)}},{key:"getSyncAttributes",value:function(e){var t={},n=[];return e&&Object.keys(e).forEach(function(r){if(!Sc[r]){var i=r.toLowerCase();t[i]=e[r],n.push(i)}}),{attributes:t,names:n}}},{key:"syncAttributes",value:function(e,t){for(var n=t.lastDomConfig,r=e===n,i=this.getSyncAttributes(e),o=i.attributes,a=i.names,s=r?i:this.getSyncAttributes(n),u=s.attributes,c=s.names,l=r?{onlyInA:Rc,onlyInB:Rc,inBoth:a}:de.delta(a,c),f=l.onlyInA,d=l.onlyInB,h=l.inBoth,p=0;p<f.length;p++){var v=f[p],g=o[v];"style"===v?yn.applyStyle(t,g,!0):"dataset"===v?this.syncDataset(e,t):Dc[v]?this.syncClassList(e,t):t.setAttribute(v,g)}for(var y=0;y<d.length;y++)t.removeAttribute(d[y]);for(var m=0;m<h.length;m++){var k=h[m],b=o[k],w=u[k];null==b?t.removeAttribute(k):"style"===k?!r&&It.isEqual(b,w,!0)||yn.applyStyle(t,b,!0):"dataset"===k?this.syncDataset(e,t):Dc[k]?this.syncClassList(e,t):(r||b!==w)&&t.setAttribute(k,b)}}},{key:"syncContent",value:function(e,t){var n=e.html;e.elementData&&(t.elementData=e.elementData),null!=n&&(n instanceof DocumentFragment?1===t.childNodes.length&&0===t.childElementCount&&1===n.childNodes.length&&0===n.childElementCount?yn.setInnerText(t,n.firstChild.data):(t.innerHTML="",t.appendChild(n)):String(n).includes("<")?t.innerHTML=n:yn.setInnerText(t,n))}},{key:"appendTextNode",value:function(e,t,n){var r=document.createTextNode(e);t.appendChild(r),n&&n({action:"newNode",domConfig:e,targetElement:r})}},{key:"insertElement",value:function(e,t,n,r,i){var o=i.ns?document.createElementNS(i.ns,e.tag||"svg"):document.createElement(e.tag||"div");t.insertBefore(o,n),this.performSync(i,o),null!=r&&(t.syncIdMap[r]=o),i.callback&&i.callback({action:"newElement",domConfig:e,targetElement:o,syncId:r})}},{key:"syncChildren",value:function(e,t){var n=e.domConfig,r=e.syncIdField,i=e.callback,o=e.releaseThreshold,a=e.configEquality,s=e.ns;if(!n.html){var u,c=bc.call(n.children||[]),l=bc.call(t.childNodes),f=t.syncIdMap||{},d=n.syncOptions||{};r=d.syncIdField||r,i=d.callback||i,a=d.configEquality||a,o="releaseThreshold"in d?d.releaseThreshold:o,r&&(t.syncIdMap={});for(var h={syncIdField:r,releaseThreshold:o,callback:i,configEquality:a};c.length;){var p=c.shift();if(u=null,p){var v="string"==typeof p;if(h.domConfig=p,h.ns=p.ns||s,!v){if(r&&p.dataset&&null!=(u=p.dataset[r])&&!p.unmatched){var g=f[u];g?(!p.retainElement&&this.performSync(h,g)&&i&&i({action:"reuseOwnElement",domConfig:p,targetElement:g,syncId:u}),p.retainElement?(g.retainElement=!0,p._element=g):g.retainElement&&(g.retainElement=!1),t.syncIdMap[u]=g,de.remove(l,g),g.isReleased=!1):(c.push(p),p.unmatched=!0);continue}p.unmatched&&delete p.unmatched}for(var y=void 0,m=0;m<l.length&&!y;m++)l[m].retainElement||(y=l[m],0===m?l.shift():l.splice(m,1));if(y)if(y.nodeType===Node.ELEMENT_NODE&&(p.tag||"div").toLowerCase()===y.tagName.toLowerCase()){var k=y.lastDomConfig,b=this.performSync(h,y);null!=u&&(t.syncIdMap[u]=y),y.isReleased=!1,b&&i&&i({action:"reuseElement",domConfig:p,lastDomConfig:k,targetElement:y,syncId:u})}else v&&y.nodeType===Node.TEXT_NODE?y.data=p:(v?this.appendTextNode(p,t,i):this.insertElement(p,t,y,u,h),y.remove());else v?this.appendTextNode(p,t,i):this.insertElement(p,t,null,u,h)}}var w=0;l.forEach(function(e){var n=e.lastDomConfig;e.retainElement?r&&e.lastDomConfig&&(t.syncIdMap[e.dataset[r]]=e):r&&(null==o||w<o)?(e.isReleased||(e.className="b-released",e.isReleased=!0,i&&i({action:"releaseElement",domConfig:n,lastDomConfig:n,targetElement:e}),n&&(n.isReleased=!0,n.className&&(n.className="b-released")),e.elementData=e.lastConfig=null),w++):(e.remove(),i&&i({action:"removeElement",domConfig:e.lastDomConfig,lastDomConfig:e.lastDomConfig,targetElement:e}))})}}}]),e}();function xc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Cc._$name="DomSync";function Ec(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Tc={pageXOffset:0,pageYOffset:0};function Mc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Pc="onMouseDown",Ac="onMouseMove",Ic="onMouseUp",Fc="onDocumentClick",Lc="onTouchStart",Oc="onTouchMove",_c="onTouchEnd",jc="onKeyDown",Hc=function(e){X()(n,e);var t=Mc(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;ce()(Q()(n.prototype),"construct",this).call(this,e),t.initListeners(),"container"===t.mode?t.initContainerDrag():t.mode.startsWith("translate")&&t.initTranslateDrag(),t.initialMode=t.mode}},{key:"doDestroy",value:function(){this.abort(!0),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"initListeners",value:function(){var e={element:this.outerElement,mousedown:Pc,thisObj:this};N.isTouchDevice&&(e.touchstart=Lc),ur.on(e)}},{key:"onPointerDown",value:function(e){var t=this,n=!1,r="touches"in e;if(t.context)t.context.awaitingFinalization||(t.onMouseUp(e),t.reset());else if(t.startEvent=e,(!t.isElementDraggable||t.isElementDraggable(e.target,e))&&(t.mode&&(n||"container"!==t.mode||(n=t.grabContainerDrag(e)),!n&&t.mode.startsWith("translate")&&(n=t.grabTranslateDrag(e))),n)){var i={element:document,thisObj:t,keydown:jc};if(r?(i.touchmove={handler:Oc,passive:!1},i.touchend=i.pointerup=_c):(i.mousemove=Ac,i.mouseup=Ic),t.removeListeners=ur.on(i),t.dragWithin&&t.dragWithin!==t.outerElement){var o=t.dragWithin.getBoundingClientRect();t.minY=o.top,t.maxY=o.bottom,t.minX=o.left,t.maxX=o.right}}}},{key:"onTouchStart",value:function(e){var t=this;1===e.touches.length&&(t.touchStartTimer=t.setTimeout(function(){t.touchStartTimer=null},t.touchStartDelay,"touchStartDelay"),t.onPointerDown(e))}},{key:"onMouseDown",value:function(e){0===e.button&&this.onPointerDown(e)}},{key:"internalMove",value:function(e){var t=this,n=t.context,r=ur.getDistanceBetween(t.startEvent,e);if(t.touchStartTimer&&r>t.dragThreshold)t.abort(!0);else if(!t.touchStartTimer&&n&&n.element&&e.target&&e.target.nodeType===Node.ELEMENT_NODE&&(n.started||r>=t.dragThreshold)){if(!n.started&&!1===t.callPreventable("dragStart",{context:n,event:e},function(){"container"!==t.mode&&(t.lockY?t.mode="translateX":t.lockX?t.mode="translateY":t.mode=t.initialMode);var r=t.lockX?"vertical":t.lockY?"horizontal":"both";n.action.startsWith("translate")?t.startTranslateDrag(e):"container"===n.action&&t.startContainerDrag(e),n.started=!0,t.scrollManager&&t.scrollManager.startMonitoring({direction:r,element:t.dragWithin||t.outerElement,callback:function(e){t.context.element&&t.lastMouseMoveEvent&&(t.lastMouseMoveEvent.isScroll=!0,t.update(t.lastMouseMoveEvent,e))},thisObj:t}),document.body.classList.add("b-draghelper-active")}))return t.abort();"touchmove"===e.type&&(e.preventDefault(),e.stopImmediatePropagation()),t.update(e)}}},{key:"onTouchMove",value:function(e){this.internalMove(e)}},{key:"onMouseMove",value:function(e){this.internalMove(e)}},{key:"update",value:function(e,t){var n=this,r=n.context,i=r.dragProxy||r.element,o=e.target,a=document.scrollingElement||document.body;if("touchmove"===e.type){var s=e.changedTouches[0];o=yn.elementFromPoint(s.clientX+a.scrollLeft,s.clientY+a.scrollTop)}r.target=o,n.dropTargetSelector?r.valid=Boolean(o.closest(n.dropTargetSelector)):r.valid=!0,r.action&&("container"===r.action&&n.updateContainerProxy(e,t),r.action.startsWith("translate")&&n.updateTranslateProxy(e,t)),n.trigger("drag",{context:r,event:e}),"container"===r.action&&n.updateContainerDrag(e,t),i.classList[r.valid?"remove":"add"](n.invalidCls),e&&(n.lastMouseMoveEvent=e)}},{key:"abort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=t.context;t.scrollManager&&t.scrollManager.stopMonitoring(t.dragWithin||t.outerElement),n&&(n.element.getBoundingClientRect(),n.valid=!1,"container"===n.action?t.abortContainerDrag(void 0,void 0,e):t.abortTranslateDrag(void 0,void 0,e)),t.reset()}},{key:"removeListeners",value:function(){}},{key:"reset",value:function(e){document.body.classList.remove("b-draghelper-active"),this.removeListeners(),e||this.trigger("reset"),this.context=this.lastMouseMoveEvent=null}},{key:"onTouchEnd",value:function(e){this.onMouseUp(e)}},{key:"onDocumentClick",value:function(e){e.stopPropagation()}},{key:"onMouseUp",value:function(e){var t=this,n=t.context;t.removeListeners(),n&&(t.scrollManager&&t.scrollManager.stopMonitoring(t.dragWithin||t.outerElement),"container"===n.action?t.finishContainerDrag(e):n.started&&n.action.startsWith("translate")&&t.finishTranslateDrag(e),n.started?ur.on({element:document,thisObj:t,click:Fc,capture:!0,expires:t.clickSwallowDuration,once:!0}):t.reset(!0))}},{key:"onKeyDown",value:function(e){"Escape"===e.key&&this.abort()}},{key:"createProxy",value:function(e){var t=e.cloneNode(!0);return t.removeAttribute("id"),t}}],[{key:"defaultConfig",get:function(){return{dragProxyCls:"b-drag-proxy",invalidCls:"b-drag-invalid",draggingCls:"b-dragging",dropPlaceholderCls:"b-drop-placeholder",dragThreshold:5,outerElement:document.body,dragWithin:null,constrain:!0,minX:null,maxX:null,minY:null,maxY:null,mode:null,isElementDraggable:null,targetSelector:null,dropTargetSelector:null,cloneTarget:!1,hideOriginalElement:!1,containers:null,ignoreSelector:null,startEvent:null,lockX:!1,lockY:!1,touchStartDelay:300,transitionDuration:300,clickSwallowDuration:50,ignoreSamePositionDrop:!0,testConfig:{transitionDuration:10,clickSwallowDuration:N.isEdge?300:50}}}}]),n}(Uo(U).mixes(me,function(e){return function(e){X()(n,e);var t=xc(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"initContainerDrag",value:function(){if(this.mode||(this.mode="container"),"container"===this.mode&&!this.containers)throw new Error("Container drag mode must specify containers")}},{key:"grabContainerDrag",value:function(e){var t=this;if(!t.ignoreSelector||!yn.up(e.target,t.ignoreSelector)){var n=yn.getAncestor(e.target,t.containers,t.outerElement);if(n){var r=n.getBoundingClientRect();t.context={element:n,valid:!0,action:"container",offsetX:e.pageX-r.left,offsetY:e.pageY-r.top,originalPosition:{parent:n.parentElement,prev:n.previousElementSibling,next:n.nextElementSibling}}}return!0}return!1}},{key:"startContainerDrag",value:function(e){var t=this.context,n=t.element,r=n.cloneNode(!0),i=n.getBoundingClientRect();r.classList.add(this.dragProxyCls),r.classList.add(this.draggingCls),document.body.appendChild(r),t.dragProxy=r,r.style.width=i.width+"px",r.style.height=i.height+"px",yn.setTranslateXY(t.dragProxy,i.left,i.top),t.dragging=n,n.classList.add(this.dropPlaceholderCls)}},{key:"updateContainerDrag",value:function(e){var t=this.context;if(t.started&&t.targetElement){var n=yn.getAncestor(t.targetElement,this.containers,"b-grid"),r=t.dragging&&t.dragging.contains(document.activeElement);n&&yn.isDescendant(t.element,n)||(r&&ri.suspendFocusEvents(),n&&t.valid?this.moveNextTo(n,e):this.revertPosition(),r&&ri.resumeFocusEvents(),e.preventDefault())}}},{key:"finishContainerDrag",value:function(e){var t=this,n=this,r=n.context,i=r.dragging,o=r.dragProxy,a=r.valid,s=r.draggedTo,u=r.insertBefore,c=r.originalPosition;i&&(r.valid=a&&s&&(i!==u||c.parent!==s),r.finalize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.valid;!e&&t.context&&n.revertPosition(),i.classList.remove(n.dropPlaceholderCls),o.remove(),n.reset()},r.async=!1,n.trigger("drop",{context:r,event:e}),r.async?r.awaitingFinalization=!0:r.finalize())}},{key:"abortContainerDrag",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.context;i.dragging&&(i.dragging.classList.remove(r.dropPlaceholderCls),i.dragProxy.remove(),r.context={}),n||r.trigger(e?"drop":"abort",{context:i,event:t})}},{key:"updateContainerProxy",value:function(e){var t,n=this,r=n.context,i=r.dragProxy,o=e.pageX-r.offsetX,a=e.pageY-r.offsetY;if("number"==typeof n.minX&&(o=Math.max(n.minX,o)),"number"==typeof n.maxX&&(o=Math.min(n.maxX-i.offsetWidth,o)),"number"==typeof n.minY&&(a=Math.max(n.minY,a)),"number"==typeof n.maxY&&(a=Math.min(n.maxY-i.offsetHeight,a)),n.lockX?yn.setTranslateY(i,a):n.lockY?yn.setTranslateX(i,o):yn.setTranslateXY(i,o,a),"touchmove"===e.type){var s=e.changedTouches[0];t=document.elementFromPoint(s.clientX,s.clientY)}else t=e.target;r.targetElement=t}},{key:"moveNextTo",value:function(e,t){var n=this.context,r=n.dragging,i=e.parentElement;if(e!==r){var o=e.getBoundingClientRect().left+e.offsetWidth/2;t.pageX<o?(i.insertBefore(r,e),n.insertBefore=e):e.nextElementSibling?e.nextElementSibling!==r?(n.insertBefore=e.nextElementSibling,i.insertBefore(r,e.nextElementSibling)):n.insertBefore||r.parentElement.lastElementChild===r||(n.insertBefore=e.nextElementSibling):(i.appendChild(r),n.insertBefore=null),n.draggedTo=i}}},{key:"revertPosition",value:function(){var e=this.context,t=e.originalPosition;t.next?t.next&&t.next.previousSibling===e.dragging||!t.next&&e.dragging===t.parent.lastChild||t.parent.insertBefore(e.dragging,t.next):t.parent.appendChild(e.dragging);e.draggedTo=null}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Ec(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"initTranslateDrag",value:function(){var e=this;e.mode=e.mode||"translateXY",!e.isElementDraggable&&e.targetSelector&&(e.isElementDraggable=function(t){return yn.up(t,e.targetSelector)})}},{key:"grabTranslateDrag",value:function(e){var t=this.getTarget(e);return!!t&&(this.context={valid:!0,action:this.mode,element:t,startPageX:e.pageX,startPageY:e.pageY,startClientX:e.clientX,startClientY:e.clientY},!0)}},{key:"getTarget",value:function(e){return yn.up(e.target,this.targetSelector)}},{key:"startTranslateDrag",value:function(e){var t=this,n=t.context,r=n.relatedElements,i=n.dragProxy||n.element;if(i&&!n.started){var o=i,a=i.parentElement,s=t.dragWithin=t.dragWithin||t.cloneTarget&&document.body,u=t.outerElement;if(t.cloneTarget){var c=yn.getOffsetX(i,s),l=yn.getOffsetY(i,s),f=i.offsetWidth,d=i.offsetHeight;i=this.createProxy(i),yn.setTranslateXY(i,c,l),i.style.width="".concat(f,"px"),i.style.height="".concat(d,"px"),i.classList.add(t.dragProxyCls),s.appendChild(i),o.classList.add("b-drag-original"),t.hideOriginalElement&&o.classList.add("b-hidden")}Object.assign(t.context,{element:i,grabbed:o,grabbedParent:a,grabbedNextSibling:i.nextElementSibling,elementStartX:yn.getTranslateX(i),elementStartY:yn.getTranslateY(i),elementX:yn.getOffsetX(i,s||u),elementY:yn.getOffsetY(i,s||u),scrollX:0,scrollY:0,scrollManagerElementContainsDragProxy:!t.cloneTarget||s===u}),i.classList.add(t.draggingCls),s&&(n.parentElement=i.parentElement,s!==i.parentElement&&s.appendChild(i),t.updateTranslateProxy(e)),r&&r.forEach(function(e){e.classList.add(t.draggingCls)})}}},{key:"applyConstraints",value:function(e,t,n){var r=this,i=r.dragWithin,o=i===document.body?window:Tc,a=o.pageXOffset,s=o.pageYOffset;return i&&r.constrain&&(t<0&&(t=0),t+e.offsetWidth>i.scrollWidth&&(t=i.scrollWidth-e.offsetWidth),n<0&&(n=0),n+e.offsetHeight>i.scrollHeight&&(n=i.scrollHeight-e.offsetHeight)),"number"==typeof r.minX&&(t=Math.max(r.minX+a,t)),"number"==typeof r.maxX&&(t=Math.min(r.maxX+a,t)),"number"==typeof r.minY&&(n=Math.max(r.minY+s,n)),"number"==typeof r.maxY&&(n=Math.min(r.maxY+s,n)),{constrainedX:t,constrainedY:n}}},{key:"updateTranslateProxy",value:function(e,t){var n=this,r=n.mode,i=n.lockX,o=n.lockY,a=n.context,s=a.dragProxy||a.element,u=a.relatedElements,c=a.relatedElDragFromPos;a.scrollManagerElementContainsDragProxy&&t&&(a.scrollX=t.scrollRelativeLeft,a.scrollY=t.scrollRelativeTop),a.pageX=e.pageX,a.pageY=e.pageY,a.clientX=e.clientX,a.clientY=e.clientY;var l=a.elementStartX+e.pageX-a.startPageX+a.scrollX,f=a.elementStartY+e.pageY-a.startPageY+a.scrollY,d=n.applyConstraints(s,l,f),h=d.constrainedX,p=d.constrainedY;if("translateXY"!==r||i||o?"translateX"===r||o?yn.setTranslateX(s,h):("translateY"===r||i)&&yn.setTranslateY(s,p):yn.setTranslateXY(s,h,p),u){var v=i||"translateY"===r?0:h-a.elementStartX,g=o||"translateX"===r?0:p-a.elementStartY;u.forEach(function(e,t){var n=re()(c[t],2),r=n[0],i=n[1];yn.setTranslateXY(e,r+v,i+g)})}a.newX=h,a.newY=p}},{key:"finishTranslateDrag",value:function(e){var t=this,n=t.context,r=n.newX!==n.elementStartX,i=n.newY!==n.elementStartY,o=n.dragProxy||n.element,a=n.relatedElements;function s(){o.classList.remove(t.invalidCls),o.classList.remove(t.draggingCls),a&&a.forEach(function(e){e.classList.remove(t.invalidCls),e.classList.remove(t.draggingCls)}),o.classList.contains("b-aborting")||(t.hideOriginalElement&&n.grabbed.classList.remove("b-hidden"),n.grabbed.classList.remove("b-drag-original"))}if(!t.ignoreSamePositionDrop||"translateY"!==t.mode&&r||"translateX"!==t.mode&&i){if(!1===n.valid)t.abortTranslateDrag(!0,e);else{var u=Wn.from(t.dragWithin||t.outerElement);!t.minX&&e.pageX<u.left||!t.maxX&&e.pageX>u.right||!t.minY&&e.pageY<u.top||!t.maxY&&e.pageY>u.bottom?(n.valid=!1,t.abortTranslateDrag(!0,e)):(n.finalize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.valid;n.asyncCleanup&&s(),!e&&t.context?t.abortTranslateDrag(!0,null,!0):(t.cloneTarget||n.dragProxy)&&o.remove(),t.reset()},n.async=!1,t.trigger("drop",{context:n,event:e}),n.async?n.awaitingFinalization=!0:n.finalize())}n.asyncCleanup||s()}else t.abortTranslateDrag(!1,e)}},{key:"abortTranslateDrag",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.context,o=i.relatedElements,a=i.relatedElStartPos,s=i.grabbed,u=i.dragProxy||i.element,c=r.cloneTarget&&r.hideOriginalElement?s:u,l=i.elementStartX,f=i.elementStartY;if(u&&i.started){if(!r.cloneTarget&&r.dragWithin&&r.dragWithin!==i.grabbedParent&&i.grabbedParent.insertBefore(u,i.grabbedNextSibling),s.classList.remove("b-hidden"),r.cloneTarget){if(r.hideOriginalElement){var d=yn.getTranslateXY(s),h=re()(d,2);l=h[0],f=h[1],yn.alignTo(s,u),c.getBoundingClientRect()}u.remove()}c.classList.add("b-aborting"),"translateXY"!==r.mode||r.lockX||r.lockY||(yn.setTranslateXY(c,l,f),o&&o.forEach(function(e,t){e.classList.add("b-aborting"),yn.setTranslateXY(e,a[t][0],a[t][1])})),("translateX"===r.mode||r.lockY)&&(yn.setTranslateX(c,l),o&&o.forEach(function(e,t){e.classList.add("b-aborting"),yn.setTranslateX(e,a[t][0])})),("translateY"===r.mode||r.lockX)&&(yn.setTranslateY(c,f),o&&o.forEach(function(e,t){e.classList.add("b-aborting"),yn.setTranslateY(e,a[t][1])})),r.setTimeout(function(){c.classList.remove("b-aborting"),s.classList.remove("b-dragging"),s.classList.remove("b-drag-original"),r.cloneTarget||(o&&o.forEach(function(e,t){e.classList.remove("b-aborting")}),u.classList.remove("b-aborting"),u.classList.remove(r.draggingCls),u.classList.remove(r.invalidCls))},r.transitionDuration,void 0,!0),n||r.trigger(e?"drop":"abort",{context:i,event:t})}r.reset()}}]),n}(yr(e||U))}));function Nc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Hc._$name="DragHelper";var Bc="onMouseDown",zc="onMouseMove",Vc="onMouseUp",Wc="onDocumentClick",$c="onTouchStart",Gc="onTouchMove",Yc="onTouchEnd",Uc="onKeyDown",qc=function(e){X()(n,e);var t=Nc(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;ce()(Q()(n.prototype),"construct",this).call(this,e),!t.handleSelector&&N.isTouchDevice&&(t.handleSize=t.touchHandleSize),t.handleVisibilityThreshold=t.handleVisibilityThreshold||2*t.handleSize,t.initListeners(),t.initResize()}},{key:"doDestroy",value:function(){this.abort(!0),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"initResize",value:function(){var e=this;if(!e.isElementResizable&&e.targetSelector&&(e.isElementResizable=function(t){return yn.up(t,e.targetSelector)}),e.grab){var t=e.grab,n=t.edge,r=t.element,i=t.event;e.startEvent=i,e.context={element:r,edge:n,valid:!0,async:!1,elementStartX:yn.getTranslateX(r)||r.offsetLeft,elementStartY:yn.getTranslateY(r)||r.offsetTop,newX:yn.getTranslateX(r)||r.offsetLeft,newY:yn.getTranslateY(r)||r.offsetTop,elementWidth:r.offsetWidth,elementHeight:r.offsetHeight,startX:i.clientX+e.scrollLeft,startY:i.clientY+e.scrollTop,finalize:function(){return e.reset&&e.reset()}},r.classList.add(e.resizingCls),e.internalStartResize(e.isTouch)}}},{key:"initListeners",value:function(){var e=this,t={element:e.outerElement,mousedown:Bc,thisObj:e};N.isTouchDevice?t.touchstart=$c:e.handleSelector||(t.mousemove={handler:zc,delegate:e.targetSelector},t.mouseleave={handler:"onMouseLeaveTarget",delegate:e.targetSelector,capture:!0}),e.removeListeners=ur.on(t)}},{key:"removeListeners",value:function(){}},{key:"internalStartResize",value:function(e){var t={element:document,keydown:Uc,thisObj:this};e?(t.touchmove=Gc,t.touchend=t.pointerup=Yc):(t.mousemove=zc,t.mouseup=Vc),this.removeDragListeners=ur.on(t)}},{key:"removeDragListeners",value:function(){}},{key:"reset",value:function(){this.removeDragListeners&&this.removeDragListeners(),this.context=null}},{key:"onPointerDown",value:function(e,t){var n=this;n.startEvent=t,n.isElementResizable&&!n.isElementResizable(t.target,t)||n.grabResizeHandle(e,t)&&(t.stopImmediatePropagation(),n.internalStartResize(e))}},{key:"onTouchStart",value:function(e){e.touches.length>1||this.onPointerDown(!0,e)}},{key:"onMouseDown",value:function(e){0===e.button&&this.onPointerDown(!1,e)}},{key:"internalMove",value:function(e,t){var n=this,r=n.context;r&&r.element&&(r.started||ur.getDistanceBetween(n.startEvent,t)>=n.dragThreshold)?(r.started||(n.scrollManager&&n.scrollManager.startMonitoring({direction:n.direction,element:n.dragWithin||n.outerElement,callback:function(e){return n.context&&n.context.element&&n.lastMouseMoveEvent&&n.update(n.lastMouseMoveEvent,e)},thisObj:n}),n.trigger("resizeStart",{context:r,event:t}),r.started=!0),n.update(t)):e||n.handleSelector||n.checkResizeHandles(t)}},{key:"onTouchMove",value:function(e){this.internalMove(!0,e)}},{key:"onMouseMove",value:function(e){this.context,this.internalMove(!1,e)}},{key:"onPointerUp",value:function(e,t){var n=this,r=n.context;n.removeDragListeners(),r&&(n.scrollManager&&n.scrollManager.stopMonitoring(n.dragWithin||n.outerElement),r.started&&ur.on({element:document,thisObj:n,click:Wc,expires:n.clickSwallowDuration,capture:!0,once:!0}),n.finishResize(t),n.isDestroyed||r.async||n.reset())}},{key:"onTouchEnd",value:function(e){this.onPointerUp(!0,e)}},{key:"onMouseUp",value:function(e){this.onPointerUp(!1,e)}},{key:"onDocumentClick",value:function(e){e.stopPropagation()}},{key:"onKeyDown",value:function(e){"Escape"===e.key&&this.abort()}},{key:"update",value:function(e){var t=this,n=t.context,r=Wn.from(t.outerElement.parentElement);n.currentX=Math.max(Math.min(e.clientX,r.right-1),r.x)+t.scrollLeft,n.currentY=Math.max(Math.min(e.clientY,r.bottom-1),r.y)+t.scrollTop,t.updateResize(e),t.trigger("resizing",{context:n,event:e}),n.element.classList[!1===n.valid?"add":"remove"](t.invalidCls),e&&(t.lastMouseMoveEvent=e)}},{key:"abort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.scrollManager&&t.scrollManager.stopMonitoring(t.dragWithin||t.outerElement),t.context?t.abortResize(null,e):t.isDestroyed||t.reset()}},{key:"grabResizeHandle",value:function(e,t){var n=this;if(n.allowResize&&!n.allowResize(t.target,t))return!1;var r=n.handleSelector,i="touchstart"===t.type?t.changedTouches[0]:t,o=i.clientX,a=i.clientY,s=n.targetSelector?yn.up(t.target,n.targetSelector):t.target;if(s){var u;if(r){if(!t.target.matches(r))return!1;u="horizontal"===n.direction?t.pageX<yn.getPageX(s)+s.offsetWidth/2?"left":"right":t.pageY<yn.getPageY(s)+s.offsetHeight/2?"top":"bottom"}else if("horizontal"===n.direction?n.overLeftHandle(t,s)?u="left":n.overRightHandle(t,s)&&(u="right"):n.overTopHandle(t,s)?u="top":n.overBottomHandle(t,s)&&(u="bottom"),!u)return n.context=null,!1;if("touchstart"===t.type&&t.preventDefault(),!1!==n.trigger("beforeResizeStart",{element:s,event:t}))return n.context={element:s,edge:u,valid:!0,async:!1,direction:n.direction,isTouch:e,elementStartX:yn.getTranslateX(s)||s.offsetLeft,elementStartY:yn.getTranslateY(s)||s.offsetTop,newX:yn.getTranslateX(s)||s.offsetLeft,newY:yn.getTranslateY(s)||s.offsetTop,elementWidth:s.offsetWidth,elementHeight:s.offsetHeight,startX:o+n.scrollLeft,startY:a+n.scrollTop,finalize:function(){return n.reset&&n.reset()}},s.classList.add(n.resizingCls),!0}return!1}},{key:"checkResizeHandles",value:function(e){var t=this,n=t.targetSelector?yn.up(e.target,t.targetSelector):e.target;if(!n||t.allowResize&&!t.allowResize(e.target,e))t.currentElement&&t.unHighlightHandle();else if(t.currentElement=t.handleContainerSelector?yn.up(e.target,t.handleContainerSelector):e.target,t.currentElement){("horizontal"===t.direction?t.overLeftHandle(e,n)||t.overRightHandle(e,n):t.overTopHandle(e,n)||t.overBottomHandle(e,n))?t.highlightHandle():t.unHighlightHandle()}}},{key:"onMouseLeaveTarget",value:function(e){var t=this;t.currentElement=t.handleContainerSelector?yn.up(e.target,t.handleContainerSelector):e.target,t.currentElement&&t.unHighlightHandle()}},{key:"updateResize",value:function(e){var t=this,n=t.context;t.allowEdgeSwitch&&("horizontal"===t.direction?n.edge=n.currentX>n.startX?"right":"left":n.edge=n.currentY>n.startY?"bottom":"top");var r=n.currentX-n.startX,i=n.currentY-n.startY,o=yn.getExtremalSizePX(n.element,"minWidth")||t.minWidth,a=yn.getExtremalSizePX(n.element,"maxWidth")||t.maxWidth,s=yn.getExtremalSizePX(n.element,"minHeight")||t.minHeight,u=yn.getExtremalSizePX(n.element,"maxHeight")||t.maxHeight,c="right"===n.edge||"bottom"===n.edge?1:-1,l=n.elementWidth+r*c,f=Math.max(o,l),d=n.elementHeight+i*c,h=Math.max(s,d);a>0&&(f=Math.min(f,a)),u>0&&(h=Math.min(h,u)),n.element.style.flex&&(n.element.style.flex=""),"horizontal"===t.direction?(n.element.style.width=Math.abs(f)+"px",n.newWidth=f,"left"===n.edge||f<0?(n.newX=Math.max(Math.min(n.elementStartX+n.elementWidth-t.minWidth,n.elementStartX+r),0),t.skipTranslate||yn.setTranslateX(n.element,n.newX)):"right"===n.edge&&t.allowEdgeSwitch&&!t.skipTranslate&&yn.setTranslateX(n.element,n.elementStartX)):(n.element.style.height=Math.abs(h)+"px",n.newHeight=h,"top"===n.edge||h<0?(n.newY=Math.max(Math.min(n.elementStartY+n.elementHeight-t.minHeight,n.elementStartY+i),0),t.skipTranslate||yn.setTranslateY(n.element,n.newY)):"bottom"===n.edge&&t.allowEdgeSwitch&&!t.skipTranslate&&yn.setTranslateY(n.element,n.elementStartY))}},{key:"finishResize",value:function(e){var t=this.context,n={context:t,event:e};if(t.element.classList.remove(this.resizingCls),t.started){var r=!1;r="horizontal"===this.direction?t.newWidth&&t.newWidth!==t.elementWidth:t.newHeight&&t.newHeight!==t.elementHeight,this.trigger(r?"resize":"cancel",n),t.async||t.finalize()}}},{key:"abortResize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n.context;r.element.classList.remove(n.resizingCls),"horizontal"===n.direction?(yn.setTranslateX(r.element,r.elementStartX),r.element.style.width=r.elementWidth+"px"):(yn.setTranslateY(r.element,r.elementStartY),r.element.style.height=r.elementHeight+"px"),!t&&n.trigger("cancel",{context:r,event:e}),n.isDestroyed||n.reset()}},{key:"highlightHandle",value:function(){var e=this,t=e.targetSelector?yn.up(e.currentElement,e.targetSelector):e.currentElement;e.currentElement.classList.add("b-resize-handle"),t.classList.add("b-over-resize-handle")}},{key:"unHighlightHandle",value:function(){var e=this,t=e.targetSelector?yn.up(e.currentElement,e.targetSelector):e.currentElement;t&&t.classList.remove("b-over-resize-handle"),e.currentElement.classList.remove("b-resize-handle"),e.currentElement=null}},{key:"overAnyHandle",value:function(e,t){return this.overStartHandle(e,t)||this.overEndHandle(e,t)}},{key:"overStartHandle",value:function(e,t){return"horizontal"===this.direction?this.overLeftHandle(e,t):this.overTopHandle(e,t)}},{key:"overEndHandle",value:function(e,t){return"horizontal"===this.direction?this.overRightHandle(e,t):this.overBottomHandle(e,t)}},{key:"getDynamicHandleSize",value:function(e,t){var n=e?2:1,r=this.handleSize;return this.dynamicHandleSize&&r*n>t-this.reservedSpace?Math.max((t-this.reservedSpace)/n,1):r}},{key:"overLeftHandle",value:function(e,t){var n=this,r=t.offsetWidth;if(n.leftHandle&&(r>=n.handleVisibilityThreshold||n.dynamicHandleSize)){var i=Wn.from(t);return i.width=n.getDynamicHandleSize(n.rightHandle,r),i.contains(ur.getPagePoint(e))}return!1}},{key:"overRightHandle",value:function(e,t){var n=this,r=t.offsetWidth;if(n.rightHandle&&(r>=n.handleVisibilityThreshold||n.dynamicHandleSize)){var i=Wn.from(t);return i.x=i.right-n.getDynamicHandleSize(n.leftHandle,r),i.contains(ur.getPagePoint(e))}return!1}},{key:"overTopHandle",value:function(e,t){var n=this,r=t.offsetHeight;if(n.topHandle&&(r>=n.handleVisibilityThreshold||n.dynamicHandleSize)){var i=Wn.from(t);return i.height=n.getDynamicHandleSize(n.bottomHandle,r),i.contains(ur.getPagePoint(e))}return!1}},{key:"overBottomHandle",value:function(e,t){var n=this,r=t.offsetHeight;if(n.bottomHandle&&(r>=n.handleVisibilityThreshold||n.dynamicHandleSize)){var i=Wn.from(t);return i.y=i.bottom-n.getDynamicHandleSize(n.bottomHandle,r),i.contains(ur.getPagePoint(e))}return!1}},{key:"scrollLeft",get:function(){return this.scroller?this.scroller.x:this.outerElement.scrollLeft}},{key:"scrollTop",get:function(){return this.scroller?this.scroller.y:this.outerElement.scrollTop}}],[{key:"defaultConfig",get:function(){return{resizingCls:"b-resizing",dragThreshold:5,handleSize:10,dynamicHandleSize:null,reservedSpace:10,touchHandleSize:30,minWidth:1,maxWidth:0,minHeight:1,maxHeight:0,outerElement:document.body,scroller:null,allowResize:null,dragWithin:null,isElementResizable:null,targetSelector:null,leftHandle:!0,rightHandle:!0,topHandle:!0,bottomHandle:!0,handleSelector:null,handleContainerSelector:null,startEvent:null,grab:null,invalidCls:"b-resize-invalid",handleVisibilityThreshold:null,skipTranslate:!1,direction:"horizontal",clickSwallowDuration:50}}}]),n}(me(U));qc._$name="ResizeHelper";var Xc=function(){function e(){E()(this,e),this.random100=[46,2,36,46,54,59,18,20,71,55,88,98,13,61,61,40,2,15,3,32,51,45,64,25,81,85,54,13,57,49,64,22,81,94,0,62,17,7,11,2,33,99,85,26,83,83,96,26,20,89,91,38,26,13,11,79,32,30,5,51,70,7,5,56,58,77,37,89,40,80,78,59,26,36,8,51,60,23,86,5,11,96,64,94,87,64,4,78,17,85,35,0,90,86,23,55,53,9,35,59,29,2,64,42,8,49,43,73,6,53,38,9,39,31,32,40,49,13,78,68,20,99,24,78,35,91,73,46,67,76,89,69,30,69,25,3,4,55,1,65,66,76,83,19,67,1,95,24,54,45,56,40,67,92,72,4,69,8,47,50,27,2,38,9,14,83,12,14,62,95,22,47,35,18,38,14,86,64,68,61,52,69,39,93,20,73,32,52,74,6,56,68,99,29,24,92,40,67,6,72,31,41,91,53,80,55,33,97,97,99,18,20,5,27,82,84,61,78,27,67,7,42,75,95,91,25,63,21,70,36,46,0,1,45,84,6,86,15,10,62,96,94,10,23,93,83,94,47,5,29,29,52,51,37,77,96,43,72,43,14,54,14,72,52,4,39,15,26,68,28,25,76,60,50,22,40,72,74,68,58,8,48,40,62,52,24,9,26,47,44,49,96,7,77,90,45,76,47,5,86,1,36,18,42,19,90,34,23,70,32,69,79,0,99,57,80,72,21,19,72,85,68,4,40,86,62,0,63,4,11,69,31,78,31,21,78,29,84,13,53,57,10,26,50,24,30,90,42,51,96,93,21,99,23,81,0,89,43,86,63,93,19,54,71,92,36,4,95,37,99,60,29,23,50,68,95,57,95,77,53,99,78,75,12,92,47,23,14,0,41,98,11,34,64,26,90,50,23,38,31,74,76,16,76,66,23,22,72,48,50,20,36,37,58,5,43,49,64,81,30,8,21,98,75,60,17,50,42,27,38,90,74,45,68,67,27,31,15,58,76,41,99,23,98,53,98,56,19,79,2,4,38,96,24,65,51,43,42,41,60,46,7,90,65,3,27,63,99,51,44,86,1,54,40,15,74,3,81,51,63,87,79,84,72,22,38,96,95,33,41,21,99,21,69,7,49,40,52,41,6,91,19,76,40,54,17,33,11,11,0,1,32,94,33,13,18,45,7,85,61,42,54,45,72,78,96,17,9,80,87,41,96,66,0,8,59,18,21,2,28,64,75,97,32,80,86,97,97,55,2,73,75,11,89,67,58,70,76,12,46,64,17,22,97,25,35,93,57,82,46,57,61,31,74,27,4,32,85,53,86,53,53,42,5,28,50,65,63,70,61,73,37,13,80,7,34,22,3,26,6,62,78,12,56,87,41,58,64,31,27,45,35,18,66,62,43,89,69,94,93,33,74,2,43,85,37,82,41,74,9,15,44,33,42,65,19,1,49,78,12,29,9,78,7,55,12,45,40,33,16,86,14,52,16,73,76,0,98,75,91,78,46,99,95,90,69,78,45,62,55,37,88,49,77,27,83,38,73,39,1,75,40,65,83,54,95,7,73,4,30,26,36,89,21,5,95,11,14,87,45,36,21,77,55,5,66,51,98,48,62,74,58,23,82,30,28,19,53,89,76,98,8,34,70,28,54,16,52,35,93,54,54,72,49,18,93,72,90,71,73,15,60,38,80,76,53,70,39,69,25,5,31,61,46,6,54,34,31,52,33,36,79,76,44,29,28,38,1,66,2,90,91,1,76,78,31,55,37,71,2,3,38,85,0,95,42,2,39,57,87,61,77,98,2,24,80,48,27,47,71,15,7,49,60,86,3,2,29,38,54,36,59,83,27,47,9,36,42,8,73,85,9,16,73,60,39,12,43,25,23,29,28,47,40,77,20,89,22,30,41,59,96,19,56,20,76,73,39,46,72,40,47,37,52,29,79,37,39,50,41,87,66,17,75,31,45,26,88,70,11,90,40,74,9,32,65,72,61,6,93,54,15,84,22,99,47,10,96,4,84,19,85,73,45,25,16,8,94,99,39,28,26,68,87,48,1,65,86,46,86,7,60,82,45,75,38,56,41,35,30,86,91,97,85,45,5,14,69,85,96,37,18,26,16,38,16,1,44,94,85,58,60,20,5,47,52,41,50,71,43,42,67,64,38,65,83,99,78,96,33,20,98,24,6,2,25,16,16,44,63,24,68,56,49,91,15,59,99,27,43,34,28,36,45,1,10,19,54,26,75,17,88,96,63,24,71,93,72,97,66,87,18,86],this.randomCache={},this.rndIndex=0}return M()(e,[{key:"nextRandom",value:function(e){var t,n=this.randomCache;return n[e]?t=n[e]:(t=this.random100.filter(function(t){return t<e}),n[e]=t),t[this.rndIndex++%t.length]}},{key:"reset",value:function(){this.rndIndex=0}},{key:"fromArray",value:function(e){return e[this.nextRandom(e.length)]}}]),e}();Xc._$name="RandomGenerator";var Kc=function(){function e(){E()(this,e)}return M()(e,null,[{key:"reset",value:function(){this.rnd.reset(),this.rndTime.reset(),this.rndRating.reset()}},{key:"generate",value:to.a.mark(function e(t){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,g,y,m,k,b,w,S=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=S.length>1&&void 0!==S[1]&&S[1],r=S.length>2&&void 0!==S[2]?S[2]:1,o=(i=this).rnd,a=i.rndTime,s=i.rndRating,u=i.firstNames,c=i.surNames,l=i.teams,f=i.foods,d=i.colors,h=i.cities,p=0;case 4:if(!(p<t)){e.next=12;break}return v=o.fromArray(u),g=o.fromArray(c),y="".concat(v," ").concat(String.fromCharCode(65+p%25)," ").concat(g),m=o.nextRandom(60)+1,k=new Date(2019,0,m),b=new Date(2019,0,m+o.nextRandom(30)+2),w={id:p+r,title:"Row "+p,name:y,firstName:v,surName:g,city:o.fromArray(h),team:o.fromArray(h)+" "+o.fromArray(l),age:10+o.nextRandom(80),food:o.fromArray(f),color:o.fromArray(d),score:10*o.nextRandom(100),rank:o.nextRandom(100)+1,start:k,finish:b,time:xt.getTime(a.nextRandom(24),5*a.nextRandom(12)),percent:o.nextRandom(100),done:o.nextRandom(100)<50,rating:s.nextRandom(5),relatedTo:Math.min(t-1,p+r+o.nextRandom(10))},n&&(w.rowHeight=5*o.nextRandom(!0===n?20:n)+20),e.next=9,w;case 9:p++,e.next=4;break;case 12:case"end":return e.stop()}},e,this)})},{key:"generateData",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];i&&this.reset();for(var o=[],a=e.overrideRowCount?e.overrideRowCount:t,s=this.generate(a,n,r),u=0;u<a;u++)o.push(s.next().value);return o}}]),e}();function Zc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Object.assign(Kc,{rnd:new Xc,rndTime:new Xc,rndRating:new Xc,cities:["Stockholm","Barcelona","Paris","Dubai","New York","San Francisco","Washington","Moscow"],firstNames:["Mike","Linda","Don","Karen","Doug","Jenny","Daniel","Melissa","John","Jane","Theo","Lisa","Adam","Mary","Barbara","James","David"],surNames:["McGregor","Ewans","Scott","Smith","Johnson","Adams","Williams","Brown","Jones","Miller","Davis","More","Wilson","Taylor","Anderson","Thomas","Jackson"],teams:["Lions","Eagles","Tigers","Horses","Dogs","Cats","Panthers","Rats","Ducks","Cougars","Hens","Roosters"],foods:["Pancake","Burger","Fish n chips","Carbonara","Taco","Salad","Bolognese","Mac n cheese","Waffles"],colors:["Blue","Green","Red","Yellow","Pink","Purple","Orange","Teal","Black"]}),Kc._$name="DataGenerator";var Jc=["action","target","to","deltaX","deltaY","x","y","text"],Qc=function(e){X()(n,e);var t=Zc(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).call(this,e);var t=this;t.widget&&(t.outerElement=t.widget.element,t.widget.playingDemo=!0),ur.playingDemo=!0,Object.assign(t,{prevTarget:null,currentStep:0,mouse:yn.createElement({parent:t.outerElement,tag:"div",className:"simulated-mouse"}),timeoutId:null,innerIntervalId:null,mouseOutElements:[]}),t.intervalId=t.setInterval(t.nextStep.bind(t),1e3),t.outerElement.classList.add("b-playing-demo"),t.outerElement.addEventListener("click",function(e){e.isTrusted&&t.abort()})}},{key:"doDestroy",value:function(){this.abort()}},{key:"abort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.mouse.style.top="-100px",t.clearInterval(t.intervalId),t.timeoutId&&t.clearTimeout(t.timeoutId),t.innerIntervalId&&t.clearInterval(t.innerIntervalId),t.outerElement.classList.remove("b-playing-demo"),t.widget&&(t.widget.playingDemo=!1),ur.playingDemo=!1,t.trigger(e?"done":"abort")}},{key:"triggerEvent",value:function(e,t,n){if(!e)return null;var r;if(t.startsWith("mouse")){var i=this.mouse.getBoundingClientRect();r=new MouseEvent(t,Object.assign({view:window,bubbles:!0,cancelable:!0,clientX:i.left,clientY:i.top},n||{}))}else(r=document.createEvent("Event")).initEvent(t,!0,!1);return e.dispatchEvent(r),r}},{key:"handleMouseMove",value:function(e,t){var n=this,r=n.mouse;r.classList.add("quick"),n.mouseDown&&r.classList.add("drag");var i=Wn.from(r,n.outerElement),o=i.x,a=i.y,s=0,u=0;if(e.to)if("string"==typeof e.to){var c=n.outerElement.querySelector(e.to);if(c){var l=Wn.from(c,n.outerElement),f=l.x+l.width/2,d=l.y+l.height/2;s=(f-o)/10,u=(d-a)/10}}else e.to.x?s=(e.to.x-o)/10:(s=e.to[0]/10,u=e.to[1]/10);else e.deltaX?s=e.deltaX/10:e.x&&(s=(e.x-o)/10);e.deltaY&&(u=e.deltaY/10);var h=0;n.innerIntervalId=n.setInterval(function(){if(!n.shouldPause){9==h++&&(clearInterval(n.innerIntervalId),e.then&&e.then());var t=o+s*h,i=a+u*h;r.style.left=t+"px",r.style.top=i+"px";var c=r.getBoundingClientRect(),l=c.left,f=c.top,d=document.elementFromPoint(l,f);d!==n.prevTarget&&(n.prevTarget&&(n.mouseOutElements.push(n.prevTarget),yn.isDescendant(n.mouseOutElements[0],d)||(n.mouseOutElements.forEach(function(e){return n.triggerEvent(e,"mouseout")}),n.mouseOutElements.length=0)),n.prevTarget=d,n.triggerEvent(d,"mouseover")),n.triggerEvent(d,e.action,{clientX:l,clientY:f})}},50)}},{key:"getTarget",value:function(e){var t=e.target;return t?"function"==typeof t?t(e):document.querySelector(t):this.prevTarget||this.outerElement}},{key:"normalizeStep",value:function(e){if(e.action)return"function"==typeof e.action?e.action(e):e;if("function"==typeof e)return e(),e;for(var t in e)e.hasOwnProperty(t)&&!Jc.includes(t)&&(e.action=t.toLowerCase(),e.to=e[t]);return e.target||"string"!=typeof e.to&&"function"!=typeof e.to||(e.target=e.to),e}},{key:"nextStep",value:function(){var e=this;if(!e.shouldPause){if(e.currentStep===e.steps.length){if(!e.repeat)return e.abort(!0);e.currentStep=0}0===e.currentStep&&e.trigger("initialize");var t=e.mouse,n=e.normalizeStep(e.steps[e.currentStep++]),r=e.getTarget(n),i=n.action;if(r&&i)if(t.className="simulated-mouse","mousemove"===i)e.handleMouseMove(n,r);else{if(r!==e.prevTarget){var o=Wn.from(r,e.outerElement);t.style.left=o.x+o.width/2+"px",t.style.top=o.y+o.height/2+"px"}"mousedown"===i&&(e.mouseDown=!0),"mouseup"===i&&(e.mouseDown=!1),e.timeoutId=e.setTimeout(function(){if(e.prevTarget=r,t.classList.add(i),"type"===i){var o=De.fromElement(r),a=n.text.split("|");o.value=a[1===a.length||o.value!=a[0]?0:1]}else e.triggerEvent(r,i)},"type"===i?100:550)}}}},{key:"isScrolling",get:function(){var e=this.outerElement.getBoundingClientRect(),t=this.lastTop&&e.top!==this.lastTop;return this.lastTop=e.top,t}},{key:"isInView",get:function(){var e=this.outerElement.getBoundingClientRect();return e.top<window.innerHeight&&e.bottom>0}},{key:"shouldPause",get:function(){return!this.isInView||this.isScrolling||document.hidden||!document.hasFocus()}}],[{key:"defaultConfig",get:function(){return{repeat:!0,outerElement:document.body,callOnFunctions:!0}}}]),n}(me(yr()));Qc._$name="DemoBot";var el=function(){function e(){E()(this,e)}return M()(e,null,[{key:"init",value:function(){var e=["fullscreenEnabled","requestFullscreen","exitFullscreen","fullscreenElement"],t=function(t){return e.map(function(e){var n=t+_.capitalizeFirstLetter(e);return"moz"===t&&(n=n.replace("screen","Screen"),"mozCancelFullScreen"in document&&"exitFullscreen"===e&&(n="mozCancelFullScreen")),n})};this.functions="fullscreenEnabled"in document&&e||"webkitFullscreenEnabled"in document&&t("webkit")||"mozFullScreenEnabled"in document&&t("moz")||"msFullscreenEnabled"in document&&t("ms")||[];var n=["fullscreenchange","fullscreenerror"],r=function(e){return n.map(function(t){return e+_.capitalizeFirstLetter(t)})};this.events="fullscreenEnabled"in document&&n||"webkitFullscreenEnabled"in document&&r("webkit")||"mozFullscreenEnabled"in document&&r("moz")||"msFullscreenEnabled"in document&&["MSFullscreenChange","MSFullscreenError"]||[]}},{key:"request",value:function(e){return e[this.functions[1]]()}},{key:"exit",value:function(){return document[this.functions[2]]()}},{key:"onFullscreenChange",value:function(e){document.addEventListener(this.events[0],e)}},{key:"unFullscreenChange",value:function(e){document.removeEventListener(this.events[0],e)}},{key:"enabled",get:function(){return document[this.functions[0]]}},{key:"isFullscreen",get:function(){return!!document[this.functions[3]]}}]),e}();el.init(),el._$name="Fullscreen";n(269);var tl={constructor:1,prototype:1,name:1,length:1,arguments:1,caller:1,callee:1,__proto__:1},nl=function(){function e(){E()(this,e)}return M()(e,null,[{key:"apply",value:function(e){if(!e.target)throw new Error("Override must specify what it overrides, using static getter target");if(!e.target.class)throw new Error("Override must specify which class it overrides, using target.class");if(!this.shouldApplyOverride(e))return!1;var t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(e.prototype);return t.splice(t.indexOf("target"),1),this.internalOverrideAll(e.target.class,t,e),this.internalOverrideAll(e.target.class.prototype,n,e.prototype),!0}},{key:"internalOverrideAll",value:function(e,t,n){var r=this;Reflect.ownKeys(n).forEach(function(i){if(t.includes(i)&&!tl[i]){for(var o=Object.getOwnPropertyDescriptor(n,i),a=e,s=null;!s&&a;)(s=Object.getOwnPropertyDescriptor(a,i))||(a=Object.getPrototypeOf(a));s&&r.internalOverride(a,i,o,s)}})}},{key:"internalOverride",value:function(e,t,n,r){(e._overridden=e._overridden||{})[t]=e[t],r.get?Object.defineProperty(e,t,{enumerable:!1,configurable:!0,get:n.get}):e[t]=n.value}},{key:"shouldApplyOverride",value:function(e){var t=e.target;if(!t.maxVersion&&!t.minVersion)return!0;if(!t.product)throw new Error("Override must specify product when using versioning");return(!t.maxVersion||!H[t.product].isNewerThan(t.maxVersion))&&(!t.minVersion||!H[t.product].isOlderThan(t.minVersion))}}]),e}();nl._$name="Override";var rl=0,il=new WeakMap,ol=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){var t;return e&&"object"==oe()(e)||"function"==typeof e?void 0===(t=il.get(e))&&(t=++rl,il.set(e,t)):t=String(e),t}).join("-")},al=function(e){var t=new Map;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=ol(r),a=t.get(o);return void 0===a&&(a=e.apply(void 0,r),t.set(o,a)),a}},sl=function(e){var t=new Map,n=function(e){return e[0]},r=function(e){return e[1]},i=function(e,t){return n(e).push(t)};return function(o,a){var s=function(e){var n=t.get(e);return void 0===n&&(n=[[],[]],t.set(e,n)),n}(o);!function(e){return!r(e).length&&!n(e).length}(s)?(i(s,a),r(s).forEach(function(e){return a(e)})):(i(s,a),e(o,function(e){(function(e,t){return r(e).some(function(e){return It.isEqual(e,t)})})(s,e)||(!function(e,t){r(e).push(t)}(s,e),n(s).forEach(function(t){return t(e)}))}))}},ul=Symbol("success"),cl=Symbol("failure"),ll=function(e,t){return[ul,e,t]},fl=function(e){return[cl,e]},dl=function(e){return e.length&&e[0]===ul},hl=function(e){return"function"!=typeof e||e.length?e:e()},pl=al(function(e){return sl(function(t,n){return n(ll(e,t))})}),vl=al(function(e){return sl(function(t,n){var r=Math.min(e.length,t.length),i=t.substr(0,r),o=t.substr(r);n(i===e?ll(i,o):fl(o))})}),gl=function(e,t){return function(n,r){return hl(e)(n,function(e){if(dl(e)){var n=re()(e,3),i=n[1],o=n[2];t(i)(o,r)}else r(e)})}},yl=al(function(){for(var e=al(function(e,t){return sl(gl(e,function(e){return gl(t,function(t){return pl([].concat(e,t))})}))}),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(e,pl([]))}),ml=al(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sl(function(e,n){return t.forEach(function(t){return hl(t)(e,n)})})}),kl=al(function(e){return function(t,n){var r=new RegExp("^".concat(e)).exec(t);if(r){var i=r[0],o=t.substr(i.length);n(ll(i,o))}else n(fl(t))}}),bl=al(function(e,t){return gl(e,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return pl(t.apply(void 0,te()([].concat.apply([],n))))})}),wl=function(e,t){var n=[];return e(t,function(e){dl(e)&&(""===re()(e,3)[2]&&n.push(e))}),n},Sl={memo:al,memoCps:sl,success:ll,failure:fl,isSuccess:dl,resolveParser:hl,succeed:pl,string:vl,bind:gl,seq:yl,alt:ml,regexp:kl,red:bl,runParser:wl,defineParser:function(e){return function(t,n){return n?hl(e)(t,n):wl(hl(e),t)}}};function Dl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Rl=function(e){X()(n,e);var t=Dl(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"store",get:function(){var e=this;return e._store||(e.store=new Ra({data:[{id:e.positiveValue,text:e.positiveText||e.L("L{Object.Yes}")},{id:e.negativeValue,text:e.negativeText||e.L("L{Object.No}")}]})),e._store},set:function(e){di()(Q()(n.prototype),"store",e,this,!0)}}],[{key:"$name",get:function(){return"BooleanCombo"}},{key:"type",get:function(){return"booleancombo"}},{key:"defaultConfig",get:function(){return{positiveValue:!0,positiveText:null,negativeValue:!1,negativeText:null,value:!1}}}]),n}(We(Ja));function Cl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Rl._$name="BooleanCombo",ke.register(Rl.type,Rl);var xl=function(e){X()(n,e);var t=Cl(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"focusElement",get:function(){}},{key:"readOnly",set:function(e){},get:function(){return!0}}],[{key:"$name",get:function(){return"DisplayField"}},{key:"defaultConfig",get:function(){return{readOnly:!0,editable:!1,cls:"b-display-field"}}}]),n}(Fa);function El(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}xl._$name="DisplayField",ke.register("display",xl),ke.register("displayfield",xl);var Tl=function(e){X()(n,e);var t=El(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"roundMagnitude",value:function(e){return e&&null!=this.decimalPrecision?It.round(e,this.decimalPrecision):e}},{key:"internalOnChange",value:function(e){var t=this,n=t.value,r=t._lastValue;t.hasChanged(r,n)&&(t._lastValue=n,t.trigger("change",{value:n,event:e,userAction:!0,valid:t.isValid}))}},{key:"onFocusOut",value:function(e){return this.syncInputFieldValue(!0),ce()(Q()(n.prototype),"onFocusOut",this).call(this,e)}},{key:"calcValue",value:function(){var e=this;return e._unit&&e._magnitude||!e.clearable?new Bs(e._magnitude,e._unit||n.defaultConfig.defaultUnit):null}},{key:"hasChanged",value:function(e,t){return t&&!e||!t&&e||t&&e&&!e.isEqual(t)}},{key:"onInternalKeyDown",value:function(e){"ArrowUp"===e.key?this.doSpinUp():"ArrowDown"===e.key&&this.doSpinDown()}},{key:"doSpinUp",value:function(){var e=this;e._isUserAction=!0,e.magnitude=(e.magnitude||0)+e.step,e._isUserAction=!1}},{key:"doSpinDown",value:function(){var e=this;(e.allowNegative||(e.magnitude||0)>0)&&(e._isUserAction=!0,e.magnitude=(e.magnitude||0)-e.step,e._isUserAction=!1)}},{key:"inputValue",get:function(){return null==this.value?"":this.value.toString(this.useAbbreviation)}},{key:"unit",set:function(e){this._unit=e,di()(Q()(n.prototype),"value",this.calcValue(),this,!0)},get:function(){return this._unit}},{key:"magnitude",set:function(e){this._magnitude=this.roundMagnitude(e),di()(Q()(n.prototype),"value",this.calcValue(),this,!0)},get:function(){return this._magnitude}},{key:"allowDecimals",get:function(){return 0!==this.decimalPrecision}},{key:"isValid",get:function(){var e=this,t=null==e.value||e.value&&null==e.value.magnitude;return ce()(Q()(n.prototype),"isValid",this)&&(t&&!e.required||!t&&(e.allowNegative||e.value.magnitude>=0))}},{key:"value",set:function(e){var t,r,i=this;if("number"==typeof e)t=i.roundMagnitude(e),r=i._unit;else if("string"==typeof e){var o=xt.parseDuration(e,i.allowDecimals,i._unit||n.defaultConfig.defaultUnit);o&&(r=o.unit,t=i.roundMagnitude(o.magnitude))}else e&&"unit"in e&&"magnitude"in e?(r=e.unit,t=i.roundMagnitude(e.magnitude)):(r=null,t=null);i._magnitude===t&&i._unit===r||(i._magnitude=t,i._unit=r,di()(Q()(n.prototype),"value",i.calcValue(),this,!0))},get:function(){return ce()(Q()(n.prototype),"value",this)}},{key:"milliseconds",get:function(){return this.value?this.value.milliseconds:0}}],[{key:"$name",get:function(){return"DurationField"}},{key:"defaultConfig",get:function(){return{value:null,step:1,unit:null,defaultUnit:"day",magnitude:null,useAbbreviation:!1,allowNegative:!1,decimalPrecision:null,triggers:{spin:{type:"spintrigger"}}}}}]),n}(Fa);function Ml(){var e=Bi()(['\n            <input\n             type="file"\n             reference="input"\n             id="','_input"\n             class="','"\n             ',"\n             ","\n            />\n        "]);return Ml=function(){return e},e}function Pl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Tl._$name="DurationField",ke.register("durationfield",Tl),ke.register("duration",Tl);var Al=function(e){X()(n,e);var t=Pl(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"internalOnChange",value:function(e){ce()(Q()(n.prototype),"internalOnInput",this).call(this,e),ce()(Q()(n.prototype),"internalOnChange",this).call(this,e)}},{key:"internalOnInput",value:function(){}},{key:"inputTemplate",value:function(){var e=this;return Wi.tpl(Ml(),e.id,e.inputCls||"",e.multiple?"multiple":"",e.accept?'accept="'+e.accept+'"':"")}},{key:"pickFile",value:function(){this.input.click()}},{key:"clear",value:function(){this.input.value=null}},{key:"triggerChange",value:function(e){this.trigger("change",{event:e,value:this.input.value,oldValue:this._lastValue,userAction:!0,valid:!0})}},{key:"files",get:function(){return this.input.files}}],[{key:"$name",get:function(){return"FileField"}},{key:"defaultConfig",get:function(){return{multiple:!1,accept:null}}}]),n}(Do);function Il(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Al._$name="FileField",ke.register("filefield",Al);var Fl=function(e){X()(n,e);var t=Il(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;e.items=[Object.assign({type:"button",ref:"fileButton",text:"L{FilePicker.file}",localeClass:this},e.buttonConfig),Object.assign({type:"filefield",ref:"fileField",style:"display: none"},e.fileFieldConfig)].concat(e.items||[]),ce()(Q()(n.prototype),"construct",this).call(this,e),t.button.on({click:t.onButtonClick,thisObj:t}),t.fileField.on({change:t.onFileFieldChange,thisObj:t}),t._thisIsAUsedExpression(t.fileTip)}},{key:"clear",value:function(){this.fileField.clear(),this.button.badge="",this.trigger("clear")}},{key:"onButtonClick",value:function(e){var t=e.event;this.fileField.pickFile(),t.preventDefault()}},{key:"onFileFieldChange",value:function(){this.button.badge=this.files.length||"",this.trigger("change",{files:this.files})}},{key:"button",get:function(){return this.widgetMap.fileButton}},{key:"fileField",get:function(){return this.widgetMap.fileField}},{key:"files",get:function(){return this.fileField.files}},{key:"fileTip",get:function(){var e=this;return e._fileTip||(e._fileTip=new ao({cls:"b-file-tip",forElement:e.button.element,showOnHover:!0,align:"b-t",scrollAction:"realign",listeners:{beforeshow:function(){var t=e.files;return!(!t||!t.length)&&(this.html="".concat(Array.from(t).map(function(e){return e.name}).join("<br>")),!0)}}}))}}],[{key:"$name",get:function(){return"FilePicker"}},{key:"defaultConfig",get:function(){return{defaultBindProperty:"value",buttonConfig:null,fileFieldConfig:null}}}]),n}(Mi);function Ll(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Fl._$name="FilePicker",ke.register("filepicker",Fl);var Ol=function(e){X()(n,e);var t=Ll(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"value",get:function(){return this.checked},set:function(e){e=Boolean(e),di()(Q()(n.prototype),"value",e,this,!0),this.inputting||(this.checked=e)}}],[{key:"$name",get:function(){return"FlagField"}},{key:"type",get:function(){return"flagfield"}},{key:"defaultConfig",get:function(){return{value:""}}}]),n}(xo);function _l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ol._$name="FlagField",ke.register(Ol.type,Ol);var jl=new(function(e){X()(r,e);var t,n=_l(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"confirm",value:(t=ro()(to.a.mark(function e(t){var n,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.message,r=t.title,i=void 0===r?"Â ":r,(o=this).title=i,o.element.classList.remove(o.showClass),n?(o.showClass="b-show-message-yes-no",o.widgetMap.message.html=n):o.showClass="b-show-yes-no",o.element.classList.add(o.showClass),o.show(),e.abrupt("return",o.promise=new Promise(function(e){o.resolve=e}));case 8:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"doResolve",value:function(e){var t=this,n=t.resolve;n&&(t.resolve=t.reject=t.promise=null,n(e),t.hide())}},{key:"onInternalKeyDown",value:function(e){"Escape"===e.key&&(e.stopImmediatePropagation(),this.widgetMap.cancelButton.isVisible?this.onCancelClick():this.onNoClick()),ce()(Q()(r.prototype),"onInternalKeyDown",this).call(this,e)}},{key:"onYesClick",value:function(){this.doResolve(jl.yesButton)}},{key:"onNoClick",value:function(){this.doResolve(jl.noButton)}},{key:"onCancelClick",value:function(){this.doResolve(jl.cancelButton)}}],[{key:"$name",get:function(){return"MessageDialog"}},{key:"defaultConfig",get:function(){return{id:"bryntum-msgdialog",centered:!0,modal:!0,hidden:!0,autoShow:!1,closeAction:"hide",title:"Â ",items:[{type:"widget",id:"bryntum-msgdialog-message",cls:"b-msgdialog-message",ref:"message"},{type:"textfield",id:"bryntum-msgdialog-input",cls:"b-msgdialog-input",ref:"input"}],bbar:{id:"bryntum-msgdialog-bbar",items:[{ref:"yesButton",id:"bryntum-msgdialog-yesbutton",cls:"b-msgdialog-yesbutton",text:"L{Object.Yes}",onClick:"up.onYesClick"},{ref:"noButton",id:"bryntum-msgdialog-nobutton",cls:"b-msgdialog-nobutton",text:"L{Object.No}",onClick:"up.onNoClick"},{ref:"cancelButton",id:"bryntum-msgdialog-cancelbutton",cls:"b-msgdialog-cancelbutton",text:"L{Object.Cancel}",onClick:"up.onCancelClick"}]}}}}]),r}(Hi));jl.noButton=0,jl.yesButton=1,jl.cancelButton=3;var Hl=jl;function Nl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Bl=function(e){X()(n,e);var t=Nl(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onStoreBeforeRequest",value:function(){this.eachWidget(function(e){return e.disable()})}},{key:"updateLocalization",value:function(){var e=this,t=e.widgetMap,r=t.reloadButton,i=t.firstPageButton,o=t.previousPageButton,a=t.nextPageButton,s=t.lastPageButton;i.tooltip=e.L("L{firstPage}"),o.tooltip=e.L("L{prevPage}"),a.tooltip=e.L("L{nextPage}"),s.tooltip=e.L("L{lastPage}"),r.tooltip=e.L("L{reload}"),e.updateSummary(),ce()(Q()(n.prototype),"updateLocalization",this).call(this)}},{key:"updateSummary",value:function(){var e,t,n,r,i,o=this,a=o.widgetMap,s=a.pageCount,u=a.dataSummary;if(e=t=n=r=i=0,o.store){var c=o.store,l=c.pageSize,f=c.currentPage;e=c.count,t=c.lastPage,i=c.allCount,n=Math.max(0,(f-1)*l+1),r=Math.min(i,n+l-1)}s.html=o.L("L{pageCountTemplate}")({lastPage:t}),u.html=e?o.L("L{summaryTemplate}")({start:n,end:r,allCount:i}):o.L("L{noRecords}")}},{key:"onStoreChange",value:function(){var e=this.widgetMap,t=this.store,n=t.count,r=t.lastPage,i=t.currentPage,o=e.pageNumber,a=e.pageCount,s=e.firstPageButton,u=e.previousPageButton,c=e.nextPageButton,l=e.lastPageButton,f=e.dataSummary;this.eachWidget(function(e){return e.enable()}),o.value=i,o.max=r,f.disabled=o.disabled=a.disabled=!n,s.disabled=u.disabled=i<=1||!n,c.disabled=l.disabled=i>=r||!n,this.updateSummary()}},{key:"onPageNumberChange",value:function(e){var t=e.value;this.store.currentPage!==t&&this.store.loadPage(t)}},{key:"onFirstPageClick",value:function(){this.store.loadPage(1)}},{key:"onPreviousPageClick",value:function(){this.store.previousPage()}},{key:"onNextPageClick",value:function(){this.store.nextPage()}},{key:"onLastPageClick",value:function(){this.store.loadPage(this.store.lastPage)}},{key:"onReloadClick",value:function(){this.store.loadPage(this.store.currentPage)}},{key:"store",set:function(e){var t=this,n={beforerequest:"onStoreBeforeRequest",afterrequest:"onStoreChange",change:"onStoreChange",thisObj:t};t.store&&t.store.un(n),t._store=e,e&&(e.on(n),e.isLoading&&t.onStoreBeforeRequest())},get:function(){return this._store}}],[{key:"$name",get:function(){return"PagingToolbar"}},{key:"defaultConfig",get:function(){return{store:null,namedItems:{firstPageButton:{onClick:"up.onFirstPageClick",icon:"b-fa-angle-double-left"},previousPageButton:{onClick:"up.onPreviousPageClick",icon:"b-fa-angle-left"},pageNumber:{type:"numberfield",label:"L{page}",localeClass:this,min:1,max:1,triggers:null,onChange:"up.onPageNumberChange"},pageCount:{type:"widget",cls:"b-pagecount b-toolbar-text"},nextPageButton:{onClick:"up.onNextPageClick",icon:"b-fa-angle-right"},lastPageButton:{onClick:"up.onLastPageClick",icon:"b-fa-angle-double-right"},reloadButton:{onClick:"up.onReloadClick",icon:"b-fa-redo"},dataSummary:{type:"widget",cls:"b-toolbar-text"}},items:{firstPageButton:!0,previousPageButton:!0,pageNumber:!0,pageCount:!0,nextPageButton:!0,lastPageButton:!0,sep:"|",reloadButton:!0,spacer:"->",dataSummary:!0}}}}]),n}(Ai);function zl(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Vl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Vl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Bl._$name="PagingToolbar",ke.register("pagingtoolbar",Bl);var $l=function(e){return parseInt(yn.getStyleValue(e,"flex-basis"),10)||parseInt(yn.getStyleValue(e,"flex-grow"),10)},Gl=function(e){X()(n,e);var t=Wl(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"doDestroy",value:function(){this.mouseDetacher&&this.mouseDetacher(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"template",value:function(){return'<div class="b-splitter"></div>'}},{key:"updateOrientation",value:function(){var e=this,t=this.element;if(e._prevOrientation&&t.classList.remove(e._prevOrientation),!e._currentOrientation&&e.rendered&&t.offsetParent){var n=yn.getStyleValue(t.parentElement,"flex-direction");if(n)e._currentOrientation=n.startsWith("column")?"horizontal":"vertical";else{var r=t.previousElementSibling,i=t.nextElementSibling;if(!r||!i)return;var o=r.getBoundingClientRect(),a=i.getBoundingClientRect(),s=o.top<a.top?o:a,u=s===a?o:a;e._currentOrientation=s.top!==u.top?"horizontal":"vertical"}}e._currentOrientation&&t.classList.add("b-".concat(e._currentOrientation)),e._prevOrientation=e._currentOrientation}},{key:"onMouseDown",value:function(e){e.preventDefault(),e.touches&&(e=e.touches[0]);var t=this,n=t.element,r=n.previousElementSibling,i=n.nextElementSibling,o=$l(r),a=$l(i),s=[];t.mouseDetacher&&t.mouseDetacher();var u,c=zl(n.parentElement.children);try{for(c.s();!(u=c.n()).done;){var l=u.value;$l(l)&&l!==n&&s.push({element:l,width:l.offsetWidth,height:l.offsetHeight})}}catch(e){c.e(e)}finally{c.f()}t.context={startX:e.pageX,startY:e.pageY,prevWidth:r.offsetWidth,prevHeight:r.offsetHeight,nextWidth:i.offsetWidth,nextHeight:i.offsetHeight,prevHasFlex:o,nextHasFlex:a,flexed:s,prev:r,next:i};var f={element:document,pointermove:"onMouseMove",pointerup:"onMouseUp",thisObj:t};N.supportsPointerEvents||(f.mousemove="onMouseMove",f.touchmove="onMouseMove",f.mouseup=f.touchend="onMouseUp"),t.mouseDetacher=ur.on(f)}},{key:"onMouseMove",value:function(e){var t=this,n=t.context,r=e.pageX-n.startX,i=e.pageY-n.startY;if(e.preventDefault(),Object.assign(n,{deltaX:r,deltaY:i}),n.started||(n.started=!0,t.trigger("start",{context:n,event:e}),n.flexed.forEach(function(e){"vertical"===t.currentOrientation?e.element.style.flexGrow=e.width:e.element.style.flexGrow=e.height,e.element.style.flexBasis="0"})),"vertical"===t.currentOrientation){var o=n.prevWidth+r,a=n.nextWidth-r;n.prevHasFlex?n.prev.style.flexGrow=o:n.prev.style.width="".concat(o,"px"),n.nextHasFlex?n.next.style.flexGrow=a:n.next.style.width="".concat(a,"px")}else{var s=n.prevHeight+i,u=n.nextHeight-i;n.prevHasFlex?n.prev.style.flexGrow=s:n.prev.style.height="".concat(s,"px"),n.nextHasFlex?n.next.style.flexGrow=u:n.next.style.height="".concat(u,"px")}t.trigger("move",{context:n,event:e})}},{key:"onMouseUp",value:function(e){var t=this;t.mouseDetacher&&t.mouseDetacher(),t.mouseDetacher=null,t.context.started&&t.trigger("end",{context:t.context,event:e}),t.context=null}},{key:"render",value:function(){ce()(Q()(n.prototype),"render",this).apply(this,arguments);var e=this;e._currentOrientation||(e.updateOrientation(),e._currentOrientation||e.requestAnimationFrame(function(){return e.updateOrientation()}))}},{key:"element",get:function(){return ce()(Q()(n.prototype),"element",this)},set:function(e){di()(Q()(n.prototype),"element",e,this,!0);var t={element:this.element,pointerdown:"onMouseDown",thisObj:this};N.supportsPointerEvents||(t.mousedown="onMouseDown",t.touchstart="onMouseDown"),ur.on(t)}},{key:"currentOrientation",get:function(){return this._currentOrientation}},{key:"orientation",get:function(){return this._orientation},set:function(e){this._orientation=e,this._currentOrientation="auto"===e?null:e,this.updateOrientation()}}],[{key:"defaultConfig",get:function(){return{orientation:"auto"}}}]),n}(Jr);function Yl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Gl._$name="Splitter",ke.register("splitter",Gl);var Ul=function(e){X()(n,e);var t=Yl(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;r.masterStore=t,t&&(r._grid=Array.isArray(t)?t[0].grid:t.grid),r.localizableProperties=e.localizableProperties||["text"],e.localeClass&&(r.localeClass=e.localeClass),ce()(Q()(n.prototype),"construct",this).call(this,e,t,null,!1),r.processConfiguredListeners(e.listeners),"field"in r.data||(r.field="_"+(r.type||"")+ ++n.emptyCount,r.noFieldSpecified=!0),r.hasComplexMapping=r.field&&r.field.includes("."),r.width||r.flex||r.children||r.set({width:n.defaultWidth,flex:null},null,!0)}},{key:"remove",value:function(){var e=this.subGrid,t=this.grid,r=e&&t&&t.focusedCell;r&&r.columnId===this.id&&(document.activeElement===t?t.navigateRight():r.columnId=e.columns.getAdjacentVisibleLeafColumn(this.id,!0,!0).id),ce()(Q()(n.prototype),"remove",this).call(this)}},{key:"getRawValue",value:function(e){return this.hasComplexMapping?It.getPath(e,this.field):e[this.field]||e.get(this.field)}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=t.parent;if(!t.hidden){if(t.hidden=!0,n&&!n.isRoot){var r=n.children.some(function(e){return!0!==e.hidden});r||n.hidden||(e=!0,n.hide())}t.children&&t.children.forEach(function(e){return e.hide(!0)}),e||t.stores.forEach(function(e){return e.trigger("hideColumn")})}}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=t.parent;t.hidden&&(t.hidden=!1,n&&n.hidden&&n.show(),t.children&&t.children.forEach(function(e){return e.show(!0)}),e||t.stores.forEach(function(e){return e.trigger("showColumn")}))}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.hidden&&void 0===e||!0===e?this.show():!this.hidden&&void 0===e||!1===e?this.hide():void 0}},{key:"generateId",value:function(){return n.generatedIdIndex||(n.generatedIdIndex=0),(this.field?this.field.replace(/\./g,"-"):"col")+ ++n.generatedIdIndex}},{key:"measureSize",value:function(e){return yn.measureSize(e,this.subGrid?this.subGrid.element:void 0)}},{key:"calculateMinWidth",value:function(){var e=this,t=e.measureSize(e.width),n=e.measureSize(e.minWidth),r=0;return e.children&&(r=e.children.reduce(function(e,t){return e+t.calculateMinWidth()},0)),Math.max(t,n,r)}},{key:"resizeToFitContent",value:function(){var e=this,t=e.grid,n=e.renderer,r=e.defaultRenderer,i=e.element,o=t.rowManager,a=t.store,s=a.count,u=n||r;if(!(s<=0)){var c,l,f,d,h,p=t.element.querySelector(".b-grid-cell[data-column-id=".concat(e.id,"]")),v=p.cssText,g=p.className,y=0;if(t.resizeToFitIncludesHeader){var m=window.getComputedStyle(i);y=yn.measureText(i.innerText,i,!1,i.parentElement)+parseInt(m.paddingLeft),i.parentElement.offScreenDiv.parentElement.remove()}for(s>1e3?l=(c=Math.max(Math.min(o.topIndex+o.rowCount/2-500,s-1e3),0))+1e3:(c=0,l=s),f=c;f<l;f++)d=a.getAt(f),h=e.getRawValue(d),u&&(h=null==(h=u.call(e,{cellElement:p,rowElement:p.parentNode,value:h,record:d,column:e,size:{height:d.rowHeight||0},grid:t,row:{},updatingSingleRow:!1}))?p.innerHTML:String(h)),h&&(y=Math.max(y,yn.measureText(h,p,!(e.htmlEncode&&!e.disableHtmlEncode),e.subGrid.element)));return p.className=g,p.cssText=v,e.width=y}}},{key:"getState",value:function(){var e,t=this,n=(e={},se()(e,t.flex?"flex":"width",t.flex?t.flex:t.width),se()(e,"id",t.id),se()(e,"hidden",t.hidden),se()(e,"index",t.allIndex),se()(e,"region",t.region),se()(e,"filterable",t.filterable),se()(e,"text",t.text),se()(e,"locked",t.locked),e);return t.children&&(n.children=t.children.map(function(e){return e.getState()})),n}},{key:"applyState",value:function(e){var t=this;t.beginBatch(),"locked"in e&&(t.locked=e.locked),"minWidth"in e&&(t.minWidth=e.minWidth),"width"in e&&(t.width=e.width),"flex"in e&&(t.flex=e.flex),"width"in e&&t.flex?t.flex=void 0:"flex"in e&&t.width&&(t.width=void 0),"text"in e&&(t.text=e.text),"region"in e&&(t.region=e.region),"renderer"in e&&(t.renderer=e.renderer),"filterable"in e&&(t.filterable=e.filterable),t.endBatch(),"hidden"in e&&t.toggle(!0!==e.hidden)}},{key:"clearCell",value:function(e){e.innerHTML=""}},{key:"canEdit",value:function(e){return!0}},{key:"owner",get:function(){return this._owner||this.subGrid},set:function(e){this._owner=e}},{key:"nextVisibleSibling",get:function(){for(var e=this.region,t=this.nextSibling;t&&(t.hidden||t.region!==e);)t=t.nextSibling;return t}},{key:"isLastInSubGrid",get:function(){return!this.nextVisibleSibling&&(!this.parent||this.parent.isLastInSubGrid)}},{key:"element",get:function(){return this.grid.getHeaderElement(this)}},{key:"textWrapper",get:function(){return yn.getChild(this.element,".b-grid-header-text")}},{key:"textElement",get:function(){return yn.down(this.element,".b-grid-header-text-content")}},{key:"contentElement",get:function(){return yn.down(this.element,".b-grid-header-children")}},{key:"editor",get:function(){var e=this.data.editor;if(e&&!(e instanceof Jr)){var t=this.grid.processCellEditor({editor:e,field:this.field});t?e=this.data.editor=t.editor:("string"==typeof e&&(e={type:e}),e=this.data.editor=Ce.createWidget(Object.assign(this.defaultEditor,e,{owner:this.grid})))}return e},set:function(e){this.data.editor=e}},{key:"defaultEditor",get:function(){return{type:"textfield",name:this.field}}},{key:"isFocusable",get:function(){return this.isLeaf}},{key:"grid",get:function(){return this._grid||this.parent&&this.parent.grid}},{key:"locked",get:function(){return"locked"===this.data.region},set:function(e){this.region=e?"locked":"normal"}},{key:"sortable",get:function(){return this.isLeaf&&this.data.sortable},set:function(e){this.set("sortable",e)}},{key:"groupable",get:function(){return this.isLeaf&&this.data.groupable},set:function(e){this.set("groupable",e)}},{key:"allIndex",get:function(){return this.masterStore.indexOf(this)}},{key:"width",get:function(){return this.data.width},set:function(e){var t={width:e};e&&"flex"in this.data&&(t.flex=null),this.set(t)}},{key:"subGrid",set:function(e){this._subGrid=e},get:function(){return this._subGrid||(this.grid?this.grid.getSubGridFromColumn(this):void 0)}},{key:"subGridElement",get:function(){return this.subGrid.element}}],[{key:"fields",get:function(){return["text","field","renderer","width","flex",{name:"editor",defaultValue:{}},"finalizeCellEdit",{name:"revertOnEscape",defaultValue:!0},{name:"invalidAction",defaultValue:"block"},{name:"sortable",defaultValue:!0},{name:"searchable",defaultValue:!0},{name:"filterable",defaultValue:!0},{name:"hideable",defaultValue:!0},{name:"draggable",defaultValue:!0},{name:"groupable",defaultValue:!0},{name:"resizable",defaultValue:!0},"groupRenderer","headerRenderer","tooltipRenderer","cellCls","cls","icon","align",{name:"minWidth",defaultValue:60},{name:"hidden",defaultValue:!1},{name:"locked"},{name:"region"},{name:"showColumnPicker",defaultValue:!0},{name:"enableHeaderContextMenu",defaultValue:!0},{name:"enableCellContextMenu",defaultValue:!0},"headerMenuItems","cellMenuItems","sum","summaries","summaryRenderer","responsiveLevels","tags","touchConfig","tree","filterType",{name:"htmlEncode",defaultValue:!0},{name:"autoSyncHtml",defaultValue:!1},"type",{name:"instantUpdate",defaultValue:!1},{name:"repaintOnResize",defaultValue:!1},"editTargetSelector",{name:"exportable",defaultValue:!0},{name:"exportedType"}]}},{key:"autoExposeFields",get:function(){return!1}},{key:"type",get:function(){return"column"}},{key:"text",get:function(){return this.defaultValues.text}}]),n}(me(We(Yo)));function ql(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Xl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xl(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Xl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ul.emptyCount=0,Ul.defaultWidth=100,Ul.exposeProperties(),Ul._$name="Column";var Zl=function(e){X()(n,e);var t=Kl(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;e.grid&&(e.grid._columnStore=t,t.id="".concat(e.grid.id,"-columns"),e.grid.on({subGridCollapse:"clearSubGridCaches",subGridExpand:"clearSubGridCaches",thisObj:t})),ce()(Q()(n.prototype),"construct",this).call(this,e),t.on({change:t.clearCaches,thisObj:t,prio:1})}},{key:"doDestroy",value:function(){var e=[];this.traverse(function(t){return e.push(t)}),ce()(Q()(n.prototype),"doDestroy",this).call(this),e.forEach(function(e){return e.destroy()})}},{key:"getById",value:function(e){return ce()(Q()(n.prototype),"getById",this).call(this,e)||this.idRegister[e]}},{key:"forEach",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this.traverseWhile(function(n,r){return e.call(t,n,r)},!0)}},{key:"clearSubGridCaches",value:function(e){e.columns.clearCaches(),this.clearCaches()}},{key:"clearCaches",value:function(){this._visibleColumns=null}},{key:"onMasterDataChanged",value:function(e){ce()(Q()(n.prototype),"onMasterDataChanged",this).call(this,e),this.clearCaches()}},{key:"getAdjacentVisibleLeafColumn",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.visibleColumns,i=e instanceof Ul?e:this.getById(e),o=r.indexOf(i)+(t?1:-1);if(!r[o]){if(!n)return null;o=t?0:r.length-1}return r[o]}},{key:"get",value:function(e){return this.findRecord("field",e,!0)}},{key:"createRecord",value:function(e){var t=this.grid,r=void 0===t?{}:t,i=r.store,o=this.modelClass;if(e.type&&!(o=n.getColumnClass(e.type)))throw new Error("Column type '".concat(e.type,"' not registered"));e.locked&&(e.region="locked",delete e.locked);var a=new o(e,this);if(a.data.region||(a.data.region=r.defaultRegion||"normal"),this.autoAddField&&!a.noFieldSpecified&&i&&!i.modelClass.getFieldDefinition(a.field)){var s=a.field;a.constructor.fieldType&&(s={name:a.field,type:a.constructor.fieldType}),i.modelClass.addField(s)}return a}},{key:"indexOf",value:function(e){var t=ce()(Q()(n.prototype),"indexOf",this).call(this,e);return t>-1?t:this.records.findIndex(function(t){return t.field===e})}},{key:"modelClass",get:function(){return this._modelClass},set:function(e){this._modelClass=e}},{key:"totalFixedWidth",get:function(){var e,t=0,n=ql(this);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.hidden||(r.flex?t+=r.measureSize(Ul.defaultWidth):t+=Math.max(r.measureSize(r.width),r.measureSize(r.minWidth)))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"topColumns",get:function(){return this.isChained?this.masterStore.rootNode.children.filter(this.chainedFilterFn):this.rootNode.children}},{key:"visibleColumns",get:function(){return this._visibleColumns||(this._visibleColumns=this.leaves.filter(function(e){return!(e.hidden||e.subGrid&&e.subGrid.collapsed)})),this._visibleColumns}},{key:"bottomColumns",get:function(){return this.leaves}}],[{key:"registerColumnType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.columnTypes||(n.columnTypes={}),e.simpleRenderer=t,n.columnTypes[e.type]=e}},{key:"getColumnClass",value:function(e){return n.columnTypes&&n.columnTypes[e]}},{key:"defaultConfig",get:function(){return{modelClass:Ul,tree:!0,autoAddField:!1}}}]),n}(We(Ra));function Jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ql(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(Ul,!0),Zl._$name="ColumnStore";var ef=function(e){X()(n,e);var t=Ql(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){this.internalCellCls="b-action-cell",ce()(Q()(n.prototype),"construct",this).apply(this,arguments),e.width||e.flex||this.grid.on("paint",this.updateAutoWidth,this)}},{key:"renderer",value:function(e){var t=e.column,n=e.record,r=n&&"groupRowFor"in n.meta;return{className:{"b-action-ct":1},children:t.actions.map(function(e,i){if("visible"in e){if("function"==typeof e.visible&&!1===e.visible({record:n}))return"";if(!1===e.visible)return""}if(r&&!e.showForGroup||!r&&e.showForGroup)return"";var o;if(o="function"==typeof e.tooltip?e.tooltip({record:n}):e.tooltip||"",e.renderer&&"function"==typeof e.renderer){var a=e.renderer({index:i,record:n,column:t,tooltip:o,action:e});return"string"==typeof a?{tag:"span",dataset:{index:i},html:a}:(a.dataset=a.dataset||{},a.dataset.index=i,a)}return{tag:"i",dataset:{index:i,btip:o},className:se()({"b-action-item":1},e.cls,1)}})}}},{key:"onCellClick",value:function(e){var t=e.grid,n=e.column,r=e.record,i=e.target;if(i.classList.contains("b-action-item")&&!t.readOnly){var o=i.dataset.index;o||(o=i.parentElement.dataset&&i.parentElement.dataset.index);var a=n.actions[o],s=a&&a.onClick;s&&this.callback(s,n,[{record:r,action:a}])}}},{key:"updateAutoWidth",value:function(){var e=this,t=[],n=[];e.actions.forEach(function(e){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(n),!0).forEach(function(t){se()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e);delete r.visible,r.showForGroup?(delete r.showForGroup,t.push(r)):n.push(r)}),t.length>n.length&&(n=t);var r=yn.createElement(e.renderer({column:{actions:n}})).outerHTML,i=e.grid.element.querySelector(".b-grid-cell[data-column-id=".concat(e.id,"]"));e.width=yn.measureText(r,i,!0,i.parentElement)}}],[{key:"type",get:function(){return"action"}},{key:"fields",get:function(){return["actions"]}},{key:"defaults",get:function(){return{filterable:!1,sortable:!1,editor:!1,searchable:!1,htmlEncode:!1,resizable:!1,groupable:!1,minWidth:30}}}]),n}(Ul);function tf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(ef),ef.exposeProperties(),ef._$name="ActionColumn";var nf=function(e){X()(n,e);var t=tf(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){this.configuredAlign="align"in e,this.configuredEditor="editor"in e,ce()(Q()(n.prototype),"construct",this).apply(this,arguments);var r=t.grid;r&&(this.owner=r,r.on({paint:"onGridPaint",thisObj:this,prio:1e3}))}},{key:"onGridPaint",value:function(e){var t=e.source;this.store=t.store}},{key:"canEdit",value:function(e){return e.isLeaf}},{key:"sum",value:function(){for(var e=0,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n.length;i<o;i++)e+=parseInt(n[i]||0,10);return e}},{key:"avg",value:function(){for(var e=0,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n.length,o=0;o<i;o++)e+=parseInt(n[o]||0,10);return e/i}},{key:"onRecordUpdate",value:function(e){var t=e.record,n=e.changes,r=this,i=r.grid.rowManager;r.field in n&&t.isLeaf&&t.bubble(function(e){var t=i.getRowFor(e);if(t){var n=t.getCell(r.field);n&&t.renderCell(n,e)}},!0)}},{key:"getRawValue",value:function(e){var t=0;if(e.children){for(var n=this.function,r="string"==typeof n&&"function"==typeof Math[n]?{handler:Math[n],thisObj:Math}:this.resolveCallback(n),i=r.handler,o=r.thisObj,a=0,s=e.children.length;a<s;a++)t=i.call(o,t,this.getRawValue(e.children[a]));e.setData(this.field,t)}else t=e[this.field];return t}},{key:"store",set:function(e){var t=this,n={update:"onRecordUpdate",thisObj:t,prio:1e3},r=t._store;if(e!==r){r&&r.un(n),t._store=e;var i=e.modelClass.fieldMap[t.field];i&&"number"===i.type&&(t.configuredAlign||(t.align="end"),t.configuredEditor||(t.editor="number")),e.on(n)}},get:function(){return this._store}}],[{key:"type",get:function(){return"aggregate"}},{key:"fields",get:function(){return["function"]}},{key:"defaults",get:function(){return{function:"sum"}}}]),n}(Ul);function rf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(nf,!0),nf.exposeProperties(),nf._$name="AggregateColumn";var of=function(e){X()(n,e);var t=rf(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){this.widgetMap={},this.internalCellCls="b-widget-cell",ce()(Q()(n.prototype),"construct",this).apply(this,arguments)}},{key:"doDestroy",value:function(){for(var e=0,t=Object.values(this.widgetMap);e<t.length;e++){var r=t[e];r.destroy&&r.destroy()}ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"renderer",value:function(e){var t=this,n=e.cellElement,r=e.column,i=e.value,o=e.record,a=e.isExport,s=r.widgets;if(!a&&s&&(n.widgets||t.clearCell(n),n.widgets=s.map(function(a,s){var u,c;return n.widgets&&(c=(u=n.widgets[s]).element.nextElementSibling,a.recreate&&u&&(delete t.widgetMap[u.id],u.destroy(),n.widgets[s]=null)),u||(t.onBeforeWidgetCreate(a,e),u=Ce.append(a,c?{insertBefore:c}:n)[0],t.widgetMap[u.id]=u,t.onAfterWidgetCreate(u,e)),u.cellInfo={cellElement:n,value:i,record:o,column:r},t.grid&&(u.readOnly=t.grid.readOnly),!1!==t.onBeforeWidgetSetValue(u,e)&&(a.noValueOnRender||(a.valueProperty?u[a.valueProperty]=i:u.defaultBindProperty?u[u.defaultBindProperty]=i:u.text=u.value=i)),t.onAfterWidgetSetValue(u,e),u})),a)return null}},{key:"onBeforeWidgetCreate",value:function(e,t){}},{key:"onAfterWidgetCreate",value:function(e,t){}},{key:"onBeforeWidgetSetValue",value:function(e,t){}},{key:"onAfterWidgetSetValue",value:function(e,t){}},{key:"clearCell",value:function(e){var t=this;e.widgets&&(e.widgets.forEach(function(e){delete t.widgetMap[e.id],e.destroy()}),e.widgets=null),ce()(Q()(n.prototype),"clearCell",this).call(this,e)}},{key:"resizeToFitContent",value:function(){}}],[{key:"type",get:function(){return"widget"}},{key:"fields",get:function(){return["widgets"]}},{key:"defaults",get:function(){return{filterable:!1,sortable:!1,editor:!1,searchable:!1}}}]),n}(Ul);function af(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(of),of.exposeProperties(),of._$name="WidgetColumn";var sf=function(e){X()(n,e);var t=af(n);function n(e,r){var i;return E()(this,n),(i=t.apply(this,arguments)).internalCellCls="b-check-cell",i.grid&&i.grid.on("destroy",function(){return i.headerCheckbox&&i.headerCheckbox.destroy()}),i}return M()(n,null,[{key:"type",get:function(){return"check"}},{key:"fields",get:function(){return["checkCls","showCheckAll"]}},{key:"defaults",get:function(){return{align:"center",checkCls:null,showCheckAll:!1,widgets:[{type:"checkbox",valueProperty:"checked"}]}}}]),M()(n,[{key:"headerRenderer",value:function(e){var t=e.headerElement,n=e.column;if(t.classList.add("b-check-header"),!n.showCheckAll)return n.text;t.classList.add("b-check-header-with-checkbox"),n.headerCheckbox&&n.headerCheckbox.destroy(),n.headerCheckbox=new xo({appendTo:t,owner:this.grid,listeners:{change:function(e){var t=e.checked;n.trigger("toggleAll",{checked:t})}}})}},{key:"renderer",value:function(e){var t=e.value,r=e.isExport;if(r)return null==t?"":t;ce()(Q()(n.prototype),"renderer",this).apply(this,arguments)}},{key:"onBeforeWidgetCreate",value:function(e,t){e.cls=this.checkCls}},{key:"onAfterWidgetCreate",value:function(e,t){t.cellElement.widget=e,e.on({beforeChange:"onBeforeCheckboxChange",change:"onCheckboxChange",thisObj:this})}},{key:"onBeforeWidgetSetValue",value:function(e){e.record=e.cellInfo.record,this.isInitialSet=!0}},{key:"onAfterWidgetSetValue",value:function(e){this.isInitialSet=!1}},{key:"onBeforeCheckboxChange",value:function(e){var t=e.source,n=e.checked;if(!this.isInitialSet)return this.trigger("beforeToggle",{record:t.cellInfo.record,checked:n})}},{key:"onCheckboxChange",value:function(e){var t=e.source,n=e.checked;if(!this.isInitialSet){var r=t.cellInfo.record,i=this.field;if(i){var o="set".concat(_.capitalizeFirstLetter(i));r[o]?r[o](n):r.set(i,n)}this.trigger("toggle",{record:r,checked:n})}}}]),n}(of);function uf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(sf,!0),sf._$name="CheckColumn";var cf=function(e){X()(n,e);var t=uf(n);function n(e,r){var i;return E()(this,n),(i=t.apply(this,arguments)).internalCellCls="b-date-cell",i}return M()(n,null,[{key:"type",get:function(){return"date"}},{key:"fieldType",get:function(){return"date"}},{key:"fields",get:function(){return["format","pickerFormat","step"]}},{key:"defaults",get:function(){return{format:"L",step:1,minWidth:85,filterType:"date"}}}]),M()(n,[{key:"defaultRenderer",value:function(e){var t=e.value;return t?this.formatValue(t):""}},{key:"groupRenderer",value:function(e){var t=e.cellElement,n=e.groupRowFor;t.innerHTML=this.formatValue(n)}},{key:"formatValue",value:function(e){return"string"==typeof e&&(e=xt.parse(e,this.format||void 0)),xt.format(e,this.format||void 0)}},{key:"format",set:function(e){var t=this.editor;this.set("format",e),t&&(t.format=this.format)},get:function(){return this.get("format")}},{key:"defaultEditor",get:function(){return{name:this.field,type:"date",calendarContainerCls:"b-grid-cell-editor-related",weekStartDay:this.grid.weekStartDay,format:this.format,step:this.step}}}]),n}(Ul);function lf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(cf,!0),cf.exposeProperties(),cf._$name="DateColumn";var ff=function(e){X()(n,e);var t=lf(n);function n(e,r){var i;return E()(this,n),(i=t.apply(this,arguments)).internalCellCls="b-percent-bar-cell",i}return M()(n,null,[{key:"type",get:function(){return"percent"}},{key:"fieldType",get:function(){return"number"}},{key:"fields",get:function(){return["lowThreshold"]}},{key:"defaults",get:function(){return{editor:{type:"number",min:0,max:100},lowThreshold:20,filterType:"number",htmlEncode:!1,searchable:!1,summaryRenderer:function(e){return"".concat(e,"%")}}}}]),M()(n,[{key:"renderer",value:function(e){var t=e.value;return{className:"b-percent-bar-outer",children:[{tag:"div",className:{"b-percent-bar":1,"b-zero":0===(t=t||0),"b-low":t<this.lowThreshold},style:{width:t+"%"},html:t+"%"}]}}},{key:"clearCell",value:function(e){e.percentBarElement&&(e.percentBarElement=null),ce()(Q()(n.prototype),"clearCell",this).call(this,e)}},{key:"resizeToFitContent",value:function(){}}]),n}(Ul);function df(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ff.sum="average",Zl.registerColumnType(ff,!0),ff._$name="PercentColumn";var hf=function(e){X()(n,e);var t=df(n);function n(e,r){var i;return E()(this,n),(i=t.apply(this,arguments)).internalCellCls="b-number-cell",i}return M()(n,null,[{key:"type",get:function(){return"number"}},{key:"fieldType",get:function(){return"number"}},{key:"fields",get:function(){return["min","max","step","unit"]}},{key:"defaults",get:function(){return{filterType:"number"}}}]),M()(n,[{key:"defaultRenderer",value:function(e){var t=e.value,n=void 0===t?0:t;return this.unit?"".concat(n).concat(this.unit):n}},{key:"defaultEditor",get:function(){return{name:this.field,type:"numberfield",max:this.max,min:this.min,step:this.step}}}]),n}(Ul);function pf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(hf,!0),hf.exposeProperties(),hf._$name="NumberColumn";var vf=function(e){X()(n,e);var t=pf(n);function n(e,r){var i;return E()(this,n),(i=t.apply(this,arguments)).internalCellCls="b-rating-cell",i}return M()(n,null,[{key:"type",get:function(){return"rating"}},{key:"fieldType",get:function(){return"number"}},{key:"fields",get:function(){return["emptyIcon","filledIcon","editable"]}},{key:"defaults",get:function(){return{min:0,max:5,emptyIcon:"b-icon b-icon-star",filledIcon:"b-icon b-icon-star",editable:!0,filterType:"number",searchable:!1,width:"11.2em",htmlEncode:!1,autoSyncHtml:!0,minWidth:"11.2em",editor:!1}}}]),M()(n,[{key:"renderer",value:function(e){for(var t=e.value,n='<div class="b-rating-cell-inner '.concat(this.editable?"":"b-not-editable",'">'),r=0;r<this.max;r++){n+='<i class="b-rating-icon '.concat(r<t?"b-filled "+this.filledIcon:"b-empty "+this.emptyIcon,'"></i>')}return n+="</div>"}},{key:"onCellClick",value:function(e){var t=e.grid,n=e.column,r=e.record,i=(e.cellSelector,e.target),o=e.event;if(i.classList.contains("b-rating-icon")&&!t.readOnly&&n.editable){var a=[].indexOf.call(i.parentNode.childNodes,i);i.classList.contains("b-filled")&&(o.metaKey||o.shiftKey)&&(a-=1),1===r.get(n.field)&&0===a&&(a=-1),r.set(n.field,a+1)}}}]),n}(hf);function gf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(vf,!0),vf.exposeProperties(),vf._$name="RatingColumn";var yf=function(e){X()(n,e);var t=gf(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;ce()(Q()(n.prototype),"construct",this).apply(this,arguments),r.grid&&(r.grid.store.on({change:r.resizeToFitContent,thisObj:r}),r.grid.store.count&&r.grid.on({render:r.resizeToFitContent,thisObj:r,once:!0})),r.internalCellCls="b-row-number-cell"}},{key:"renderer",value:function(e){var t=e.record,n=e.grid;return t.meta.specialRow?"":n.store.indexOf(t,!0)+1}},{key:"resizeToFitContent",value:function(){var e=this.grid,t=e.store.count;if(t&&!this.hidden){var n=e.element.querySelector(".b-grid-cell[data-column-id=".concat(this.id,"]"));if(n){var r=window.getComputedStyle(n),i=parseInt(r["padding-left"]),o=yn.measureText(t,n);this.width=o+2*i}}}},{key:"flex",set:function(e){}}],[{key:"defaults",get:function(){return{groupable:!1,sortable:!1,filterable:!1,searchable:!1,resizable:!1,minWidth:50,width:50,align:"right",text:"#",editor:!1}}},{key:"type",get:function(){return"rownumber"}}]),n}(Ul);Zl.registerColumnType(yf,!0),yf._$name="RowNumberColumn";var mf=n(122),kf=n.n(mf);function bf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var wf=function(e){X()(n,e);var t=bf(n);function n(e,r){var i;E()(this,n),i=t.apply(this,arguments);var o=kf()(i);if(!o.template)throw new Error("TemplateColumn needs a template");if("function"!=typeof o.template)throw new Error("TemplateColumn.template must be a function");return i}return M()(n,null,[{key:"fields",get:function(){return["template"]}},{key:"defaults",get:function(){return{htmlEncode:!1}}}]),M()(n,[{key:"renderer",value:function(e){if(!e.record.meta.specialRow)return this.template({value:e.value,record:e.record,field:e.column.field})}}],[{key:"type",get:function(){return"template"}}]),n}(Ul);function Sf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(wf,!0),wf.exposeProperties(),wf._$name="TemplateColumn";var Df=function(e){X()(n,e);var t=Sf(n);function n(e,r){var i;return E()(this,n),(i=t.apply(this,arguments)).internalCellCls="b-time-cell",i}return M()(n,null,[{key:"type",get:function(){return"time"}},{key:"fieldType",get:function(){return"date"}},{key:"fields",get:function(){return["format"]}},{key:"defaults",get:function(){return{format:"LT",minWidth:140,filterType:"time"}}}]),M()(n,[{key:"defaultRenderer",value:function(e){var t=e.value;return t?this.formatValue(t):""}},{key:"groupRenderer",value:function(e){var t=e.cellElement,n=e.groupRowFor;t.innerHTML=this.formatValue(n)}},{key:"formatValue",value:function(e){return"string"==typeof e&&(e=xt.parse(e,this.format)),xt.format(e,this.format)}},{key:"format",set:function(e){var t=this.editor;this.set("format",e),t&&(t.format=this.format)},get:function(){return this.get("format")}},{key:"defaultEditor",get:function(){return{name:this.field,type:"time",format:this.format}}}]),n}(Ul);function Rf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(Df,!0),Df.exposeProperties(),Df._$name="TimeColumn";var Cf=!1,xf=function(e){X()(n,e);var t=Rf(n);function n(e,r){var i;E()(this,n),i=t.apply(this,arguments);var o=kf()(i);return o.internalCellCls="b-tree-cell",o.shouldHtmlEncode=o.htmlEncode,o.tempDiv=document.createElement("div"),o.setData("htmlEncode",!1),o.renderer&&(o.originalRenderer=o.renderer),o.renderer=o.treeRenderer.bind(o),i}return M()(n,null,[{key:"defaults",get:function(){return{tree:!0,hideable:!1,minWidth:150}}},{key:"fields",get:function(){return[{name:"expandIconCls",defaultValue:"b-icon b-icon-tree-expand"},{name:"collapseIconCls",defaultValue:"b-icon b-icon-tree-collapse"},{name:"collapsedFolderIconCls"},{name:"expandedFolderIconCls"},{name:"indentSize",defaultValue:1.7},{name:"leafIconCls",defaultValue:"b-icon b-icon-tree-leaf"},{name:"editTargetSelector",defaultValue:".b-tree-cell-value"}]}},{key:"type",get:function(){return"tree"}}]),M()(n,[{key:"treeRenderer",value:function(e){var t,n=this,r=e.cellElement,i=e.row,o=e.record,a=e.isExport,s=o.instanceMeta(e.grid.store),u=o.href?"a":"div",c=e.value;if(n.originalRenderer){var l=n.originalRenderer(e);c=!1===l?r.innerHTML:l}if(a)t=null!=c?c:"";else{var f,d="";if(o.isLeaf)r.classList.add("b-tree-leaf-cell"),f=e.iconCls||o.iconCls||n.leafIconCls;else{var h=s.collapsed,p=h?n.expandIconCls:n.collapseIconCls,v=h?n.collapsedFolderIconCls:n.expandedFolderIconCls;if("Row"===i.$name){var g=["b-tree-parent-row"],y=[];s.isLoadingChildren?g.push("b-loading-children"):y.push("b-loading-children"),h?(g.push("b-tree-collapsed"),y.push("b-tree-expanded")):(g.push("b-tree-expanded"),y.push("b-tree-collapsed")),i.removeCls.apply(i,y),i.addCls.apply(i,g)}r.classList.add("b-tree-parent-cell"),d+='<div class="b-tree-expander">'.concat(p?'<i class="'.concat(p,'"></i>'):"","</div>"),Cf=f=e.iconCls||o.iconCls||v}c=null!=c?c:"",n.shouldHtmlEncode&&(n.tempDiv.innerText=c,c=n.tempDiv.innerHTML),d+='<div class="b-tree-cell-value">'.concat(f?'<i class="b-tree-icon '.concat(f,'"></i>'):"").concat(c,"</div>");var m=o.childLevel*n.indentSize+(o.isLeaf?Cf?2:f?.5:.4:0);t="<".concat(u," ").concat(o.href?'href="'.concat(o.href,'"'):""," ").concat("a"===u&&o.target?'target="'.concat(o.target,'"'):"",' class="b-tree-cell-inner" style="padding-left:').concat(m,'em;">').concat(d,"</").concat(u,">")}return t}}]),n}(Ul);function Ef(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(xf,!0),xf.exposeProperties(),xf._$name="TreeColumn";var Tf=function(e){X()(n,e);var t=Ef(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"fields",get:function(){return["iconCls","expanded","cls","rowHeight","href","target"]}}]),n}(Yo);Tf.exposeProperties(),Tf._$name="GridRowModel";var Mf=new Map,Pf=new Map,Af={Grid:"GridBase",Scheduler:"SchedulerBase",Gantt:"GanttBase"},If=/\$\d+$/,Ff=function(){function e(){E()(this,e)}return M()(e,null,[{key:"registerFeature",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r=(r=_.lowercaseFirstLetter(r||e.hasOwnProperty("$name")&&e.$name||e.name)).replace(If,""),Array.isArray(n)||(n=[n||"Grid"]),n.forEach(function(n){var i=Af[n]||n,o=Mf.get(i)||new Map,a=Pf.get(i)||new Map;o.set(r,e),a.set(e,t),Mf.set(i,o),Pf.set(i,a)})}},{key:"getTypeNameFeatures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Grid",t=Af[e]||e,n=Mf.get(t),r={};return n&&n.forEach(function(e,t){return r[t]=e}),r}},{key:"getTypeNameDefaultFeatures",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Grid",t=Af[e]||e,n=Mf.get(t),r=Pf.get(t),i={};return n&&r&&n.forEach(function(e,t){r.get(e)&&(i[t]=e)}),i}},{key:"getInstanceFeatures",value:function(e){var t=this;return e.classNameHierarchy().reduce(function(e,n){return Object.assign(e,t.getTypeNameFeatures(n))},{})}},{key:"getInstanceDefaultFeatures",value:function(e){var t=this;return e.classNameHierarchy().reduce(function(e,n){return Object.entries(t.getTypeNameFeatures(n)).reduce(function(e,r){var i=re()(r,2),o=i[0],a=i[1];return t.isDefaultFeatureForTypeName(a,n)?e[o]=a:delete e[o],e},e)},{})}},{key:"isDefaultFeatureForTypeName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Grid",n=Af[t]||t,r=Pf.get(n);return r&&r.get(e)||!1}},{key:"isDefaultFeatureForInstance",value:function(e,t){for(var n=t.classNameHierarchy().reverse(),r=null,i=0,o=n.length;i<o&&null===r;++i){var a=Pf.get(n[i]);a&&a.has(e)&&(r=a.get(e))}return r||!1}},{key:"reset",value:function(){Mf.clear(),Pf.clear()}}]),e}();function Lf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ff._$name="GridFeatureManager";var Of=function(e){X()(n,e);var t=Lf(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){ce()(Q()(n.prototype),"construct",this).call(this,e,this.processConfig(t))}},{key:"initTip",value:function(){var e=this;e.tip=new ao(It.assign({forElement:e.client.element,forSelector:".b-grid-cell",hoverDelay:1e3,trackMouse:!1,cls:"b-celltooltip-tip",getHtml:e.getTooltipContent.bind(e),listeners:{pointerOver:"onPointerOver",thisObj:e}},e.initialConfig)),e.relayEvents(e.tip,["beforeshow","show"])}},{key:"onPointerOver",value:function(e){var t=e.target;return!1!==this.client.getColumnFromElement(t).tooltipRenderer}},{key:"processConfig",value:function(e){return"function"==typeof e?{tooltipRenderer:e}:e}},{key:"setConfig",value:function(e){ce()(Q()(n.prototype),"setConfig",this).call(this,this.processConfig(e))}},{key:"doDestroy",value:function(){this.tip&&this.tip.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){e?this.tip&&(this.tip.destroy(),this.tip=null):this.initTip(),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"getTooltipContent",value:function(e){var t,n=e.tip,r=e.activeTarget,i=e.event,o=this,a=o.client.getRecordFromElement(r),s=o.client.getColumnFromElement(r);return o.forSelector||a!==o.lastRecord||s!==o.lastColumn?(o.lastRecord=a,o.lastColumn=s,s.tooltipRenderer?!1===(t=s.tooltipRenderer({cellElement:r,record:a,column:s,event:i,tip:n,cellTooltip:o}))&&H.deprecate("Grid","5.0.0","Returning false to indicate loading is deprecated. Please see https://bryntum.com/docs/grid/#guides/upgrades/3.0.1.md for more information"):o.tooltipRenderer&&!1!==s.tooltipRenderer&&!1===(t=o.tooltipRenderer({cellElement:r,record:a,column:s,event:i,tip:n,cellTooltip:o}))&&H.deprecate("Grid","5.0.0","Returning false to indicate loading is deprecated. Please see https://bryntum.com/docs/grid/#guides/upgrades/3.0.1.md for more information"),t):o.tip._html}}],[{key:"$name",get:function(){return"CellTooltip"}},{key:"defaultConfig",get:function(){return{tooltipRenderer:null}}}]),n}(To);function _f(){var e=Bi()(['\n                        <div class="b-target-button" data-name="','" data-disabled="','">\n                            <i class="','"></i>\n                            ',"\n                        </div>\n                    "]);return _f=function(){return e},e}function jf(){var e=Bi()(['\n                <div class="b-group">\n                    <div class="b-buttons">\n                    ','\n                    </div>\n                    <div class="b-title">',"</div>\n                </div>\n            "]);return jf=function(){return e},e}function Hf(){var e=Bi()(['\n            <div class="b-columndragtoolbar">     \n            <div class="b-title"></div>          \n            ',"\n            </div>"]);return Hf=function(){return e},e}function Nf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Of._$name="CellTooltip",Ff.registerFeature(Of);var Bf=function(e){X()(n,e);var t=Nf(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){e.features.columnReorder&&e.features.columnReorder.on("beforedestroy",this.onColumnReorderBeforeDestroy,this),this.grid=e,ce()(Q()(n.prototype),"construct",this).call(this,e,t)}},{key:"doDestroy",value:function(){var e=this;e.grid.features.columnReorder&&!e.grid.features.columnReorder.isDestroyed&&e.detachFromColumnReorder(),e.element&&e.element.remove(),e.element=null,ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){this.initialized&&(e?this.detachFromColumnReorder():this.init()),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"init",value:function(){var e=this,t=e.grid;t.features.columnReorder&&(e.reorderDetacher=t.features.columnReorder.on({gridheaderdragstart:function(n){var r=n.context,i=t.columns.getById(r.element.dataset.columnId);e.showToolbar(i)},gridheaderdrag:function(t){var n=t.context;return e.onDrag(n)},gridheaderabort:function(){e.hideToolbar()},gridheaderdrop:function(t){var n=t.context;n.valid?e.hideToolbar():e.onDrop(n)},thisObj:e}),e.initialized=!0)}},{key:"onColumnReorderBeforeDestroy",value:function(){this.detachFromColumnReorder()}},{key:"detachFromColumnReorder",value:function(){var e=this;e.grid.features.columnReorder.un("beforedestroy",e.onColumnReorderBeforeDestroy,e),e.reorderDetacher&&e.reorderDetacher(),e.reorderDetacher=null}},{key:"render",value:function(){this.initialized||this.init()}},{key:"showToolbar",value:function(e){var t=this,n=t.grid.getColumnDragToolbarItems(e,[]),r=[];t.clearTimeout(t.buttonHideTimer),t.clearTimeout(t.toolbarHideTimer),n.forEach(function(e){e.text=e.localeClass.L(e.text);var t=r.find(function(t){return t.text===e.group});t||(t={text:e.localeClass.L(e.group),buttons:[]},r.push(t)),t.buttons.push(e)}),t.element=yn.append(t.grid.element,t.template(r)),t.groups=r,t.buttons=n,t.column=e}},{key:"hideToolbar",value:function(){var e=this;return new Promise(function(t){e.element&&!e.toolbarHideTimer&&(e.element.classList.add("b-remove"),e.toolbarHideTimer=e.setTimeout(function(){e.toolbarHideTimer=null,e.element&&e.element.remove(),e.element=null,t()},200))})}},{key:"onDrag",value:function(e){var t=this;if(e.dragProxy.getBoundingClientRect().top-t.grid.element.getBoundingClientRect().top>100?t.element.classList.add("b-closer"):t.element.classList.remove("b-closer"),t.hoveringButton&&(t.hoveringButton.classList.remove("b-hover"),t.hoveringButton=null),e.targetElement&&e.targetElement.closest(".b-columndragtoolbar")){t.element.classList.add("b-hover");var n=e.targetElement.closest(".b-columndragtoolbar  .b-target-button:not([data-disabled=true])");n&&(n.classList.add("b-hover"),t.hoveringButton=n)}else t.element.classList.remove("b-hover")}},{key:"onDrop",value:function(e){var t=this;if(e.targetElement&&e.targetElement.matches(".b-columndragtoolbar .b-target-button:not([data-disabled=true])")){var n=e.targetElement,r=t.buttons.find(function(e){return e.name===n.dataset.name});r&&(n.classList.add("b-activate"),t.buttonHideTimer=t.setTimeout(function(){t.hideToolbar(),r.onDrop({column:t.column})},100))}else t.hideToolbar()}},{key:"template",value:function(e){return Wi.tpl(Hf(),e.map(function(e){return Wi.tpl(jf(),e.buttons.map(function(e){return Wi.tpl(_f(),e.name,e.disabled,e.icon,e.text)}),e.text)}))}}],[{key:"$name",get:function(){return"ColumnDragToolbar"}},{key:"pluginConfig",get:function(){return{after:["render"]}}}]),n}(yr(To));function zf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Bf.featureClass="b-hascolumndragtoolbar",Bf._$name="ColumnDragToolbar",Ff.registerFeature(Bf,N.isTouchDevice);var Vf=function(e){X()(n,e);var t=zf(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){this.grid=e,ce()(Q()(n.prototype),"construct",this).call(this,e,t)}},{key:"getColumnPickerItems",value:function(e){var t=this;if(t.groupByRegion)return t.grid.regions.map(function(e){var n=t.grid.getSubGrid(e).columns.topColumns;return{text:_.capitalizeFirstLetter(e),menu:t.buildColumnMenu(n),disabled:0===n.length,region:e}});if(t.groupByTag){var n={};return e.topColumns.forEach(function(e){e.tags&&e.hideable&&e.tags.forEach(function(e){n[e]||(n[e]=1)})}),Object.keys(n).sort().map(function(e){return{text:_.capitalizeFirstLetter(e),menu:t.buildColumnMenu(t.getColumnsForTag(e)),tag:e,onBeforeSubMenu:function(e){var n=e.item,r=e.itemEl;t.refreshTagMenu(n,r)}}})}return t.buildColumnMenu(e.topColumns)}},{key:"getColumnsForTag",value:function(e){return this.grid.columns.records.filter(function(t){return t.tags&&t.tags.includes(e)&&!1!==t.hideable})}},{key:"refreshTagMenu",value:function(e,t){this.getColumnsForTag(e.tag).forEach(function(t){var n=e.items.find(function(e){return e.column===t});n&&(n.checked=!0!==t.hidden)})}},{key:"buildColumnMenu",value:function(e){var t=this,n=e.length>0&&e[0].region,r=this.grid;return e.reduce(function(e,i){var o=t.grid.columns.visibleColumns.filter(function(e){return e.region===i.region});if(!1!==i.hideable){var a={grid:r,text:i.text,column:i,name:i.id,checked:!0!==i.hidden,disabled:!0!==i.hidden&&1===o.length,cls:i.region!==n?"b-separator":""};n=i.region,i.children&&(a.menu=t.buildColumnMenu(i.children)),e.push(a)}return e},[])}},{key:"getHeaderMenuItems",value:function(e,t){var n=this.grid,r=this.disabled,i=n.columns;if(!1!==e.showColumnPicker&&i.some(function(e){return e.hideable})&&t.push({text:"L{columnsMenu}",localeClass:this,name:"columnPicker",icon:"b-fw-icon b-icon-columns",cls:"b-separator",weight:100,menu:this.getColumnPickerItems(i),onToggle:this.onColumnToggle,disabled:r}),!1!==e.hideable){var o=i.visibleColumns.filter(function(t){return t.region===e.region});t.push({text:"L{hideColumn}",localeClass:this,icon:"b-fw-icon b-icon-hide-column",weight:101,name:"hideColumn",disabled:1===o.length||r,onItem:function(){return e.hide()}})}}},{key:"onColumnToggle",value:function(e){var t=e.menu,n=e.item,r=e.checked;if(!!n.column.hidden!=!r){n.column[r?"show":"hide"]();var i=n.grid,o=n.column,a=i.columns,s=t.items,u=a.visibleColumns.filter(function(e){return e.region===n.column.region}),c=i.features.contextMenu.currentMenu.items.find(function(e){return"hideColumn"===e.name});if(1===u.length){var l=s.find(function(e){return e.name===u[0].id});l&&(l.disabled=!0),c&&o.region===n.column.region&&(c.disabled=!0)}else u.forEach(function(e){var t=s.find(function(t){return t.column===e});t&&(t.disabled=!1)}),c&&o.region===n.column.region&&(c.disabled=!1);n.menu&&n.menu.eachWidget(function(e){e.checked=r});var f=t.owner;f&&f.column===o.parent&&(f.checked=s.some(function(e){return!0===e.checked}))}}},{key:"getColumnDragToolbarItems",value:function(e,t){var n=this.grid.columns.visibleColumns.filter(function(t){return t.region===e.region});return!1!==e.hideable&&n.length>1&&t.push({text:"L{hideColumnShort}",group:"L{column}",localeClass:this,icon:"b-fw-icon b-icon-hide-column",weight:101,name:"hideColumn",onDrop:function(e){return e.column.hide()}}),t}}],[{key:"$name",get:function(){return"ColumnPicker"}},{key:"defaultConfig",get:function(){return{groupByRegion:!1,groupByTag:!1}}},{key:"pluginConfig",get:function(){return{chain:["getHeaderMenuItems","getColumnDragToolbarItems"]}}}]),n}(To);function Wf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Vf._$name="ColumnPicker",Ff.registerFeature(Vf,!0);var $f=function(e){X()(n,e);var t=Wf(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){this.ignoreSelectors=[".b-grid-header-resize-handle",".b-field"],this.grid=e,ce()(Q()(n.prototype),"construct",this).call(this,e,t)}},{key:"doDestroy",value:function(){this.dragHelper&&this.dragHelper.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"init",value:function(){var e=this,t=e.grid,n=t.element,r=yn.children(n,".b-grid-headers");r.push.apply(r,te()(yn.children(n,".b-grid-header-children"))),e.dragHelper?e.dragHelper.containers=r:(e.dragHelper=new Hc({name:"columnReorder",mode:"container",dragThreshold:10,targetSelector:".b-grid-header",outerElement:n.querySelector("header.b-grid-header-container"),containers:r,isElementDraggable:function(n){if(Boolean(yn.up(n,e.ignoreSelectors.join(",")))||e.disabled)return!1;var r=yn.up(n,this.targetSelector),i=r&&t.columns.getById(r.dataset.columnId),o=i&&0===i.childLevel&&1===t.subGrids[i.region].columns.count;return Boolean(i)&&!1!==i.draggable&&!o},ignoreSelector:".b-filter-icon,.b-grid-header-resize-handle",listeners:{dragstart:e.onDragStart,drag:e.onDrag,drop:e.onDrop,thisObj:e}}),e.relayEvents(e.dragHelper,["dragStart","drag","drop","abort"],"gridHeader"))}},{key:"onDrag",value:function(e){var t=e.context,n=e.event,r=De.fromElement(n.target,"header");r&&r.subGrid.sealedColumns?t.valid=!1:this.grid.features.columnDragToolbar||(t.valid=Boolean(n.target.closest(".b-grid-headers")))}},{key:"onDragStart",value:function(){if(!this.grid.features.columnDragToolbar){var e=this.grid.element.querySelector(".b-grid-header-container").getBoundingClientRect();this.dragHelper.minY=e.top,this.dragHelper.maxY=e.bottom}this.grid.headerContainer.classList.add("b-dragging-header")}},{key:"onDrop",value:function(e){var t=e.context;if(!t.valid)return this.onInvalidDrop({context:t});var n=this.grid,r=t.dragging,i=yn.up(t.target,".b-grid-header"),o=n.columns.get(i.dataset.column),a=t.draggedTo.dataset.region||o.region,s=t.insertBefore,u=n.columns.getById(r.dataset.columnId),c=s?n.columns.getById(s.dataset.columnId):n.subGrids[a].columns.last.nextSibling,l=c?c.parent:n.columns.rootNode;if(n.headerContainer.classList.remove("b-dragging-header"),a!==u.region||o!==u.previousSibling&&c!==u.nextSibling){var f=u.parent&&1===u.parent.children.length&&u.parent;f&&f.parent.removeChild(f),r.remove(),u.region=a,l.insertChild(u,c)}else this.dragHelper.abort()}},{key:"onInvalidDrop",value:function(){this.grid.headerContainer.classList.remove("b-dragging-header")}},{key:"renderContents",value:function(){this.init()}},{key:"render",value:function(){this.init()}}],[{key:"$name",get:function(){return"ColumnReorder"}},{key:"pluginConfig",get:function(){return{after:["render","renderContents"]}}}]),n}(yr(To));function Gf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}$f.featureClass="b-column-reorder",$f._$name="ColumnReorder",Ff.registerFeature($f,!0);var Yf=function(e){X()(n,e);var t=Gf(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;r.grid=e,ce()(Q()(n.prototype),"construct",this).call(this,e,t),r.resizer=new qc({name:"columnResize",targetSelector:".b-grid-header",handleSelector:".b-grid-header-resize-handle",outerElement:e.element,listeners:{beforeresizestart:r.onBeforeResizeStart,resizestart:r.onResizeStart,resizing:r.onResizing,resize:r.onResize,thisObj:r}})}},{key:"doDestroy",value:function(){this.resizer&&this.resizer.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"onBeforeResizeStart",value:function(){return!this.disabled}},{key:"onResizeStart",value:function(e){var t=e.context,n=this.grid,r=this.resizer,i=t.column=n.columns.getById(t.element.dataset.columnId);r.minWidth=i.minWidth,t.element.style.minWidth="",n.element.classList.add("b-column-resizing")}},{key:"onResizing",value:function(e){var t=e.context;t.valid&&this.liveResize&&(this.grid.dragResizing=!0,t.column.width=t.newWidth)}},{key:"onResize",value:function(e){var t=e.context,n=this.grid,r=t.column;if(n.element.classList.remove("b-column-resizing"),t.valid&&(this.liveResize?(n.dragResizing=!1,n.afterColumnsResized()):r.width=t.newWidth,N.isIE11&&r.parent&&r.parent.flex)){var i=r.parent;n.getHeaderElement(i.id).style.flexBasis=i.children.reduce(function(e,t){return e+n.getHeaderElement(t.id).offsetWidth},0)+"px"}}},{key:"liveResize",set:function(e){"auto"===e&&(e=!N.isMobileSafari),this._liveResize=e},get:function(){return this._liveResize}}],[{key:"$name",get:function(){return"ColumnResize"}},{key:"defaultConfig",get:function(){return{liveResize:"auto"}}},{key:"pluginConfig",get:function(){return[]}}]),n}(To);function Uf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Yf._$name="ColumnResize",Ff.registerFeature(Yf,!0);var qf=function(e){X()(n,e);var t=Uf(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){this.grid=e,ce()(Q()(n.prototype),"construct",this).call(this,e,t)}},{key:"doDestroy",value:function(){this.currentMenu&&this.currentMenu.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"onElementContextMenu",value:function(e){"contextmenu"===this.triggerEvent&&this.showContextMenu(e)}},{key:"onElementClick",value:function(e){"click"===this.triggerEvent&&this.showContextMenu(e)}},{key:"onElementDblClick",value:function(e){"dblclick"===this.triggerEvent&&this.showContextMenu(e)}},{key:"onElementKeyDown",value:function(e){if(!e.handled&&e.target.matches(".b-grid-header.b-depth-0"))switch(e.key){case" ":case"ArrowDown":this.showContextMenu(e)}}},{key:"showContextMenu",value:function(e){if(!this.disabled){var t=yn.up(e.target,".b-grid-header"),n=this.grid.getEventData(e);t?this.handleHeaderContextMenu(t,e):n&&!this.disableCellContextMenu&&this.handleCellContextMenu(n,e)}}},{key:"handleHeaderContextMenu",value:function(e,t){if(e.dataset.column){var n=this,r=n.grid,i=r.columns.getById(e.dataset.columnId);if(!1!==i.enableHeaderContextMenu){var o=[].concat(te()(n.headerItems),te()(i.headerMenuItems||[])),a=n.processHeaderItems,s={items:o,column:i,event:t,element:e};r.getHeaderMenuItems(i,o),(!a||!1!==a(s))&&o.length>0&&(t.preventDefault(),o.sort(function(e,t){return(e.weight||150)-(t.weight||150)}),o.forEach(function e(t){t.column||(t.column=i);var n=t.menu;n&&(Array.isArray(n)||(n=n.items||n.widgets),n.forEach(e))}),!1!==r.trigger("headerContextMenuBeforeShow",s)&&(n.currentMenu=Ce.showContextMenu("keydown"===t.type?e:[t.clientX+1,t.clientY+1],{owner:n.client,constrainTo:document,cls:"b-context-menu",items:o,scrollAction:"hide",onItem:function(e){e.source;var t=e.item,n=e.element;r.trigger("contextMenuItem",{source:r,item:t,column:i,element:n})},onToggle:function(e){e.source;var t=e.item,n=e.checked,o=e.element;r.trigger("contextMenuToggleItem",{source:r,item:t,column:i,checked:n,element:o})},onDestroy:function(){n.currentMenu=null},listeners:{show:function(e){var t=e.source;s.menu=t,r.trigger("headerContextMenuShow",s)}}})))}}}},{key:"handleCellContextMenu",value:function(e,t){var n=this,r=n.grid,i=e.cellElement,o=r.columns.getById(e.columnId);if(!1!==o.enableCellContextMenu){r.focusCell(e.cellSelector,{doSelect:!r.isSelected(e.id),event:t});var a=e.record,s=[].concat(te()(n.cellItems||[]),te()(o.cellMenuItems||[])),u=n.processCellItems,c={items:s,column:o,event:t,record:a,element:i};r.getCellMenuItems(o,a,s),(!u||!1!==u(c))&&s.length>0&&(s.forEach(function(e){e.column=o,e.record=a}),t.preventDefault(),s.sort(function(e,t){return(e.weight||150)-(t.weight||150)}),!1!==r.trigger("cellContextMenuBeforeShow",c)&&(n.currentMenu=Ce.showContextMenu([t.clientX+1,t.clientY+1],{owner:n.client,items:s,onBeforeItem:function(e){Object.assign(e,c)},onItem:function(e){var t=e.item;r.trigger("contextMenuItem",{source:r,item:t,column:o,record:a,cell:i})},onClose:function(e){"outside"!==e.reason&&r.focus()},onDestroy:function(){n.currentMenu=null},listeners:{show:function(e){var t=e.source;c.menu=t,r.trigger("cellContextMenuShow",c)}}})))}}},{key:"hideContextMenu",value:function(e){this.currentMenu&&this.currentMenu.hide(e)}},{key:"triggerEvent",get:function(){return this._triggerEvent||this.client.contextMenuTriggerEvent},set:function(e){this._triggerEvent=e}}],[{key:"$name",get:function(){return"ContextMenu"}},{key:"defaultConfig",get:function(){return{headerItems:[],processHeaderItems:null,cellItems:[],processCellItems:null,triggerEvent:null,disableCellContextMenu:null}}},{key:"pluginConfig",get:function(){return{assign:["showContextMenu"],chain:["onElementContextMenu","onElementClick","onElementDblClick","onElementKeyDown"]}}}]),n}(To);function Xf(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Kf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kf(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Kf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}qf.featureClass="",qf._$name="ContextMenu",Ff.registerFeature(qf,!0);var Jf=function(e){X()(n,e);var t=Zf(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){if(e.features.filterBar)throw new Error("Grid.feature.Filter feature may not be used together with Grid.feature.FilterBar. These features are mutually exclusive.");var r=this;r.grid=e,r.store=e.store,r.closeFilterEditor=r.closeFilterEditor.bind(r),ce()(Q()(n.prototype),"construct",this).call(this,e,t),r.store.on({filter:r.onStoreFilter},r),t&&"object"===oe()(t)&&r.store.filter(t,null,r.client.isConfiguring)}},{key:"doDestroy",value:function(){var e=this;e.filterTip&&e.filterTip.destroy(),e.filterEditorPopup&&e.filterEditorPopup.destroy(),e.store.un({sort:e.onStoreFilter},e),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"refreshHeaders",value:function(e){var t=this,n=t.grid,r=n.headerContainer;if(r){yn.children(r,".b-filter-icon.b-latest").forEach(function(e){return e.classList.remove("b-latest")}),t.filterTip||(t.filterTip=new ao({forElement:r,forSelector:".b-filter-icon",getHtml:function(e){return e.activeTarget.dataset.filterText}}));var i,o=Xf(n.columns);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(!1!==a.filterable){var s=t.store.filters.getBy("property",a.field),u=a.element;if(u){var c=a.textWrapper,l=c&&c.querySelector(".b-filter-icon"),f=void 0;f=s?t.L("L{filter}")+": "+("string"==typeof s?s:"".concat(s.operator," ").concat(s.displayValue||s.value||"")):t.L("L{applyFilter}"),l?l.dataset.filterText=f:(l=yn.createElement({parent:c,tag:"div",className:"b-filter-icon",dataset:{filterText:f}}),u.classList.add("b-filterable")),a.field===t.store.latestFilterField&&l.classList.add("b-latest"),u.classList[s?"add":"remove"]("b-filter")}a.meta.isFiltered=!!s}}}catch(e){o.e(e)}finally{o.f()}e&&n.refreshRows()}}},{key:"applyFilter",value:function(e){var t=this.store,n=this.grid.columns.get(e.property);"function"==typeof n.filterable?t.filter({filterBy:function(t){return n.filterable(Object.assign({},e,{record:t}))},value:e.value,property:e.property,operator:e.operator,displayValue:e.displayValue}):t.filter(e)}},{key:"getPopupDateItems",value:function(e,t,n,r,i,o,a){var s=this,u=o,c=a;function l(e){var t=e.source,n=e.value;null==n?a():(s.applyFilter({property:r,operator:t.operator,value:n,displayValue:t._value}),o())}return[{type:"date",ref:"on",placeholder:"L{on}",clearable:!0,label:'<i class="b-fw-icon b-icon-filter-equal"></i>',value:t&&"="===t.operator?t.value:n,operator:"=",onChange:l,onClose:u,onClear:c},{type:"date",ref:"before",placeholder:"L{before}",clearable:!0,label:'<i class="b-fw-icon b-icon-filter-before"></i>',value:t&&"<"===t.operator?t.value:null,operator:"<",onChange:l,onClose:u,onClear:c},{type:"date",ref:"after",cls:"b-last-row",placeholder:"L{after}",clearable:!0,label:'<i class="b-fw-icon b-icon-filter-after"></i>',value:t&&">"===t.operator?t.value:null,operator:">",onChange:l,onClose:u,onClear:c}]}},{key:"getPopupNumberItems",value:function(e,t,n,r,i,o,a){var s=this,u=o,c=a;function l(e){var t=e.source,n=e.value;null==n?a():(s.applyFilter({property:r,operator:t.operator,value:n}),o())}return[{type:"number",placeholder:"L{Filter.equals}",clearable:!0,label:'<i class="b-fw-icon b-icon-filter-equal"></i>',value:t&&"="===t.operator?t.value:n,operator:"=",onChange:l,onEsc:u,onClear:c},{type:"number",placeholder:"L{lessThan}",label:'<i class="b-fw-icon b-icon-filter-less"></i>',value:t&&"<"===t.operator?t.value:null,operator:"<",onChange:l,onEsc:u,onClear:c},{type:"number",cls:"b-last-row",placeholder:"L{moreThan}",clearable:!0,label:'<i class="b-fw-icon b-icon-filter-more"></i>',value:t&&">"===t.operator?t.value:null,operator:">",onChange:l,onEsc:u,onClear:c}]}},{key:"getPopupStringItems",value:function(e,t,n,r,i,o,a){var s=this;return[{type:e,cls:"b-last-row",placeholder:"L{filter}",clearable:!0,label:'<i class="b-fw-icon b-icon-filter-equal"></i>',value:t?t.value||t:n,onChange:function(e){var t=e.value;""===t?a():(s.applyFilter({property:r,value:t}),o())},onClose:o,onClear:a}]}},{key:"getPopupItems",value:function(e,t,n,r,i,o,a){switch(e){case"date":return this.getPopupDateItems.apply(this,arguments);case"number":return this.getPopupNumberItems.apply(this,arguments);default:return this.getPopupStringItems.apply(this,arguments)}}},{key:"showFilterEditor",value:function(e,t){var n=this,r=this,i=r.store,o="string"==typeof e?r.grid.columns.getById(e):e,a=o.element,s=i.modelClass.fieldMap[o.field],u=i.filters.getBy("property",o.field),c={string:"text",number:"number",date:"date"}[s&&s.type||o.filterType||o.type||"string"]||"text";if(!1!==o.filterable){r.closeFilterEditor();var l=r.getPopupItems(c,u,t,o.field,r.store,r.closeFilterEditor,function(){r.store.removeFilter(o.field),r.closeFilterEditor()});l.forEach(function(e){return e.placeholder=n.L(e.placeholder)}),r.filterEditorPopup=Ce.openPopup(a,{owner:this.grid,width:"16em",cls:"b-filter-popup",scrollAction:"realign",items:l})}}},{key:"closeFilterEditor",value:function(){this.filterEditorPopup&&this.filterEditorPopup.setTimeout(this.filterEditorPopup.destroy),this.filterEditorPopup=null}},{key:"getMenuDateItems",value:function(e,t){var n=this,r=t[e.field],i=function(t){n.applyFilter({property:e.field,operator:t,value:r,displayValue:e.formatValue?e.formatValue(r):r})};return[{text:"L{on}",localeClass:this,icon:"b-fw-icon b-icon-filter-equal",cls:"b-separator",name:"filterDateEquals",disabled:n.disabled,onItem:function(){return i("=")}},{text:"L{before}",localeClass:this,icon:"b-fw-icon b-icon-filter-before",name:"filterDateBefore",disabled:n.disabled,onItem:function(){return i("<")}},{text:"L{after}",localeClass:this,icon:"b-fw-icon b-icon-filter-after",name:"filterDateAfter",disabled:n.disabled,onItem:function(){return i(">")}}]}},{key:"getMenuNumberItems",value:function(e,t){var n=this,r=function(r){n.applyFilter({property:e.field,operator:r,value:t[e.field]})};return[{text:"L{equals}",localeClass:this,icon:"b-fw-icon b-icon-filter-equal",cls:"b-separator",name:"filterNumberEquals",disabled:n.disabled,onItem:function(){return r("=")}},{text:"L{lessThan}",localeClass:this,icon:"b-fw-icon b-icon-filter-less",name:"filterNumberLess",disabled:n.disabled,onItem:function(){return r("<")}},{text:"L{moreThan}",localeClass:this,icon:"b-fw-icon b-icon-filter-more",name:"filterNumberMore",disabled:n.disabled,onItem:function(){return r(">")}}]}},{key:"getMenuStringItems",value:function(e,t){var n=this;return[{text:"L{equals}",localeClass:this,icon:"b-fw-icon b-icon-filter-equal",cls:"b-separator",name:"filterStringEquals",disabled:this.disabled,onItem:function(){n.applyFilter({property:e.field,value:t[e.field]})}}]}},{key:"getCellMenuItems",value:function(e,t,n){var r=this,i=t.getFieldDefinition(e.field);if(!1!==e.filterable){var o=[];switch(e.meta.isFiltered&&o.push({text:"L{removeFilter}",localeClass:this,icon:"b-fw-icon b-icon-clear",cls:"b-separator",name:"filterRemove",disabled:r.disabled,onItem:function(){r.store.removeFilter(e.field)}}),e.filterType||e.type||i&&i.type){case"date":o.push.apply(o,te()(r.getMenuDateItems.apply(r,arguments)));break;case"number":o.push.apply(o,te()(r.getMenuNumberItems.apply(r,arguments)));break;default:o.push.apply(o,te()(r.getMenuStringItems.apply(r,arguments)))}e.meta.isFiltered&&o.length>1&&(o[1].cls=""),n.push.apply(n,o)}}},{key:"getHeaderMenuItems",value:function(e,t){var n=this;e.meta.isFiltered?(t.push({text:"L{editFilter}",localeClass:this,name:"editFilter",icon:"b-fw-icon b-icon-filter",cls:"b-separator",disabled:n.disabled,onItem:function(){n.showFilterEditor(e)}}),t.push({text:"L{removeFilter}",localeClass:this,name:"removeFilter",icon:"b-fw-icon b-icon-remove",disabled:n.disabled,onItem:function(){n.store.removeFilter(e.field)}})):!1!==e.filterable&&t.push({text:"L{filter}",localeClass:this,name:"filter",icon:"b-fw-icon b-icon-filter",cls:"b-separator",disabled:n.disabled,onItem:function(){n.showFilterEditor(e)}})}},{key:"onStoreFilter",value:function(){this.refreshHeaders(!1)}},{key:"renderHeader",value:function(){this.refreshHeaders(!1)}},{key:"onElementClick",value:function(e){var t=e.target;if(this.filterEditorPopup&&this.closeFilterEditor(),t.classList.contains("b-filter-icon")){var n=yn.up(t,".b-grid-header");return this.showFilterEditor(n.dataset.columnId),!1}}}],[{key:"$name",get:function(){return"Filter"}},{key:"pluginConfig",get:function(){return{chain:["renderHeader","getCellMenuItems","getHeaderMenuItems","onElementClick"]}}}]),n}(To);function Qf(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ed(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ed(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ed(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function td(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Jf._$name="Filter",Ff.registerFeature(Jf);var nd=function(e){X()(n,e);var t=td(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){if(e.features.filter)throw new Error("Grid.feature.FilterBar feature may not be used together with Grid.feature.Filter, These features are mutually exclusive.");var r=this;Object.assign(r,{filterFieldCls:"b-filter-bar-field",filterFieldInputCls:"b-filter-bar-field-input",filterableColumnCls:"b-filter-bar-enabled",filterFieldInputSelector:".b-filter-bar-field-input",filterableColumnSelector:".b-filter-bar-enabled",filterParseRegExp:/^\s*([<>=*])?(.*)$/,storeTrackingSupended:0,store:e.store,grid:e}),r.onColumnFilterFieldChange=r.onColumnFilterFieldChange.bind(r),ce()(Q()(n.prototype),"construct",this).call(this,e,Array.isArray(t)?{filter:t}:t),r.store.on({filter:r.onStoreFilter,thisObj:r}),r.filter&&r.store.filter(r.filter),r.gridDetacher=e.on("beforeelementclick",r.onBeforeElementClick,r)}},{key:"doDestroy",value:function(){this.destroyFilterBar(),this.gridDetacher&&this.gridDetacher(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){var t=this,r=this.grid.columns;r&&r.forEach(function(n){var r=t.getColumnFilterField(n);r&&(r.disabled=e)}),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"destroyFilterBar",value:function(){this.grid.columns&&this.grid.columns.forEach(this.destroyColumnFilterField,this)}},{key:"hideFilterBar",value:function(){var e=this,t=e.grid.columns;e.clearStoreFiltersOnHide&&e.suspendStoreTracking(),t&&t.forEach(function(t){return e.hideColumnFilterField(t,!0)}),e.grid.store.filter(),e.clearStoreFiltersOnHide&&e.resumeStoreTracking(),e.hidden=!0}},{key:"showFilterBar",value:function(){this.renderFilterBar(),this.hidden=!1}},{key:"toggleFilterBar",value:function(){this.hidden?this.showFilterBar():this.hideFilterBar()}},{key:"renderFilterBar",value:function(){var e=this;this.grid.columns.visibleColumns.forEach(function(t){return e.renderColumnFilterField(t)}),this.rendered=!0}},{key:"renderColumnFilterField",value:function(e){var t=this,n=t.grid,r=t.getColumnFilterable(e);if(r&&!e.hidden){var i=e.element,o=t.getColumnFilterField(e);if(o)t.onColumnFilterFieldChange({source:o,value:o.value}),o.render(i),o.show();else{var a=n.store.filters.getBy("property",e.field),s="".concat(e.filterType||"text","field");o=Ce.append(Object.assign({type:s,owner:t.grid,clearable:!0,column:e,name:e.field,value:a&&!a._filterBy&&t.buildFilterString(a),cls:t.filterFieldCls,inputCls:t.filterFieldInputCls,keyStrokeChangeDelay:t.keyStrokeFilterDelay,onChange:t.onColumnFilterFieldChange,onClear:t.onColumnFilterFieldChange,disabled:t.disabled},r.filterField),i)[0],t.setColumnFilterField(e,o)}i.classList.add(t.filterableColumnCls)}}},{key:"updateColumnFilterFields",value:function(){var e,t,n,r=this.grid,i=r.columns,o=r.store,a=Qf(i);try{for(a.s();!(n=a.n()).done;){var s=n.value;(e=this.getColumnFilterField(s))&&((t=o.filters.getBy("property",s.field))?t._filterBy||(e.value=this.buildFilterString(t)):e.value="")}}catch(e){a.e(e)}finally{a.f()}}},{key:"getColumnFilterable",value:function(e){if(!e.isRoot&&!1!==e.filterable&&e.field)return"function"==typeof e.filterable&&(e.filterable={filterFn:e.filterable}),e.filterable}},{key:"destroyColumnFilterField",value:function(e){var t=this.getColumnFilterField(e);t&&(this.hideColumnFilterField(e),t.destroy(),this.setColumnFilterField(e,void 0))}},{key:"hideColumnFilterField",value:function(e,t){var n=this.grid.store,r=e.element,i=this.getColumnFilterField(e);i&&(i.hide(),this.clearStoreFiltersOnHide&&e.field&&n.removeFilter(e.field,t),null==r||r.classList.remove(this.filterableColumnCls))}},{key:"getColumnFilterField",value:function(e){return this._columnFilters&&this._columnFilters[e.data.id]}},{key:"setColumnFilterField",value:function(e,t){this._columnFilters=this._columnFilters||{},this._columnFilters[e.data.id]=t}},{key:"parseFilterValue",value:function(e){var t=String(e).match(this.filterParseRegExp);return{operator:t[1]||"*",value:t[2]}}},{key:"buildFilterString",value:function(e){return("*"===e.operator?"":e.operator)+e.value}},{key:"onStoreFilter",value:function(){!this.storeTrackingSupended&&this.rendered&&this.updateColumnFilterFields()}},{key:"suspendStoreTracking",value:function(){this.storeTrackingSupended++}},{key:"resumeStoreTracking",value:function(){this.storeTrackingSupended--}},{key:"renderHeader",value:function(){this.hidden||this.renderFilterBar()}},{key:"onElementKeyDown",value:function(e){if(!e.handled&&e.target.matches(this.filterFieldInputSelector))switch(e.key){case"ArrowLeft":case"ArrowRight":e.handled=!0}}},{key:"onBeforeElementClick",value:function(e){if(e.event.target.closest("."+this.filterFieldCls))return!1}},{key:"onColumnFilterFieldChange",value:function(e){var t=e.source,n=e.value,r=this,i=r.grid.store,o=r.getColumnFilterable(t.column);r.suspendStoreTracking(),null==n||""===n||Array.isArray(n)&&0===n.length?i.removeFilter(t.name):o.filterFn?i.filter({filterBy:function(e){return o.filterFn({property:t.name,value:n,record:e})},property:t.name}):i.filter(Object.assign({property:t.name},r.parseFilterValue(n))),r.resumeStoreTracking()}},{key:"getHeaderMenuItems",value:function(e,t){var n=this;t.push({text:n.hidden?"L{enableFilterBar}":"L{disableFilterBar}",localeClass:this,name:"toggleFilterBar",icon:"b-fw-icon b-icon-filter",cls:"b-separator",onItem:function(){return n.toggleFilterBar()}})}}],[{key:"$name",get:function(){return"FilterBar"}},{key:"defaultConfig",get:function(){return{keyStrokeFilterDelay:300,clearStoreFiltersOnHide:!0}}},{key:"pluginConfig",get:function(){return{before:["onElementKeyDown"],chain:["renderHeader","getHeaderMenuItems"]}}}]),n}(To);function rd(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return id(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return id(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function id(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function od(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}nd.featureClass="b-filter-bar",nd._$name="FilterBar",Ff.registerFeature(nd);var ad=function(e){X()(n,e);var t=od(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;e.features.tree||(r._thisIsAUsedExpression(e.features.groupSummary),t=r.processConfig(t),Object.assign(r,{grid:e,rowManager:e.rowManager,store:e.store}),ce()(Q()(n.prototype),"construct",this).call(this,e,t),r.store.on({group:r.onStoreGroup,thisObj:r}),r.rowManager.on({beforerenderrow:r.onBeforeRenderRow,rendercell:r.renderCell,thisObj:r}))}},{key:"processConfig",value:function(e){return"string"==typeof e?{field:e,ascending:null}:e}},{key:"setConfig",value:function(e){null===e?this.store.clearGroupers():ce()(Q()(n.prototype),"setConfig",this).call(this,this.processConfig(e))}},{key:"doDestroy",value:function(){ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){var t=this.store;if(e&&t.isGrouped){var r=t.sorters;r.unshift.apply(r,te()(t.groupers)),t.clearGroupers(),t.sort(r)}ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"toggleCollapse",value:function(e,t){this.internalToggleCollapse(e,t)}},{key:"internalToggleCollapse",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.store,o=i.getById(e),a=o.meta;void 0!==a.groupRowFor&&((t=void 0===t?!a.collapsed:t)?i.excludeGroupRecords(o):i.includeGroupRecords(o),a.collapsed=t,r.grid.trigger("toggleGroup",{groupRecord:o,collapse:t}),n||r.rowManager.renderFromRecord(o))}},{key:"collapseAll",value:function(){var e=this;e.store.isGrouped&&!e.disabled&&(e.store.groupRecords.forEach(function(t){return e.internalToggleCollapse(t,!0,!0)}),e.grid.refreshRows(!0))}},{key:"expandAll",value:function(){var e=this;e.store.isGrouped&&!e.disabled&&(e.store.groupRecords.forEach(function(t){return e.internalToggleCollapse(t,!1,!0)}),e.grid.refreshRows())}},{key:"onBeforeRenderRow",value:function(e){var t=e.row,n=(e.record,t.grid.store.getById(t.id));t.forceInnerHTML=t.forceInnerHTML||n&&"groupRowFor"in n.meta}},{key:"renderCell",value:function(e){if(this.store.isGrouped&&!this.disabled){var t=e.cellElement,n=e.rowElement,r=e.column,i=this.grid,o=e.record.meta,a=i.columns.visibleColumns[0],s=i.subGrids[i.regions[0]].columns.visibleColumns;if("groupRowFor"in o){if("action"===r.type)return;r.clearCell(t),n.classList[o.collapsed?"add":"remove"]("b-grid-group-collapsed"),n.classList.add("b-group-row"),("rownumber"===a.type&&r===s[1]||"rownumber"!==a.type&&r===s[0])&&t.classList.add("b-group-title"),this.buildGroupHeader(e)}else t===n.firstElementChild&&(n.classList.remove("b-group-row"),n.classList.remove("b-grid-group-collapsed"),t.classList.remove("b-group-title"))}}},{key:"buildGroupHeader",value:function(e){var t=this,n=e.record,r=e.cellElement,i=e.column,o=e.persist,a=t.grid,s=n.meta,u=s.childCount-(a.features.groupSummary?1:0),c=a.columns.visibleColumns[0],l=i&&a.subGrids[a.regions[0]].columns.visibleColumns,f="rownumber"===c.type&&i===l[1]||"rownumber"!==c.type&&i===l[0],d=null,h=!0;if(o||i){var p=a.columns.get(s.groupField);p&&p.groupRenderer?f&&(d=p.groupRenderer(Object.assign({},e,{groupRowFor:s.groupRowFor,groupRecords:n.groupChildren,groupColumn:p,count:u})),h=!1):t.groupRenderer&&(d=t.groupRenderer(Object.assign({},e,{groupRowFor:s.groupRowFor,groupRecords:n.groupChildren,groupColumn:p,count:u,isFirstColumn:f}))),f&&null==d&&h&&(d="".concat("__novalue__"===s.groupRowFor?"":s.groupRowFor," (").concat(u,")"))}else t.groupRenderer&&(d=t.groupRenderer(e));return"string"==typeof d&&(r.innerHTML=d),r.childElementCount>0&&(r._hasHtml=!0),r.innerHTML}},{key:"renderHeader",value:function(e){var t=this.store,n=this.grid;if(t.isGrouped){var r,i=rd(t.groupers);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=n.columns.get(o.field),s=a&&n.getHeaderElement(a.id);s&&(s.classList.add("b-group"),s.classList.add(o.ascending?"b-asc":"b-desc"))}}catch(e){i.e(e)}finally{i.f()}}}},{key:"getHeaderMenuItems",value:function(e,t){var n=this.store;!1!==e.groupable&&t.push({text:"L{groupAscending}",localeClass:this,icon:"b-fw-icon b-icon-group-asc",name:"groupAsc",cls:"b-separator",weight:110,disabled:this.disabled,onItem:function(e){var t=e.item.column;return n.group(t.field,!0)}},{text:"L{groupDescending}",localeClass:this,icon:"b-fw-icon b-icon-group-desc",name:"groupDesc",weight:110,disabled:this.disabled,onItem:function(e){var t=e.item.column;return n.group(t.field,!1)}}),n.isGrouped&&t.push({text:"L{stopGrouping}",localeClass:this,icon:"b-fw-icon b-icon-clear",name:"groupRemove",cls:e.groupable?"":"b-separator",weight:110,disabled:this.disabled,onItem:function(e){e.item.column;return n.clearGroupers()}})}},{key:"getColumnDragToolbarItems",value:function(e,t){var n=this.store;t.push({text:"L{groupAscendingShort}",group:"L{group}",localeClass:this,icon:"b-icon b-icon-group-asc",name:"groupAsc",cls:"b-separator",weight:110,disabled:this.disabled,onDrop:function(e){var t=e.column;return n.group(t.field,!0)}}),t.push({text:"L{groupDescendingShort}",group:"L{group}",localeClass:this,icon:"b-icon b-icon-group-desc",name:"groupDesc",weight:110,disabled:this.disabled,onDrop:function(e){var t=e.column;return n.group(t.field,!1)}});var r=n.groupers&&n.groupers.some(function(t){return t.field===e.field})&&!this.disabled;return t.push({text:"L{stopGroupingShort}",group:"L{group}",localeClass:this,icon:"b-icon b-icon-clear",name:"groupRemove",disabled:!r,weight:110,onDrop:function(e){var t=e.column;return n.removeGrouper(t.field)}}),t}},{key:"onStoreGroup",value:function(e){var t=e.groupers,n=this.grid,r=n.element,i=r&&yn.children(r,".b-grid-header.b-group");if(r){var o,a=rd(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;yn.removeClasses(s,["b-group","b-asc","b-desc"])}}catch(e){a.e(e)}finally{a.f()}if(t){var u,c=rd(t);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=n.getHeaderElementByField(l.field);f&&yn.addClasses(f,["b-group",l.ascending?"b-asc":"b-desc"])}}catch(e){c.e(e)}finally{c.f()}}}}},{key:"onElementTouchStart",value:function(e){var t=e.target,n=yn.up(t,".b-grid-header"),r=n&&this.grid.getColumnFromElement(n);e.touches.length>1&&r&&!1!==r.groupable&&!this.disabled&&this.store.group(r.field)}},{key:"onElementClick",value:function(e){var t=this.store,n=e.target,r=yn.up(n,".b-group-row"),i=yn.up(n,".b-grid-header"),o=i&&i.dataset.column;if(!(n.classList.contains("b-resizer")||this.disabled||n.classList.contains("b-action-item"))){if(i&&o){var a=t.groupers&&t.groupers.find(function(e){return e.field===o});if(a&&!e.shiftKey)return t.group(o,!a.ascending),!1;e.shiftKey&&!1!==this.grid.columns.get(o).groupable&&(e.altKey?t.removeGrouper(o):t.group(o)),e.preventDefault()}return r?(this.internalToggleCollapse(Ns.get(r).id),!1):void 0}}},{key:"onElementKeyDown",value:function(e){var t=this;!t.disabled&&t.store.isGrouped&&e.target===t.client.focusElement&&" "===e.key&&t.grid.focusedCell&&(e.preventDefault(),t.internalToggleCollapse(t.grid.focusedCell.id))}},{key:"onStoreDataChange",value:function(e){var t=e.source;t.isGrouped&&t.count>0||this.overridden.onStoreDataChange(e)}},{key:"renderer",set:function(e){this.groupRenderer=e}},{key:"field",set:function(e){this._field=e,this.store.group(e,this.ascending)},get:function(){return this._field}}],[{key:"$name",get:function(){return"Group"}},{key:"defaultConfig",get:function(){return{field:null,renderer:null}}},{key:"pluginConfig",get:function(){return{assign:["collapseAll","expandAll"],chain:["renderHeader","getHeaderMenuItems","getColumnDragToolbarItems","onElementTouchStart","onElementClick","onElementKeyDown"],override:["onStoreDataChange"]}}}]),n}(To);function sd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ad._$name="Group",Ff.registerFeature(ad,!0,["Grid","Scheduler"]);var ud=function(e){return function(e){X()(n,e);var t=sd(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"generateHtml",value:function(e,t,n){var r=this.store,i=e.summaries||(e.sum?[{sum:e.sum,renderer:e.summaryRenderer}]:[]),o='<table class="'.concat(n,'">');return i.forEach(function(n){var i=n.sum,a=null;switch(!0===i&&(i="sum"),i){case"sum":case"add":a=r.sum(e.field,t);break;case"max":a=r.max(e.field,t);break;case"min":a=r.min(e.field,t);break;case"average":case"avg":a=r.average(e.field,t);break;case"count":a=t.length;break;case"countNotEmpty":a=t.reduce(function(t,n){var r=n[e.field];return t+(null!=r?1:0)},0)}if("function"==typeof i&&(a=t.reduce(i,"seed"in n?n.seed:0)),null!==a){var s,u=n.label?'<td class="b-grid-summary-label">'.concat(n.label,"</td>"):"",c=n.renderer?n.renderer({config:n,sum:a}):a;null==c&&(c=""),s=String(c).includes("<td>")?c:u?"".concat(u,'<td class="').concat("b-grid-summary-value",'">').concat(c,"</td>"):'<td colspan="2" class="'.concat("b-grid-summary-value",'">').concat(c,"</td>"),o+="<tr>".concat(s,"</tr>")}}),o+"</table>"}}]),n}(e||U)};function cd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ld=function(e){X()(n,e);var t=cd(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;if(Object.assign(r,{grid:e,store:e.store}),ce()(Q()(n.prototype),"construct",this).call(this,e,t),!e.features.group)throw new Error("Requires Group feature to work, please enable");r.store.on({update:r.onStoreUpdate,prio:1,thisObj:r}),r.grid.rowManager.on({beforerenderrow:r.onBeforeRenderRow,rendercell:r.renderCell,thisObj:r})}},{key:"doDisable",value:function(e){this.store.useGroupFooters=!e,this.isConfiguring||this.store.group(),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"onBeforeRenderRow",value:function(e){var t=e.row,n=e.record;t.isGroupFooter&&!("groupFooterFor"in n.meta)&&(t.isGroupFooter=!1,t.removeCls("b-group-footer"),t.forceInnerHTML=!0)}},{key:"renderCell",value:function(e){var t=e.column,n=e.cellElement,r=e.rowElement,i=e.row,o=e.record,a=e.size;if(this.store.isGrouped&&"groupFooterFor"in o.meta){r.classList.add("b-group-footer"),i.isGroupFooter=!0;var s=this.updateSummaryHtml(n,t,o.meta.groupRecord.groupChildren),u="number"==typeof s?s:s.count;u>1&&(a.height=this.grid.rowHeight+u*this.grid.rowHeight*.1),s.height&&(a.height+=s.height)}}},{key:"updateSummaryHtml",value:function(e,t,n){(n=n.slice()).pop();var r=this.generateHtml(t,n,"b-grid-group-summary");return e.children.length?yn.sync(r,e.firstElementChild):e.innerHTML=r,t.summaries?t.summaries.length:t.sum?1:0}},{key:"onStoreUpdate",value:function(e){var t=this,n=e.source,r=e.changes;if(!this.disabled&&n.isGrouped){if(r&&n.groupers.find(function(e){return e.field in r}))return;Object.keys(r).some(function(e){var n=t.grid.columns.get(e);return Boolean(n)&&(Boolean(n.sum)||Boolean(n.summaries))})&&(this.grid.forceFullRefresh=!0)}}}],[{key:"$name",get:function(){return"GroupSummary"}}]),n}(ud(To));function fd(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return dd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dd(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function dd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ld.featureClass="b-group-summary",ld._$name="GroupSummary",Ff.registerFeature(ld);var pd=function(e){X()(n,e);var t=hd(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){this.grid=e,this.store=e.store,ce()(Q()(n.prototype),"construct",this).call(this,e,t)}},{key:"doDisable",value:function(e){e&&this.clear(),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"showQuickFind",value:function(){var e=this,t=e.grid.getHeaderElement(e.columnId);if(t){if(!e.headerField){var n=yn.createElement({tag:"div",className:"b-quick-hit-header",children:[{tag:"div",className:"b-quick-hit-field"},{tag:"div",className:"b-quick-hit-badge"}]},!0),r=re()(n,3),i=r[0],o=r[1],a=r[2];"header"===e.mode?t.appendChild(i):(i.className+=" b-quick-hit-mode-grid",e.grid.element.appendChild(i)),e.headerField={header:i,field:o,badge:a,colHeader:t}}e.headerField.field.innerHTML=e.find,e.headerField.badge.innerHTML=e.found.length,t.classList.add("b-quick-find-header"),e.renderListenerInitialized||(e.grid.rowManager.on({rendercell:e.renderCell,thisObj:e}),e.renderListenerInitialized=!0)}}},{key:"hideQuickFind",value:function(){var e,t=this,n=fd(t.prevFound||t.found);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=t.grid.getRowById(r.id);i&&i.renderCell(i.getCell(t.columnId),r.data)}}catch(e){n.e(e)}finally{n.f()}t.headerField&&(t.headerField.header.parentNode.removeChild(t.headerField.header),t.headerField.colHeader.classList.remove("b-quick-find-header"),t.headerField=null),t.renderListenerInitialized&&(t.grid.rowManager.un({rendercell:t.renderCell},t),t.renderListenerInitialized=!1),t.grid.trigger("hideQuickFind")}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.columnId,n=this,r=n.grid.columns.getById(t)||n.grid.columns.get(t),i=n.store.findByField(r.field,e),o=1,a=n.grid;Object.assign(n,{foundMap:{},prevFound:n.found,found:i,find:e,columnId:r.id}),e?n.showQuickFind():n.hideQuickFind(),n.currentColumn&&n.currentColumn!==r&&(n.currentColumn.disableHtmlEncode=!1);var s,u=fd(yn.children(a.element,".b-quick-hit"));try{for(u.s();!(s=u.n()).done;){var c=s.value;c.classList.remove("b-quick-hit"),c.classList.remove("b-quick-hit-cell");var l=Ns.get(c).row;l.renderCell(c)}}catch(e){u.e(e)}finally{u.f()}if(r.disableHtmlEncode=!0,n.currentColumn=r,i){i.length>0&&n.gotoClosestHit(a.focusedCell,i);var f,d=fd(i);try{for(d.s();!(f=d.n()).done;){var h=f.value;n.foundMap[h.id]=o++;var p=a.getRowById(h.data.id);if(p&&p.renderCell(p.getCell(r.id)),o>1e3)break}}catch(e){d.e(e)}finally{d.f()}n.grid.trigger("quickFind",{find:e,found:i})}}},{key:"clear",value:function(){this.found&&this.found.length&&this.search("")}},{key:"gotoHit",value:function(e){var t=this.grid,n=this.found[e];return n&&t.focusCell({columnId:this.columnId,id:n.id}),!!n}},{key:"gotoClosestHit",value:function(e,t){var n=e?this.grid.store.indexOf(e.id):0,r=t.slice().sort(function(e,t){return Math.abs(e.index-n)-Math.abs(t.index-n)});this.gotoHit(t.indexOf(r[0]))}},{key:"gotoFirstHit",value:function(){this.gotoHit(0)}},{key:"gotoLastHit",value:function(){this.gotoHit(this.found.length-1)}},{key:"gotoNextHit",value:function(){var e=this.grid,t=e._focusedCell?e._focusedCell.id:e.lastFocusedCell.id,n=e.store.indexOf(t)||0,r=this.found.find(function(e){return e.index>n});r?e.focusCell({columnId:this.columnId,id:r.id}):this.gotoFirstHit()}},{key:"gotoPrevHit",value:function(){var e,t=this.grid,n=t._focusedCell?t._focusedCell.id:t.lastFocusedCell.id,r=t.store.indexOf(n)||0,i=this.found;if(i.length){for(var o=i.length-1;o--;o>=0)if(i[o].index<r){e=i[o];break}e?t.focusCell({columnId:this.columnId,id:e.id}):this.gotoLastHit()}}},{key:"renderCell",value:function(e){var t=this,n=e.cellElement,r=t.foundMap&&t.columnId===e.column.id&&t.foundMap[e.record.id];if(r){var i=e.column.htmlEncode||e.column.shouldHtmlEncode;if(n.classList.add("b-quick-hit"),i){var o=yn.down(n,".b-grid-cell-value,.b-tree-cell-value")||n,a=o.innerText,s=a&&a.toLowerCase().indexOf(t.find.toLowerCase());if(s>-1){var u=s+t.find.length,c=a.slice(s,u),l="";" "===a[s-1]&&(l="&nbsp;"),a=a.slice(0,s)+'<span class="b-quick-hit-text">'.concat(l).concat(c,"</span>")+a.slice(u),o.innerHTML=a+'<div class="b-quick-hit-cell-badge">'.concat(r,"</div>")}else n.classList.add("b-quick-hit-cell")}else n.classList.add("b-quick-hit-cell")}}},{key:"onElementKeyDown",value:function(e){var t=this,n=this.grid.features.filter;t.disabled||yn.up(e.target,N.isIE11?".b-widget:not(.b-grid-subgrid):not(.b-grid)":".b-widget:not(.b-grid)")||t.find.length>0&&("Backspace"===e.key?(e.preventDefault(),t.find=t.find.substr(0,t.find.length-1),t.search(t.find)):"Escape"===e.key?(e.preventDefault(),t.find="",t.search(t.find)):"F3"===e.key||"g"===e.key.toLowerCase()&&(e.ctrlKey||e.metaKey)?(e.preventDefault(),e.shiftKey?t.gotoPrevHit():t.gotoNextHit()):n&&t.columnId&&t.foundCount&&e.ctrlKey&&e.shiftKey&&"F"===e.key&&n.showFilterEditor(t.grid.columns.getById(t.columnId),t.find))}},{key:"onElementKeyPress",value:function(e){var t=this;if(!t.disabled&&!yn.up(e.target,N.isIE11?".b-widget:not(.b-grid-subgrid):not(.b-grid)":".b-widget:not(.b-grid)")&&"Enter"!==e.key&&t.grid._focusedCell){var n=t.grid.columns.getById(t.grid._focusedCell.columnId);n&&!1!==n.searchable&&(t.columnId=t.grid._focusedCell.columnId,e.key&&1===e.key.length&&(t.find+=e.key,t.search(t.find)))}}},{key:"onCellNavigate",value:function(e,t,n,r){!(this.prevFound||this.found)||n&&n.columnId===this.columnId||this.clear()}},{key:"foundCount",get:function(){return this.found?this.found.length:0}}],[{key:"$name",get:function(){return"QuickFind"}},{key:"defaultConfig",get:function(){return{mode:"header",find:""}}},{key:"pluginConfig",get:function(){return{chain:["onElementKeyDown","onElementKeyPress","onCellNavigate"]}}}]),n}(To);function vd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}pd._$name="QuickFind",Ff.registerFeature(pd);var gd=function(e){X()(n,e);var t=vd(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){this.grid=e,ce()(Q()(n.prototype),"construct",this).call(this,e,t)}},{key:"doDestroy",value:function(){ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"onElementDblClick",value:function(e){var t=this,n=t.grid,r=yn.up(e.target,".b-grid-splitter-collapsed");if(r&&!t.expanding){t.expanding=!0;var i=r.dataset.region,o=n.getSubGrid(i);o.collapsed||(i=n.getLastRegions()[1],o=n.getSubGrid(i)),o.expand().then(function(){return t.expanding=!1})}}},{key:"startMove",value:function(e,t){var n=this.grid,r=e.dataset.region,i=n.element,o=n.regions[n.regions.indexOf(r)+1],a=n.getSubGrid(o),s=n.getSubGrid(r),u=s,c=1;if(null!=u.flex&&null==a.flex&&(u=a,c=-1),!e.classList.contains("b-grid-splitter-collapsed")){var l=u.element.offsetWidth+a.element.offsetWidth;this.dragContext={element:e,headerEl:u.header.element,subGridEl:u.element,subGrid:u,splitterSubGrid:s,originalWidth:u.element.offsetWidth,originalX:t,minWidth:u.minWidth||0,maxWidth:Math.min(l,u.maxWidth||l),flip:c},i.classList.add("b-moving-splitter"),s.toggleSplitterCls("b-moving")}}},{key:"endMove",value:function(){var e=this.dragContext;e&&(this.grid.element.classList.remove("b-moving-splitter"),e.splitterSubGrid.toggleSplitterCls("b-moving",!1),this.dragContext=null)}},{key:"onCollapseClick",value:function(e,t){var n=this.grid,r=t.dataset.region,i=n.getLastRegions();if(i[0]===r){var o=n.getSubGrid(i[1]);if(o.collapsed)return void o.expand()}e.collapse()}},{key:"onExpandClick",value:function(e,t){var n=this.grid,r=t.dataset.region,i=n.getLastRegions();if(i[0]===r&&!e.collapsed)return void n.getSubGrid(i[1]).collapse();e.expand()}},{key:"updateMove",value:function(e){var t=this.dragContext;if(t){var n=e-t.originalX,r=Math.min(t.maxWidth,t.originalWidth+n*t.flip);t.subGrid.width=Math.max(r,t.minWidth)}}},{key:"onElementTouchStart",value:function(e){var t=e.target.closest(".b-grid-splitter");t&&this.startMove(t,e.touches[0].clientX)}},{key:"onElementTouchMove",value:function(e){this.dragContext&&(this.updateMove(e.touches[0].clientX),e.preventDefault())}},{key:"onElementTouchEnd",value:function(e){this.dragContext&&(this.endMove(),e.preventDefault())}},{key:"onElementMouseDown",value:function(e){var t=e.target,n=t.closest(":not(.b-row-reordering):not(.b-dragging-event):not(.b-dragging-task):not(.b-dragging-header):not(.b-dragselecting) .b-grid-splitter"),r=n&&this.grid.getSubGrid(n.dataset.region);0===e.button&&(t.classList.contains("b-grid-splitter")||t.classList.contains("b-grid-splitter-inner")?this.startMove(n,e.clientX):t.classList.contains("b-icon-collapse-gridregion")?this.onCollapseClick(r,n):t.classList.contains("b-icon-expand-gridregion")&&this.onExpandClick(r,n))}},{key:"onElementMouseMove",value:function(e){this.dragContext&&(this.updateMove(e.clientX),e.preventDefault())}},{key:"onElementMouseUp",value:function(e){this.dragContext&&(this.endMove(),e.preventDefault())}},{key:"onSubGridCollapse",value:function(e){var t=this.grid.resolveSplitter(e);this.grid.getLastRegions()[1]===e.region&&t.classList.add("b-grid-splitter-allow-collapse")}},{key:"onSubGridExpand",value:function(e){this.grid.resolveSplitter(e).classList.remove("b-grid-splitter-allow-collapse")}},{key:"render",value:function(){var e=this.grid,t=e.regions,n=e.subGrids;t.length>2&&(n[t[0]].splitterElement.classList.add("b-left-only"),n[t[1]].splitterElement.classList.add("b-right-only"))}}],[{key:"$name",get:function(){return"RegionResize"}},{key:"pluginConfig",get:function(){return{chain:["onElementTouchStart","onElementTouchMove","onElementTouchEnd","onElementMouseDown","onElementMouseMove","onElementDblClick","onElementMouseUp","onSubGridCollapse","onSubGridExpand","render"]}}}]),n}(To);function yd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}gd.featureClass="b-split",gd._$name="RegionResize",Ff.registerFeature(gd);var md=function(e){X()(i,e);var t,n,r=yd(i);function i(){return E()(this,i),r.apply(this,arguments)}return M()(i,[{key:"construct",value:function(e,t){this.grid=e,ce()(Q()(i.prototype),"construct",this).apply(this,arguments)}},{key:"doDestroy",value:function(){this.dragHelper&&this.dragHelper.destroy(),ce()(Q()(i.prototype),"doDestroy",this).call(this)}},{key:"init",value:function(){var e=this,t=e.grid;e.dragHelper=new Hc({name:"rowReorder",mode:"translateXY",cloneTarget:!0,dragThreshold:10,targetSelector:".b-grid-row",lockX:!0,transitionDuration:t.transitionDuration,scrollManager:t.scrollManager,dragWithin:t.verticalScroller,outerElement:t.verticalScroller,ignoreSamePositionDrop:!1,createProxy:function(e){var t=e.cloneNode(!0),n=document.createElement("div");return t.removeAttribute("id"),t.style.transform="",n.appendChild(t),n},listeners:{beforedragstart:e.onBeforeDragStart,dragstart:e.onDragStart,drag:e.onDrag,drop:e.onDrop,reset:e.onReset,prio:1e4,thisObj:e}}),e.dropIndicator=yn.createElement({parent:t.bodyContainer,className:"b-row-drop-indicator"}),e.relayEvents(e.dragHelper,["beforeDragStart","dragStart","drag","abort"],"gridRow")}},{key:"onBeforeDragStart",value:function(e){var t=e.context,n=this.grid,r=n.regions[0],i=n.subGrids[r].element;return!(this.disabled||n.readOnly||!i.contains(t.element))&&!(t.record=this.grid.getRecordFromElement(t.element)).meta.specialRow}},{key:"onDragStart",value:function(e){var t=e.context,n=this,r=n.grid.features.cellEdit,i=n.grid.getRecordFromElement(t.grabbed);if(!i)throw new Error("Failed to find record for dragged element");r&&(n.cellEditDisabledState=r.disabled,r.disabled=!0),n.grid.features.contextMenu&&n.grid.features.contextMenu.hideContextMenu(!1),n.grid.element.classList.add("b-row-reordering");var o=t.element.querySelector(".b-focused");o&&o.classList.remove("b-focused"),yn.removeClasses(t.element.firstElementChild,["b-selected","b-hover"]),n.record=i}},{key:"onDrag",value:function(e){var t=e.context,n=e.event,r=this,i=r.grid,o=i.store,a=i.rowManager;if(r.dragHelper.outerElement.contains(n.target)&&n.target.closest(".b-grid-subgrid")){var s,u,c,l,f=t.valid,d=r.grid.rowManager.getRowAt(n.clientY);if(d){var h=d.top+r.grid._bodyRectangle.y-r.grid.scrollable.y+d.height/2;u=d.dataIndex,s=d&&o.getAt(u),c=n.clientY>h}else u=o.count-1,s=o.last,d=r.grid.rowManager.getRow(u),c=!0;if(s===r.record&&(f=!1),o.tree){if(yn.removeClsGlobally(r.grid.element,"b-row-reordering-target-parent"),l=c?s.nextSibling:s,r.record.contains(s)&&(f=!1),t.parent=s.parent,!t.parent.isRoot){var p=a.getRowById(t.parent);p&&p.addCls("b-row-reordering-target-parent")}r.clearTimeout(r.hoverTimer),s&&s.isParent&&!s.isExpanded(o)&&(r.hoverTimer=r.setTimeout(function(){return r.grid.expand(s)},r.hoverExpandTimeout))}else l=c?o.getAt(u+1):s;yn.setTranslateY(r.dropIndicator,d.top+(c?d.height:0)),t.insertBefore=l,t.valid=f}else t.valid=!1}},{key:"onDrop",value:(n=ro()(to.a.mark(function e(t){var n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this,r=t.context,n.trigger("gridRowBeforeDropFinalize",t),r.valid?(r.asyncCleanup=r.async=!0,r.element.classList.add("b-dropping"),n.setTimeout(function(){return n.finalizeReorder(r).then(function(){return n.trigger("gridRowDrop",t)})},n.finalizeDelay)):n.trigger("gridRowDrop",t);case 3:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"finalizeReorder",value:(t=ro()(to.a.mark(function e(t){var n,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=this).grid,i=r.store,t.valid=t.valid&&i.includes(n.record),!t.valid){e.next=14;break}if(!i.tree){e.next=12;break}if(t.valid=i.includes(n.record),!t.valid){e.next=10;break}return e.next=8,t.parent.tryInsertChild(n.record,t.insertBefore);case 8:o=e.sent,t.valid=!1!==o;case 10:e.next=13;break;case 12:i.insert(t.insertBefore?i.indexOf(t.insertBefore):i.count,n.record);case 13:i.clearSorters();case 14:t.finalize(t.valid),r.element.classList.remove("b-row-reordering");case 16:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"onReset",value:function(){var e=this.grid.features.cellEdit;this.grid.element.classList.remove("b-row-reordering"),e&&(e.disabled=this.cellEditDisabledState),yn.removeClsGlobally(this.grid.element,"b-row-reordering-target-parent")}},{key:"render",value:function(){this.init()}}],[{key:"$name",get:function(){return"RowReorder"}},{key:"defaultConfig",get:function(){return{hoverExpandTimeout:1e3,finalizeDelay:300}}},{key:"pluginConfig",get:function(){return{after:["render"]}}}]),i}(yr(To));function kd(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return bd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bd(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function bd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}md.featureClass="",md._$name="RowReorder",Ff.registerFeature(md,!1),Ff.registerFeature(md,!0,"Gantt");var Sd=function(e){X()(n,e);var t=wd(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){ce()(Q()(n.prototype),"construct",this).call(this,e,t),Object.assign(this,{store:e.store,grid:e,find:"",hitEls:[]})}},{key:"doDestroy",value:function(){this.clear(!0),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){e&&this.clear(),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"search",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;if(!e)return r.clear();if((n||e!==r.find)&&!r.disabled){var i=r.grid,o=i.columns.visibleColumns.filter(function(e){return!1!==e.searchable}),a=o.map(function(e){return e.field}),s=r.store.search(e,a),u=1;Object.assign(r,{foundMap:{},prevFound:r.found,found:s,find:e});var c,l=kd(yn.children(i.element,".b-search-hit"));try{for(l.s();!(c=l.n()).done;){var f=c.value;f.classList.remove("b-search-hit"),f.classList.remove("b-search-hit-cell");var d=Ns.get(f).row;d.renderCell(f)}}catch(e){l.e(e)}finally{l.f()}if(s){r.hitColumns&&r.hitColumns.forEach(function(e){return e.disableHtmlEncode=!1}),r.hitColumns=[];var h,p=kd(s);try{for(p.s();!(h=p.n()).done;){var v=h.value;r.foundMap[v.field+"-"+v.id]=u++;var g=r.grid.columns.get(v.field);if(g&&(g.disableHtmlEncode=!0,r.hitColumns.push(g)),u>1e3)break}}catch(e){p.e(e)}finally{p.f()}return r.listenersInitialized||(r.grid.rowManager.on({rendercell:r.renderCell},r),r.store.on({refresh:r.onStoreRefresh},r),r.listenersInitialized=!0),i.refreshRows(),r.grid.trigger("search",{grid:i,find:e,found:s}),t&&!r.isHitFocused&&r.gotoNextHit(!0),s}}}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=t.grid;t.foundMap&&delete t.foundMap,delete t.find,yn.forEachSelector(n.element,".b-search-hit",function(e){return yn.removeClasses(e,["b-search-hit","b-search-hit-cell"])}),yn.removeEachSelector(n.element,".b-search-hit-cell-badge,.b-search-hit-text"),t.listenersInitialized&&(n.rowManager.un({rendercell:t.renderCell},t),t.store.un({refresh:t.onStoreRefresh},t),t.listenersInitialized=!1),e||(n.refreshRows(),t.grid.trigger("clearSearch",{grid:n}))}},{key:"gotoNextHit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;if(t.found&&t.found.length){var n=t.grid,r=n.focusedCell||n.lastFocusedCell,i=r&&!e?n.store.indexOf(r.id):-1,o=t.found.findIndex(function(e){return e.index>i});-1!==o&&t.gotoHit(o)}}},{key:"gotoPrevHit",value:function(){var e=this;if(e.found&&e.found.length)for(var t=e.grid,n=t.focusedCell||t.lastFocusedCell,r=n?t.store.indexOf(n.id):0,i=e.found,o=i.length-1;o--;o>=0){if(i[o].index<r){e.gotoHit(o);break}}}},{key:"gotoHit",value:function(e){var t=this.grid,n=this.found[e];return n&&t.focusCell({field:n.field,id:n.id}),!!n}},{key:"gotoFirstHit",value:function(){this.gotoHit(0)}},{key:"gotoLastHit",value:function(){this.gotoHit(this.found.length-1)}},{key:"renderCell",value:function(e){var t=e.cellElement,n=e.column,r=e.record,i=e.value,o=e.cellContent,a=this,s=a.foundMap&&a.foundMap[n.field+"-"+r.id];if(s){t.classList.add("b-search-hit");var u=yn.down(t,".b-grid-cell-value")||t,c=String(a.find).toLowerCase();if(String(i).toLowerCase()===c)u.innerHTML='<span class="b-search-hit-text">'.concat(o,'</span><div class="b-search-hit-cell-badge">').concat(s,"</div>");else{var l=String(a.find).toLowerCase(),f=o&&o.toLowerCase().indexOf(l);if(f>-1){var d=f+l.length,h=o.slice(f,d);u.innerHTML="".concat(o.slice(0,f),'<span class="b-search-hit-text">').concat(h,"</span>").concat(o.slice(d),'<div class="b-search-hit-cell-badge">').concat(s,"</div>")}else t.classList.add("b-search-hit-cell")}a.hitEls.push(t)}}},{key:"getCellMenuItems",value:function(e,t,n){var r=this;return e.searchable&&n.push({text:"L{searchForValue}",localeClass:this,icon:"b-fw-icon b-icon-search",cls:"b-separator",name:"search",disabled:r.disabled,onItem:function(e){var t=e.item,n=t.column,i=t.record,o=window.getSelection().toString();o||(o=i[n.field]),r.search(o)}}),n}},{key:"onElementKeyDown",value:function(e){this.find&&""!==this.find&&("F3"===e.key||"g"===e.key.toLowerCase()&&(e.ctrlKey||e.metaKey))&&(e.preventDefault(),e.shiftKey?this.gotoPrevHit():this.gotoNextHit())}},{key:"onStoreRefresh",value:function(){this.search(this.find,!1,!0)}},{key:"foundCount",get:function(){return this.found&&this.found.length||0}},{key:"isHitFocused",get:function(){var e=this.grid,t=e.focusedCell?e.store.indexOf(e.focusedCell.id):-1,n=e.focusedCell?e.columns.getById(e.focusedCell.columnId):null;return-1!==t&&this.found.some(function(e){return e.index===t&&n&&e.field===n.field})}}],[{key:"$name",get:function(){return"Search"}},{key:"pluginConfig",get:function(){return{chain:["getCellMenuItems","onElementKeyDown"]}}}]),n}(To);function Dd(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Rd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rd(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Rd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Sd.featureClass="b-search",Sd._$name="Search",Ff.registerFeature(Sd);var xd=function(e){X()(n,e);var t=Cd(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;t=r.processConfig(t),r.store=e.store,r.grid=e,r.store.on({sort:r.syncHeaderSortState,thisObj:r}),ce()(Q()(n.prototype),"construct",this).call(this,e,t)}},{key:"processConfig",value:function(e){return"string"==typeof e||Array.isArray(e)?{field:e,ascending:null}:e}},{key:"setConfig",value:function(e){ce()(Q()(n.prototype),"setConfig",this).call(this,this.processConfig(e))}},{key:"doDestroy",value:function(){ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"syncHeaderSortState",value:function(){var e=this,t={};if(!e.grid.isConfiguring){for(var n,r=e.store.sorters,i=r.length,o=new Ft,a=0;a<i;a++){var s=r[a];s.field&&(t[s.field]={ascending:s.ascending,sortIndex:a+1})}var u,c=Dd(e.grid.columns.bottomColumns);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=l.element;if(f){var d=l.textWrapper&&l.textWrapper.dataset;d&&d.sortIndex&&delete d.sortIndex,o.value=f.classList,!1!==l.sortable?(o.add(e.sortableCls),(n=t[l.field])?(i>1&&d&&(d.sortIndex=n.sortIndex),o.add(e.sortedCls),n.ascending?(o.add(e.sortedAscCls),o.remove(e.sortedDescCls)):(o.add(e.sortedDescCls),o.remove(e.sortedAscCls))):(o.remove(e.sortedCls),o["b-group"]||(o.remove(e.sortedAscCls),o.remove(e.sortedDescCls)))):o.remove(e.sortableCls),yn.syncClassList(f,o)}}}catch(e){c.e(e)}finally{c.f()}}}},{key:"getHeaderMenuItems",value:function(e,t){var n=this,r=n.disabled;if(!1!==e.sortable&&(t.push({text:"L{sortAscending}",localeClass:this,icon:"b-fw-icon b-icon-sort-asc",name:"sortAsc",cls:"b-separator",weight:105,disabled:r,onItem:function(e){var t=e.item.column;return n.store.sort(t.field,!0)}}),t.push({text:"L{sortDescending}",localeClass:this,icon:"b-fw-icon b-icon-sort-desc",name:"sortDesc",weight:105,disabled:r,onItem:function(e){var t=e.item.column;return n.store.sort(t.field,!1)}}),n.multiSort&&n.grid.columns.records.filter(function(e){return e.sortable}).length>1)){var i=this.grid.store.sorters.find(function(t){return t.field===e.field});t.push({text:"L{multiSort}",localeClass:this,icon:"b-fw-icon b-icon-sort",name:"multiSort",weight:105,disabled:r,menu:[{text:i?n.L("L{toggleSortAscending}"):n.L("L{addSortAscending}"),icon:"b-fw-icon b-icon-sort-asc",name:"addSortAsc",disabled:i&&i.ascending,weight:105,onItem:function(e){var t=e.item.column;return n.store.addSorter(t.field,!0)}},{text:i?n.L("L{toggleSortDescending}"):n.L("L{addSortDescending}"),icon:"b-fw-icon b-icon-sort-desc",name:"addSortDesc",disabled:i&&!i.ascending,weight:105,onItem:function(e){var t=e.item.column;return n.store.addSorter(t.field,!1)}},{text:"L{removeSorter}",localeClass:this,icon:"b-fw-icon b-icon-remove",name:"remove-sorter",weight:105,disabled:!i,onItem:function(e){var t=e.item.column;return n.store.removeSorter(t.field)}}]})}return t}},{key:"getColumnDragToolbarItems",value:function(e,t){var n=this.store,r=this.disabled;if(!1!==e.sortable){t.push({text:"L{sortAscendingShort}",group:"L{sort}",localeClass:this,icon:"b-icon b-icon-sort-asc",name:"sortAsc",cls:"b-separator",weight:105,disabled:r,onDrop:function(e){var t=e.column;return n.sort(t.field,!0)}}),t.push({text:"L{sortDescendingShort}",group:"L{sort}",localeClass:this,icon:"b-icon b-icon-sort-desc",name:"sortDesc",weight:105,disabled:r,onDrop:function(e){var t=e.column;return n.sort(t.field,!1)}});var i=n.sorters.find(function(t){return t.field===e.field});Array.prototype.push.apply(t,[{text:"L{addSortAscendingShort}",group:"L{multiSort}",localeClass:this,icon:"b-icon b-icon-sort-asc",name:"multisortAddAsc",disabled:r||i&&i.ascending,weight:105,onDrop:function(e){var t=e.column;return n.addSorter(t.field,!0)}},{text:"L{addSortDescendingShort}",group:"L{multiSort}",localeClass:this,icon:"b-icon b-icon-sort-desc",name:"multisortAddDesc",disabled:r||i&&!i.ascending,weight:105,onDrop:function(e){var t=e.column;return n.addSorter(t.field,!1)}},{text:"L{removeSorterShort}",group:"L{multiSort}",localeClass:this,icon:"b-icon b-icon-remove",name:"multisortRemove",weight:105,disabled:r||!i,onDrop:function(e){var t=e.column;return n.removeSorter(t.field)}}])}return t}},{key:"onElementClick",value:function(e){var t=this.store,n=e.target,r=yn.up(n,".b-grid-header.b-sortable"),i=r&&r.dataset.column;if(!this.ignoreRe.test(n.className)&&!this.disabled&&r&&i){var o=this.grid.columns.getById(r.dataset.columnId);if(t.isGrouped&&t.groupers.find(function(e){return e.field===i})&&!e.shiftKey)return;if(o.sortable&&!e.shiftKey)if(e.ctrlKey&&e.altKey)t.removeSorter(o.field);else{var a=o.field;"function"==typeof o.sortable?a={field:o.field,fn:o.sortable}:"object"===oe()(o.sortable)&&((a=o.sortable).field||(a.field=a.property||o.field)),t.sort(a,null,e.ctrlKey)}}}},{key:"renderHeader",value:function(){this.syncHeaderSortState()}},{key:"field",set:function(e){var t=this.grid.columns.get(e);t&&"object"===oe()(t.sortable)&&(t.sortable.field=t.sortable.property||e,e=t.sortable),this.store.sort(e,this.ascending)}}],[{key:"$name",get:function(){return"Sort"}},{key:"defaultConfig",get:function(){return{multiSort:!0,ignoreRe:new RegExp(["b-grid-header-resize-handle","b-filter-icon"].join("|")),sortableCls:"b-sortable",sortedCls:"b-sort",sortedAscCls:"b-asc",sortedDescCls:"b-desc"}}},{key:"pluginConfig",get:function(){return{chain:["onElementClick","getHeaderMenuItems","getColumnDragToolbarItems","renderHeader"]}}}]),n}(To);function Ed(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}xd.featureClass="b-sort",xd._$name="Sort",Ff.registerFeature(xd,!0);var Td=function(e){X()(n,e);var t=Ed(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){ce()(Q()(n.prototype),"construct",this).call(this,e,t),e.rowManager.on({renderrow:"onRenderRow",thisObj:this})}},{key:"doDisable",value:function(e){this.client.refreshRows(),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"onRenderRow",value:function(e){var t=e.row;this.disabled||t.addCls(t.dataIndex%2==0?"b-even":"b-odd")}}],[{key:"$name",get:function(){return"Stripe"}}]),n}(To);function Md(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Td._$name="Stripe",Ff.registerFeature(Td);var Pd=function(e){X()(n,e);var t=Md(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"fixCellWidths",value:function(){var e,t=this,n=!1;t.columns.traverse(function(r){var i=t.getBarCellElement(r.id),o=yn.setLength(r.width),a=yn.setLength(r.minWidth);if(i){if(e=N.isIE11?"calc(".concat(o," - ").concat(t.getLrPadding(i),"px)"):o,n=n||Boolean(r.flex),r.isParent&&null==r.width&&null==r.flex){var s=r.children.reduce(function(e,t){return e+(!t.hidden&&t.flex||0)},0);i.style.flex=s>0?"".concat(s," 0 auto"):"",s>0&&r.traverse(function(e){return e.data.minWidth=null})}else if(parseInt(r.minWidth)>=0&&(i.style.minWidth=a),i.style.flex=i.style.flexBasis=i.style.width="",r.flex)!isNaN(parseInt(r.flex))&&r.children?i.style.flex="".concat(r.flex," 0 auto"):i.style.flex=r.flex;else if(parseInt(r.width)>=0){var u=r.parent;!t.isHeader||u.isRoot||u.width?i.style.flexBasis=e:i.style.width=o}r.height>=0&&(i.style.height=yn.setLength(r.height))}}),t.element.classList[n?"add":"remove"]("b-has-flex")}},{key:"getLrPadding",value:function(e){if(!this.cellLrPadding){var t=e.ownerDocument.defaultView.getComputedStyle(e);this.cellLrPadding=parseInt(t.getPropertyValue("padding-left"))+parseInt(t.getPropertyValue("padding-right"))+parseInt(t.getPropertyValue("border-left-width"))+parseInt(t.getPropertyValue("border-right-width"))}return this.cellLrPadding}},{key:"getBarCellElement",value:function(e){return this.element.querySelector('[data-column-id="'.concat(e,'"]'))}},{key:"columns",get:function(){return this._columns||this.subGrid.columns},set:function(e){this._columns=e}}],[{key:"$name",get:function(){return"Bar"}},{key:"defaultConfig",get:function(){return{scrollable:{}}}}]),n}(Jr);function Ad(){var e=Bi()(['\n                <div\n                    class="b-grid-footer '," ",'"\n                    data-column="','" data-column-id="','" data-all-index="','"\n                    >\n                    ',"\n                </div>"]);return Ad=function(){return e},e}function Id(){var e=Bi()(['\n            <div class="b-grid-footer-scroller b-grid-footer-scroller-','">\n                <div reference="footersElement" class="b-grid-footers b-grid-footers-','" data-region="','"></div>\n            </div>\n        ']);return Id=function(){return e},e}function Fd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Pd._$name="Bar";var Ld=function(e){X()(n,e);var t=Fd(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"startConfigure",value:function(e){e.scrollable.overflowX="hidden-scroll",ce()(Q()(n.prototype),"startConfigure",this).call(this,e)}},{key:"refreshContent",value:function(){this.element.firstElementChild.innerHTML=this.contentTemplate(),this.fixFooterWidths()}},{key:"onPaint",value:function(e){e.firstPaint&&this.refreshContent()}},{key:"template",value:function(){var e=this.subGrid.region;return Wi.tpl(Id(),e,e,e)}},{key:"getFooter",value:function(e){return this.getBarCellElement(e)}},{key:"contentTemplate",value:function(){return this.columns.visibleColumns.map(function(e){return e.hidden?"":Wi.tpl(Ad(),e.align?"b-grid-footer-align-".concat(e.align):"",e.cls||"",e.field||"",e.id,e.allIndex,e.footerText||"")}).join("")}},{key:"fixFooterWidths",value:function(){this.fixCellWidths()}},{key:"subGrid",get:function(){return this._subGrid},set:function(e){this._subGrid=this.owner=e}},{key:"overflowElement",get:function(){return this.footersElement}}],[{key:"$name",get:function(){return"Footer"}},{key:"defaultConfig",get:function(){return{isFooter:!0}}}]),n}(Pd);function Od(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ld._$name="Footer";var _d=function(e){X()(n,e);var t=Od(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;Object.assign(r,{grid:e,store:e.store}),ce()(Q()(n.prototype),"construct",this).call(this,e,t),r.store.on({change:r.onStoreChanged,thisObj:r}),r.grid.eachSubGrid(function(e){e.footer||(e.footer=new Ld({subGrid:e,parent:e}))})}},{key:"doDestroy",value:function(){ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){ce()(Q()(n.prototype),"doDisable",this).call(this,e),e?this.grid.element.classList.add("b-summary-disabled"):(this.updateSummaries(),this.grid.element.classList.remove("b-summary-disabled"))}},{key:"renderRows",value:function(){this.updateSummaries()}},{key:"updateSummaries",value:function(){var e=this,t=e.grid,n=e.store,r=yn.children(t.element,".b-grid-footer"),i=n.storage.values.filter(function(e){return!e.meta.specialRow});t.columns.forEach(function(e){e.summaries&&e.summaries.forEach(function(e){"seed"in e&&("initialSeed"in e||(e.initialSeed=e.seed),["number","string","date"].includes(oe()(e.initialSeed))?e.seed=e.initialSeed:e.seed=Object.assign({},e.initialSeed))})}),r.forEach(function(n){if(n.dataset.column){var r=t.columns.get(n.dataset.column),o=e.generateHtml(r,i,"b-grid-footer-summary");(r.summaries?r.summaries.length:!!r.sum)&&(n.children.length?yn.sync(o,n.firstElementChild):n.innerHTML=o)}})}},{key:"onStoreChanged",value:function(e){var t=this,n=e.action,r=e.changes,i=!0;this.disabled||("update"===n&&(i=Object.keys(r).some(function(e){var n=t.grid.columns.get(e);return Boolean(n)&&(Boolean(n.sum)||Boolean(n.summaries))})),i&&this.updateSummaries())}}],[{key:"$name",get:function(){return"Summary"}},{key:"pluginConfig",get:function(){return{chain:["renderRows"]}}}]),n}(ud(To));function jd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}_d.featureClass="b-summary",_d._$name="Summary",Ff.registerFeature(_d);var Hd=new Promise(function(e){return e()}),Nd=function(e){X()(u,e);var t,n,r,i,o,a,s=jd(u);function u(){return E()(this,u),s.apply(this,arguments)}return M()(u,[{key:"construct",value:function(e,t){ce()(Q()(u.prototype),"construct",this).call(this,e,t);var n=e.columns.find(function(e){return e instanceof xf});Object.assign(this,{grid:e,store:e.store,rowManager:e.rowManager,treeColumn:n}),this.store.on({beforeLoadChildren:"onBeforeLoadChildren",loadChildren:"onLoadChildren",loadChildrenException:"onLoadChildrenException",beforeToggleNode:"onBeforeToggleNode",thisObj:this})}},{key:"doDisable",value:function(e){}},{key:"toggleCollapse",value:(a=ro()(to.a.mark(function e(t,n){var r,i,o,a,s,u,c,l,f=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f.length>2&&void 0!==f[2]&&f[2],i=(r=this).store,o=r.grid,a=o.rowManager,s=i.getById(t),u=s.instanceMeta(i),e.next=4,i.toggleCollapse(s,n);case 4:if(!e.sent){e.next=10;break}(c=a.getRowFor(s))&&(l=c.getCell(r.treeColumn.id))&&c.renderCell(l,s),r.isTogglingNode||(o.element.classList.add("b-toggling-node"),r.isTogglingNode=!0,r.requestAnimationFrame(function(){o.element.classList.remove("b-toggling-node"),r.isTogglingNode=!1})),o.trigger(u.collapsed?"collapseNode":"expandNode",{source:o,record:s}),o.trigger("toggleNode",{source:o,record:s,collapse:n});case 10:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"collapse",value:(o=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.toggleCollapse(t,!0));case 1:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"expand",value:(i=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.toggleCollapse(t,!1));case 1:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"onBeforeToggleNode",value:function(e){var t=e.record,n=e.collapse;this.grid.trigger("beforeToggleNode",{record:t,collapse:n})}},{key:"onBeforeLoadChildren",value:function(e){var t=e.source,n=e.params,r=t.getById(n[t.modelClass.idField]),i=this.grid.rowManager.getRowFor(r);i&&i.addCls("b-loading-children")}},{key:"onLoadChildren",value:function(e){var t=e.source,n=e.params,r=t.getById(n[t.modelClass.idField]),i=this.grid.rowManager.getRowFor(r);i&&i.removeCls("b-loading-children")}},{key:"onLoadChildrenException",value:function(e){var t=e.record,n=this.grid.rowManager.getRowFor(t);n&&n.removeCls("b-loading-children")}},{key:"expandOrCollapseAll",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.store.rootNode,r=this.grid,i=this.store,o=[],a=[];return r.trigger("beforeToggleAllNodes",{source:r,collapse:t}),i.suspendEvents(),i.traverse(function(n){var r=n.instanceMeta(i);n.isLeaf||(t&&!r.collapsed?(e.toggleCollapse(n,!0,!0),a.push.apply(a,te()(n.children))):!t&&r.collapsed&&(Array.isArray(n.children)&&a.push.apply(a,te()(n.children)),o.push(e.toggleCollapse(n,!1,!0))))},n,n===i.rootNode),i.resumeEvents(),(t?Hd:Promise.all(o)).then(function(){r.refreshRows(t),a.length&&(t?i.trigger("remove",{records:a,isCollapse:!0,isCollapseAll:!0}):i.trigger("add",{records:a,isExpand:!0,isExpandAll:!0})),r.trigger("toggleAllNodes",{source:r,collapse:t})})}},{key:"collapseAll",value:(r=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.expandOrCollapseAll(!0));case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"expandAll",value:(n=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.expandOrCollapseAll(!1));case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"expandTo",value:(t=ro()(to.a.mark(function e(t){var n,r,i,o,a;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==(r=(n=this).store.getById(t)).instanceMeta(n.store).hiddenByCollapse){e.next=3;break}return e.abrupt("return");case 3:for(i=!1,o=r.parent,a=[];o&&!o.isRoot;)a.push(o),o=o.parent;return e.next=8,a.reverse().forEach(function(){var e=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.instanceMeta(n.store).collapsed&&(i=!0),e.next=3,n.toggleCollapse(t,!1,!0);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 8:return i&&n.grid.refreshRows(),e.next=11,n.grid.scrollRowIntoView(r);case 11:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"onElementClick",value:function(e){var t=e.target,n=this.grid.getEventData(e),r=t.closest(".b-tree-expander");(r||this.expandOnCellClick&&n&&n.record.isParent)&&(r&&e.preventDefault(),this.toggleCollapse(n.record))}},{key:"onElementKeyDown",value:function(e){e.target===this.client.focusElement&&" "===e.key&&(e.preventDefault(),this.toggleCollapse(this.grid.focusedCell.id))}},{key:"navigateRight",value:function(e){var t=this.grid,n=t.focusedCell;if(n){var r=t.store.getById(n.id);if(t.columns.getById(n.columnId).tree&&(e.shiftKey||1===t.columns.count))return r.isParent&&r.instanceMeta(t.store).collapsed?this.expand(r):t.navigateDown(e),!1}}},{key:"navigateLeft",value:function(e){var t=this.grid,n=t.focusedCell;if(n){var r=t.store.getById(n.id);if(t.columns.getById(n.columnId).tree&&(e.shiftKey||1===t.columns.count))return r.isParent&&!r.instanceMeta(t.store).collapsed?this.collapse(r):r.parent&&t.focusCell({id:r.parent.id,columnId:n.columnId}),!1}}}],[{key:"$name",get:function(){return"Tree"}},{key:"defaultConfig",get:function(){return{expandOnCellClick:!1}}},{key:"pluginConfig",get:function(){return{assign:["collapseAll","expandAll","collapse","expand","expandTo","toggleCollapse"],before:["navigateRight","navigateLeft"],chain:["onElementClick","onElementKeyDown"]}}}]),u}(yr(To));Nd.featureClass="b-tree",Nd._$name="Tree",Ff.registerFeature(Nd,!1,"Grid"),Ff.registerFeature(Nd,!0,"TreeGrid");var Bd={all:"all",visible:"visible"},zd={A6:{width:4.13,height:5.81},A5:{width:5.81,height:8.25},A4:{width:8.25,height:11.69},A3:{width:11.69,height:16.49},Legal:{width:8.5,height:14},Letter:{width:8.5,height:11}},Vd={portrait:"portrait",landscape:"landscape"},Wd={pdf:"pdf",png:"png"};function $d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Gd=function(e){return function(e){X()(n,e);var t=$d(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e;this.inConstruct=!0;for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=ce()(Q()(n.prototype),"construct",this)).call.apply(e,[this].concat(r)),this.inConstruct=!1}},{key:"buildLocalizedItems",value:function(){return[]}},{key:"updateLocalizedItems",value:function(){var e=this;if(e.store&&!e.inConstruct){var t=e.value;e.store.data=e.buildLocalizedItems(),e.value=null,e.value=t,e.syncInputFieldValue(!0)}}},{key:"updateLocalization",value:function(){this.updateLocalizedItems(),ce()(Q()(n.prototype),"updateLocalization",this).call(this)}},{key:"items",set:function(e){!0===e&&(e=this.buildLocalizedItems()),di()(Q()(n.prototype),"items",e,this,!0)},get:function(){return ce()(Q()(n.prototype),"items",this)}}],[{key:"$name",get:function(){return"LocalizableComboItems"}},{key:"defaultConfig",get:function(){return{items:!0}}}]),n}(e||Ja)};function Yd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ud=function(e){X()(n,e);var t=Yd(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(Gd(Ja));function qd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ud._$name="LocalizableCombo",ke.register("localizablecombo",Ud);var Xd=function(e){X()(n,e);var t=qd(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"buildLocalizedItems",value:function(){return[{id:Bd.all,text:this.L("L{all}")},{id:Bd.visible,text:this.L("L{visible}")}]}}],[{key:"$name",get:function(){return"ExportRowsCombo"}},{key:"defaultConfig",get:function(){return{editable:!1}}}]),n}(Ud);function Kd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Xd._$name="ExportRowsCombo",ke.register(Xd.$name,Xd);var Zd=function(e){X()(n,e);var t=Kd(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"buildLocalizedItems",value:function(){return[{id:Vd.portrait,text:this.L("L{portrait}")},{id:Vd.landscape,text:this.L("L{landscape}")}]}}],[{key:"$name",get:function(){return"ExportOrientationCombo"}},{key:"defaultConfig",get:function(){return{editable:!1}}}]),n}(Ud);function Jd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zd._$name="ExportOrientationCombo",ke.register(Zd.$name,Zd);var Qd=function(e){X()(n,e);var t=Jd(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,r=e.client;if(!r)throw new Error("`client` config is required");var i,o=t.buildDialogItems(e);e.items?Array.isArray(e.items)?(i=e.items).push.apply(i,te()(o)):o.forEach(function(t){e.items[t.ref]=t,delete t.ref}):e.items=o;e.width=e.width||t.L("L{width}"),ce()(Q()(n.prototype),"construct",this).call(this,e),t.widgetMap.exportButton.on("click",t.onExportClick,t),t.widgetMap.cancelButton.on("click",t.onCancelClick,t),_e.on({locale:"onLocaleChange",prio:-1,thisObj:t})}},{key:"getDefaultFieldValues",value:function(e){var t=It.copyProperties({},e,this.fieldProperties);return It.copyPropertiesIf(t,this.getDefaultConfiguration(),this.fieldProperties)}},{key:"buildDialogItems",value:function(e){var t=this,n=this,r=e.exporters,i=e.client,o=n.getDefaultFieldValues(e),a=o.exporterType,s=o.orientation,u=o.paperFormat,c=o.fileFormat,l=o.alignRows,f=o.rowsRange,d=o.repeatHeader,h=n.L("L{ExportDialog.labelWidth}");function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return Object.keys(e).map(function(e){return{id:e,text:t(e)}})}return n.columnsStore=i.columns.chain(function(e){return e.isLeaf}),[{labelWidth:h,type:"combo",ref:"columnsField",label:"L{ExportDialog.columns}",localeClass:this,store:n.columnsStore,value:n.columnsStore.allRecords,valueField:"id",displayField:"text",multiSelect:!0},{labelWidth:h,type:"exportrowscombo",ref:"rowsRangeField",label:"L{ExportDialog.rows}",localeClass:this,value:f},{labelWidth:h,type:"localizablecombo",ref:"exporterTypeField",label:"L{ExportDialog.exporterType}",localeClass:this,editable:!1,value:a,buildLocalizedItems:function(){return r.map(function(e){return{id:e.type,text:n.L(e.title,t)}})},onChange:function(e){var t=e.value;this.owner.widgetMap.alignRowsField.hidden="singlepage"===t,this.owner.widgetMap.repeatHeaderField.hidden="multipagevertical"!==t}},{labelWidth:h,type:"checkbox",ref:"alignRowsField",label:"L{ExportDialog.alignRows}",localeClass:this,checked:l,hidden:"singlepage"===a},{labelWidth:h,type:"checkbox",ref:"repeatHeaderField",label:"L{ExportDialog.repeatHeader}",localeClass:this,value:d,hidden:"multipagevertical"!==a},{labelWidth:h,type:"combo",ref:"fileFormatField",label:"L{ExportDialog.fileFormat}",localeClass:this,editable:!1,value:c,items:p(Wd,function(e){return e.toUpperCase()}),onChange:function(e){var t=e.value,r=e.oldValue;if(n.hidePNGMultipageOption){var i=n.widgetMap.exporterTypeField,o=i.store.find(function(e){return"singlepage"===e.id});t===Wd.png&&o?(this._previousDisabled=i.disabled,i.disabled=!0,this._previousValue=i.value,i.value="singlepage"):r===Wd.png&&this._previousValue&&(i.disabled=this._previousDisabled,i.value=this._previousValue)}}},{labelWidth:h,type:"combo",ref:"paperFormatField",label:"L{ExportDialog.paperFormat}",localeClass:this,editable:!1,value:u,items:p(zd)},{labelWidth:h,type:"exportorientationcombo",ref:"orientationField",label:"L{ExportDialog.orientation}",localeClass:this,value:s}]}},{key:"onLocaleChange",value:function(){var e=this.L("labelWidth");this.width=this.L("L{width}"),this.eachWidget(function(t){t instanceof Do&&(t.labelWidth=e)})}},{key:"onExportClick",value:function(){var e=this.values;this.trigger("export",{values:e})}},{key:"onCancelClick",value:function(){this.trigger("cancel"),this.hide()}},{key:"fieldProperties",get:function(){return["exporterType","orientation","fileFormat","paperFormat","alignRows","rowsRange","repeatHeader"]}},{key:"values",get:function(){var e=/field/i,t={};return this.eachWidget(function(n){e.test(n.ref)&&(t[n.ref.replace(e,"")]=n instanceof xo?n.checked:n.value)}),t}}],[{key:"$name",get:function(){return"ExportDialog"}},{key:"defaultConfig",get:function(){return{autoShow:!1,autoClose:!1,closable:!0,centered:!0,client:null,hidePNGMultipageOption:!0,exporterType:"singlepage",orientation:"portrait",paperFormat:"A4",fileFormat:"pdf",alignRows:!1,rowsRange:"all",title:"L{exportSettings}",bbar:[{type:"button",ref:"exportButton",color:"b-green",text:"L{ExportDialog.export}",localeClass:this},{type:"button",ref:"cancelButton",color:"b-gray",text:"L{ExportDialog.cancel}",localeClass:this}]}}}]),n}(Hi);Qd._$name="ExportDialog";var eh=n(112),th=n.n(eh),nh=n(116),rh=n.n(nh);function ih(){var e=Bi()(['\n            <!DOCTYPE html>\n            <html class="','" style="width: ',"in; height: ",'in;">\n                <head>\n                    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />\n                    <title>',"</title>\n                    ",'\n                </head>\n                <body class="b-export ','" style="width: ',"in; height: ","in; ",'">\n                    <div class="b-export-content">\n                        ','\n                        <div class="b-export-body"><div class="b-export-viewport">',"</div></div>\n                        ","\n                    </div>\n                </body>\n            </html>"]);return ih=function(){return e},e}function oh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ah=function(e){X()(u,e);var t,n,r,i,o,a,s=oh(u);function u(){return E()(this,u),s.apply(this,arguments)}return M()(u,[{key:"pageTpl",value:function(e){var t=e.title,n=e.header,r=e.footer,i=e.styles,o=e.htmlClasses,a=e.bodyStyle,s=e.bodyClasses,u=void 0===s?[]:s,c=e.paperHeight,l=e.paperWidth,f=e.html;return u.push("b-".concat(this.constructor.type)),Wi.tpl(ih(),o,l,c,t,i.join(""),u.join(" "),l,c,a,n&&'<div class="b-export-header" style="width: 100%">'.concat(n,"</div>"),f,r&&'<div class="b-export-footer" style="width: 100%">'.concat(r,"</div>"))}},{key:"getStyleTagURLConverter",value:function(e){return function(t,n){var r;try{var i;/^#/.test(n)?r=t:(i=!0===e?window.location.href:this.keepPathName?window.location.href.replace(window.location.origin,e):e,r="url('".concat(new URL(n,i).href,"')"))}catch(e){r=t}return r}.bind(this)}},{key:"saveState",value:function(e){var t=e.client;this.state=t.state}},{key:"restoreState",value:(a=ro()(to.a.mark(function e(t){var n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,r=!1,n.scrollable.y!==this.state.scroll.scrollTop&&(r=!0),n.state=this.state,!r){e.next=7;break}return e.next=7,n.scrollable.await("scrollEnd",{checkLock:!1});case 7:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"beforeExport",value:function(){this.element=document.createElement("div")}},{key:"cloneElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.element,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n&&(t.innerHTML=""),N.isChrome?t.appendChild(e.cloneNode(!0)):t.innerHTML=e.outerHTML,yn.removeEachSelector(t,".b-grid-row");var r=t.querySelector(".b-gridbase > .b-mask");r&&r.remove()}},{key:"measureElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e instanceof HTMLElement&&(e=e.outerHTML);var t=yn.createElement({parent:document.body,style:{visibility:"hidden",position:"absolute"},html:'<div style="height: 1px"></div>'.concat(e,'<div style="height: 1px"></div>')}),n=t.offsetHeight-2;return t.remove(),n}},{key:"prepareHTML",value:function(e){e instanceof HTMLElement&&(e=e.outerHTML);for(var t=yn.createElement({parent:document.body,style:{visibility:"hidden",position:"absolute"},html:e}),n=t.querySelectorAll("img"),r=0,i=n.length;r<i;r++)n[r].setAttribute("src",n[r].src);var o=t.innerHTML;return t.remove(),o}},{key:"createPlaceholder",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t&&(e.innerHTML=""),yn.createElement({parent:e,id:De.generateId("export")})}},{key:"getVirtualScrollerHeight",value:function(e){var t=0;return e.eachSubGrid(function(e){e.overflowingHorizontally&&(t=yn.scrollBarWidth)}),0===t?t:t+1}},{key:"inchToPx",value:function(e){return 96*e}},{key:"getScaleValue",value:function(e,t){return Math.floor(1e4*e/t)/1e4}},{key:"getFirstVisibleRowIndex",value:function(e){return e.rowManager.rows.findIndex(function(t){return t.bottom>e.scrollable.y})}},{key:"getLastVisibleRowIndex",value:function(e){return e.rowManager.rows.findIndex(function(t){return t.bottom>=e.scrollable.y+e.bodyHeight})}},{key:"getVisibleRowsCount",value:function(e){var t=this.getFirstVisibleRowIndex(e),n=this.getLastVisibleRowIndex(e);return-1!==t?-1===n?e.store.count-t:n-t+1:e.store.count}},{key:"export",value:(o=ro()(to.a.mark(function e(t){var n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=this).beforeExport(),n.saveState(t),e.next=5,n.prepareComponent(t);case 5:return e.prev=5,e.next=8,n.getPages(t);case 8:r=e.sent;case 9:return e.prev=9,e.next=12,n.restoreComponent(t);case 12:return n.stylesheets=null,e.next=15,new Promise(function(e){return n.requestAnimationFrame(e)});case 15:return e.next=17,n.restoreState(t);case 17:return e.finish(9);case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}},e,this,[[5,,9,18]])})),function(e){return o.apply(this,arguments)})},{key:"getPages",value:(i=ro()(to.a.mark(function e(t){var n,r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.pagesExtractor(t),r=[];case 1:return e.next=3,n.next();case 3:if(e.t0=i=e.sent,!e.t0){e.next=6;break}e.t0=!i.done;case 6:if(!e.t0){e.next=10;break}r.push(i.value),e.next=1;break;case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"adjustRowBuffer",value:function(e){var t=this.exportMeta.contentHeight,n=e.rowManager;this.oldRowManagerConfig={prependRowBuffer:n.prependRowBuffer,appendRowBuffer:n.appendRowBuffer};var r=Math.ceil(t/n.rowOffsetHeight);n.prependRowBuffer=r,n.appendRowBuffer=r,e.renderRows(!1),e.rowManager.jumpToPosition(e.scrollable.y)}},{key:"restoreRowBuffer",value:function(e){e.rowManager.prependRowBuffer=this.oldRowManagerConfig.prependRowBuffer,e.rowManager.appendRowBuffer=this.oldRowManagerConfig.appendRowBuffer}},{key:"prepareComponent",value:(r=ro()(to.a.mark(function e(t){var n,r,i,o,a,s,u,c;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this,r=t.client,i=t.columns,o=t.rowsRange,a=t.keepRegionSizes,s=n.exportMeta={totalWidth:0,totalHeight:0-n.getVirtualScrollerHeight(r),subGrids:{}},r.columns.forEach(function(e){i.includes(e.id)?e.show():e.hide()}),!(r.rowManager.rowCount>0)){e.next=13;break}if(o!==Bd.all){e.next=9;break}return s.firstVisibleDataIndex=r.rowManager.rows[0].dataIndex,e.next=7,r.scrollRowIntoView(r.store.first,{block:"start"});case 7:e.next=13;break;case 9:return u=s.firstVisibleDataIndex=r.rowManager.rows.find(function(e){return e.bottom>r.scrollable.y}).dataIndex,e.next=12,r.scrollRowIntoView(r.store.getAt(u),{block:"start"});case 12:t.alignRows=!0;case 13:this.cloneElement(r.element),c=n.element,r.eachSubGrid(function(e){var t,i=n.createPlaceholder(c.querySelector('[id="'.concat(e.id,'"]')),!1);t=(null==a?void 0:a[e.region])?e.element.offsetWidth:e.columns.visibleColumns.reduce(function(e,t){return"number"==typeof t.width?e+=t.width:e+=r.getHeaderElement(t.id).offsetWidth,e},0),s.totalWidth+=t;var o=e.splitterElement;o&&(s.totalWidth+=o.offsetWidth),s.subGrids[e.region]={id:e.id,headerId:e.header&&e.header.id||null,footerId:e.footer&&e.footer.id||null,rows:[],placeHolder:i,width:t}});case 16:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"prepareExportElement",value:function(){var e=this.element,t=this.exportMeta;return Object.values(t.subGrids).forEach(function(t){var n=t.width;[t.id,t.headerId,t.footerId].forEach(function(t){t&&(e.querySelector('[id="'.concat(t,'"]')).style.width="".concat(n,"px"))})}),e.innerHTML}},{key:"restoreComponent",value:(n=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})},{key:"scrollRowIntoView",value:(t=ro()(to.a.mark(function e(t,n){var r=this;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.scrollRowIntoView(t.store.getAt(n),{block:"start"});case 2:return e.next=4,new Promise(function(e){return r.requestAnimationFrame(e)});case 4:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)})},{key:"stylesheets",get:function(){var e=this,t=this;if(t._stylesheets)return t._stylesheets;var n=t.translateURLsToAbsolute,r=window.origin,i=Array.from(document.querySelectorAll('link[rel="stylesheet"], style')),o=[];return i.forEach(function(i){var a,s;(i=i.cloneNode(!0),n&&i.href)&&(a=!0===n?i.href:e.keepPathName?i.href.replace(r,n):new URL(i.getAttribute("href"),n),i.setAttribute("href",a));if(s=N.isIE11&&i.styleSheet&&/style/i.test(i.tagName)?'<style type="text/css">'.concat(i.styleSheet.cssText,"</style>"):i.outerHTML,n&&/style/i.test(i.tagName)){var u=t.getStyleTagURLConverter(n);s=s.replace(/url\(['"]?(.+?)['"]?\)/g,u)}o.push(s)}),o.push("<style>\n                body, html {\n                    overflow: auto;\n                }\n                \n                body {\n                    position: relative;\n                    margin: 0;\n                }\n            </style>"),t._stylesheets=o},set:function(e){this._stylesheets=e}}],[{key:"defaultConfig",get:function(){return{translateURLsToAbsolute:!0,keepPathName:!0}}}]),u}(yr(me(We(U))));function sh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ah.prototype.pagesExtractor=function(){var e=rh()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,"";case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ah._$name="Exporter";var uh=function(e){X()(s,e);var t,n,r,i,o,a=sh(s);function s(){return E()(this,s),a.apply(this,arguments)}return M()(s,[{key:"stateNextPage",value:(o=ro()(to.a.mark(function e(t){var n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,++(r=this.exportMeta).currentPage,++r.verticalPosition,delete r.lastExportedRowBottom,!(r.verticalPosition>=r.verticalPages)){e.next=10;break}return r.verticalPosition=r.currentPageTopMargin=0,++r.horizontalPosition,e.next=10,this.scrollRowIntoView(n,r.firstVisibleDataIndex,{block:"start"});case 10:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"prepareComponent",value:(i=ro()(to.a.mark(function e(t){var n,r,i,o,a,u,c,l,f,d,h,p,v,g,y,m,k,b,w,S,D,R,C;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()(Q()(s.prototype),"prepareComponent",this).call(this,t);case 2:r=(n=this).exportMeta,i=t.client,o=t.headerTpl,a=t.footerTpl,u=t.alignRows,c=t.rowsRange,l=zd[t.paperFormat],f=t.orientation===Vd.portrait,d=f?l.width:l.height,h=f?l.height:l.width,p=n.inchToPx(d),v=n.inchToPx(h),g=Math.ceil(r.totalWidth/p),y=r.totalHeight+i.height-i.bodyHeight+i.scrollable.scrollHeight,m=v,o&&(m-=n.measureElement(o({totalWidth:r.totalWidth,totalPages:-1,currentPage:-1}))),a&&(m-=n.measureElement(a({totalWidth:r.totalWidth,totalPages:-1,currentPage:-1}))),b=i.store.count,c===Bd.visible&&(b=n.getVisibleRowsCount(i),w=i.rowManager.rows[b-1].bottom,y=y-i.scrollable.scrollHeight+w),u&&c!==Bd.visible?(S=i.rowManager.rowOffsetHeight,D=Math.floor((m-i.headerHeight)/S),R=Math.floor(m/S),C=b-D,k=1+Math.ceil(C/R)):k=Math.ceil(y/m),Object.assign(r,{paperWidth:d,paperHeight:h,pageWidth:p,pageHeight:v,horizontalPages:g,verticalPages:k,totalHeight:y,contentHeight:m,totalRows:b,totalPages:g*k,currentPage:0,verticalPosition:0,horizontalPosition:0,currentPageTopMargin:0}),this.adjustRowBuffer(i);case 11:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"restoreComponent",value:(r=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()(Q()(s.prototype),"restoreComponent",this).call(this,t);case 2:this.restoreRowBuffer(t.client);case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"buildPage",value:(n=ro()(to.a.mark(function e(t){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,g,y,m,k,b,w,S,D,R,C,x,E,T,M,P;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=(n=this).exportMeta,i=t.client,o=t.headerTpl,a=t.footerTpl,s=t.alignRows,u=r.totalWidth,c=r.totalPages,l=r.currentPage,f=r.subGrids,d=r.currentPageTopMargin,h=r.verticalPosition,p=r.totalRows,v=i.rowManager,g=v.rows,Object.values(f).forEach(function(e){return e.rows=[]}),t.rowsRange===Bd.all&&(r.totalHeight=i.height-i.bodyHeight+i.scrollable.scrollHeight-n.getVirtualScrollerHeight(i)),y=0,m=0,k=t.rowsRange===Bd.visible?g.findIndex(function(e){return e.bottom>i.scrollable.y}):g.findIndex(function(e){return e.bottom+d+i.headerHeight>0}),D=k,R=0===h?0:g[k].top+d+i.headerHeight,o&&(w=n.prepareHTML(o({totalWidth:u,totalPages:c,currentPage:l})),y=n.measureElement(w)),a&&(S=n.prepareHTML(a({totalWidth:u,totalPages:c,currentPage:l})),m=n.measureElement(S)),b=r.pageHeight-y-m-R,0===h&&(b-=i.headerHeight),x=0;b>0;)E=g[k],s&&b<E.offsetHeight?(x=-b,b=0,n.exportMeta.lastExportedRowBottom=g[k-1].bottom):(n.collectRow(E),b-=E.offsetHeight,C=E.dataIndex,(++k===g.length&&b>0||t.rowsRange===Bd.visible&&k-D===p)&&(b=0));return(T=g[k-1])&&(r.exactGridHeight=T.bottom+i.footerContainer.offsetHeight+i.headerContainer.offsetHeight),e.next=15,n.onRowsCollected(g.slice(D,k),t);case 15:if(t.rowsRange!==Bd.visible){e.next=19;break}r.exactGridHeight-=r.scrollableTopMargin=i.scrollable.y,e.next=23;break;case 19:return M=v.on("offsetrows",function(e){var t=e.offset;return x+=t}),e.next=22,n.scrollRowIntoView(i,C+1);case 22:M();case 23:return P=n.buildPageHtml(),e.abrupt("return",{html:P,header:w,footer:S,offset:x});case 25:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"onRowsCollected",value:(t=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:"collectRow",value:function(e){var t=this.exportMeta.subGrids;Object.entries(e.elements).forEach(function(e){var n=re()(e,2),r=n[0],i=n[1];t[r].rows.push(i.outerHTML)})}},{key:"buildPageHtml",value:function(){var e=this.exportMeta.subGrids,t=this.prepareExportElement();return Object.values(e).forEach(function(e){var n=e.placeHolder,r=e.rows,i=n.outerHTML;t=t.replace(i,r.join(""))}),t}},{key:"prepareExportElement",value:function(){var e=this.element,t=this.exportMeta;return t.scrollableTopMargin&&(e.querySelector(".b-grid-vertical-scroller").style.marginTop="-".concat(t.scrollableTopMargin,"px")),ce()(Q()(s.prototype),"prepareExportElement",this).call(this)}}],[{key:"type",get:function(){return"multipage"}},{key:"title",get:function(){return this.L("L{multipage}")}},{key:"exportingPageText",get:function(){return"L{exportingPage}"}}]),s}(ah);function ch(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}uh.prototype.pagesExtractor=function(){var e=rh()(to.a.mark(function e(t){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,g;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=(n=this).exportMeta,i=n.stylesheets,o=r.totalWidth,a=r.totalPages,s=r.paperWidth,u=r.paperHeight,c=r.contentHeight;case 1:if(!((l=r.currentPage)<a)){e.next=18;break}return n.trigger("exportStep",{text:n.L(uh.exportingPageText,{currentPage:l,totalPages:a}),progress:Math.round((l+1)/a*90)}),e.next=5,th()(n.buildPage(t));case 5:return f=e.sent,d=f.html,h=f.header,p=f.footer,v=f.offset,g=[].concat(te()(i),["\n                <style>\n                    #".concat(t.client.id," {\n                        height: ").concat(r.exactGridHeight,"px !important;\n                        width: ").concat(o,"px !important;\n                    }\n                    \n                    .b-export-body .b-export-viewport {\n                        margin-left : ").concat(-s*r.horizontalPosition,"in;\n                        margin-top  : ").concat(r.currentPageTopMargin,"px;\n                    }\n                </style>\n            ")]),r.currentPageTopMargin-=c+v,e.next=14,th()(n.stateNextPage(t));case 14:return e.next=16,{html:n.pageTpl({html:d,header:h,footer:p,styles:g,paperWidth:s,paperHeight:u})};case 16:e.next=1;break;case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),uh._$name="MultiPageExporter";var lh=function(e){X()(s,e);var t,n,r,i,o,a=ch(s);function s(){return E()(this,s),a.apply(this,arguments)}return M()(s,[{key:"stateNextPage",value:(o=ro()(to.a.mark(function e(t){var n,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.client,n=this.exportMeta,r=n.totalRows,i=n.processedRows,o=n.totalPages,++n.currentPage,++n.verticalPosition,n.currentPage===o&&i.size!==r&&(++n.totalPages,++n.verticalPages);case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"estimateTotalPages",value:function(e){var t,n=this,r=n.exportMeta,i=e.client,o=e.headerTpl,a=e.footerTpl,s=e.alignRows,u=e.rowsRange,c=e.repeatHeader,l=r.pageWidth,f=r.pageHeight,d=r.totalWidth,h=n.getScaleValue(l,d),p=0-n.getVirtualScrollerHeight(i)+i.height-i.bodyHeight+i.scrollable.scrollHeight,v=f/h,g=i.store.count,y=0;if(o&&(v-=n.measureElement(o({totalWidth:d,totalPages:-1,currentPage:-1}))),a&&(v-=n.measureElement(a({totalWidth:d,totalPages:-1,currentPage:-1}))),c&&(v-=i.headerHeight,p-=i.headerHeight),u===Bd.visible){var m=i.rowManager.rows[n.getFirstVisibleRowIndex(i)],k=i.rowManager.rows[n.getLastVisibleRowIndex(i)];y=m.top,g=n.getVisibleRowsCount(i),p=p-i.scrollable.scrollHeight+k.bottom-m.top}if(s&&!c&&u!==Bd.visible){var b=i.rowManager.rowOffsetHeight,w=Math.floor((v-i.headerHeight)/b),S=Math.floor(v/b),D=g-w;t=1+Math.ceil(D/S)}else t=Math.ceil(p/v);Object.assign(r,{scale:h,contentHeight:v,totalRows:g,totalHeight:p,verticalPages:t,initialScroll:y,horizontalPages:1,totalPages:t})}},{key:"prepareComponent",value:(i=ro()(to.a.mark(function e(t){var n,r,i,o,a,u,c,l,f;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()(Q()(s.prototype),"prepareComponent",this).call(this,t);case 2:r=(n=this).exportMeta,i=t.client,o=zd[t.paperFormat],a=t.orientation===Vd.portrait,u=a?o.width:o.height,c=a?o.height:o.width,l=n.inchToPx(u),f=n.inchToPx(c),Object.assign(r,{paperWidth:u,paperHeight:c,pageWidth:l,pageHeight:f,horizontalPages:1,currentPage:0,verticalPosition:0,horizontalPosition:0,currentPageTopMargin:0,processedRows:new Set}),n.estimateTotalPages(t),n.adjustRowBuffer(i);case 6:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"restoreComponent",value:(r=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()(Q()(s.prototype),"restoreComponent",this).call(this,t);case 2:this.restoreRowBuffer(t.client);case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"buildPage",value:(n=ro()(to.a.mark(function e(t){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,g,y,m,k,b,w,S,D,R,C,x,E,T,M,P,A;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(r=(n=this).exportMeta,i=t.client,o=t.headerTpl,a=t.footerTpl,s=t.alignRows,u=t.repeatHeader,c=r.totalWidth,l=r.totalPages,f=r.currentPage,d=r.subGrids,h=r.currentPageTopMargin,p=r.verticalPosition,v=r.totalRows,g=r.contentHeight,y=u?0:i.headerHeight,m=i.rowManager,k=m.rows,Object.values(d).forEach(function(e){return e.rows=[]}),t.rowsRange===Bd.all&&(r.totalHeight=i.height-i.bodyHeight+i.scrollable.scrollHeight-n.getVirtualScrollerHeight(i)),b=t.rowsRange===Bd.visible?k.findIndex(function(e){return e.bottom>i.scrollable.y}):k.findIndex(function(e){return e.bottom+h+y>0}),R=b,C=0===p?0:k[b].top+h+y,o&&(S=n.prepareHTML(o({totalWidth:c,totalPages:l,currentPage:f}))),a&&(D=n.prepareHTML(a({totalWidth:c,totalPages:l,currentPage:f}))),w=g-C,0===p&&(w-=y),E=0;w>0;)T=k[b],s&&w<T.offsetHeight?(E=-w,w=0):(n.collectRow(T),(w-=T.offsetHeight)>0&&r.processedRows.add(T.dataIndex),x=T.dataIndex,(++b===k.length&&w>0||t.rowsRange===Bd.visible&&b-R===v)&&(w=0));return(M=k[b-1])&&(r.exactGridHeight=M.bottom+i.footerContainer.offsetHeight+i.headerContainer.offsetHeight),e.next=15,n.onRowsCollected(k.slice(R,b),t);case 15:if(t.rowsRange!==Bd.visible){e.next=19;break}r.scrollableTopMargin=i.scrollable.y,e.next=23;break;case 19:return P=m.on("offsetrows",function(e){var t=e.offset;return E+=t}),e.next=22,n.scrollRowIntoView(i,x+1);case 22:P();case 23:return A=n.buildPageHtml(),e.abrupt("return",{html:A,header:S,footer:D,offset:E});case 25:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"onRowsCollected",value:(t=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:"collectRow",value:function(e){var t=this.exportMeta.subGrids;Object.entries(e.elements).forEach(function(e){var n=re()(e,2),r=n[0],i=n[1];t[r].rows.push(i.outerHTML)})}},{key:"buildPageHtml",value:function(){var e=this.exportMeta.subGrids,t=this.prepareExportElement();return Object.values(e).forEach(function(e){var n=e.placeHolder,r=e.rows,i=n.outerHTML;t=t.replace(i,r.join(""))}),t}}],[{key:"type",get:function(){return"multipagevertical"}},{key:"title",get:function(){return this.L("L{multipagevertical}")}},{key:"exportingPageText",get:function(){return"L{exportingPage}"}}]),s}(ah);function fh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}lh.prototype.pagesExtractor=function(){var e=rh()(to.a.mark(function e(t){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,g,y,m,k,b;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=(n=this).exportMeta,i=n.stylesheets,o=r.totalWidth,a=r.paperWidth,s=r.paperHeight,u=r.contentHeight,c=r.scale,l=r.initialScroll,f=r.totalPages;case 2:if(!((d=r.currentPage)<f)){e.next=21;break}return n.trigger("exportStep",{text:n.L(lh.exportingPageText,{currentPage:d,totalPages:f}),progress:Math.round((d+1)/f*90)}),e.next=6,th()(n.buildPage(t));case 6:return h=e.sent,p=h.html,v=h.header,g=h.footer,y=h.offset,m=[].concat(te()(i),["\n                <style>\n                    #".concat(t.client.id," {\n                        width: ").concat(o,"px !important;\n                    }\n                    \n                    .b-export .b-export-content {\n                        transform: scale(").concat(c,");\n                        transform-origin: top left;\n                        height: auto;\n                    }\n                </style>\n            ")]),t.repeatHeader?(k=r.exactGridHeight?"".concat(r.exactGridHeight+r.currentPageTopMargin,"px"):"100%",m.push("\n                <style>\n                    #".concat(t.client.id," {\n                        height: ").concat(k," !important;\n                    }\n                    \n                    .b-export .b-export-content {\n                        height: ").concat(100/c,"%;\n                    }\n                    \n                    .b-export-body {\n                        height: 100%;\n                        display: flex;\n                    }\n                \n                    .b-export-viewport {\n                        height: 100%;\n                    }\n                    \n                    .b-grid-vertical-scroller {\n                        margin-top: ").concat(r.currentPageTopMargin-l,"px;\n                    }\n                </style>\n                "))):(b=r.exactGridHeight||u-r.currentPageTopMargin,m.push("\n                <style>\n                    #".concat(t.client.id," {\n                        height: ").concat(b,"px !important;\n                    }\n                    \n                    .b-export-body {\n                        overflow: hidden;\n                    }\n                    \n                    .b-export .b-export-content {\n                        height: ").concat(100/c,"%;\n                    }\n                    \n                    .b-export-body .b-export-viewport {\n                        margin-top: ").concat(r.currentPageTopMargin,"px;\n                    }\n                    \n                    .b-grid-vertical-scroller {\n                        margin-top: -").concat(l,"px;\n                    }\n                </style>\n                "))),r.currentPageTopMargin-=u+y,e.next=16,th()(n.stateNextPage(t));case 16:return f=r.totalPages,e.next=19,{html:n.pageTpl({html:p,header:v,footer:g,styles:m,paperWidth:a,paperHeight:s})};case 19:e.next=2;break;case 21:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),lh._$name="MultiPageVerticalExporter";var dh=function(e){X()(i,e);var t,n,r=fh(i);function i(){return E()(this,i),r.apply(this,arguments)}return M()(i,[{key:"prepareComponent",value:(n=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()(Q()(i.prototype),"prepareComponent",this).call(this,t);case 2:Object.assign(this.exportMeta,{verticalPages:1,horizontalPages:1,totalPages:1,currentPage:0,verticalPosition:0,horizontalPosition:0});case 3:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"onRowsCollected",value:(t=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:"positionRows",value:function(e){var t=0;return e.map(function(e){var n=re()(e,2),r=n[0],i=n[1],o=r.replace(/translate\(\d+px, \d+px\)/,"translate(0px, ".concat(t,"px)"));return t+=i,o})}},{key:"collectRow",value:function(e){var t=this.exportMeta.subGrids;Object.entries(e.elements).forEach(function(n){var r=re()(n,2),i=r[0],o=r[1];t[i].rows.push([o.outerHTML,e.offsetHeight])})}},{key:"buildPageHtml",value:function(){var e=this,t=e.exportMeta.subGrids,n=e.prepareExportElement();return Object.values(t).forEach(function(t){var r=t.placeHolder,i=t.rows,o=r.outerHTML;n=n.replace(o,e.positionRows(i).join(""))}),n}}],[{key:"type",get:function(){return"singlepage"}},{key:"title",get:function(){return this.localize("L{singlepage}")}},{key:"defaultConfig",get:function(){return{centerContentHorizontally:!1}}}]),i}(ah);function hh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}dh.prototype.pagesExtractor=function(){var e=rh()(to.a.mark(function e(t){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,g,y,m,k,b,w,S,D,R,C,x,E,T,M,P;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this,r=t.client,i=r.rowManager,o=r.store,a=n.stylesheets,s=t.orientation===Vd.portrait,u=zd[t.paperFormat],c=s?u.width:u.height,l=s?u.height:u.width,f=t.rowsRange===Bd.visible&&o.count?Math.min(o.count,i.visibleRowCount):o.count,d=n.exportMeta,h=d.totalHeight,p=d.totalWidth,v=0,g=-1,!(i.rows.length>0)){e.next=16;break}t.rowsRange===Bd.visible&&(g=i.rows.find(function(e){return e.bottom>r.scrollable.y}).dataIndex-1);case 4:if(!(v<f)){e.next=16;break}return k=i.rows,b=k[k.length-1],w=v,k.forEach(function(e){e.dataIndex>g&&v<f&&(++v,h+=e.offsetHeight,n.collectRow(e))}),S=k.findIndex(function(e){return e.dataIndex===g+1}),D=S+(v-w),e.next=10,th()(n.onRowsCollected(k.slice(S,D),t));case 10:if(!(v<f)){e.next=14;break}return g=b.dataIndex,e.next=14,th()(n.scrollRowIntoView(r,g+1));case 14:e.next=4;break;case 16:return R=n.buildPageHtml(),h+=r.height-r.bodyHeight,C=h,t.headerTpl&&(y=n.prepareHTML(t.headerTpl({totalWidth:p})),x=n.measureElement(y),h+=x),t.footerTpl&&(m=n.prepareHTML(t.footerTpl({totalWidth:p})),E=n.measureElement(m),h+=E),T=Math.min(1,n.getScaleValue(n.inchToPx(c),p)),M=Math.min(1,n.getScaleValue(n.inchToPx(l),h)),P=Math.min(T,M),a.push("<style>\n                #".concat(r.id," {\n                    height: ").concat(C,"px !important;\n                    width: ").concat(p,"px !important;\n                }\n                \n                .b-export-content {\n                    ").concat(n.centerContentHorizontally?"left: 50%;":"","\n                    transform: scale(").concat(P,") ").concat(n.centerContentHorizontally?"translateX(-50%)":"",";\n                    transform-origin: top left;\n                    height: ").concat(1===P?"inherit":"auto !important",";\n                }\n            </style>")),e.next=25,{html:n.pageTpl({html:R,header:y,footer:m,styles:a,paperWidth:c,paperHeight:l})};case 25:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),dh._$name="SinglePageExporter";var ph=function(e){X()(r,e);var t,n=hh(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"doDestroy",value:function(){this.exportDialog&&this.exportDialog.destroy(),ce()(Q()(r.prototype),"doDestroy",this).call(this)}},{key:"getExporter",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this,r=n.exportersMap,i=t,o=i.type;if(r.has(o))e=r.get(o);else{var a=this.exporters.find(function(e){return e.type===o});if(!a)throw new Error("Exporter type ".concat(o," is not found. Make sure you've configured it"));delete(t=It.clone(t)).type,(e=new a(t)).relayAll(n),r.set(o,e)}return e}},{key:"buildRequest",value:function(e,t){return{html:JSON.stringify(e),fileFormat:t.fileFormat,format:t.paperFormat,orientation:t.orientation}}},{key:"buildExportConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=t.client,r=t.exportServer,i=t.clientURL,o=t.fileFormat,a=t.fileName,s=t.paperFormat,u=t.rowsRange,c=t.alignRows,l=t.repeatHeader,f=t.keepRegionSizes,d=t.orientation,h=t.exporters,p=t.translateURLsToAbsolute,v=t.keepPathName,g=t.headerTpl,y=t.footerTpl;e.columns||(e.columns=n.columns.visibleColumns.map(function(e){return e.id}));var m=It.assign({client:n,exportServer:r,clientURL:i,fileFormat:o,paperFormat:s,rowsRange:u,alignRows:c,repeatHeader:l,keepRegionSizes:f,orientation:d,translateURLsToAbsolute:p,keepPathName:v,headerTpl:g,footerTpl:y,exporterType:h[0].type,fileName:a||n.$name},e);if("multipagevertical"!==m.exporterType&&(m.repeatHeader=!1),!("alignRows"in e)&&e.repeatHeader&&(m.alignRows=!0),!("keepRegionSizes"in e)&&!m.keepRegionSizes){var k=[],b={};n.eachSubGrid(function(e){return e.collapsed&&k.push(e.region)}),k.length&&(n.eachSubGrid(function(e){k.includes(e.region)||(b[e.region]=!0)}),m.keepRegionSizes=b)}return m}},{key:"export",value:(t=ro()(to.a.mark(function e(){var t,n,r,i,o,a,s,u,c,l,f=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:{},r=(n=this).client,i=n.pagesPerRequest,(t=n.buildExportConfig(t)).exporterConfig=It.assign({type:t.exporterType,translateURLsToAbsolute:t.translateURLsToAbsolute,keepPathName:t.keepPathName},t.exporterConfig||{}),!1===r.trigger("beforeExport",t)){e.next=33;break}if(r.ignoreViewBox=!0,r.mask(n.exportMask),e.prev=7,a=n.getExporter(t.exporterConfig),0!==i){e.next=19;break}return e.next=12,a.export(t);case 12:return s=e.sent,n.trigger("exportStep",{progress:90,text:n.exportProgressMask}),e.next=16,Ae.post(t.exportServer,{html:s,orientation:t.orientation,format:t.paperFormat,fileFormat:t.fileFormat,fileName:t.fileName,clientURL:t.clientURL},Object.assign({credentials:"omit",parseJson:!0},n.fetchOptions));case 16:u=e.sent,o={response:u},u.ok&&(c=u.parsedJson,n.openAfterExport&&(c.success?N.isIE11?window.open(c.url,"ExportedPanel"):((l=document.createElement("a")).download=t.fileName,l.href=c.url,n.openInNewTab&&(l.target="_blank"),document.body.appendChild(l),l.click(),document.body.removeChild(l)):Ce.toast(c.msg)));case 19:e.next=25;break;case 21:throw e.prev=21,e.t0=e.catch(7),o=e.t0 instanceof Response?{response:e.t0}:{error:e.t0},e.t0;case 25:return e.prev=25,n.exportDialog&&n.exportDialog.close(),r.unmask(),r.ignoreViewBox=!1,n.trigger("export",o),o.error?Ce.toast(n.L("L{Export failed}")):o.response.ok||Ce.toast(n.L("L{Server error}")),r.trigger("export",o),e.finish(25);case 33:return e.abrupt("return",o);case 34:case"end":return e.stop()}},e,this,[[7,21,25,33]])})),function(){return t.apply(this,arguments)})},{key:"showExportDialog",value:function(){var e=this;return e.exportDialog||(e.exportDialog=new Qd(Object.assign({},e.defaultExportDialogConfig,{listeners:{export:e.onExportDialogExport,thisObj:e}}))),e.exportDialog.show()}},{key:"onExportDialogExport",value:function(e){var t=e.values,n=this;n.mask=new li({progress:0,maxProgress:100,text:n.exportMask,element:n.exportDialog.element});var r=n.on({export:function(){n.mask.close(),r()},exportstep:function(e){var t=e.progress,r=e.text;n.mask.progress=t,null!=r&&(n.mask.text=r)}});n.currentExportPromise=n.export(t),n.currentExportPromise.then(function(){return n.currentExportPromise=null})}},{key:"currentExportPromise",get:function(){return this._currentExportPromise},set:function(e){this._currentExportPromise=e}},{key:"exportersMap",get:function(){return this._exportersMap||(this._exportersMap=new Map)}},{key:"defaultExportDialogConfig",get:function(){return It.copyProperties({},this,["client","exporters","exporterType","orientation","fileFormat","paperFormat","alignRows","rowsRange","repeatHeader"])}}],[{key:"$name",get:function(){return"PdfExport"}},{key:"defaultConfig",get:function(){return{exportServer:void 0,fileName:null,fileFormat:"pdf",clientURL:null,paperFormat:"A4",orientation:"portrait",rowsRange:"all",alignRows:!1,repeatHeader:!1,keepRegionSizes:null,pagesPerRequest:0,exporterConfig:null,exporterType:"singlepage",exporters:[dh,uh,lh],translateURLsToAbsolute:!0,keepPathName:!0,openAfterExport:!0,openInNewTab:!1,headerTpl:null,footerTpl:null,fetchOptions:null,exportMask:"L{Generating pages}",exportProgressMask:"L{Waiting for response from server}",localizableProperties:["exportMask","exportProgressMask"]}}}]),r}(We(To));function vh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ph._$name="PdfExport",Ff.registerFeature(ph,!1,"Grid");var gh=function(e){X()(n,e);var t=vh(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return e=It.assign({},t.config,e),t.normalizeColumns(e),t.generateExportData(e)}},{key:"generateExportData",value:function(e){var t=this.generateColumns(e);return{rows:this.generateRows(e),columns:t}}},{key:"normalizeColumns",value:function(e){var t=this,n=e.columns||this.target.columns.visibleColumns.filter(function(e){return!1!==e.exportable});e.columns=n.map(function(e){return"string"==typeof e?t.target.columns.find(function(t){return t.field===e})||{field:e}:e})}},{key:"generateColumns",value:function(e){var t=this;return e.columns.map(function(n){return t.processColumn(n,e)})}},{key:"generateRows",value:function(e){var t=e.columns;if(!t.length)return[];var n=this;return n.target.store.map(function(r){return n.processRecord(r,t,e)}).filter(function(e){return e.length})}},{key:"getColumnType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.target.store,n=e.exportedType||"object";if(void 0===e.exportedType&&e.field){var r=t.modelClass.getFieldDefinition(e.field);r&&r.type&&(n=r.type)}return n}},{key:"processColumn",value:function(e,t){var n=this.target,r=t.defaultColumnWidth,i=e.field,o=e.text,a=e.width,s=e.minWidth;if(i in n.store.modelClass.fieldMap||(i=""),!o||!a){var u=n.columns.find(function(e){return e.field===i});o||(o=u&&u.text||i),null==a&&(a=u&&u.width||r)}return a=Math.max(a||r,s||r),{field:i,value:o,width:a,type:this.getColumnType(e)}}},{key:"processRecord",value:function(e,t,n){var r,i=this.target,o=n.showGroupHeader,a=n.indent,s=n.indentationSymbol;return e?e.meta.specialRow?o&&e.meta.groupRowFor&&(r=t.map(function(t){return i.features.group.buildGroupHeader({cellElement:yn.createElement(),grid:i,record:e,column:t})})):r=t.map(function(t){var r=e[t.field],o=t.renderer||t.defaultRenderer;return!o||r&&t instanceof cf&&n.exportDateAsInstance||(r=o.call(t,{value:r,record:e,column:t,grid:i,isExport:!0})),a&&t.tree&&(r="".concat(s.repeat(e.childLevel)).concat(r)),r}):r=t.map(function(){return""}),r}}],[{key:"defaultConfig",get:function(){return{target:null,defaultColumnWidth:100,exportDateAsInstance:!0,showGroupHeader:!0,columns:null,indent:!0,indentationSymbol:"Â Â Â Â "}}}]),n}(U);gh._$name="TableExporter";var yh=function(){function e(t){E()(this,e),this._value=t}return M()(e,[{key:"toString",value:function(){return Boolean(this.value)?"âœ“":""}},{key:"value",get:function(){return this._value}}]),e}();function mh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}yh._$name="BooleanUnicodeSymbol";var kh=function(e){X()(n,e);var t=mh(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"processValue",value:function(e){return null==e||Number.isNaN(e)||"function"==typeof e||"object"===oe()(e)&&"[object Object]"===String(e)?"":e}},{key:"generateExportData",value:function(e){var t=this,n=t.exporter.export(e.exporterConfig),r=n.rows,i=n.columns;return{rows:r.map(function(n){return n.map(function(n,r){n instanceof Date?n=xt.format(n,e.dateFormat):"boolean"==typeof n&&(n=new yh(n)),t.convertEmptyValueToEmptyString&&(n=t.processValue(n));return{value:n,type:"string"}})}),columns:i.map(function(e){var t=e.field,n=e.value,r=e.width;e.type;return"string",{field:t,value:n,width:r,type:"string"}})}}},{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;if(!t.zipcelx)throw new Error('ExcelExporter: "zipcelx" library is required');if(!t.disabled){(e=It.assign({},t.config,e)).filename||(e.filename=t.client.$name);var n=e,r=n.filename,i=t.generateExportData(e),o=i.rows,a=i.columns;t.zipcelx({filename:r,sheet:{data:[a].concat(o),cols:a}})}}},{key:"construct",value:function(e,t){ce()(Q()(n.prototype),"construct",this).call(this,e,t),this.zipcelx||"undefined"!=typeof zipcelx&&(this.zipcelx=zipcelx)}},{key:"exporter",get:function(){return this._exporter||(this._exporter=new this.exporterClass(Object.assign({target:this.client},this.exporterConfig)))}}],[{key:"$name",get:function(){return"ExcelExporter"}},{key:"defaultConfig",get:function(){return{filename:null,dateFormat:"YYYY-MM-DD",exporterClass:gh,exporterConfig:null,zipcelx:null,convertEmptyValueToEmptyString:!0}}}]),n}(To);function bh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}kh._$name="ExcelExporter",Ff.registerFeature(kh,!1,"Grid");var wh=function(e){X()(n,e);var t=bh(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"startMonitoring",value:function(e){var t=this,n=e instanceof HTMLElement?{element:e}:e,r=n.element,i=n.verticalElement||t.verticalElement||r;if(r&&(r.scrollWidth>r.offsetWidth||i.scrollHeight>i.offsetHeight)){if(t.monitoring.find(function(e){return e.element===r}))return;n.direction=n.direction||t.direction,Object.assign(n,{verticalElement:i,scrollManager:t,startScrollLeft:r.scrollLeft,startScrollTop:i.scrollTop,scrollLeft:r.scrollLeft,scrollTop:i.scrollTop,scrollRelativeLeft:0,scrollRelativeTop:0});var o=t.onMouseMove.bind(n);t.mouseMoveDetacher=ur.on({mousemove:o,touchmove:o,mouseleave:function(){return t.clearTimeout(t.scrollTimeout)},element:r}),n.scrollWidth=r.scrollWidth,t.monitoring.push(n)}}},{key:"stopMonitoring",value:function(e){var t=this,n=t.monitoring.find(function(t){return t.element===e});n&&(t.stopScroll(n),t.mouseMoveDetacher&&t.mouseMoveDetacher(),t.monitoring.splice(t.monitoring.indexOf(n),1))}},{key:"startScroll",value:function(e){e.scrolling=!0,this.performScroll(e)}},{key:"stopScroll",value:function(e){e.scrolling=!1,e.scrollRequested&&(this.cancelAnimationFrame(e.frameId),e.scrollRequested=!1),this.clearTimeout(this.scrollTimeout),this.scrollTimeout=null}},{key:"performScroll",value:function(e){var t=this;if(e.scrolling&&!e.scrollRequested){var n=e.element,r=e.verticalElement;0!==e.scrollDeltaX&&(e.scrollLeft+=e.scrollDeltaX,e.scrollLeft=Math.max(Math.min(e.scrollLeft,e.scrollWidth-n.clientWidth),0),e.scrollRelativeLeft=e.scrollLeft-e.startScrollLeft,n.scrollLeft=e.scrollLeft),0!==e.scrollDeltaY&&(e.scrollTop+=e.scrollDeltaY,e.scrollTop=Math.max(Math.min(e.scrollTop,r.scrollHeight-r.clientHeight),0),e.scrollRelativeTop=e.scrollTop-e.startScrollTop,r.scrollTop=e.scrollTop),0===e.scrollRelativeLeft&&0===e.scrollRelativeTop||!e.callback||e.callback.call(e.thisObj||this,e),e.scrollRequested=!0,e.frameId=this.requestAnimationFrame(function(){e.scrollRequested=!1,t.performScroll(e)})}}},{key:"onMouseMove",value:function(e){var t=this,n=t.scrollManager,r=t.element,i=t.verticalElement,o=r.getBoundingClientRect(),a=i.getBoundingClientRect(),s=n.zoneWidth,u=n.scrollSpeed;t.scrollDeltaX=0,"vertical"!==t.direction&&(e.clientX>o.right-s?t.scrollDeltaX=Math.round((s-(o.right-e.clientX))/u)+1:e.clientX<o.left+s&&(t.scrollDeltaX=-Math.round((s+(o.left-e.clientX))/u)-1)),t.scrollDeltaY=0,"horizontal"!==t.direction&&(e.clientY>a.bottom-s?t.scrollDeltaY=Math.round((s-(a.bottom-e.clientY))/u)+1:e.clientY<a.top+s&&(t.scrollDeltaY=-Math.round((s+(a.top-e.clientY))/u)-1)),0===t.scrollDeltaX&&0===t.scrollDeltaY?n.stopScroll(t):n.scrollTimeout||(n.scrollTimeout=n.setTimeout(function(){return n.startScroll(t)},n.startScrollDelay))}}],[{key:"defaultConfig",get:function(){return{zoneWidth:50,scrollSpeed:5,verticalElement:null,direction:"both",monitoring:[],startScrollDelay:500,testConfig:{scrollSpeed:2,startScrollDelay:0}}}}]),n}(yr(U));function Sh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}wh._$name="ScrollManager";var Dh=function(e){X()(n,e);var t=Sh(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){Object.assign(this,{_elements:{},_elementsArray:[],_cells:{},_allCells:[],_regions:[],lastHeight:0,lastTop:-1,_dataIndex:0,_top:0,_height:0,_id:null,forceInnerHTML:!1,isGroupFooter:!1},e),ce()(Q()(n.prototype),"construct",this).call(this)}},{key:"doDestroy",value:function(){var e=this;e.rowManager.isDestroying||(e.removeElements(),e.rowManager.idMap[e.id]===e&&delete e.rowManager.idMap[e.id]),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"addElement",value:function(e,t){var n=this,r=t.firstElementChild;for(n._elements[e]=t,n._elementsArray.push(t),n._regions.push(e),Ns.assign(t,{index:n.index}),n._cells[e]=[];r;)n._cells[e].push(r),n._allCells.push(r),Ns.set(r,{column:r.dataset.column,columnId:r.dataset.columnId,rowElement:r.parentNode,row:n}),r=r.nextElementSibling;t.dataset.index=n.index}},{key:"getElement",value:function(e){return this._elements[e]}},{key:"eachElement",value:function(e){for(var t=0;t<this._elementsArray.length;t++)e(this._elementsArray[t],t)}},{key:"eachCell",value:function(e){this._allCells.forEach(e)}},{key:"getCells",value:function(e){return this._cells[e]}},{key:"getCell",value:function(e){return this._allCells.find(function(t){var n=Ns.get(t);return n.columnId===e||n.column===e})}},{key:"removeElements",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.rowManager.trigger("removeRow",{row:t}),e||t._elementsArray.forEach(function(e){return e.remove()}),t._elements={},t._cells={},t._elementsArray.length=t._regions.length=t._allCells.length=t.lastHeight=t.height=0,t.lastTop=-1}},{key:"updateElementsHeight",value:function(){var e=this;if(e.rowManager.storeKnownHeight(e.id,e.height),e.lastHeight!==e.height){for(var t=e._elementsArray,n=0;n<t.length;n++)t[n].style.height="".concat(e.offsetHeight,"px");e.lastHeight=e.height}}},{key:"addCls",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.eachElement(function(e){return yn.addClasses(e,t)})}},{key:"removeCls",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.eachElement(function(e){return yn.removeClasses(e,t)})}},{key:"setTop",value:function(e){this._top!==e&&(this._top=e,this.translateElements())}},{key:"setBottom",value:function(e){this.setTop(e-this.offsetHeight)}},{key:"translateElements",value:function(){var e=this,t=e.grid.positionMode;if(e.lastTop!==e.top){for(var n=e._elementsArray,r=0;r<n.length;r++){var i=n[r].style;"translate"===t?i.transform="translate(0,".concat(e.top,"px)"):"translate3d"===t?i.transform="translate3d(0,".concat(e.top,"px,0)"):"position"===t&&(i.top="".concat(e.top,"px"))}e.rowManager.trigger("translateRow",{row:e}),e.lastTop=e.top}}},{key:"offset",value:function(e){var t=this._top+e;return t<0&&(e-=t,t=0),this.setTop(t),e}},{key:"render",value:function(e,t){var n,r,i,o,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=this,c=u.cells,l=u.grid,f=u.rowManager,d=u.height,h=u._id,p=u._elementsArray,v=Ns.get(p[0]),g=f._rowHeight,y=a&&l.transitionDuration?"".concat(u.cls," b-grid-row-updating"):u.cls,m=0;t||!1===t||(t=l.store.getById(v.id),e=l.store.indexOf(t));var k=t&&l.isSelected(t.id);for(f.trigger("beforeRenderRow",{row:u,record:t,recordIndex:e,oldId:h});m<p.length;m++)(r=p[m]).className=y,k&&r.classList.add("b-selected"),t.cls&&t.cls.split(" ").forEach(function(e){return r.classList.add(e)});a&&l.transitionDuration&&u.setTimeout(function(){p.forEach(function(e){e.classList.remove("b-grid-row-updating")})},l.transitionDuration),u.id=t.id,u.dataIndex=e;var b=!l.fixedRowHeight&&l.getRowHeight(t)||g,w=null;for(m=0;m<c.length;m++)i=c[m],o=u.renderCell(i,t,m,a,b),f.fixedRowHeight||null!=o.height&&(w=Math.max(w,o.height));u.height=null!==(n=w)&&void 0!==n?n:b,u.updateElementsHeight(),a&&(d!==u.height&&f.translateFromRow(u,s),f.trigger("updateRow",{row:u,record:t,recordIndex:e,oldId:h}),f.trigger("renderDone")),f.trigger("renderRow",{row:u,record:t,recordIndex:e,oldId:h}),u.forceInnerHTML=!1}},{key:"renderCell",value:function(e,t,n){var r,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4?arguments[4]:void 0,a=this,s=a.grid,u=Ns.get(e),c=s.columns.getById(u.columnId),l=u.rowElement,f=Ns.get(l),d=c.internalCellCls,h=c.cellCls,p=c.align,v=c.renderer,g=c.defaultRenderer,y=c.id,m={columnId:y,id:f.id},k=v||g;if(!t){if(null===f.id)return void(e.className="b-grid-cell");if(!(t=s.store.getById(f.id)))return}var b=c.getRawValue(t),w=!0,S={configuredHeight:o,height:null},D={cellElement:e,rowElement:l,value:b,record:t,column:c,size:S,grid:s,row:u.row,updatingSingleRow:i},R=(r={"b-grid-cell":1},se()(r,d,d),se()(r,h,t.meta.specialRow&&"b-check-cell"===c.internalCellCls?void 0:h),se()(r,"b-cell-dirty",t.isFieldModified(c.field)),se()(r,"b-grid-cell-align-".concat(p),p),se()(r,"b-selected",s.isSelected(m)),se()(r,"b-focused",s.isFocused(m)),r);yn.syncClassList(e,R),k&&void 0===(b=k.call(c,D))&&(w=!1),s.processCellContent&&(w=s.processCellContent({cellContent:b,cellElement:e,record:t,cellElementData:u,rendererData:D}));var C=D.cellContent=null==b?"":String(b);if(w)if(a.forceInnerHTML&&(e.innerHTML="",e.lastDomConfig=null),c.htmlEncode&&!c.disableHtmlEncode)N.isLinux||e._hasHtml?(e.innerText=C,e._hasHtml=!1):yn.setInnerText(e,C);else{var x="string"==typeof b,E="object"===oe()(b);!c.autoSyncHtml||x&&!e.childElementCount?E?Cc.sync({targetElement:e,domConfig:{onlyChildren:!0,children:[b]}}):e.innerHTML=C:x?yn.sync(C,e.firstElementChild):Cc.sync({domConfig:b,targetElement:e})}return a.rowManager.trigger("renderCell",D),S}},{key:"index",get:function(){return this._index},set:function(e){this._index=e}},{key:"dataIndex",get:function(){return this._dataIndex},set:function(e){if(this._dataIndex!==e){var t=this._elementsArray;this._dataIndex=e;for(var n=0;n<t.length;n++)t[n].dataset.index=e}}},{key:"id",get:function(){return this._id},set:function(e){var t=this,n={id:e},r=t.rowManager.idMap,i=t._elementsArray,o=t._allCells;if(t._id!=e||r[e]!==t){r[t._id]===t&&delete r[t._id],r[e]=t,t._id=e;for(var a=0;a<i.length;a++)Ns.assign(i[a],n);for(var s=0;s<o.length;s++)Ns.assign(o[s],n);for(var u=0;u<i.length;u++)i[u].dataset.id=e}}},{key:"elements",get:function(){return this._elements}},{key:"cells",get:function(){return this._allCells}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}},{key:"offsetHeight",get:function(){return this.height+this.grid._rowBorderHeight}},{key:"isFirst",get:function(){return 0===this.dataIndex}},{key:"top",get:function(){return this._top}},{key:"bottom",get:function(){return this._top+this._height+this.grid._rowBorderHeight}}],[{key:"defaultConfig",get:function(){return{cls:"b-grid-row"}}}]),n}(yr(U));function Rh(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ch(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ch(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ch(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Dh._$name="Row";var Eh=function(e){X()(n,e);var t=xh(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){e.grid._rowManager=this,ce()(Q()(n.prototype),"construct",this).call(this,e.grid,e)}},{key:"doDestroy",value:function(){this._rows.forEach(function(e){return e.destroy()}),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"initWithHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return n.autoHeight&&(e=n.store.allCount*n.preciseRowOffsetHeight),n.viewHeight=e,n.calculateRowCount(t),e}},{key:"reinitialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.calculateRowCount(!1,!0,!0),t.topIndex+t.rowCount-1>t.store.count&&(e=!0);var n=t.topRow&&!e?t.topRow.top:0;t.scrollTargetRecordId=null,e&&(t.topIndex=t.lastScrollTop=0);var r=t.topRow;r&&(r.dataIndex=t.topIndex,r.setTop(n)),t.estimateTotalHeight(),t.renderFromRow(r)}},{key:"matchRowCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=t.rows,r=t.grid,i=n.length,o=i-t.rowCount;if(o)if(o<0){for(var a=[],s=i,u=i?n[i-1].dataIndex+1:0;s<t.rowCount;s++,u++)a.push(new Dh({rowManager:t,grid:r,index:s,dataIndex:u}));n.push.apply(n,a),t.trigger("addRows",{rows:a}),e||t.renderFromRow(n[Math.max(0,i-1)])}else{var c=n.splice(i-o,o);t.trigger("removeRows",{rows:c}),c.forEach(function(e){return e.destroy()})}}},{key:"calculateRowCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.store,o=Math.ceil(r.viewHeight/r.minRowOffsetHeight),a=o+r.prependRowBuffer+r.appendRowBuffer;return!r.grid.columns.count||isNaN(o)?(r.rowCount=0,0):(a<r.rowCount&&!t||(r.visibleRowCount=o,r.rowCount=Math.min(i.count,a),e||(r.rows&&r.rowCount!==r.rows.length?r.matchRowCount(n):r.rowCount||r.trigger("changeTotalHeight",{totalHeight:r.totalHeight}),r.grid.toggleEmptyText())),r.rowCount)}},{key:"removeAllRows",value:function(){var e=this,t=e.topRow,n=t?e.refreshDetails={topRowIndex:t.dataIndex,topRowTop:t.top}:e.refreshDetails,r=e.rows.slice();return e.trigger("removeRows",{rows:r}),e.rows.forEach(function(e){return e.destroy()}),e.rows.length=0,e.idMap={},n}},{key:"setPosition",value:function(e){var t=this.topRow,n=e.topRowIndex,r=e.topRowTop;t.setTop(r),t.dataIndex=n}},{key:"getRow",value:function(e){return this.rowCount&&this.rows[e-this.topIndex]}},{key:"getRowById",value:function(e){return e.isModel&&(e=e.id),this.idMap[e]}},{key:"getRowFromElement",value:function(e){return(e=e.closest(".b-grid-row"))&&this.getRow(e.dataset.index)}},{key:"getRowAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t||(e-=Wn.from(this.grid.bodyContainer,null,!0).roundPx(1).top,e+=this.grid.scrollable.y),e=yn.roundPx(e),this.rows.find(function(t){return e>=t.top&&e<t.bottom})}},{key:"getRowFor",value:function(e){return e instanceof HTMLElement?this.getRowFromElement(e):this.getRowById(e)}},{key:"getNextRow",value:function(e){var t="number"==typeof e?e:e.index;return this.getRow((t+1)%this.rowCount)}},{key:"offsetRows",value:function(e){if(0!==e)for(var t=this.rows,n=t.length,r=0;r<n;r++)t[r].offset(e);this.trigger("offsetRows",{offset:e})}},{key:"storeKnownHeight",value:function(e,t){var n=this,r=n.heightMap;n.fixedRowHeight||(r.has(e)&&(n.totalKnownHeight-=r.get(e)),r.set(e,t),n.totalKnownHeight+=t,t<n.minRowHeight&&(n.minRowHeight=t),n.averageRowHeight=n.totalKnownHeight/r.size)}},{key:"invalidateKnownHeight",value:function(e){var t=this;if(!t.fixedRowHeight){var n=t.heightMap;Array.isArray(e)||(e=[e]),e.forEach(function(e){e&&n.has(e.id)&&(t.totalKnownHeight-=n.get(e.id),n.delete(e.id))}),t.averageRowHeight=t.totalKnownHeight/n.size}}},{key:"clearKnownHeights",value:function(){this.heightMap.clear(),this.averageRowHeight=this.totalKnownHeight=0}},{key:"calculateTop",value:function(e){if(this.fixedRowHeight)return e*this.rowOffsetHeight;for(var t=this.heightMap,n=this.averageRowHeight,r=this.store,i=this.grid,o=0,a=0;a<e;a++){var s=r.getAt(a);t.has(s.id)?o+=t.get(s.id):o+=i.getRowHeight(s)||n,o+=i._rowBorderHeight}return Math.floor(o)}},{key:"getRecordCoords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r="string"==typeof e||"number"==typeof e?e:e.id,i=n.getRowById(e),o=n.client._bodyRectangle;return t||(o=n.client._bodyRectangle=Wn.client(n.client.bodyContainer)),i?new Wn(o.x,t?Math.round(i.top):Math.round(i.top+o.y-n.client.scrollable.y),o.width,i.offsetHeight):n.getRecordCoordsByIndex(n.store.indexOf(r),t)}},{key:"getRecordCoordsByIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n.topRow,i=n.bottomRow,o=n.client._bodyRectangle,a=n.store.getAt(e),s=a.id,u=n.preciseRowOffsetHeight,c=r.dataIndex,l=i.dataIndex,f=e>l?{index:e-l-1,y:i.bottom,from:"bottomRow"}:e>c/2?{index:e-c,y:r.top,from:"topRow"}:{index:e,y:0,from:"top"},d=n.allHeightsKnown?n.calculateTop(e):Math.floor(f.y+f.index*u),h=new Wn(o.x,t?d:d+o.y-n.client.scrollable.y,o.width,Math.floor(n.heightMap.get(s)||u));return h.virtual=!0,h.block=h.bottom<o.y?"start":h.y>o.bottom?"end":"nearest",h}},{key:"forEach",value:function(e){this.rows.forEach(e)}},{key:Symbol.iterator,value:function(){return this.rows[Symbol.iterator]()}},{key:"returnToTop",value:function(){var e=this;e.topIndex=0,e.lastScrollTop=0,e.topRow&&(e.topRow.dataIndex=0,e.topRow.setTop(0)),e.refresh(),e.grid.scrollable.y=0}},{key:"renderFromRecord",value:function(e){var t=this.getRowById(e.id);t&&this.renderFromRow(t)}},{key:"renderFromRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,n=t.rows,r=t.store,i=r.count;if(0!==t.calculateRowCount(!1,i<n.length,!0)){for(var o,a=e?n.indexOf(e):0,s=e?e.dataIndex:n[0].dataIndex,u=i-s-1,c=Math.min(n.length-1,a+u),l=n.length-c-1,f=a>0?n[a-1].bottom:n[a].top,d=a;d<=c;d++)(o=n[d]).dataIndex=s,o.setTop(f),o.render(s,r.getAt(s++),!1),f+=o.offsetHeight;for(;l-- >0;)t.displayRecordAtTop();t.estimateTotalHeight(),t.trigger("renderDone")}}},{key:"renderRows",value:function(e){var t,n,r=!1,i=Rh(e=Array.from(e));try{for(i.s();!(n=i.n()).done;){var o=n.value;t=o.height,o.render(null,null,!1),r|=o.height!==t}}catch(e){i.e(e)}finally{i.f()}r&&(this.translateFromRow(e[0],!0),this.estimateTotalHeight()),this.trigger("renderDone")}},{key:"translateFromRow",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this,o=e.bottom;for(n=e.dataIndex+1,t=i.getRow(n);t;t=i.getRow(++n))t.setTop(o),o+=t.offsetHeight;r||i.estimateTotalHeight()}},{key:"refresh",value:function(){var e=this.topRow;e&&(this.idMap={},this.renderFromRow(e),this.trigger("refresh"))}},{key:"jumpToPosition",value:function(e,t){var n=this,r=n.store,i=n.heightMap,o=r.count;if(n.allHeightsKnown&&!n.fixedRowHeight){for(var a=e-n.prependBufferHeight,s=n.grid._rowBorderHeight,u=0,c=0;u<a;){var l=r.getAt(c);u+=i.get(l.id)+s,c++}var f=Math.max(Math.min(c,o-n.rowCount),0);n.lastScrollTop=e,n.topRow.dataIndex=n.topIndex=f,n.topRow.setTop(n.calculateTop(f),!1),n.refresh()}else{var d=n.preciseRowOffsetHeight,h=null==t?Math.floor(e/d)-n.prependRowBuffer:t-Math.floor(n.rowCount/2),p=Math.max(Math.min(h,o-n.rowCount),0),v=n.client.scrollable.y,g=Math.min(n.client._bodyRectangle.height+v+n.appendBufferHeight,n.totalHeight);if(n.lastScrollTop=e,n.topRow.dataIndex=n.topIndex=p,n.topRow.setTop(Math.floor(p*d),!1),n.refresh(),n.bottomRow.bottom<g)for(n.calculateRowCount(!1,!1,!1);n.bottomRow.bottom<g&&n._rows[n.prependRowBuffer].top<v&&n.bottomRow.dataIndex<o-1;)n.displayRecordAtBottom();n.estimateTotalHeight()}if(null!=t){var y=n.grid.scrollable,m=n.getRow(t),k=m&&Wn.from(m._elementsArray[0]).center.y,b=y.viewport.center.y;m&&(y.y=e=Math.floor(y.y+(k-b)))}return e}},{key:"warpIfNeeded",value:function(e){var t,n=this,r={newScrollTop:e,deltaTop:e-n.lastScrollTop};Math.abs(r.deltaTop)>n.rowCount*n.rowOffsetHeight*3&&(n.scrollTargetRecordId&&(t=n.store.indexOf(n.scrollTargetRecordId)),r.newScrollTop=n.jumpToPosition(e,t),r.deltaTop=0);return r}},{key:"updateRenderedRows",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.client._bodyRectangle;if(0===r.rowCount)return 0;var o=r.totalHeight;if(t||Math.abs(e-r.lastScrollTop)>r.rowOffsetHeight||r.topRow.top>e||r.bottomRow.bottom<e+i.height){var a=r.warpIfNeeded(e);r.scrollTargetRecordId=null,r.lastScrollTop=a.newScrollTop,a.deltaTop>0?r.fillBelow(a.newScrollTop):a.deltaTop<0&&r.fillAbove(a.newScrollTop),r.fixedRowHeight||n||r.correctError(a,i,e),o=r.estimateTotalHeight()}return o}},{key:"correctError",value:function(e,t,n){var r=this,i=0;(r.allHeightsKnown||e.deltaTop<0&&n<2*t.height||e.deltaTop>0&&n>r.totalHeight-2*t.height-3)&&(i=r.topRow.top-r.calculateTop(r.topRow.dataIndex)),i&&(r.offsetRows(-i),r.grid.scrollable.y=r.lastScrollTop=r.grid.scrollable.y-i)}},{key:"fillAbove",value:function(e){for(var t=this,n=e-t.topRow.top-t.prependBufferHeight,r=0;r>n&&t.topIndex>0;)r-=t.displayRecordAtTop();t.trigger("renderDone")}},{key:"fillBelow",value:function(e){for(var t=this,n=e-t.topRow.top-t.prependBufferHeight,r=t.store.count,i=t.rowCount,o=0;o<n&&t.topIndex+i<r&&t.topRow.top+t.topRow.offsetHeight<e;)o+=t.displayRecordAtBottom();t.trigger("renderDone")}},{key:"estimateTotalHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;if(!t.grid.renderingRows){var n,r=t.store.count,i=r-t.heightMap.size,o=t.bottomRow;if(t.fixedRowHeight)n=r*t.rowOffsetHeight;else{if(n=t.totalKnownHeight+t.heightMap.size*t.grid._rowBorderHeight+i*t.preciseRowOffsetHeight,o&&i){var a=o.bottom;(a>n||t.topIndex+t.rowCount>=r&&n>a)&&(n=a,o.dataIndex<r-1&&(n+=(r-1-o.dataIndex)*t.preciseRowOffsetHeight))}n=Math.floor(n)}return n!==t.totalHeight&&!1!==t.trigger("changeTotalHeight",{totalHeight:n,immediate:e})&&(t._totalHeight=n),n}}},{key:"displayRecordAtTop",value:function(){var e=this,t=e.topIndex-1,n=e.store.getAt(t),r=e.bottomRow,i=r.top;return e.trigger("beforeTranslateRow",{row:r,newRecord:n}),r._top=e.topRow.top-e.rowOffsetHeight,r.estimatedTop=!e.fixedRowHeight,r.render(t,n,!1),r._top=i,r.setBottom(e.topRow.top),r.estimatedTop=!1,e.topIndex--,e._rows.unshift(e._rows.pop()),r.offsetHeight}},{key:"displayRecordAtBottom",value:function(){var e=this,t=e.topIndex+e.rowCount,n=e.store.getAt(t),r=e.topRow;return e.trigger("beforeTranslateRow",{row:r,newRecord:n}),r.dataIndex=t,r.setTop(e.bottomRow.bottom),r.render(t,n,!1),e.topIndex++,e._rows.push(e._rows.shift()),r.offsetHeight}},{key:"store",get:function(){return this.client.store}},{key:"rows",get:function(){return this._rows}},{key:"topRow",get:function(){return this.rows[0]}},{key:"bottomRow",get:function(){var e=Math.min(this.rowCount,this.store.count);return this.rows[e-1]}},{key:"rowHeight",get:function(){return this._rowHeight},set:function(e){var t=this,n=t.grid,r=t.fixedRowHeight,i=t.rowHeight;if(It.assertNumber(e,"rowHeight"),e<10&&(e=10),t.trigger("beforeRowHeight",{height:e}),t.minRowHeight=t._rowHeight=e,t.prependBufferHeight=t.prependRowBuffer*t.rowOffsetHeight,t.appendBufferHeight=t.appendRowBuffer*t.rowOffsetHeight,r&&(t.averageRowHeight=e),t.rows.length){var o,a,s=n.scrollable.y,u=t.getRowAt(s,!0),c=u?u.top-s:0;r?(o=e,a=i):(a=o=t.averageRowHeight,t.clearKnownHeights(),o*=e/i),t.calculateRowCount(!1,!0,!0),t.topRow.setTop(t.topRow.dataIndex*(o+n._rowBorderHeight)),t.refresh(),s*(o/a)!==s&&n.scrollRowIntoView(u.id,{block:"start",edgeOffset:c})}t.trigger("rowHeight",{height:e})}},{key:"rowOffsetHeight",get:function(){return Math.floor(this.preciseRowOffsetHeight)}},{key:"preciseRowOffsetHeight",get:function(){return(this.averageRowHeight||this._rowHeight)+this.grid._rowBorderHeight}},{key:"minRowOffsetHeight",get:function(){return(this.minRowHeight||this._rowHeight)+this.grid._rowBorderHeight}},{key:"allHeightsKnown",get:function(){return this.fixedRowHeight||this.heightMap.size>=this.store.count}},{key:"totalHeight",get:function(){return this._totalHeight}}],[{key:"pluginConfig",get:function(){return{chain:["getRowById","topRow","bottomRow","getRecordCoords","getRow","getRowFor","getRowFromElement","destroy"],assign:["rowHeight"]}}},{key:"defaultConfig",get:function(){return{prependRowBuffer:5,appendRowBuffer:5,rowHeight:null,fixedRowHeight:null,autoHeight:!1}}},{key:"properties",get:function(){return{idMap:{},topIndex:0,lastScrollTop:0,_rows:[],heightMap:new Map,totalKnownHeight:0,_totalHeight:0,averageRowHeight:0,scrollTargetRecordId:null,refreshDetails:{topRowIndex:0,topRowTop:0}}}}]),n}(To);function Th(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Mh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mh(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Mh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ph(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Eh._$name="RowManager";var Ah={x:1},Ih=function(e){X()(n,e);var t=Ph(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"addScroller",value:function(e){(this.xScrollers||(this.xScrollers=[])).push(e)}},{key:"addPartner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ah;if("string"==typeof t&&(t=se()({},t,1)),t.x)for(var r=0;r<this.xScrollers.length;r++)this.xScrollers[r].addPartner(e.xScrollers[r],"x");t.y&&ce()(Q()(n.prototype),"addPartner",this).call(this,e,"y")}},{key:"updateOverflowX",value:function(e){this.xScrollers&&this.xScrollers.forEach(function(t){return t.overflowX=e}),this.widget.virtualScrollers.classList[!1===e?"add":"remove"]("b-hide-display")}},{key:"scrollIntoView",value:function(e,t){if(1!==e.nodeType)return ce()(Q()(n.prototype),"scrollIntoView",this).call(this,e,t);var r,i=Th(this.xScrollers);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.element.contains(e))return o.scrollIntoView(e,t)}}catch(e){i.e(e)}finally{i.f()}}},{key:"x",set:function(e){this.xScrollers&&(this.xScrollers[0].x=e)},get:function(){return this.xScrollers?this.xScrollers[0].x:0}}]),n}(zr);function Fh(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Lh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lh(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Lh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oh(){var e=Bi()(['\n                <div class="b-grid-header" data-column="','" data-column-id="','" ','>\n                    <div class="b-grid-header-text">\n                        <div class="b-grid-header-text-content"></div>\n                    </div>\n                    ','\n                    <div class="b-grid-header-resize-handle"></div>\n                </div>\n            ']);return Oh=function(){return e},e}function _h(){var e=Bi()(['\n            <div class="b-grid-header-scroller b-grid-header-scroller-','">\n                <div reference="headersElement" class="b-grid-headers b-grid-headers-','" data-region="','" data-max-depth="','" reference="headersElement"></div>\n            </div>\n        ']);return _h=function(){return e},e}function jh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ih._$name="GridScroller";var Hh=function(e){X()(n,e);var t=jh(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"startConfigure",value:function(e){e.scrollable.overflowX="hidden-scroll",ce()(Q()(n.prototype),"startConfigure",this).call(this,e)}},{key:"template",value:function(){var e=this.region;return Wi.tpl(_h(),e,e,e,this.maxDepth)}},{key:"contentTemplate",value:function(e){var t=this;return e.hidden?"":Wi.tpl(Oh(),e.field||"",e.id,e.isFocusable?'tabindex="0"':"",e.children?'\n                    <div class="b-grid-header-children">\n                            '.concat(e.children.map(function(e){return t.contentTemplate(e)}).join(""),"\n                    </div>\n                    "):"")}},{key:"calculateMinWidthForSafari",value:function(){var e=0;return this.columns.visibleColumns.forEach(function(t){e+=t.calculateMinWidth()}),e}},{key:"fixHeaderWidths",value:function(){this.fixCellWidths()}},{key:"refreshHeaders",value:function(){var e=this;e.columns.traverse(function(t){var n=e.getBarCellElement(t.id);if(n){var r,i=new Ft((r={"b-grid-header":1,"b-grid-header-parent":t.isParent},se()(r,"b-level-".concat(t.childLevel),1),se()(r,"b-depth-".concat(t.meta.depth),1),se()(r,"b-grid-header-align-".concat(t.align),t.align),se()(r,"b-grid-header-resizable",t.resizable&&t.isLeaf),se()(r,t.cls,t.cls),se()(r,"b-last-parent",t.isParent&&t.isLastInSubGrid),se()(r,"b-last-leaf",t.isLeaf&&t.isLastInSubGrid),r)),o=t.text;n.className=i,t.headerRenderer&&(o=t.headerRenderer.call(t.thisObj||e,{column:t,headerElement:n})),t.icon&&(o='<i class="'.concat(t.icon,'"></i>')+(o||""));var a=n.querySelector(".b-grid-header-text-content");a&&(a.innerHTML=o||"")}}),e.fixHeaderWidths()}},{key:"initDepths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.columns.topColumns,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this,r=0;t&&t.meta&&t.meta.depth++;var i,o=Fh(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.meta.depth=0,a.children&&(n.initDepths(a.children.filter(n.columns.chainedFilterFn),a),a.meta.depth&&t&&(t.meta.depth+=a.meta.depth)),a.meta.depth>r&&(r=a.meta.depth)}}catch(e){o.e(e)}finally{o.f()}return t||(n.maxDepth=r),r}},{key:"getHeader",value:function(e){return this.getBarCellElement(e)}},{key:"refreshContent",value:function(){var e=this;e.content=e.columns.topColumns.map(function(t){return e.contentTemplate(t)}).join(""),e.refreshHeaders()}},{key:"onPaint",value:function(e){e.firstPaint&&this.refreshContent()}},{key:"subGrid",get:function(){return this._subGrid},set:function(e){this._subGrid=e,this.id=e.id+"-header"}},{key:"region",get:function(){return this.subGrid&&this.subGrid.region}},{key:"overflowElement",get:function(){return this.headersElement}},{key:"columns",get:function(){var e=this,t=ce()(Q()(n.prototype),"columns",this);return e.columnsDetacher||(e.columnsDetacher=t.on({change:function(){e.initDepths()},thisObj:e}),e.initDepths()),t},set:function(e){di()(Q()(n.prototype),"columns",e,this,!0)}},{key:"contentElement",get:function(){return this.element.firstElementChild}}],[{key:"$name",get:function(){return"Header"}},{key:"defaultConfig",get:function(){return{isHeader:!0}}}]),n}(Pd);function Nh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Hh._$name="Header";var Bh={touchstart:"onElementTouchStart",touchmove:"onElementTouchMove",touchend:"onElementTouchEnd",mouseover:"onElementMouseOver",mouseout:"onElementMouseOut",mousedown:"onElementMouseDown",mousemove:"onElementMouseMove",mouseup:"onElementMouseUp",click:"onHandleElementClick",dblclick:"onElementDblClick",keydown:"onElementKeyDown",keyup:"onElementKeyUp",keypress:"onElementKeyPress",contextmenu:"onElementContextMenu",focus:"onGridElementFocus"};function zh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Vh={string:1,object:1,function:1};function Wh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var $h=Object.freeze({doSelect:!0}),Gh=Object.freeze({x:!1,y:!1});function Yh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function Uh(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return qh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qh(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function qh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Kh={string:1,number:1},Zh={dataset:1,batch:1};function Jh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Qh=function(e){return e.columns.suspendEvents()},ep=function(e){return e.columns.resumeEvents()},tp=function(e){e.columns.clearCaches(),e.columns.fillFromMaster()},np=function(e,t){return e.stateSortIndex-t.stateSortIndex};function rp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ip=new Promise(function(e){return e()}),op={block:"nearest"},ap=function(e){X()(n,e);var t=rp(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"scrollIntoView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:op,n=this,r=n.getDeltaTo(e,t),i=r.xDelta,o=r.yDelta,a=i||o?n.scrollBy(i,o,t):ip;return(t.highlight||t.focus)&&a.then(function(){t.highlight&&(e instanceof Wn?e.translate(-i,-o).highlight():yn.highlight(e)),t.focus&&e.focus&&e.focus()}),a}},{key:"scrollBy",value:function(e,t,r){var i=t&&this.yScroller.scrollBy(0,t,r),o=e&&ce()(Q()(n.prototype),"scrollBy",this).call(this,e,0,r);if(o&&o.cancel&&i&&i.cancel){var a=o.cancel,s=i.cancel;return o.cancel=i.cancel=function(){a(),s()},Promise.all([o,i])}return o||i}},{key:"scrollTo",value:function(e,t,r){var i=null!=t&&this.yScroller.scrollTo(null,t,r),o=null!=e&&ce()(Q()(n.prototype),"scrollTo",this).call(this,e,null,r);if(r&&r.animate||this.syncPartners(),o&&o.cancel&&i&&i.cancel){var a=o.cancel,s=i.cancel;return o.cancel=i.cancel=function(){a(),s()},Promise.all([o,i])}return o||i}},{key:"viewport",get:function(){return Wn.from(this.element).intersect(Wn.from(this.yScroller.element))}},{key:"y",set:function(e){this.yScroller&&(this.yScroller.y=e)},get:function(){return this.yScroller?this.yScroller.y:0}},{key:"maxY",get:function(){return this.yScroller?this.yScroller.maxY:0}},{key:"scrollHeight",get:function(){return this.yScroller?this.yScroller.scrollHeight:0}},{key:"clientHeight",get:function(){return this.yScroller?this.yScroller.clientHeight:0}}]),n}(zr);function sp(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return up(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return up(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function up(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cp(){var e=Bi()(['\n                <div reference="splitterElement" data-region="','" class="b-grid-splitter ','">\n                    <div class="b-grid-splitter-inner b-grid-splitter-main">\n                        <div class="b-grid-splitter-buttons" reference="splitterButtons">\n                            <i class="b-icon b-icon-collapse-gridregion"></i>\n                            <i class="b-icon b-icon-expand-gridregion"></i>\n                        </div>\n                    </div>\n                </div>']);return cp=function(){return e},e}function lp(){var e=Bi()(['\n            <div class="b-grid-subgrid b-grid-subgrid-'," b-grid-horizontal-scroller ",'" data-region="','">\n                <div reference="virtualScrollerElement" class="b-virtual-scroller" data-region="','">\n                    <div reference="virtualScrollerWidth" class="b-virtual-width"></div>\n                </div>\n                ',"\n            </div>\n        "]);return lp=function(){return e},e}function fp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ap._$name="SubGridScroller";var dp=function(e){X()(i,e);var t,n,r=fp(i);function i(){return E()(this,i),r.apply(this,arguments)}return M()(i,[{key:"construct",value:function(e){ce()(Q()(i.prototype),"construct",this).call(this,e),this.initHeader(),this.rowManager.on("addrows",this.onAddRow,this)}},{key:"doDestroy",value:function(){var e=this;e.header&&e.header.destroy(),e.footer&&e.footer.destroy(),e.fakeScroller&&e.fakeScroller.destroy(),e.virtualScrollerElement&&e.virtualScrollerElement.remove(),e.splitterElement&&e.splitterElement.remove(),ce()(Q()(i.prototype),"doDestroy",this).call(this)}},{key:"initHeader",value:function(){var e=this,t=e.element.style,n=t.width,r=t.flex,i=Object.assign({subGrid:e,hidden:e.hideHeaders,parent:e},e.headerConfig);r?i.flex=r:n&&(i.width=n),e.header=new e.headerClass(i)}},{key:"initElements",value:function(){this.footerElement=yn.down(this.grid.element,".b-grid-footer-scroller-"+this.region),this.updateHasFlex()}},{key:"toggleSplitterCls",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=[n.splitterElement,n.headerSplitter,n.footerSplitter,n.scrollerSplitter];r.forEach(function(n){return n&&n.classList[t?"add":"remove"](e)})}},{key:"template",value:function(){var e=this.grid,t=this.region,n=!e||t===e.regions[e.regions.length-1];return Wi.tpl(lp(),t,this.collapsed?"b-grid-subgrid-collapsed":"",t,t,n?"":Wi.tpl(cp(),t,this.collapsed?"b-grid-splitter-collapsed":""))}},{key:"rowTemplate",value:function(){return'<div class="b-grid-row">'.concat(this.columns.visibleColumns.map(this.cellTemplate).join(""),"</div>")}},{key:"cellTemplate",value:function(e){return'<div class="b-grid-cell" data-column="'.concat(e.field||"",'" data-column-id="').concat(e.id,'"></div>')}},{key:"render",value:function(){var e=this,t=e.grid,n=e.region,r=[{className:"b-grid-splitter-inner"}],o={region:n};if(t&&(t.virtualScrollers.appendChild(e.virtualScrollerElement),e.renderHeader(t.headerContainer),e.renderFooter(t.footerContainer),e.initElements()),ce()(Q()(i.prototype),"render",this).apply(this,arguments),e.splitterElement){var a=e.splitterElement.className.trim();e.element.parentNode.insertBefore(e.splitterElement,e.element.nextElementSibling),e.header&&(e.headerSplitter=yn.createElement({className:a,children:r,dataset:o,parent:e.header.element.parentNode,nextSibling:e.header.element.nextSibling}),ur.on({element:e.headerSplitter,mouseenter:"onSplitterMouseOver",mouseleave:"onSplitterMouseOut",thisObj:e})),e.footer&&(e.footerSplitter=yn.createElement({className:a,children:r,dataset:o,parent:e.footer.element.parentNode,nextSibling:e.footer.element.nextSibling}),ur.on({element:e.footerSplitter,mouseenter:"onSplitterMouseOver",mouseleave:"onSplitterMouseOut",thisObj:e})),e.scrollerSplitter=yn.createElement({className:"".concat(a," b-splitter-scroller"),children:r,dataset:o,parent:e.virtualScrollerElement.parentNode,nextSibling:e.virtualScrollerElement.nextSibling}),ur.on({element:e.splitterElement,mouseenter:"onSplitterMouseOver",mouseleave:"onSplitterMouseOut",thisObj:e})}e._collapsed&&e.collapse()}},{key:"renderHeader",value:function(e){this.header&&this.header.render(e,!1)}},{key:"renderFooter",value:function(e){this.footer&&(this.footer.render(e,!1),this.grid.footerContainer.classList.remove("b-hidden"))}},{key:"refreshHeader",value:function(){this.header.refreshContent()}},{key:"refreshFooter",value:function(){this.footer&&this.footer.refreshContent()}},{key:"eachWidget",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=[];n.header&&r.unshift(n.header),n.footer&&r.push(n.footer);for(var i=0;i<r.length;i++){var o=r[i];if(!1===e(o))return;t&&o.eachWidget&&o.eachWidget(e,t)}}},{key:"fixCellWidths",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=this.columns.bottomColumns.filter(function(e){return!e.hidden}));for(var n=e.firstElementChild,r=0;n;){var i=t[r];i.minWidth&&yn.setLength(n,"minWidth",i.minWidth),i.flex?(n.style.flex=i.flex,n.style.width=""):i.width?(n.style.flex="",n.style.width=yn.setLength(i.width),N.isIE11&&(n.style.minWidth=n.style.width)):n.style.flex=n.style.width=n.style.minWidth="",n=n.nextElementSibling,r++}}},{key:"fixWidths",value:function(){var e=this,t=e.element,n=e.header,r=e.footer;if(!e.collapsed){if(e.flex)n.flex=e.flex,r&&(r.flex=e.flex),t.style.flex=e.flex;else{if(e.hasCalculatedWidth&&!e.columns.some(function(e){return!e.hidden&&e.flex})&&e.totalFixedWidth!==e.width)return e.width=e.totalFixedWidth,void(e.hasCalculatedWidth=!0);var i=e.width;if(!i){i=0;var o,a=sp(e.columns);try{for(a.s();!(o=a.n()).done;){var s=o.value;s.flex||s.hidden||(i+=s.width)}}catch(e){a.e(e)}finally{a.f()}}t.style.width="".concat(i,"px"),n.width=i,r&&(r.width=i)}e.syncScrollingPartners(!1)}}},{key:"fixRowWidthsInSafariEdge",value:function(){if(N.isSafari||N.isEdge){var e=this.region,t=this.header,n=t.calculateMinWidthForSafari();this.rowManager.forEach(function(t){var r=t.getElement(e);r&&(r.style.width="".concat(n,"px"))}),t.headersElement.style.width="".concat(n,"px")}}},{key:"onInternalResize",value:function(e,t,n,r,o){var a=this,s=a.grid;ce()(Q()(i.prototype),"onInternalResize",this).call(this,e,t,n,r,o),a.splitterElement&&a.syncSplitterButtonPosition(),s&&(t!==r&&(s.trigger("horizontalScroll",{subGrid:a,grid:s,scrollLeft:a.scrollable.x}),a.refreshFakeScroll(),a.fixRowWidthsInSafariEdge()),a.trigger("afterInternalResize",a))}},{key:"syncParallelSplitters",value:function(e){var t=this.grid;if(this.splitterElement)this.toggleSplitterCls("b-grid-splitter-collapsed",e);else{var n=t.getSubGrid(t.getPreviousRegion(this.region));n&&n.splitterElement&&n.syncParallelSplitters(e)}}},{key:"onSplitterMouseOver",value:function(){var e=this.nextSibling;this.collapsed||e&&e.collapsed||this.toggleSplitterCls("b-hover"),this.startSplitterButtonSyncing()}},{key:"onSplitterMouseOut",value:function(){var e=this.nextSibling;this.toggleSplitterCls("b-hover",!1),this.collapsed||e&&e.collapsed||this.stopSplitterButtonSyncing()}},{key:"startSplitterButtonSyncing",value:function(){var e=this;e.splitterElement&&(e.syncSplitterButtonPosition(),e.splitterSyncScrollListener||(e.splitterSyncScrollListener=e.grid.scrollable.on({scroll:"syncSplitterButtonPosition",thisObj:e})))}},{key:"stopSplitterButtonSyncing",value:function(){this.splitterSyncScrollListener&&(this.splitterSyncScrollListener(),this.splitterSyncScrollListener=null)}},{key:"syncSplitterButtonPosition",value:function(){this.splitterButtons.style.transform="translateY(".concat(this.grid.scrollable.y+this.grid.bodyHeight/2-(this.headerSplitter?this.grid.headerHeight:0),"px)")}},{key:"updateHasFlex",value:function(){var e=this.columns.visibleColumns.some(function(e){return e.flex});yn.toggleClasses(this.element,["b-has-flex"],e)}},{key:"refreshFakeScroll",value:function(){var e=this,t=e.element,n=e.virtualScrollerElement,r=e.virtualScrollerWidth,i=e.totalFixedWidth,o=e.store,a=e.scrollable;a.scrollWidth=o&&o.count?null:i,n.style.width="".concat(t.offsetWidth,"px"),i>a.clientWidth?t.classList.add("b-overflowing-horizontally"):t.classList.remove("b-overflowing-horizontally"),e.collapsed||(a.scrollWidth>a.clientWidth+(N.isEdge?1:0)?(r.style.width="".concat(a.scrollWidth,"px"),e.header.element.classList.add("b-overflowing"),e.footer&&e.footer.element.classList.add("b-overflowing"),e.overflowingHorizontally=!0,e.grid.virtualScrollers.classList.remove("b-hide-display")):(r.style.width=0,e.header.element.classList.remove("b-overflowing"),e.footer&&e.footer.element.classList.remove("b-overflowing"),e.overflowingHorizontally=!1))}},{key:"initScroll",value:function(){var e=this,t=e.scrollable,n=e.virtualScrollerElement;e.syncPartnersOnFrame=e.createOnFrame(e.syncScrollingPartners),N.isFirefox&&t.element.addEventListener("wheel",function(e){e.deltaX&&(t.x+=e.deltaX,e.preventDefault())}),t.yScroller=e.grid.scrollable,t.yScroller.addScroller(t),e.fakeScroller=new zr({element:n,overflowX:!0}),t.on({scroll:"onSubGridScroll",scrollend:"onSubGridScrollEnd",thisObj:e}),t.addPartner(e.fakeScroller,"x"),e.header&&t.addPartner(e.header.scrollable,"x"),e.footer&&t.addPartner(e.footer.scrollable,"x")}},{key:"onSubGridScrollEnd",value:function(){this.forceScrollUpdate||this.syncScrollingPartners(),this.scrolling=!1}},{key:"onSubGridScroll",value:function(){this.forceScrollUpdate?(this.syncScrollingPartners(),this.forceScrollUpdate=!1):this.syncPartnersOnFrame()}},{key:"syncScrollingPartners",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this,n=t.grid;!t.scrolling&&e&&(t.scrolling=!0),n.trigger("horizontalScroll",{subGrid:t,grid:n,scrollLeft:t.scrollable.x})}},{key:"scrollColumnIntoView",value:function(e,t){var n=this,r=n.header.scrollable;if(e=e instanceof Ul?e:n.columns.get(e)||n.columns.getById(e)||n.columns.getAt(e)){var i=n.header.getHeader(e.id);if(i)return r.scrollIntoView(Wn.from(i,null,!0),t)}}},{key:"onAddRow",value:function(e){var t=e.rows,n=this,r=n.rowTemplate(),i=n.columns.bottomColumns.filter(function(e){return!e.hidden}),o=document.createDocumentFragment();t.forEach(function(e){var t=yn.createElementFromTemplate(r);o.appendChild(t),e.addElement(n.region,t),n.fixCellWidths(t,i)}),n.fixRowWidthsInSafariEdge(),n.element.insertBefore(o,n.insertRowsBefore)}},{key:"clearRows",value:function(){this.emptyCache();var e=this.element.querySelectorAll(".b-grid-row"),t=document.createRange();e.length&&(t.setStartBefore(e[0]),t.setEndAfter(e[e.length-1]),t.deleteContents())}},{key:"addNewRowElement",value:function(){var e=yn.append(this.element,this.rowTemplate());return this.fixCellWidths(e),e}},{key:"toggleTransitionClasses",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=t.grid,r=n.getSubGrid(n.getNextRegion(t.region)),i=n.resolveSplitter(r);r.element.classList[e?"remove":"add"]("b-grid-subgrid-animate-collapse"),r.header.element.classList[e?"remove":"add"]("b-grid-subgrid-animate-collapse"),t.element.classList[e?"remove":"add"]("b-grid-subgrid-animate-collapse"),t.header.element.classList[e?"remove":"add"]("b-grid-subgrid-animate-collapse"),i.classList[e?"remove":"add"]("b-grid-splitter-animate")}},{key:"collapse",value:(n=ro()(to.a.mark(function e(){var t,n,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=this).grid,r=n.getSubGrid(n.getNextRegion(t.region)),i=t.splitterElement?t:t.previousSibling,o=0,n.eachSubGrid(function(e){e!==t&&!e._collapsed&&++o}),0!==o){e.next=6;break}return e.next=6,r.expand();case 6:return e.abrupt("return",new Promise(function(e){if(!t._beforeCollapseState){t._beforeCollapseState={};var n=!1;t.width&&(n=!0,t.on({afterinternalresize:function(){e(t)},thisObj:t,once:!0})),t._beforeCollapseState.width=t.width,t._beforeCollapseState.elementWidth=t.element.style.width,""===r.element.style.flex&&(t._beforeCollapseState.nextRegionWidth=r.width,r.width+=t._beforeCollapseState.width),""!==t.element.style.flex&&(t._beforeCollapseState.flex=t.element.style.flex,t.header.element.style.flex=t.element.style.flex=""),t.element.classList.add("b-grid-subgrid-collapsed"),t.virtualScrollerElement.classList.add("b-collapsed"),t.header.element.classList.add("b-collapsed"),t.footer&&t.footer.element.classList.add("b-collapsed"),t.width="",t._collapsed=!0,n||e(!1)}}).then(function(e){t.isDestroyed||!1===e||(t.syncParallelSplitters(!0),t.grid.trigger("subGridCollapse",t),i.startSplitterButtonSyncing&&i.startSplitterButtonSyncing())}));case 7:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"expand",value:(t=ro()(to.a.mark(function e(){var t,n,r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=this).grid,r=n.getSubGrid(n.getNextRegion(t.region)),i=t.splitterElement?t:t.previousSibling,e.abrupt("return",new Promise(function(e){if(null!=t._beforeCollapseState){var n=!1;t.width!==t._beforeCollapseState.elementWidth&&(n=!0,t.on({afterinternalresize:function(){t.setTimeout(function(){return e(t)},10)},thisObj:t,once:!0})),""===r.element.style.flex&&(r.width=t._beforeCollapseState.nextRegionWidth),t.element.classList.remove("b-grid-subgrid-collapsed"),t._collapsed=!1,t.virtualScrollerElement.classList.remove("b-collapsed"),t.header.element.classList.remove("b-collapsed"),t.footer&&t.footer.element.classList.remove("b-collapsed"),t._beforeCollapseState.flex?(t.width=t._beforeCollapseState.width,t.header.flex=t.flex=t._beforeCollapseState.flex,t.footer&&(t.footer.flex=t._beforeCollapseState.flex),t._width=null):t.width=t._beforeCollapseState.elementWidth,t.element.classList.remove("b-grid-subgrid-collapsed"),t._collapsed=!1,n||e(!1),delete t._beforeCollapseState}}).then(function(e){!1!==e&&(i.stopSplitterButtonSyncing(),t.syncParallelSplitters(!1),t.grid.trigger("subGridExpand",t))}));case 2:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"totalFixedWidth",get:function(){return this.columns.totalFixedWidth}},{key:"width",set:function(e){var t=this;t.hasCalculatedWidth=!1,di()(Q()(i.prototype),"width",e,this,!0),t.header&&(t.header.width=e),t.footer&&(t.footer.width=e),t.isPainted&&t.onElementResize()},get:function(){return ce()(Q()(i.prototype),"width",this)}},{key:"flex",set:function(e){var t=this;t.hasCalculatedWidth=!1,t.header&&(t.header.flex=e),t.footer&&(t.footer.flex=e),di()(Q()(i.prototype),"flex",e,this,!0),t.isPainted&&t.onElementResize()},get:function(){return ce()(Q()(i.prototype),"flex",this)}},{key:"viewRectangle",get:function(){return new Wn(this.scrollable.x,this.scrollable.y,this._width||0,this.rowManager.viewHeight)}},{key:"scrolling",set:function(e){this._scrolling=e},get:function(){return this._scrolling}},{key:"rowElements",get:function(){return this.fromCache(".b-grid-row",!0)}},{key:"emptyText",get:function(){return this._emptyText},set:function(e){this._emptyText=e,this.element.dataset.emptyText=e}},{key:"collapsed",get:function(){return this._collapsed},set:function(e){this.isConfiguring?this._collapsed=e:e?this.collapse():this.expand()}}],[{key:"$name",get:function(){return"SubGrid"}},{key:"defaultConfig",get:function(){return{localizableProperties:["emptyText"],insertRowsBefore:null,appendTo:null,hideHeaders:null,monitorResize:!0,collapsed:null,scrollable:{overflowX:!0},scrollerClass:ap,hasCalculatedWidth:null,sealedColumns:null,emptyText:null}}}]),i}(Jr);function hp(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return pp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pp(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}dp._$name="SubGrid";var gp=Le.mergeLocales(Wr,{ColumnPicker:{column:"Column",columnsMenu:"Columns",hideColumn:"Hide column",hideColumnShort:"Hide"},Filter:{applyFilter:"Apply filter",filter:"Filter",editFilter:"Edit filter",on:"On",before:"Before",after:"After",equals:"Equals",lessThan:"Less than",moreThan:"More than",removeFilter:"Remove filter"},FilterBar:{enableFilterBar:"Show filter bar",disableFilterBar:"Hide filter bar"},Group:{group:"Group",groupAscending:"Group ascending",groupDescending:"Group descending",groupAscendingShort:"Ascending",groupDescendingShort:"Descending",stopGrouping:"Stop grouping",stopGroupingShort:"Stop"},Search:{searchForValue:"Search for value"},Sort:{sort:"Sort",sortAscending:"Sort ascending",sortDescending:"Sort descending",multiSort:"Multi sort",removeSorter:"Remove sorter",addSortAscending:"Add ascending sorter",addSortDescending:"Add descending sorter",toggleSortAscending:"Change to ascending",toggleSortDescending:"Change to descending",sortAscendingShort:"Ascending",sortDescendingShort:"Descending",removeSorterShort:"Remove",addSortAscendingShort:"+ Ascending",addSortDescendingShort:"+ Descending"},GridBase:{loadFailedMessage:"Data loading failed!",syncFailedMessage:"Data synchronization failed!",unspecifiedFailure:"Unspecified failure",unknownFailure:"Unknown error",networkFailure:"Network error",parseFailure:"Failed to parse server response",loadMask:"Loading...",syncMask:"Saving changes, please wait...",noRows:"No records to display",moveColumnLeft:"Move to left section",moveColumnRight:"Move to right section",removeRow:"Delete record",removeRows:"Delete records",moveColumnTo:function(e){return"Move column to ".concat(e)}},PdfExport:{"Waiting for response from server":"Waiting for response from server...","Export failed":"Export failed","Server error":"Server error","Generating pages":"Generating pages..."},ExportDialog:{width:"40em",labelWidth:"12em",exportSettings:"Export settings",export:"Export",exporterType:"Control pagination",cancel:"Cancel",fileFormat:"File format",rows:"Rows",alignRows:"Align rows",columns:"Columns",paperFormat:"Paper format",orientation:"Orientation",repeatHeader:"Repeat header"},ExportRowsCombo:{all:"All rows",visible:"Visible rows"},ExportOrientationCombo:{portrait:"Portrait",landscape:"Landscape"},SinglePageExporter:{singlepage:"Single page"},MultiPageExporter:{multipage:"Multiple pages",exportingPage:function(e){var t=e.currentPage,n=e.totalPages;return"Exporting page ".concat(t,"/").concat(n)}},MultiPageVerticalExporter:{multipagevertical:"Multiple pages (vertical)",exportingPage:function(e){var t=e.currentPage,n=e.totalPages;return"Exporting page ".concat(t,"/").concat(n)}}}),yp=gp;function mp(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return kp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kp(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function kp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bp(){var e=Bi()(['\n            <div>\n                <header reference="headerContainer" class="b-grid-header-container ','"></header>\n                <div reference="bodyContainer" class="b-grid-body-container" tabIndex="-1">\n                    <div reference="verticalScroller" class="b-grid-vertical-scroller"></div>\n                </div>\n                <div reference="virtualScrollers" class="b-virtual-scrollers ','" ','></div>\n                <footer reference="footerContainer" class="b-grid-footer-container b-hidden"></footer>\n            </div>\n        ']);return bp=function(){return e},e}function wp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}_e.registerLocale("En",{desc:"English",locale:gp});var Sp=new Promise(function(e){return e()}),Dp={block:"nearest",inline:"nearest"},Rp={dataset:1,filter:1},Cp=function(e){X()(n,e);var t=wp(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"finishConfigure",value:function(e){var t=this;ce()(Q()(n.prototype),"finishConfigure",this).call(this,e),t.scrollManager=new wh(It.assign({grid:t,verticalElement:t.scrollable.element},t.scrollManager)),_e.on({locale:"onBeforeLocaleChange",prio:1,thisObj:t}),_e.on({locale:"onLocaleChange",prio:-1,thisObj:t}),ri.on({theme:"onThemeChange",thisObj:t}),t.on({subGridExpand:"onSubGridExpand",prio:-1,thisObj:t}),t.bufferedFixElementHeights=t.buffer("fixElementHeights",350,t),t.setGridClassList(t.element.classList)}},{key:"onSubGridExpand",value:function(){this.renderContents()}},{key:"onBeforeLocaleChange",value:function(){this._suspendRenderContentsOnColumnsChanged=!0}},{key:"onLocaleChange",value:function(){this._suspendRenderContentsOnColumnsChanged=!1,this.isPainted&&this.renderContents()}},{key:"finalizeInit",value:function(){ce()(Q()(n.prototype),"finalizeInit",this).call(this),this.store.isLoading&&this.onStoreBeforeRequest()}},{key:"doDestroy",value:function(){for(var e=this,t=0,r=Object.values(e.features);t<r.length;t++){var i=r[t];i.destroy&&i.destroy()}e.columns&&(e.columns=null),e.store&&(e.store=null),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"setGridClassList",value:function(e){var t=this;for(var n in e.add("b-grid-".concat(t.positionMode)),t.enableTextSelection||e.add("b-grid-notextselection"),t.autoHeight&&e.add("b-autoheight"),t.readOnly&&e.add("b-readonly"),t.fillLastColumn&&e.add("b-fill-last-column"),t.showDirty&&e.add("b-show-dirty"),t.features){var r=t.features[n],i=void 0;(i=Object.prototype.hasOwnProperty.call(r.constructor,"featureClass")?r.constructor.featureClass:"b-".concat(r instanceof U?r.$name:r.constructor.name))&&e.add(i.toLowerCase())}}},{key:"template",value:function(e){var t=N.isFirefox?'style="height:'.concat(yn.scrollBarWidth,'px"'):"";return Wi.tpl(bp(),this.hideHeaders?"b-hidden":"",yn.scrollBarWidth?"":"b-overlay-scrollbar",t)}},{key:"onColumnsChanged",value:function(e){var t=e.action,n=e.changes,r=e.record,i=this;if(i.isPainted){if("update"===t){if("width"in n||"minWidth"in n||"flex"in n){if(i.isPainted){var o=r.region;i.columns.visibleColumns.forEach(function(e){e.region===o&&e.repaintOnResize&&i.refreshColumn(e)})}return}if("hidden"in n){var a=i.getSubGridFromColumn(r.id);a.header.fixHeaderWidths(),a.footer&&a.footer.fixFooterWidths(),a.updateHasFlex()}}("dataset"===t||n&&"region"in n&&!i.regions.includes(n.region.value))&&(i.initSubGrids(),i.eachSubGrid(function(e){e.render(i.verticalScroller),e.initScroll()})),i._suspendRenderContentsOnColumnsChanged||i.renderContents()}}},{key:"onColumnsResized",value:function(e){var t=e.changes,n=e.record,r=this,i=t.width&&null==n.flex,o=t.minWidth&&null==n.flex,a=t.flex&&null==n.width,s=yn.setLength(n.width),u=yn.setLength(n.minWidth),c=r.getSubGridFromColumn(n.id);c.header.fixHeaderWidths(),c.footer&&c.footer.fixFooterWidths(),c.updateHasFlex(),r.cellEls&&n===r.lastColumnResized||(r.cellEls=yn.children(r.element,".b-grid-cell[data-column-id=".concat(n.id,"]")),r.lastColumnResized=n);var l,f=mp(r.cellEls);try{for(f.s();!(l=f.n()).done;){var d=l.value;i?(d.style.width=s,d.style.flex="",N.isIE11&&(d.style.minWidth=s)):o?d.style.minWidth=u:a?(d.style.flex=n.flex,d.style.width=""):d.style.flex=d.style.width=d.style.minWidth=""}}catch(e){f.e(e)}finally{f.f()}r.dragResizing||r.afterColumnsResized()}},{key:"afterColumnsResized",value:function(){var e=this;e.refreshVirtualScrollbars(),e.eachSubGrid(function(e){e.collapsed||(e.fixWidths(),e.fixRowWidthsInSafariEdge(),e.refreshFakeScroll())}),e.onHeightChange(),e.lastColumnResized=e.cellEls=null}},{key:"processCellEditor",value:function(e){}},{key:"getRowHeight",value:function(e){return e.rowHeight}},{key:"bindStore",value:function(e){var t=this;e&&e.on({name:"store",refresh:t.onStoreDataChange,idChange:t.onStoreRecordIdChange,update:t.onStoreUpdateRecord,add:t.onStoreAdd,remove:t.onStoreRemove,move:t.onStoreMove,replace:t.onStoreReplace,removeall:t.onStoreRemoveAll,beforerequest:t.onStoreBeforeRequest,afterrequest:t.onStoreAfterRequest,clearchanges:t.onStoreDataChange,exception:t.onStoreException,commit:t.onStoreCommit,thisObj:t})}},{key:"onStoreUpdateRecord",value:function(e){var t=e.source,n=e.record,r=e.changes,i=this;if(i.forceFullRefresh)i.rowManager.refresh(),i.forceFullRefresh=!1;else{var o;if(n.isFieldModified("id")&&(o=i.getRowFor(n.meta.modified.id)),!(o=o||i.getRowFor(n)))return;if(i.fullRowRefresh||n.meta.specialRow){var a=t.indexOf(n);-1!==a&&o.render(a,n)}else i.columns.visibleColumns.forEach(function(e){var t=e.field;if(!(e.constructor.simpleRenderer&&!Object.prototype.hasOwnProperty.call(e.data,"renderer"))||r[t]){var i=o.getCell(t);i&&o.renderCell(i,n)}})}}},{key:"refreshFromRowOnStoreAdd",value:function(e){var t=this.rowManager;t.renderFromRow(e),t.trigger("changeTotalHeight",{totalHeight:t.totalHeight}),1===this.store.count&&this.callEachSubGrid("refreshFakeScroll")}},{key:"onStoreAdd",value:function(e){var t=e.source,n=e.records,r=e.index,i=e.oldIndex,o=e.isChild,a=e.oldParent,s=e.isMove,u=e.isExpandAll;if(this.isPainted&&!u&&(!o||n[0].ancestorsExpanded(t))){this.rowManager.calculateRowCount(!1,!0,!0);var c=this,l=c.rowManager,f=l.topIndex,d=l.rows,h=l.rowCount,p=l.topIndex+l.rowCount-1,v=r,g=r+n.length-1,y=p>=t.count-n.length-1;a||i>-1||o&&s?l.refresh():v>=f&&v<f+h?c.refreshFromRowOnStoreAdd.apply(c,[d[v-f]].concat(Array.prototype.slice.call(arguments))):g>=f&&g<f+h?l.refresh():(y&&r>p&&l.fillBelow(c._scrollTop),l.trigger("changeTotalHeight",{totalHeight:l.totalHeight}))}}},{key:"onStoreException",value:function(e){var t=e.action,n=e.type,r=e.response,i=e.exceptionType,o=e.error,a=this;if(a.activeMask){var s;switch(n){case"server":s=r.message||a.L("L{unspecifiedFailure}");break;case"exception":s="network"===i?a.L("L{networkFailure}"):o&&o.message||a.L("L{parseFailure}");break;default:s=r.status&&r.statusText?"".concat(r.status," - ").concat(r.statusText):a.L("L{unknownFailure}")}a.activeMask.icon=a.loadMaskErrorIcon,a.activeMask.text='<div class="b-grid-load-failure">\n                <div class="b-grid-load-fail">'.concat("read"===t?a.L("L{loadFailedMessage}"):a.L("L{syncFailedMessage}"),"</div>\n                ").concat(r&&r.url?'<div class="b-grid-load-fail">'.concat(r.url,"</div>"):"","\n                ").concat(s?'<div class="b-grid-load-fail">'.concat(s,"</div>"):"","\n            </div>"),a.loadmaskHideTimer=a.setTimeout(function(){a.unmaskBody()},a.loadMaskHideTimeout)}}},{key:"onStoreDataChange",value:function(e){var t=e.action,r=e.changes,i=e.source;ce()(Q()(n.prototype),"onStoreDataChange",this)&&ce()(Q()(n.prototype),"onStoreDataChange",this).apply(this,arguments);var o=this,a=i.isGrouped&&r&&i.groupers.some(function(e){return e.field in r});"dataset"===t&&o.rowManager.clearKnownHeights(),o.isPainted&&!a&&o.renderRows(null,Rp[t]),o.toggleEmptyText()}},{key:"onStoreRecordIdChange",value:function(){ce()(Q()(n.prototype),"onStoreRecordIdChange",this)&&ce()(Q()(n.prototype),"onStoreRecordIdChange",this).apply(this,arguments)}},{key:"onStoreBeforeRequest",value:function(){this.loadMask&&this.maskBody(this.loadMask)}},{key:"onStoreAfterRequest",value:function(){this.activeMask&&!this.loadmaskHideTimer&&(this.unmaskBody(),this.toggleEmptyText())}},{key:"onStoreRemove",value:function(e){var t=e.records,r=e.isCollapse,i=e.isChild,o=e.isMove,a=e.isCollapseAll;if(this.isPainted&&!o&&!a){ce()(Q()(n.prototype),"onStoreRemove",this)&&ce()(Q()(n.prototype),"onStoreRemove",this).apply(this,arguments);var s=this,u=s.rowManager,c=t.reduce(function(e,t){var n=u.getRowById(t.id);return n&&e.push(n),e},[]);if(u.invalidateKnownHeight(t),s.animateRemovingRows&&c.length&&!r&&!i){var l=c[0];s.isAnimating=!0,ur.onTransitionEnd({element:l._elementsArray[0],property:"left",timeout:s.transitionDurationTimeout,thisObj:s,handler:function(){s.isAnimating=!1,c.forEach(function(e){return!e.isDestroyed&&e.removeCls("b-removing")}),u.refresh(),s.trigger("rowRemove")}}),c.forEach(function(e){return e.addCls("b-removing")})}else u.refresh(),s.trigger("rowRemove",{isCollapse:r})}}},{key:"onStoreMove",value:function(e){var t=e.from,n=e.to,r=this.rowManager,i=r.topIndex,o=r.rowCount,a=[t,n].sort(),s=re()(a,2),u=s[0],c=s[1];u>=i&&u<i+o?r.renderFromRow(r.rows[u-i]):c>=i&&c<i+o&&r.refresh()}},{key:"onStoreReplace",value:function(e){var t=this,n=e.records,r=e.all,i=this.rowManager;if(r)i.clearKnownHeights(),i.refresh();else{var o=n.reduce(function(e,n){var r=re()(n,2)[1],i=t.getRowFor(r);return i&&e.push(i),e},[]);i.invalidateKnownHeight(n),i.renderRows(o)}}},{key:"onStoreRemoveAll",value:function(){ce()(Q()(n.prototype),"onStoreRemoveAll",this)&&ce()(Q()(n.prototype),"onStoreRemoveAll",this).apply(this,arguments),this.isPainted&&(this.rowManager.clearKnownHeights(),this.renderRows(),this.toggleEmptyText())}},{key:"onStoreCommit",value:function(e){var t=this,n=e.changes;if(this.showDirty&&n.modified.length){var r=[];n.modified.forEach(function(e){var n=t.rowManager.getRowFor(e);n&&r.push(n)}),this.rowManager.renderRows(r)}}},{key:"getHeaderMenuItems",value:function(e,t){var n=this,r=n.subGrids,i=n.regions,o=!0;Object.entries(r).forEach(function(a){var s=re()(a,2),u=s[0],c=s[1];if(!c.sealedColumns&&e.draggable&&u!==e.region&&(!e.parent&&r[e.region].columns.count>1||e.parent&&e.parent.children.length>1)){var l=c.element.compareDocumentPosition(r[e.region].element)===document.DOCUMENT_POSITION_PRECEDING,f=i.length>2?n.L("L{moveColumnTo}",n.L(u)):n.L(l?"L{moveColumnRight}":"L{moveColumnLeft}");t.push({targetSubGrid:u,text:f,icon:"b-fw-icon "+(l?"b-icon-column-move-right":"b-icon-column-move-left"),name:"moveColumn",cls:o?"b-separator":"",onItem:function(e){var t=e.item,i=t.column;i.traverse(function(e){return e.region=u}),n.columns.insert(n.columns.indexOf(r[t.targetSubGrid].columns.last)+1,i),n.scrollColumnIntoView(i)}}),o=!1}})}},{key:"getCellMenuItems",value:function(e,t,n){var r=this;r.showRemoveRowInContextMenu&&!r.readOnly&&t&&!t.meta.specialRow&&(r.selectedRecords.length>1?n.push({text:"L{removeRows}",localeClass:this,icon:"b-fw-icon b-icon-trash",name:"removeRows",onItem:function(){return r.store.remove(r.selectedRecords)}}):n.push({text:"L{removeRow}",localeClass:this,icon:"b-fw-icon b-icon-trash",name:"removeRow",onItem:function(){return r.store.remove(t)}}))}},{key:"getColumnDragToolbarItems",value:function(e,t){return t}},{key:"normalizeCellContext",value:function(e){var t=this.columns,n=this.store;if(e instanceof n.modelClass)return{record:e,id:e.id,columnId:t.bottomColumns[0].id};if(!("columnId"in e)){if("field"in e){var r=t.get(e.field);e.columnId=r&&r.id}else if("column"in e){var i="number"==typeof e.column?t.bottomColumns[e.column]:e.column;e.columnId=i&&i.id}"columnId"in e||(e.columnId=t.bottomColumns[0].id)}if("id"in e){if(e.element&&!n.getById(e.id)){var o=this.getRecordFromElement(e.element);o&&(e.id=o.id)}}else"row"in e?e.id=n.getAt(e.row).id:"record"in e&&(e.id=e.record.id);return e}},{key:"getCell",value:function(e){var t,n=null;return"id"in(e=this.normalizeCellContext(e))&&(t=this.getRowById(e.id)),t&&"columnId"in e&&(n=t.getCell(e.columnId)),n}},{key:"getHeaderElement",value:function(e){return"string"!=typeof e&&(e=e.id),this.fromCache('.b-grid-header[data-column-id="'.concat(e,'"]'))}},{key:"getHeaderElementByField",value:function(e){var t=this.columns.get(e);return t?this.getHeaderElement(t):null}},{key:"getRecordFromElement",value:function(e){var t=e.closest(".b-grid-row");return t?this.store.getAt(t.dataset.index):null}},{key:"getColumnFromElement",value:function(e){var t=yn.up(e,".b-grid-cell, .b-grid-header");if(!t)return null;if(t.matches(".b-grid-header"))return this.columns.getById(t.dataset.columnId);var n=Ns.get(t);return this.columns.getById(n.columnId)}},{key:"fixSizes",value:function(){this.callEachSubGrid("fixWidths")}},{key:"onRowManagerChangeTotalHeight",value:function(e){var t=e.totalHeight,n=e.immediate;return this.refreshTotalHeight(t,n)}},{key:"refreshTotalHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rowManager.totalHeight,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;if(n.renderingRows||!n.isVisible)return!1;n.rowManager.bottomRow&&(e=Math.max(e,n.rowManager.bottomRow.bottom));var r=n.scrollable,i=Math.abs(n.virtualScrollHeight-e),o=n._bodyRectangle.height,a=e-o;if(i){var s=a-n._scrollTop<2*o||n._verticalScrollHeight&&n._verticalScrollHeight-o<n._scrollTop;r.scrollHeight=n.virtualScrollHeight=e,n.isPainted&&(n.scrolling&&!s||i<100)&&!t?n.bufferedFixElementHeights():(n.virtualScrollHeightDirty&&n.virtualScrollHeightDirty(),n.bufferedFixElementHeights.cancel(),n.fixElementHeights())}}},{key:"fixElementHeights",value:function(){var e=this,t=e.virtualScrollHeight,n="".concat(t,"px");e._verticalScrollHeight=t,e.verticalScroller.style.height=n,e.virtualScrollHeightDirty=!1,e.autoHeight&&(e.bodyContainer.style.height=n,e._bodyHeight=t,e._bodyRectangle=Wn.client(e.bodyContainer)),e.refreshVirtualScrollbars()}},{key:"enableScrollingCloseToEdges",value:function(e){"string"==typeof e&&(e=this.subGrids[e]),this.scrollManager.startMonitoring({element:e.element})}},{key:"disableScrollingCloseToEdges",value:function(e){"string"==typeof e&&(e=this.subGrids[e]),this.scrollManager.stopMonitoring(e.element)}},{key:"onRowManagerRequestScrollChange",value:function(e){var t=e.bottom;this.scrollable.y=t-this.bodyHeight}},{key:"initScroll",value:function(){var e=this;if(!e.scrollInitialized){var t,n=e.createOnFrame(function(){(t=e.scrollable.y)!==e._scrollTop&&(e._scrollTop=t,e.scrolling||(e.scrolling=!0,e.eachSubGrid(function(e){return e.suspendResizeMonitor=!0})),e.rowManager.updateRenderedRows(t),e.trigger("scroll",{scrollTop:t}))});e.scrollInitialized=!0,e.scrollable.on({scroll:n,scrollend:function(){e.scrolling=!1,e.eachSubGrid(function(e){return e.suspendResizeMonitor=!1})}}),e.callEachSubGrid("initScroll")}}},{key:"scrollRowIntoView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dp,n=this,r=t.block||"nearest",i=n.rowManager;if(e=n.store.getById(e)){if(-1===n.store.indexOf(e))return Sp;var o=n.scrollable,a=n.getRecordCoords(e),s=Wn.from(o.element);if(a.virtual){var u=a.block;if(o.scrollIntoView(a,{block:"center"}),i.scrollTargetRecordId=e,i.updateRenderedRows(o.y,!0),a=n.getRecordCoords(e),i.lastScrollTop=o.y,a.virtual)return Sp;var c="nearest"!==r?t:{block:u};if(t.animate){o.suspendEvents(),"end"===r||"nearest"===r&&"end"===u?o.y-=s.bottom-a.bottom:("start"===r||"nearest"===r&&"start"===u)&&(o.y+=a.y-s.y),i.updateRenderedRows(o.y,!1,!0),"end"===u?o.y-=i.appendRowBuffer*i.rowHeight-1:o.y+=i.prependRowBuffer*i.rowHeight-1;var l=o.scrollIntoView(n.getRecordCoords(e),Object.assign({},t,c));return l.then(function(){return o.resumeEvents()})}return n.scrollRowIntoView(e,Object.assign({},t,c))}var f=t.column;if(f){if("string"==typeof f&&(f=n.columns.getById(f)||n.columns.get(f)),f){o=n.getSubGridFromColumn(f).scrollable;var d=Wn.from(i.getRowFor(e).getCell(f.id));a.x=d.x,a.width=d.width}}else t.x=!1;return o.scrollIntoView(a,t)}}},{key:"scrollColumnIntoView",value:function(e,t){return e=e instanceof Ul?e:this.columns.get(e)||this.columns.getById(e)||this.columns.getAt(e),this.getSubGridFromColumn(e).scrollColumnIntoView(e,t)}},{key:"scrollCellIntoView",value:function(e,t){return this.scrollRowIntoView(e.id,Object.assign({column:e.columnId},"boolean"==typeof t?{animate:t}:t))}},{key:"scrollToBottom",value:function(e){return this.scrollRowIntoView(this.store.last,e)}},{key:"scrollToTop",value:function(e){return this.scrollable.scrollBy(0,-this.scrollable.y,e)}},{key:"storeScroll",value:function(){var e=this.storedScrollState={scrollTop:this.scrollable.y,scrollLeft:{}};return this.eachSubGrid(function(t){e.scrollLeft[t.region]=t.scrollable.x}),e}},{key:"restoreScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.storedScrollState,t=this;t.eachSubGrid(function(t){t.scrollable.x=e.scrollLeft[t.region]}),t.scrollable.y=e.scrollTop}},{key:"measureRowHeight",value:function(){var e=this,t=yn.createElement({tag:"div",className:"b-grid "+(e.features.stripe?"b-stripe":""),style:"position: absolute; visibility: hidden",html:'<div class="b-grid-subgrid"><div class="b-grid-row"></div></div>',parent:document.getElementById(e.appendTo)||document.body}),n=t.firstElementChild.firstElementChild,r=parseInt(yn.getStyleValue(n,"height")),i=parseInt(yn.getStyleValue(n,"border-top-width")),o=parseInt(yn.getStyleValue(n,"border-bottom-width"));null!=e.rowHeight&&e.rowHeight!==e._rowHeightFromStyle||(e.rowHeight=!isNaN(r)&&r?r:e.defaultRowHeight,e._rowHeightFromStyle=e.rowHeight),e._rowBorderHeight=i+o,e._isRowMeasured=!0,t.remove()}},{key:"onThemeChange",value:function(e){var t=e.theme;this.measureRowHeight(),this.trigger("theme",{theme:t})}},{key:"refreshRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.element.classList.add("b-notransition"),e?this.rowManager.returnToTop():this.rowManager.refresh(),this.element.classList.remove("b-notransition")}},{key:"refreshColumn",value:function(e){if(!e.hidden){var t=e.field;this.rowManager.forEach(function(e){var n=e.getCell(t);e.renderCell(n)})}}},{key:"refreshVirtualScrollbars",value:function(){var e=this,t=e.headerContainer,n=e.footerContainer,r=e.virtualScrollers,i=e.scrollable,o=N.isEdge||N.isIE11?Math.abs(i.scrollHeight-i.clientHeight)>1:i.scrollHeight>i.clientHeight,a=o?"add":"remove";Object.values(e.subGrids).some(function(e){return e.overflowingHorizontally})?r.classList.remove("b-hide-display"):r.classList.add("b-hide-display"),t.classList[a]("b-grid-vertical-overflow"),n.classList[a]("b-grid-vertical-overflow"),r.classList[a]("b-grid-vertical-overflow"),e.onHeightChange(),yn.scrollBarWidth&&(t.style.marginRight=n.style.paddingRight=o?"".concat(yn.scrollBarWidth-1,"px"):0)}},{key:"onContentChange",value:function(){var e=this,t=e.rowManager;e.isVisible?(t.estimateTotalHeight(),e.paintListener=null,e.refreshTotalHeight(e.contentHeight),e.callEachSubGrid("refreshFakeScroll"),e.onHeightChange()):e.paintListener||(e.paintListener=e.on({paint:"onContentChange",once:!0,thisObj:e}))}},{key:"onHeightChange",value:function(){var e=this;e._bodyRectangle=Wn.client(e.bodyContainer),e._bodyHeight=e.autoHeight?e.contentHeight:e.bodyContainer.offsetHeight}},{key:"renderHeader",value:function(e,t){}},{key:"renderFooter",value:function(e,t){}},{key:"suspendRefresh",value:function(){this.refreshSuspended++}},{key:"resumeRefresh",value:function(e){this.refreshSuspended&&!--this.refreshSuspended&&e&&this.refreshRows()}},{key:"renderRows",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=e&&n.storeScroll();n.refreshSuspended||(n.trigger("beforeRenderRows"),n.renderingRows=!0,n.element.classList.add("b-grid-refreshing"),t&&(n.scrollable.y=n._scrollTop=0),n.rowManager.reinitialize(t),n.trigger("renderRows"),n.renderingRows=!1,n.onContentChange(),e&&n.restoreScroll(r),n.element.classList.remove("b-grid-refreshing"))}},{key:"renderContents",value:function(){var e=this,t=e.element,n=e.headerContainer,r=e.footerContainer,i=e.rowManager;if(e.emptyCache(),e.isPainted){e._headerHeight=null,e.callEachSubGrid("refreshHeader",n),e.callEachSubGrid("refreshFooter",r),e.renderHeader(n,t),e.renderFooter(r,t),e.fixSizes();var o=i.removeAllRows();i.calculateRowCount(!1,!0,!0),i.rowCount&&(i.setPosition(o),e.renderRows())}}},{key:"onPaint",value:function(){var e=this,t=e.rowManager,n=e.store,r=e.element,i=e.headerContainer,o=e.bodyContainer,a=e.footerContainer;if(!e.isPainted){var s,u=0;e.columns.on({change:function(){return s=!0},single:!0}),e._bodyRectangle=Wn.client(e.bodyContainer);var c=e.bodyContainer.offsetHeight;e.updateResponsive(e.width,0),s&&(e.callEachSubGrid("refreshHeader",i),e.callEachSubGrid("refreshFooter",a)),e.renderHeader(i,r),e.renderFooter(a,r),e.autoHeight?(e._bodyHeight=t.initWithHeight(r.offsetHeight-i.offsetHeight-a.offsetHeight,!0),o.style.height=e.bodyHeight+"px"):(e._bodyHeight=c,t.initWithHeight(e._bodyHeight,!0)),e.eachSubGrid(function(e){e.header.maxDepth>u&&(u=e.header.maxDepth)}),i.dataset.maxDepth=u,e.fixSizes(),!n.count&&n.isLoading||e.renderRows(!1,!1),e.initScroll(),e.initInternalEvents()}}},{key:"render",value:function(){var e=this;e.requireSize=Boolean(e.owner),ce()(Q()(n.prototype),"render",this).apply(this,arguments),e.autoHeight||!e.headerContainer.offsetHeight||e.bodyContainer.offsetHeight||console.warn("Grid element not sized correctly, please check your CSS styles and review how you size the widget")}},{key:"maskBody",value:function(e){var t=this;if(t.bodyContainer){t.unmaskBody();var n=(t.activeMask=li.mask(e,t.element)).maskElement;return n.style.marginTop="".concat(t.bodyContainer.offsetTop,"px"),n.style.height="".concat(t.virtualScrollers.offsetTop+t.virtualScrollers.offsetHeight-t.bodyContainer.offsetTop,"px"),t.activeMask}}},{key:"unmaskBody",value:function(){var e=this;e.loadmaskHideTimer&&e.clearTimeout(e.loadmaskHideTimer),e.loadmaskHideTimer=null,e.activeMask&&e.activeMask.destroy(),e.activeMask=null}},{key:"toggleEmptyText",value:function(){this.bodyContainer&&yn.toggleClasses(this.bodyContainer,"b-grid-empty",!(this.rowManager.rowCount>0||this.store.isLoading||this.store.isCommitting))}},{key:"contentElement",get:function(){return this.verticalScroller}},{key:"overflowElement",get:function(){return this.bodyContainer}},{key:"focusElement",get:function(){return this.bodyContainer}},{key:"columns",set:function(e){var t,n,r=this;r._columnStore?e?r._columnStore.data=e:r._columnStore.destroy():(e instanceof Zl?(e.grid||(e.grid=r),r._columnStore=e):Array.isArray(e)?r._columnStore=new Zl({grid:r,data:e}):e&&(r._columnStore=new Zl(Object.assign({grid:r},e))),r._columnStore.on("change",r.onColumnsChanged,r),r._columnStore.on((t=r.onColumnsResized,n=r,{update:function(e){var r=e.store,i=e.record,o=e.changes,a=!0;return("width"in o||"minWidth"in o||"flex"in o)&&(a=t.call(n,{store:r,record:i,changes:o})),a}})),N.isTouchDevice&&(r.touch=!0,r._columnStore.forEach(function(e){var t=e.touchConfig;t&&e.applyState(t)})))},get:function(){return this._columnStore}},{key:"rowManager",get:function(){var e=this;return e._isRowMeasured||e.measureRowHeight(),e._rowManager||(e._rowManager=new Eh({grid:e,rowHeight:e.rowHeight,rowScrollMode:e.rowScrollMode||"move",autoHeight:e.autoHeight,fixedRowHeight:e.fixedRowHeight,listeners:{changetotalheight:e.onRowManagerChangeTotalHeight,requestscrollchange:e.onRowManagerRequestScrollChange,thisObj:e}}))}},{key:"store",get:function(){return this._store},set:function(e){var t=this,n=t.rowManager,r=t.initialConfig.features;if(e!==t._store)if(t.detachListeners("store"),e){if(e instanceof Ra);else{var i={};t.data&&(i.data=t.data),r&&r.tree&&(i.tree=!0),e.modelClass||(i.modelClass=function(e){X()(n,e);var t=wp(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(Tf)),e=new(e.readUrl?Pa:Ra)(Object.assign(i,e))}t._store=e,t.bindStore(e),t.isPainted&&n.reinitialize()}else t.destroyStore&&t._store.destroy(),t._store=null}},{key:"data",get:function(){return this._store?this._store.records:this._data},set:function(e){this._store?this._store.data=e:this._data=e}},{key:"emptyText",get:function(){return this._emptyText},set:function(e){this._emptyText=e,this.eachSubGrid(function(t){return t.emptyText=e})}},{key:"bodyHeight",get:function(){return this._bodyHeight}},{key:"headerHeight",get:function(){var e=this;return e.isPainted&&!e._headerHeight&&(e._headerHeight=e.headerContainer.offsetHeight),e._headerHeight}},{key:"autoHeight",get:function(){return this._autoHeight},set:function(e){It.assertBoolean(e,"autoHeight"),this._autoHeight=e}},{key:"columnLines",get:function(){return this._columnLines},set:function(e){It.assertBoolean(e,"columnLines"),yn.toggleClasses(this.element,"b-no-column-lines",!e),this._columnLines=e}},{key:"readOnly",set:function(e){var t=this;t._readOnly=e,t.isPainted&&(t.trigger("readOnly",{readOnly:e}),e?t.element.classList.add("b-readonly"):t.element.classList.remove("b-readonly"))},get:function(){return this._readOnly}},{key:"scrolling",set:function(e){this._scrolling=e},get:function(){return this._scrolling}},{key:"contentHeight",get:function(){var e=this.rowManager;return Math.max(e.totalHeight,e.bottomRow?e.bottomRow.bottom:0)}}],[{key:"getLKey",value:function(){return"8fc784b3-3eb2-11ea-86f5-d094663d5c88"}},{key:"$name",get:function(){return"GridBase"}},{key:"defaultConfig",get:function(){return{rowHeight:null,fixedRowHeight:null,defaultRowHeight:45,emptyText:"L{noRows}",fullRowRefresh:!0,readOnly:null,hideHeaders:null,showRemoveRowInContextMenu:!0,autoHeight:null,store:{},data:null,columns:[],defaultRegion:"normal",destroyStore:null,enableTextSelection:null,loadMask:"L{loadMask}",syncMask:"L{syncMask}",columnLines:!0,fillLastColumn:!0,resizeToFitIncludesHeader:!0,animateRemovingRows:!N.isIE11,disableGridRowModelWarning:null,loadMaskErrorIcon:"b-icon b-icon-warning",headerClass:Hh,testPerformance:!1,positionMode:"translate",rowScrollMode:"move",monitorResize:!0,features:!0,subGridConfigs:{normal:{flex:1}},scrollable:{overflowY:!0},scrollerClass:Ih,scrollManager:null,showDirty:null,loadMaskHideTimeout:3e3,transitionDurationTimeout:500,refreshSuspended:0,transitionDuration:500,contextMenuTriggerEvent:"contextmenu",localizableProperties:["emptyText","loadMask","syncMask"]}}},{key:"properties",get:function(){return{_selectedRecords:[],_verticalScrollHeight:0,virtualScrollHeight:0,_scrollTop:null}}}]),n}(Uo(Mi).mixes(Po,Io,function(e){return function(e){X()(n,e);var t=Nh(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"initInternalEvents",value:function(){for(var e=Object.keys(Bh),t=e.length,n={element:this.element,thisObj:this},r=0;r<t;r++)n[e[r]]="handleEvent";ur.on(n)}},{key:"getEventData",value:function(e){var t=yn.up(e.target,".b-grid-cell");if(t){var n=Ns.get(t),r=n.id,i=n.columnId,o=this.store.getById(r);return o?{cellElement:t,cellData:n,columnId:i,id:r,record:o,cellSelector:{id:r,columnId:i}}:null}}},{key:"handleEvent",value:function(e){this.disabled||(this.event=e,Bh[e.type]&&this[Bh[e.type]](e))}},{key:"onElementTouchStart",value:function(e){var t=this;yn.isTouchEvent=!0,1===e.touches.length&&(t.longPressTimeout=t.setTimeout(function(){t.onElementLongPress(e),e.preventDefault(),t.longPressPerformed=!0},t.longPressTime))}},{key:"onElementTouchMove",value:function(e){this.longPressTimeout&&(this.clearTimeout(this.longPressTimeout),this.longPressTimeout=null)}},{key:"onElementTouchEnd",value:function(e){var t=this;t.longPressPerformed&&(e.cancelable&&e.preventDefault(),t.longPressPerformed=!1),t.longPressTimeout&&(t.clearTimeout(t.longPressTimeout),t.longPressTimeout=null)}},{key:"onElementLongPress",value:function(e){}},{key:"triggerCellMouseEvent",value:function(e,t){var n=this.getEventData(t);if(n){var r=this.columns.getById(n.columnId);this.trigger("cell"+_.capitalizeFirstLetter(e),{grid:this,record:n.record,column:r,cellSelector:n.cellSelector,cellElement:n.cellElement,target:t.target,event:t})}}},{key:"onElementMouseDown",value:function(e){var t=this.getEventData(e);this.skipFocusSelection=!0,this.triggerCellMouseEvent("mousedown",e),t&&!e.defaultPrevented&&this.onFocusGesture(t,e)}},{key:"onElementMouseMove",value:function(e){this.mouseMoveEvent=e}},{key:"onElementMouseUp",value:function(e){}},{key:"onHandleElementClick",value:function(e){!1!==this.trigger("beforeElementClick",{event:e})&&this.onElementClick(e)}},{key:"onElementClick",value:function(e){var t=this.getEventData(e);t&&(this.triggerCellMouseEvent("click",e),Ns.get(t.cellElement).row.removeCls("b-hover"))}},{key:"onFocusGesture",value:function(e,t){e&&this.focusCell(e.cellSelector,{scroll:!1,doSelect:!0,event:t})}},{key:"onElementDblClick",value:function(e){var t=e.target;if(this.triggerCellMouseEvent("dblClick",e),t.classList.contains("b-grid-header-resize-handle")){var n=yn.up(t,".b-grid-header");this.columns.getById(n.dataset.columnId).resizeToFitContent()}}},{key:"onElementMouseOver",value:function(e){if(!this.scrolling){var t=yn.up(e.target,".b-grid-cell");if(t){var n=Ns.get(t).row;!n||"number"==typeof e.buttons&&0!==e.buttons||(this.hoveredRow=n),this.triggerCellMouseEvent("mouseOver",e)}this.trigger("mouseOver",{event:e})}}},{key:"onElementMouseOut",value:function(e){(this.hoveredRow=null,this.scrolling)||(yn.up(e.target,".b-grid-cell")&&this.triggerCellMouseEvent("mouseOut",e),this.trigger("mouseOut",{event:e}))}},{key:"onElementKeyDown",value:function(e){var t=this;if(!e.handled)if(e.target.matches(".b-grid-header.b-depth-0"))t.handleHeaderKeyDown(e);else if(e.target===t.focusElement||N.isIE11&&e.currentTarget===t.focusElement)t.handleViewKeyDown(e);else if("Escape"===e.key&&t.isActionableLocation){var n=It.clone(t.focusedCell);n.element=null,t.focusCell(n),yn.focusWithoutScrolling(t.element)}}},{key:"handleViewKeyDown",value:function(e){switch(e.key){case"ArrowLeft":return e.preventDefault(),this.navigateLeft(e);case"ArrowRight":return e.preventDefault(),this.navigateRight(e);case"ArrowUp":return e.preventDefault(),this.navigateUp(e);case"ArrowDown":return e.preventDefault(),this.navigateDown(e)}}},{key:"handleHeaderKeyDown",value:function(e){var t=this,n=t.columns.getById(e.target.dataset.columnId);switch(n.onKeyDown&&n.onKeyDown(e),e.key){case"ArrowLeft":var r=t.columns.getAdjacentVisibleLeafColumn(n,!1);if(r)t.getHeaderElement(r.id).focus();break;case"ArrowRight":var i=t.columns.getAdjacentVisibleLeafColumn(n,!0);if(i)t.getHeaderElement(i.id).focus();break;case"Enter":t.getHeaderElement(n.id).click()}}},{key:"onElementKeyPress",value:function(e){}},{key:"onElementKeyUp",value:function(e){}},{key:"onElementContextMenu",value:function(e){var t=this.getEventData(e);t&&(this.triggerCellMouseEvent("contextMenu",e),yn.isTouchEvent&&this.onFocusGesture(t,e))}},{key:"onInternalResize",value:function(e,t,r,i,o){var a=this;a._devicePixelRatio&&a._devicePixelRatio!==window.devicePixelRatio&&yn.resetScrollBarWidth(),a._devicePixelRatio=window.devicePixelRatio,a._bodyRectangle=Wn.client(a.bodyContainer),ce()(Q()(n.prototype),"onInternalResize",this).apply(this,arguments),r!==o&&(a._bodyHeight=a.bodyContainer.offsetHeight,a.isPainted&&a.rowManager.initWithHeight(a._bodyHeight)),a.refreshVirtualScrollbars(),t!==i&&a.setTimeout(function(){a.isDestroyed||a.updateResponsive(t,i)},0)}},{key:"hoveredRow",set:function(e){var t=this;t._hoveredRow&&!t._hoveredRow.isDestroyed&&(t._hoveredRow.removeCls("b-hover"),t._hoveredRow=null),e&&!t.scrolling&&(t._hoveredRow=e,e.addCls("b-hover"))}},{key:"widgetClass",get:function(){}}],[{key:"defaultConfig",get:function(){return{longPressTime:400}}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=zh(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"createFeatureInitializer",value:function(e,t,n,r){var i=[this],o=n.prototype.construct;return Vh[oe()(r)]&&(i[1]=r),{configurable:!0,get:function(){return delete e[t],n.prototype.construct=function(){e[t]=this;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];o.apply(this,i),n.prototype.construct=o},Ee()(n,i)}}}},{key:"hasFeature",value:function(e){return!(!this.features||!this.features[e])}},{key:"features",set:function(e){var t,n,r,i=Ff.getInstanceDefaultFeatures(this);e=this._features=It.assign({},e),i&&Object.keys(i).forEach(function(t){t in e||(e[t]=!0)});for(var o=Ff.getInstanceFeatures(this),a=0,s=Object.keys(e);a<s.length;a++)if(t=s[a],n=e[t]){if(_.lowercaseFirstLetter(t)!==t)throw new Error("Invalid feature name '".concat(t,"', must start with a lowercase letter"));if(!(r=o[t]))throw new Error("Feature '".concat(t,"' not available, make sure you have imported it"));Reflect.defineProperty(e,t,this.createFeatureInitializer(e,t,r,n))}},get:function(){return this._features}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Wh(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onGridElementFocus",value:function(e){var t=this,n={doSelect:!1,event:e};if(t._focusedCell)t.focusCell(t._focusedCell,n);else{var r=t.element.contains(e.relatedTarget)?null:t.lastFocusedCell;if(r){var i=t.getCell(r);if(!i||!yn.isVisible(i)||!t.store.getById(r.id))return void t.revertFocus();t.returningFocus=!0,t.focusCell(r,n),t.returningFocus=!1}else if(!t.scrolling&&!t.skipFocusSelection&&t.store.first){var o=t.mouseMoveEvent,a=t.rowManager,s=t._bodyRectangle,u=o?Math.min(Math.max(o.clientY,s.y),s.bottom):s.center.y,c=a.getRowAt(u)||a.rows[Math.floor(a.rowCount/2)],l=o&&t.getEventData(o)||{id:c.id,columnId:t.columns.visibleColumns[0].id};t.getCell(l)&&t.focusCell(l,n)}}t.skipFocusSelection=!1}},{key:"onFocusOut",value:function(e){ce()(Q()(n.prototype),"onFocusOut",this).call(this,e),this.clearFocus()}},{key:"isFocused",value:function(e){return Boolean(this._focusedCell)&&this.isLocationEqual(e,this._focusedCell)}},{key:"focusCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$h;e=this.normalizeCellContext(e===Object?Object.assign({},e):e);var n=this,r=!1!==t.doSelect,i=t,o=i.event,a=i.scroll,s=n.lastFocusedCell=n._focusedCell,u=n.isLocationEqual(e,s),c=s&&n.getCell(s),l=n.getSubGridFromColumn(e.columnId),f=n.getCell(e);if(o&&"mousedown"===o.type)for(var d=o.target;d!==f;d=d.parentElement)if(yn.isFocusable(d))return void(e.element=d);if(u)return o&&n.onCellNavigate&&n.onCellNavigate(n,null,n._focusedCell,o,r),e;c&&c.classList.remove("b-focused");var h=f||n.getCell({row:n.rowManager.topIndex,columnId:e.columnId}),p=Wn.from(l.element),v=Wn.from(n.bodyContainer),g=Wn.from(h).moveTo(null,p.y);return!1===a?t=Object.assign({},t,Gh):(t=Object.assign({},t,a),g.width>p.width||g.height>v.height?t.x=t.y=!1:t.column=e.columnId,n.scrollRowIntoView(e.id,t)),(f=n.getCell(e))&&(e.element=f,f.classList.add("b-focused")),n._focusedCell=e,n.onCellNavigate&&n.onCellNavigate(n,s,n._focusedCell,o,r),n.trigger("navigate",{lastFocusedCell:s,focusedCell:n._focusedCell,event:o}),e}},{key:"isLocationEqual",value:function(e,t){return e&&t&&e.id===t.id&&e.columnId===t.columnId&&(!e.element||!t.element||e.element===t.element)}},{key:"blurCell",value:function(e){var t=this.getCell(e);t&&t.classList.remove("b-focused")}},{key:"clearFocus",value:function(){var e=this;e._focusedCell&&(e.lastFocusedCell=e._focusedCell,e.blurCell(e._focusedCell),e._focusedCell=null)}},{key:"internalNextPrevCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=this,r=n._focusedCell;return r?n.focusCell({id:r.id,columnId:n.columns.getAdjacentVisibleLeafColumn(r.columnId,e,!0).id},{doSelect:!0,event:t}):null}},{key:"navigateRight",value:function(e){return this.internalNextPrevCell(!0,e)}},{key:"navigateLeft",value:function(e){return this.internalNextPrevCell(!1,e)}},{key:"internalNextPrevRow",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this,i=r._focusedCell;if(!i)return!1;var o=r.store["get".concat(e?"Next":"Prev")](i.id,!1,t);return!!o&&r.focusCell({id:o.id,columnId:i.columnId,scroll:{x:!1}},{doSelect:!0,event:n})}},{key:"navigateDown",value:function(e){return this.internalNextPrevRow(!0,!1,e)}},{key:"navigateUp",value:function(e){return this.internalNextPrevRow(!1,!1,e)}},{key:"focusedCell",get:function(){var e=this._focusedCell;if(e&&this.getCell(e))return e;this.clearFocus()},set:function(e){this.focusCell(e,{doSelect:!1})}},{key:"isActionableLocation",get:function(){var e=this._focusedCell;return Boolean(e&&e.element&&this.getCell(e).contains(e.element))}},{key:"focusedRecord",get:function(){if(this._focusedCell)return this.store.getById(this._focusedCell.id)}},{key:"cellCSSSelector",get:function(){var e=this._focusedCell,t=e&&this.getRowById(e.id);return e&&t?"[data-index=".concat(t.index,"] [data-column-id=").concat(e.columnId,"]"):""}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Yh(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getClosestBiggerLevel",value:function(e){var t=this,n=Object.keys(t.responsiveLevels),r=null,i=99995,o=null;return n.forEach(function(n){var a=t.responsiveLevels[n];if(["number","string"].includes(oe()(a))||(a=a.levelWidth),"*"===a)o=n;else if(e<a){var s=a-e;s<i&&(i=s,r=n)}}),r||o}},{key:"updateResponsive",value:function(e,t){var n=this,r=n.getClosestBiggerLevel(t),i=n.getClosestBiggerLevel(e);if(r!==i){var o=n.responsiveLevels[i];["number","string"].includes(oe()(o))||n.applyState(o),n.columns.forEach(function(e){var t=e.responsiveLevels;t&&(t[i]?e.applyState(t[i]):t["*"]&&e.applyState(t["*"]))}),n.element.classList.remove("b-responsive-"+r),n.element.classList.add("b-responsive-"+i),n.trigger("responsive",{level:i,width:e,oldLevel:r,oldWidth:t})}}},{key:"responsiveLevel",get:function(){return this.getClosestBiggerLevel(this.width)}},{key:"widgetClass",get:function(){}}],[{key:"defaultConfig",get:function(){return{responsiveLevels:Object.freeze({small:400,medium:600,large:"*"})}}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Xh(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"afterConfigure",value:function(){var e=this;if(e.selectionMode.checkbox){var t=Zl.getColumnClass("check");if(!t)throw new Error("CheckColumn must be imported for checkbox selection mode to work");var r=e.checkboxColumn=new t({id:"".concat(e.id,"-selection-column"),width:"4em",minWidth:"4em",field:null,cellCls:"b-checkbox-selection",region:Object.keys(e.subGridConfigs).sort()[0],showCheckAll:e.selectionMode.showCheckAll},e.columns);r.meta.depth=0,r._grid=e;var i=r.renderer;r.renderer=function(t){t.value=e.isSelected(t.record),i.call(r,t)},r.on({toggle:"onCheckChange",toggleAll:"onCheckAllChange",thisObj:e});var o=e.columns.indexOf(e.columns.findRecord("type","rownumber"))+1;e.columns.insert(o,r)}ce()(Q()(n.prototype),"afterConfigure",this).call(this)}},{key:"onStoreRecordIdChange",value:function(e){var t=e.record,r=e.oldValue;ce()(Q()(n.prototype),"onStoreRecordIdChange",this)&&ce()(Q()(n.prototype),"onStoreRecordIdChange",this).apply(this,arguments);var i=this.selectedRecordCollection.get(r);i===t&&this.selectedRecordCollection.rebuildIndices()}},{key:"onSelectedRecordCollectionChange",value:function(e){e.source,e.action;var t=e.added,n=void 0===t?[]:t,r=e.removed,i=this;i._selectedCell&&!i.isSelectable(i._selectedCell)&&i.deselectCell(i._selectedCell),n=n.filter(function(e){return i.isSelectable(e)}),i.triggerChangeEvent({mode:"row",action:n.length?"select":"deselect",selection:i.selectedRecords,selected:n,deselected:r},i.silent)}},{key:"onCheckChange",value:function(e){var t=e.source,n=e.checked,r=e.record;n?(this.selectRow({record:r,column:t,addToSelection:!1!==this.selectionMode.multiSelect,scrollIntoView:!1}),t.headerCheckbox&&this.selectedRecords.length===this.store.count-(this.store.groupRecords?this.store.groupRecords.length:0)&&(t.suspendEvents(),t.headerCheckbox.checked=!0,t.resumeEvents())):(this.deselectRow(r),t.headerCheckbox&&(t.suspendEvents(),t.headerCheckbox.checked=!1,t.resumeEvents()))}},{key:"onCheckAllChange",value:function(e){this[e.checked?"selectAll":"deselectAll"]()}},{key:"onElementKeyDown",value:function(e){var t=this.focusedCell,r=this.checkboxColumn;if(ce()(Q()(n.prototype),"onElementKeyDown",this).call(this,e),t&&" "===e.key&&r&&this.columns.getById(t.columnId)===r){var i=this.getCell(t).widget;i&&i.toggle()}}},{key:"spliceSelectedRecords",value:function(e,t,n){this._selectedRecordCollection.splice(e,t,n)}},{key:"isSelected",value:function(e){return e instanceof Yo&&(e=e.id),Kh[oe()(e)]?this.selectedRecordCollection.includes(e):this._selectedCell&&this._selectedCell.id==e.id&&this._selectedCell.columnId===e.columnId}},{key:"isSelectable",value:function(e){if(!e)return!1;var t=this.store.getById(e.id||e);return t&&!(t.meta&&t.meta.specialRow)}},{key:"selectRow",value:function(e){var t=e.record,n=e.column,r=void 0===n?this.columns.bottomColumns[0]:n,i=e.scrollIntoView,o=void 0===i||i,a=e.addToSelection,s=void 0!==a&&a;if("object"!==oe()(arguments[0])){var u=arguments;t=u[0],o=!(u.length>1)||u[1],s=u[2]||!1}var c=this,l=c.store.getById(t);t?c.selectCell({id:l.id,column:r},o,s):c.deselectAll()}},{key:"selectCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this,o=i.selectedRecordCollection,a=i.selectionMode,s=i.normalizeCellContext(e),u=s.record||i.store.getById(s.id);if(i.isSelectable(u)){if(t&&i.scrollRowIntoView(s.id,{column:s.columnId}),a.row&&(r&&(i.silent=(i.silent||0)+1),n?o.add(u):o.splice(0,o.count,u),r&&i.silent--,1===i.selectedRecordCollection.count&&(i.startCell=s,i.lastRange=null)),a.cell&&(s.columnId||s.column)&&!i.isSelected(s)){var c=i._selectedCell?[i._selectedCell]:[];i._selectedCell=s,i.triggerChangeEvent({mode:"cell",action:"select",selected:[s],deselected:c,selection:[s]},r)}return s}this.deselectAll()}},{key:"selectAll",value:function(){var e,t=this;t.store.isFiltered?(e=t.selectedRecordCollection).add.apply(e,te()(t.store.records.filter(function(e){return!e.meta.specialRow}))):t.selectedRecords=t.store.records.filter(function(e){return!e.meta.specialRow})}},{key:"deselectAll",value:function(){var e,t=this;t.store.isFiltered?(e=t.selectedRecordCollection).remove.apply(e,te()(t.store.records.filter(function(e){return!e.meta.specialRow}))):t.selectedRecordCollection.clear();t._selectedCell&&t.deselectCell(t._selectedCell)}},{key:"deselectRow",value:function(e){var t=e instanceof Yo?e:this.store.getById(e);t&&this.selectedRecordCollection.remove(t)}},{key:"deselectCell",value:function(e){var t=this,n=t.normalizeCellContext(e),r=t.selectionMode,i=n.record||t.store.getById(n.id),o=t._selectedCell;return r.row&&t.selectedRecordCollection.remove(i),r.cell&&n.columnId&&o&&o.id===n.id&&o.columnId===n.columnId&&(t._selectedCell=null,t.triggerChangeEvent({mode:"cell",action:"deselect",selected:[],deselected:[n],selection:[]})),n}},{key:"selectRange",value:function(e,t){var n=this.store,r=this.selectedRecordCollection,i=n.indexOf(e),o=n.indexOf(t),a=Math.min(i,o),s=Math.max(i,o);if(-1===a||-1===s)throw new Error("Record not found in selectRange");r.splice(0,r.count,n.getRange(a,s+1,!1))}},{key:"onStoreRemove",value:function(e){ce()(Q()(n.prototype),"onStoreRemove",this)&&ce()(Q()(n.prototype),"onStoreRemove",this).call(this,e),this.selectedRecordCollection.remove(e.records)}},{key:"onStoreDataChange",value:function(e){var t=e.action,r=e.source;if(ce()(Q()(n.prototype),"onStoreDataChange",this)&&ce()(Q()(n.prototype),"onStoreDataChange",this).apply(this,arguments),Zh[t]){var i=this.selectedRecordCollection,o=[];i.forEach(function(e){if(r.includes(e)){var t=i.indexOf(e);i.splice(t,1,r.getById(e.id))}else o.push(e)}),i.remove(o)}}},{key:"onStoreRemoveAll",value:function(){ce()(Q()(n.prototype),"onStoreRemoveAll",this)&&ce()(Q()(n.prototype),"onStoreRemoveAll",this).call(this),this.deselectAll()}},{key:"handleMouseMultiSelect",value:function(e,t){var n=this,r=e.id;(t.metaKey||t.ctrlKey)&&n.isSelected(r)?n.deselectRow(r):n.selectionMode.multiSelect&&(t.shiftKey&&n.startCell?function(e,t){var r=n.store,i=n.selectedRecordCollection,o=r.indexOf(e),a=r.indexOf(t),s=Math.min(o,a),u=Math.max(o,a);if(-1===s||-1===u)throw new Error("Record not found in selectRange");var c=r.getRange(s,u+1,!1).filter(function(e){return n.isSelectable(e)});i.splice(0,n.lastRange||0,c),n.lastRange=c}(n.startCell.id,r):(t.ctrlKey||t.metaKey)&&n.selectRow({record:r,scrollIntoView:!1,addToSelection:!0}))}},{key:"onCellNavigate",value:function(e,t,n,r){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(e.columns.getById(n.columnId)!==e.checkboxColumn&&!e.selectionMode.rowCheckboxSelection&&!(!i||e.returningFocus||r&&r.target.closest(".b-tree-expander"))){var o=t&&n.id===t.id,a=r&&"mousedown"===r.type,s=a&&r.ctrlKey;!r||r.button&&2!==r.button||!r.shiftKey&&!s?e.selectCell(n,!1,o&&(!r||r.shiftKey||r.ctrlKey)||r&&(s||2===r.button&&e.isSelected(n.id))):e.handleMouseMultiSelect(n,r),e.startCell&&!s||(e.startCell=n,e.lastRange=null)}}},{key:"triggerChangeEvent",value:function(e,t){var n,r,i,o,a=this,s=e.mode,u=e.selected,c=e.deselected;if("row"===s){for(n=0,r=u.length;n<r;n++)(i=a.getRowFor(u[n]))&&(i.addCls("b-selected"),!a.checkboxColumn||a.checkboxColumn.hidden||u[n].meta.specialRow||(i.getCell(a.checkboxColumn.id).widget.checked=!0));for(n=0,r=c.length;n<r;n++)(i=a.getRowFor(c[n]))&&(i.removeCls("b-selected"),!a.checkboxColumn||a.checkboxColumn.hidden||c[n].meta.specialRow||(i.getCell(a.checkboxColumn.id).widget.checked=!1))}else if("cell"===s){for(n=0,r=u.length;n<r;n++)(o=a.getCell(u[n]))&&o.classList.add("b-selected");for(n=0,r=c.length;n<r;n++)(o=a.getCell(c[n]))&&o.classList.remove("b-selected")}t||a.trigger("selectionChange",e)}},{key:"selectedRecordCollection",set:function(e){e instanceof Lr||(e=new Lr(e)),this._selectedRecordCollection=e,e.on({change:"onSelectedRecordCollectionChange",thisObj:this})},get:function(){return this._selectedRecordCollection}},{key:"selectedCell",get:function(){return this._selectedCell},set:function(e){this.selectCell(e)}},{key:"selectionMode",set:function(e){e&&e.rowCheckboxSelection&&(e.row=e.checkbox=!0,e.cell=!1),this._selectionMode=e},get:function(){return this._selectionMode}},{key:"selectedRecord",get:function(){return this.selectedRecordCollection.last||null},set:function(e){this.selectRow({record:e})}},{key:"selectedRecords",get:function(){return this.selectedRecordCollection.values},set:function(e){var t=this.selectedRecordCollection,n=this.store,r=[];if(e){var i,o=Uh(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;(a=n.getById(a))&&r.push(a)}}catch(e){o.e(e)}finally{o.f()}}t.splice(0,t.count,r)}},{key:"selectedCellCSSSelector",get:function(){var e=this._selectedCell,t=e&&this.getRowById(e.id);return e&&t?"[data-index=".concat(t.dataIndex,"] [data-column-id=").concat(e.columnId,"]"):""}},{key:"widgetClass",get:function(){}}],[{key:"defaultConfig",get:function(){return{selectionMode:{row:!0,cell:!0,rowCheckboxSelection:!1,multiSelect:!0,checkbox:!1,showCheckAll:!1},selectedRecordCollection:{}}}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Jh(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getState",value:function(){var e=this,t=e.element.style.cssText,n={rowHeight:e.rowHeight,readOnly:e.readOnly};if(t&&(n.style=t),e.selectedCell){var r=e.selectedCell,i=r.id,o=r.columnId;n.selectedCell={id:i,columnId:o}}return n.selectedRecords=e.selectedRecords.map(function(e){return e.id}),n.columns=e.columns.map(function(e){return e.getState()}),n.store=e.store.state,n.scroll=e.storeScroll(),n.width={},n.collapsed={},e.eachSubGrid(function(e){null==e.flex&&(n.width[e.region]=e.width),n.collapsed[e.region]=e.collapsed}),n}},{key:"applyState",value:function(e){var t=this;if("readOnly"in e&&(t.readOnly=e.readOnly),"rowHeight"in e&&(t.rowHeight=e.rowHeight),"style"in e&&(t.style=e.style),"selectedCell"in e&&(t.selectedCell=e.selectedCell),"store"in e&&(t.store.state=e.store),"selectedRecords"in e&&(t.selectedRecords=e.selectedRecords),"columns"in e){var n=!1,r=!1;t.columns.suspendEvents(),t.eachSubGrid(Qh),e.columns.forEach(function(e,i){var o=t.columns.getById(e.id);if(o){var a=o.generation;o.applyState(e),n=n||o.generation!==a,o.stateSortIndex=i,o.allIndex!==i&&(r=n=!0)}}),n&&t.eachSubGrid(tp),r&&(t.eachSubGrid(function(e){e.columns.records.sort(np),e.columns.allRecords.sort(np)}),t.columns.sort({fn:np,ascending:!0})),t.isPainted&&n&&t.renderContents(),t.columns.resumeEvents(),t.eachSubGrid(ep)}"width"in e&&t.eachSubGrid(function(t){t.region in e.width&&(t.width=e.width[t.region])}),"collapsed"in e&&t.eachSubGrid(function(t){t.collapsed=e.collapsed[t.region]}),"scroll"in e&&t.restoreScroll(e.scroll)}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=vp(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"initSubGrids",value:function(){var e,t,n,r,i=this,o=i._regions,a=new Set,s=!0,u=hp(i.columns.records);try{for(u.s();!(r=u.n()).done;){var c=r.value;c.region&&!i.subGridConfigs[c.region]&&(i.subGridConfigs[c.region]={}),a.add(c.region)}}catch(e){u.e(e)}finally{u.f()}o&&o.forEach(function(e){return i.subGrids[e].destroy()}),i.subGrids={},i._regions=Array.from(a),i._regions.sort(),i.subGridConfigs.normal&&0===Object.keys(i.subGridConfigs.normal).length&&(i.subGridConfigs.normal=Cp.defaultConfig.subGridConfigs.normal);var l,f=hp(i._regions);try{var d=function(){var r=l.value;n=i.columns.makeChained(function(e){return e.region===r},["region"]),t=It.assign({parent:i,grid:i,store:i.store,rowManager:i.rowManager,region:r,headerClass:i.subGridConfigs[r].headerClass||i.headerClass,columns:n,hideHeaders:i.hideHeaders},i.subGridConfigs[r]),e=!1,t.flex||t.width||(t.width=n.totalFixedWidth,e=!0),i.subGrids[r]=new dp(t),i.subGrids[r].hasCalculatedWidth=e,s&&(i.subGrids[r].isFirstRegion=!0,s=!1)};for(f.s();!(l=f.n()).done;)d()}catch(e){f.e(e)}finally{f.f()}}},{key:"doDestroy",value:function(){this.eachSubGrid(function(e){return e.destroy()}),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"eachSubGrid",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this;n.regions.forEach(function(r,i){var o=n.subGrids[r];e.call(t||o,o,i++)})}},{key:"eachWidget",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;n.regions.forEach(function(r){var i=n.subGrids[r];!1!==e(i)&&t&&i.eachWidget&&i.eachWidget(e,t)})}},{key:"callEachSubGrid",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this,o=null;return i.regions.forEach(function(t,r){var a=i.subGrids[t];if(a[e]){var s=a[e].apply(a,n);0===r&&(o=s)}}),o}},{key:"getLastRegions",value:function(){var e=this.regions.slice(-2);return 2===e.length?e:[e[0],e[0]]}},{key:"getNextRegion",value:function(e){var t=this.regions;return t[t.indexOf(e)+1]||t[t.length-2]}},{key:"getPreviousRegion",value:function(e){return this.regions[this.regions.indexOf(e)-1]}},{key:"getSubGrid",value:function(e){return this.subGrids[e]}},{key:"getSubGridFromColumn",value:function(e){return e=e instanceof Ul?e:this.columns.get(e)||this.columns.getById(e),this.getSubGrid(e.region)}},{key:"resolveSplitter",value:function(e){var t=this.getLastRegions(),n=e instanceof dp?e.region:e;return t[1]===n&&(n=t[0]),this.subGrids[n].splitterElement}},{key:"items",get:function(){var e=this;return this.regions.map(function(t){return e.subGrids[t]})}},{key:"regions",get:function(){return this._regions||this.initSubGrids(),this._regions}},{key:"widgetClass",get:function(){}}]),n}(e||U)}));function xp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Cp._$name="GridBase",ke.register("gridbase",Cp),H.setVersion("grid","3.1.9");var Ep={Enter:1,F2:1},Tp={ArrowUp:1,ArrowDown:1,ArrowLeft:1,ArrowRight:1},Mp=function(e){X()(c,e);var t,n,r,i,o,a,s,u=xp(c);function c(){return E()(this,c),u.apply(this,arguments)}return M()(c,[{key:"construct",value:function(e,t){var n=this;n.grid=e,ce()(Q()(c.prototype),"construct",this).call(this,e,t),e.store.on({update:"onStoreUpdate",thisObj:n});var r={beforerenderrows:"onGridBeforeRenderRows",cellclick:"onCellClick",thisObj:n};"cellclick"!==n.triggerEvent&&(r[n.triggerEvent]="onTriggerEditEvent"),e.on(r)}},{key:"confirm",value:(s=ro()(to.a.mark(function e(t){var n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,!this.editorContext){e.next=7;break}return Hl.owner=this.editorContext.editor.inputField,e.next=5,Hl.confirm(t);case 5:n=e.sent,Hl.owner=null;case 7:return e.abrupt("return",n===Hl.yesButton);case 8:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"doDestroy",value:function(){this.cancelEditing(!0),this.grid.columns.allRecords.forEach(function(e){e._cellEditor&&e._cellEditor.destroy()}),ce()(Q()(c.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){e&&this.cancelEditing(!0),ce()(Q()(c.prototype),"doDisable",this).call(this,e)}},{key:"getEditorForCell",value:function(e){var t=e.cell,n=e.column,r=e.selector,i=e.editor,o=this,a=o.grid,s=n._cellEditor,u=0;n.editTargetSelector&&(u=t.querySelector(n.editTargetSelector).offsetLeft);return i.autoSelect=o.autoSelect,s?(s.inputField!==i&&(s.remove(s.items[0]),s.add(i)),s.align.offset[0]=u):s=n._cellEditor=new o.editorClass({cls:"b-cell-editor",inputField:i,blurAction:"none",invalidAction:n.invalidAction,completeKey:!1,cancelKey:!1,owner:a,align:{align:"t0-t0",offset:[u,0]},listeners:o.getEditorListeners()}),n.instantUpdate&&!i.cellEditValueSetter&&(It.wrapProperty(i,"value",null,function(e){var t=o.editorContext;t&&t.editor.isValid&&!It.isEqual(t.record[t.column.field],e)&&(t.record[t.column.field]=e)}),i.cellEditValueSetter=!0),Object.assign(s.element.dataset,{rowId:r.id,columnId:r.columnId,field:n.field}),s.inputField.revertOnEscape=n.revertOnEscape,o.editor=s}},{key:"getEditorListeners",value:function(){return{focusout:"onEditorFocusOut",focusin:"onEditorFocusIn",start:"onEditorStart",beforecomplete:"onEditorBeforeComplete",complete:"onEditorComplete",cancel:"onEditorCancel",thisObj:this}}},{key:"onEditorStart",value:function(e){var t=e.source,n=this,r=n.editorContext=t.cellEditorContext;if(r){var i=n.grid;r.cell.classList.add("b-editing"),n.grid.on({cellclick:"onCellClickWhileEditing"},n),n.removeEditingListeners=ri.addListener({globaltap:"onTapOut",thisObj:n}),i.trigger("startCellEdit",{grid:i,editorContext:r})}}},{key:"onEditorBeforeComplete",value:function(e){var t=this.grid,n=e.source.cellEditorContext;return e.grid=t,e.editorContext=n,t.trigger("beforeFinishCellEdit",e)}},{key:"onEditorComplete",value:function(e){var t=e.source,n=this.grid,r=t.cellEditorContext;r.value=t.inputField.value,n.trigger("finishCellEdit",{grid:n,editorContext:r}),this.cleanupAfterEdit(r)}},{key:"onEditorCancel",value:function(){var e=this.editorContext,t=this.muteEvents,n=this.grid;e&&this.cleanupAfterEdit(e),t||n.trigger("cancelCellEdit",{grid:n})}},{key:"cleanupAfterEdit",value:function(e){var t=e.editor;e.cell.classList.remove("b-editing"),t.cellEditorContext=this.editorContext=null,this.grid.un({cellclick:"onCellClickWhileEditing",viewportResize:"onViewportResizeWhileEditing"},this),this.removeEditingListeners(),ri.suspendFocusEvents(),t.element.remove(),ri.resumeFocusEvents()}},{key:"getAdjacentEditableCell",value:(a=ro()(to.a.mark(function e(t,n){var r,i,o,a,s,u,c,l;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=this.grid,i=r.store,o=r.columns,a=t.id,s=t.columnId,u=o.getAdjacentLeaf(s,n);case 2:if(!a){e.next=16;break}if(c=i.getById(a),!u){e.next=11;break}if(s=u.id,u.hidden||!u.editor||!u.canEdit(c)){e.next=8;break}return e.abrupt("return",{id:a,columnId:u.id});case 8:u=o.getAdjacentLeaf(s,n),e.next=14;break;case 11:l=i.getAdjacent(t.id,n,!1,!0),a=l&&l.id,l&&(u=n?o.first:o.leaves[o.leaves.length-1]);case 14:e.next=2;break;case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"doAddNewAtEnd",value:(o=ro()(to.a.mark(function e(t){var n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.grid,r=n.store.add(t)[0],n.rowManager.getRowFor(r)||n.rowManager.displayRecordAtBottom(),e.abrupt("return",r);case 3:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"getEditingContext",value:function(e){e=this.grid.normalizeCellContext(e);var t=this.grid,n=t.columns.getById(e.columnId),r=t.store.getById(e.id),i=t.getCell(e);if(i&&n&&!n.hidden&&n.editor&&r&&!r.meta.specialRow&&n.canEdit(r)){var o=r&&r[n.field];return{column:n,record:r,cell:i,value:void 0===o?null:o,selector:e,editor:n.editor}}return!1}},{key:"startEditing",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;if(!t.editorContext&&!t.disabled){var n=t.grid,r=n.normalizeCellContext(e);n.focusCell(e);var i=t.getEditingContext(r);if(!i||!1===n.trigger("beforeCellEditStart",{grid:n,editorContext:i}))return!1;if(i){yn.focusWithoutScrolling(n.focusElement);var o=i.editor=t.getEditorForCell(i),a=i.cell,s=i.record,u=i.column;return o.inputField.highlightExternalChange=!1,o.cellEditorContext=i,o.render(t.grid.getSubGridFromColumn(u).element),o.startEdit({target:a,record:s,field:o.inputField.name||i.column.field}),!0}}return!1}},{key:"cancelEditing",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=t.editorContext,r=t.editor,i=t.grid;n&&(r.containsFocus&&(t.editorContext=null,r.inputField.owns(yn.activeElement)&&yn.focusWithoutScrolling(i.focusElement),t.editorContext=n),t.muteEvents=e,r.cancelEdit(),t.muteEvents=!1)}},{key:"finishEditing",value:(i=ro()(to.a.mark(function e(){var t,n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.editorContext,n=!1,!t){e.next=7;break}return r=t.column,e.next=6,t.editor.completeEdit(r.bindCallback(r.finalizeCellEdit));case 6:n=e.sent;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"onCellClickWhileEditing",value:function(e){var t=e.event,n=e.cellSelector,r=this;r.editorContext&&!r.editorContext.editor.owns(t.target)&&(r.getEditingContext(n)?r.finishEditing()?r.startEditing(n):(r.grid.focusCell(r.editorContext.selector),r.editor.inputField.focus()):r.finishEditing())}},{key:"onCellClick",value:function(e){var t=e.source,n=e.record,r=e.cellSelector,i=e.cellElement,o=e.target,a=e.event,s=t.focusedCell||{},u=t.columns.getById(r.columnId);if(u.onCellClick)u.onCellClick({grid:t,column:u,record:n,cellSelector:r,cellElement:i,target:o,event:a});else{if(o.closest(".b-tree-expander"))return this.cancelEditing(),!1;yn.isTouchEvent&&r.id==s.id&&r.columnId==s.columnId?this.startEditing(r):"cellclick"===this.triggerEvent&&this.onTriggerEditEvent({cellSelector:r})}}},{key:"onTriggerEditEvent",value:function(e){var t=e.cellSelector;this.editorContext&&!this.finishEditing()||this.startEditing(t)}},{key:"onStoreUpdate",value:function(e){var t=e.changes,n=e.record,r=this.editorContext;r&&r.editor.isVisible&&n===r.record&&r.editor.dataField in t&&r.editor.refreshEdit()}},{key:"onGridBeforeRenderRows",value:function(){this.editorContext&&this.editorContext.editor.isVisible&&this.cancelEditing()}},{key:"onElementKeyDown",value:(r=ro()(to.a.mark(function e(t){var n,r,i,o,a;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this,!t.handled&&n.grid.focusElement.contains(t.target)){e.next=3;break}return e.abrupt("return");case 3:if(n.editorContext){e.next=13;break}if(r=t.key,!(i=n.autoEdit&&(1===r.length||"Backspace"===r))&&!Ep[r]||!n.grid.focusedCell){e.next=11;break}if(t.preventDefault(),n.startEditing(n.grid.focusedCell)){e.next=9;break}return e.abrupt("return");case 9:o=n.editor.inputField,a=o.input,i&&a&&(a.value="Backspace"===r?"":r,o.internalOnInput(t),o.moveCaretToEnd());case 11:e.next=29;break;case 13:e.t0=t.key,e.next="Enter"===e.t0?16:"F2"===e.t0?18:"Escape"===e.t0?21:"Tab"===e.t0?25:27;break;case 16:return n.onEnterKeyPress(t),e.abrupt("break",28);case 18:return t.preventDefault(),n.finishEditing(),e.abrupt("break",28);case 21:return t.stopPropagation(),t.preventDefault(),n.cancelEditing(),e.abrupt("break",28);case 25:return n.onTabKeyPress(t),e.abrupt("break",28);case 27:return e.abrupt("break",28);case 28:Tp[t.key]&&(t.handled=!0);case 29:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"onEnterKeyPress",value:(n=ro()(to.a.mark(function e(t){var n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,t.preventDefault(),t.stopPropagation(),e.next=5,n.finishEditing();case 5:if(!e.sent){e.next=7;break}n.isEditing||t.ctrlKey||t.metaKey||t.altKey||n.grid.touch||(t.shiftKey?n.grid.navigateUp()&&n.startEditing(n.grid.focusedCell):n.grid.navigateDown()&&n.startEditing(n.grid.focusedCell));case 7:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"onTabKeyPress",value:(t=ro()(to.a.mark(function e(t){var n,r,i,o,a;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(r=(n=this).grid.focusedCell)){e.next=24;break}return i=!t.shiftKey,e.next=6,n.getAdjacentEditableCell(r,i);case 6:if((o=e.sent)||!i||!n.addNewAtEnd){e.next=17;break}return e.next=10,n.finishEditing();case 10:if(!0!==e.sent){e.next=17;break}return e.next=14,this.doAddNewAtEnd("object"===oe()(n.addNewAtEnd)?It.clone(n.addNewAtEnd):{});case 14:return e.next=16,n.getAdjacentEditableCell(r,i);case 16:o=e.sent;case 17:if(!o){e.next=24;break}if(a=!0,!n.isEditing){e.next=23;break}return e.next=22,n.finishEditing();case 22:a=e.sent;case 23:a&&(n.grid.focusCell(o,{animate:n.focusCellAnimationDuration}),n.startEditing(o));case 24:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"onElementMouseDown",value:function(e){2===e.button&&this.editorContext&&e.preventDefault()}},{key:"onEditorFocusOut",value:function(e){var t=this,n=t.grid;t.editorContext&&!t.editor.isFinishing&&t.editor.inputField.owns(e.target)&&(e.toWidget!==n||n.isLocationEqual(t.grid.focusedCell,t.editorContext.selector))&&("cancel"===t.blurAction?t.cancelEditing():t.finishEditing())}},{key:"onEditorFocusIn",value:function(e){var t=e.toWidget;t===this.editor.inputField&&this.autoSelect&&t.selectAll&&!t.readOnly&&!t.disabled&&t.selectAll()}},{key:"onTapOut",value:function(e){var t=e.event,n=this;n.grid.bodyContainer.contains(t.target)||n.editor.owns(t.target)||("cancel"===n.blurAction?n.cancelEditing():n.finishEditing())}},{key:"onElementClick",value:function(e){e.target.classList.contains("b-grid-body-container")&&this.editorContext&&this.finishEditing()}},{key:"disabled",set:function(e){di()(Q()(c.prototype),"disabled",e,this,!0)},get:function(){var e=this.grid;return Boolean(ce()(Q()(c.prototype),"disabled",this)||e.disabled||e.readOnly)}},{key:"isEditing",get:function(){return Boolean(this.editorContext)}},{key:"activeRecord",get:function(){return this.editorContext&&this.editorContext.record||null}}],[{key:"$name",get:function(){return"CellEdit"}},{key:"defaultConfig",get:function(){return{autoSelect:!0,blurAction:"complete",addNewAtEnd:null,autoEdit:!1,editorClass:fs,triggerEvent:"celldblclick",focusCellAnimationDuration:100}}},{key:"pluginConfig",get:function(){return{assign:["startEditing"],before:["onElementKeyDown","onElementMouseDown"],chain:["onElementClick"]}}}]),c}(yr(To));function Pp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Mp._$name="CellEdit",Ff.registerFeature(Mp,!0);var Ap=function(e){X()(n,e);var t=Pp(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"Grid"}}]),n}(Cp);function Ip(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ap._$name="Grid",ke.register("grid",Ap);var Fp=function(e){X()(n,e);var t=Ip(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"store",set:function(e){if(e&&!e.tree){if(e instanceof Ra)throw new Error("TreeGrid requires a Store configured with tree : true");e.tree=!0}di()(Q()(n.prototype),"store",e,this,!0)},get:function(){return ce()(Q()(n.prototype),"store",this)}}],[{key:"$name",get:function(){return"TreeGrid"}}]),n}(Ap);function Lp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Fp._$name="TreeGrid",ke.register("treegrid",Fp);var Op=function(e){return function(e){X()(n,e);var t=Lp(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"cancelRequest",value:function(e){e.abort()}},{key:"shouldUseBodyForRequestData",value:function(e,t,n){return!("HEAD"===t||"GET"===t||n)}},{key:"sendRequest",value:function(e){var t=this,r=e.data,i=t.transport[e.type]||{},o=Object.assign({},i,i.requestConfig);o.method=o.method||n.defaultMethod[e.type],o.params=o.params||{};var a=o.paramName;if(t.shouldUseBodyForRequestData(i,o.method,a)?(o.body=r,o.headers=o.headers||{},o.headers["Content-Type"]=o.headers["Content-Type"]||"application/json"):(a=a||"data",o.params[a]=r),!o.url)throw new Error("Trying to request without URL specified");delete o.requestConfig,delete o.paramName,t.trigger("beforeSend",{params:o.params,type:e.type,requestConfig:o,config:e}),o.queryParams=o.params,delete o.params;var s=Object.assign({},o,o.fetchOptions),u=Ae.fetch(o.url,s);return u.catch(function(e){var t=s.abortController&&s.abortController.signal;t&&!t.aborted&&console.warn(e)}).then(function(n){n&&n.ok?e.success&&e.success.call(e.thisObj||t,n,s):e.failure&&e.failure.call(e.thisObj||t,n,s)}),u}}],[{key:"defaultMethod",get:function(){return{load:"GET",sync:"POST"}}}]),n}(e||U)};n(271);function _p(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return jp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jp(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Np=function(e,t,n){return e.store&&(e=e.store),t.store&&(t=t.store),(e=e[n]||0)<(t=t[n]||0)?-1:e>t?1:0},Bp=function(e,t){return Np(e,t,"loadPriority")},zp=function(e,t){return Np(e,t,"syncPriority")},Vp=function(){},Wp=function(e){return function(e){X()(l,e);var t,n,r,i,o,a,s,u,c=Hp(l);function l(){return E()(this,l),c.apply(this,arguments)}return M()(l,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._requestId=0,this.activeRequests={},this.crudStoresIndex={},ce()(Q()(l.prototype),"construct",this).call(this,e)}},{key:"afterConstruct",value:function(){var e=this;ce()(Q()(l.prototype),"afterConstruct",this).call(this),this.autoLoad&&this.load().catch(function(t){if(!e.isValidResponse(t.rawResponse,t.response))throw t})}},{key:"getStoreDescriptor",value:function(e){return e?e instanceof Ra?this.crudStores.find(function(t){return t.store===e}):"object"===oe()(e)?this.crudStoresIndex[e.storeId]:this.crudStoresIndex[e]||this.getStoreDescriptor(Ra.getStore(e)):null}},{key:"fillStoreDescriptor",value:function(e){var t=e.store,n=t.storeIdProperty,r=void 0===n?this.storeIdProperty:n,i=t.modelClass;return e.storeId||(e.storeId=t[r]),e.idField||(e.idField=i.idField),e.phantomIdField||(e.phantomIdField=i.phantomIdField),e.phantomParentIdField||(e.phantomParentIdField=i.phantomParentIdField),"writeAllFields"in e||(e.writeAllFields=t.writeAllFields),e}},{key:"updateCrudStoreIndex",value:function(){var e=this.crudStoresIndex={};this.crudStores.forEach(function(t){return t.storeId&&(e[t.storeId]=t)})}},{key:"getCrudStore",value:function(e){var t=this.getStoreDescriptor(e);return t&&t.store}},{key:"forEachCrudStore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;e&&this.crudStores.every(function(n){return!1!==e.call(t,n.store,n.storeId,n)})}},{key:"internalAddCrudStore",value:function(e){var t,n=this;return e instanceof Ra?t={store:e}:"object"===oe()(e)?(e.stores&&(Array.isArray(e.stores)||(e.stores=[e.stores]),e.stores.forEach(function(t,n){var r=t;"string"==typeof t&&(r={storeId:t}),r.masterStoreInfo=e,e.stores[n]=r})),t=e):t={store:Ra.getStore(e)},n.fillStoreDescriptor(t),(e=t.store).setCrudManager?e.setCrudManager(n):e.crudManager=n,e.pageSize=null,n.overrideCrudStoreLoad&&e.load&&(e.load=e.commit=function(){}),n.bindCrudStoreListeners(e),t}},{key:"addCrudStore",value:function(e,t,n){var r;if(e&&(Array.isArray(e)||(e=[e]),e.length)){var i=this,o=e.map(i.internalAddCrudStore,i);if(void 0===t){var a;(a=i.crudStores).push.apply(a,te()(o))}else{var s,u=t;n&&((n instanceof Ra||"object"!==oe()(n))&&(n=i.getStoreDescriptor(n)),u+=i.crudStores.indexOf(n)),(s=i.crudStores).splice.apply(s,[u,0].concat(te()(o)))}(r=i.orderedCrudStores).push.apply(r,te()(o)),i.updateCrudStoreIndex()}}},{key:"addPrioritizedStore",value:function(e){this.hasCrudStore(e)||this.addCrudStore(e,de.findInsertionIndex(e,this.crudStores,Bp)),this.hasApplySequenceStore(e)||this.addStoreToApplySequence(e,de.findInsertionIndex(e,this.syncApplySequence,zp))}},{key:"hasCrudStore",value:function(e){return this.crudStores.some(function(t){return t===e||t.store===e||t.storeId===e})}},{key:"removeCrudStore",value:function(e){for(var t=this,n=t.crudStores,r=0,i=n.length;r<i;r++){var o=n[r];if(o===e||o.store===e||o.storeId===e){t.unbindCrudStoreListeners(o.store),delete t.crudStoresIndex[o.storeId],n.splice(r,1),t.syncApplySequence&&t.removeStoreFromApplySequence(e);break}}}},{key:"bindCrudStoreListeners",value:function(e){e.on({name:"store",change:"onCrudStoreChange",thisObj:this})}},{key:"unbindCrudStoreListeners",value:function(){this.detachListeners("store")}},{key:"addStoreToApplySequence",value:function(e,t,n){if(e){Array.isArray(e)||(e=[e]);var r=this,i=e.reduce(function(e,t){var n=r.getStoreDescriptor(t);return n&&e.push(n),e},[]);if(void 0===t){var o;(o=r.syncApplySequence).push.apply(o,te()(i))}else{var a,s=t;n&&((n instanceof Ra||"object"!==oe()(n))&&(n=r.getStoreDescriptor(n)),s+=r.syncApplySequence.indexOf(n)),(a=r.syncApplySequence).splice.apply(a,[s,0].concat(te()(i)))}var u=r.syncApplySequence.map(function(e){return e.storeId});r.orderedCrudStores=te()(r.syncApplySequence),r.crudStores.forEach(function(e){u.includes(e.storeId)||r.orderedCrudStores.push(e)})}}},{key:"removeStoreFromApplySequence",value:function(e){var t=this.syncApplySequence.findIndex(function(t){return t===e||t.store===e||t.storeId===e});t>-1&&(this.syncApplySequence.splice(t,1),this.orderedCrudStores.splice(t,1))}},{key:"hasApplySequenceStore",value:function(e){return this.syncApplySequence.some(function(t){return t===e||t.store===e||t.storeId===e})}},{key:"onCrudStoreChange",value:function(){var e=this;e.crudIgnoreUpdates||(e.crudStoreHasChanges()?(e.trigger("hasChanges"),e.autoSync&&(e.autoSyncTimerId||(e.autoSyncTimerId=e.setTimeout(function(){e.autoSyncTimerId=null,e.sync().catch(function(t){if(!e.isValidResponse(t.rawResponse,t.response))throw t})},e.autoSyncTimeout)))):e.trigger("noChanges"))}},{key:"internalOnResponse",value:(u=ro()(to.a.mark(function e(t,n,r,i){var o,a;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((o=this).activeRequests[t]=null,(a=n?o.decode(n):null)&&a.success){e.next=7;break}return o.trigger("requestFail",{requestType:t,response:a,responseText:n,responseOptions:r}),o.trigger(t+"Fail",{response:a,responseOptions:r,responseText:n,options:i}),e.abrupt("return",a);case 7:if(!1===o.trigger("beforeResponseApply",{requestType:t,response:a})||!1===o.trigger("before"+_.capitalizeFirstLetter(t)+"Apply",{response:a,options:i})){e.next=14;break}return o.crudRevision=a.revision,e.next=11,o.applyResponse(t,a,i);case 11:o.trigger("requestDone",{requestType:t,response:a,responseOptions:r}),o.trigger(t,{response:a,responseOptions:r,options:i}),"load"!==t&&o.crudStoreHasChanges()||o.trigger("noChanges");case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}},e,this)})),function(e,t,n,r){return u.apply(this,arguments)})},{key:"internalOnLoad",value:(s=ro()(to.a.mark(function e(t,n,r){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.crudLoaded=!0,e.abrupt("return",this.internalOnResponse("load",t,n,r));case 2:case"end":return e.stop()}},e,this)})),function(e,t,n){return s.apply(this,arguments)})},{key:"internalOnSync",value:(a=ro()(to.a.mark(function e(t,n,r){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.internalOnResponse("sync",t,n,r));case 1:case"end":return e.stop()}},e,this)})),function(e,t,n){return a.apply(this,arguments)})},{key:"suspendChangesTracking",value:function(){this.crudIgnoreUpdates++}},{key:"resumeChangesTracking",value:function(e){this.crudIgnoreUpdates&&!--this.crudIgnoreUpdates&&e&&this.onCrudStoreChange()}},{key:"crudStoreHasChanges",value:function(e){if(e){var t=this.getCrudStore(e);return t&&this.isCrudStoreDirty(t)}return this.crudStores.some(this.isCrudStoreDirty)}},{key:"isCrudStoreDirty",value:function(e){return null!=e.store.changes}},{key:"emitCrudStoreEvents",value:function(e,t){var n,r={action:"read"+t},i=_p(this.crudStores);try{for(i.s();!(n=i.n()).done;){var o=n.value;e.includes(o.storeId)&&o.store.trigger(t,r)}}catch(e){i.e(e)}finally{i.f()}}},{key:"getLoadPackage",value:function(e){var t={type:"load",requestId:this.requestId},n=this.crudStores,r=Object.assign({},e);return t.stores=n.map(function(e){var t=r&&r[e.storeId],n=e.pageSize||e.store&&e.store.pageSize;if(t||n){var i=Object.assign({storeId:e.storeId,page:1},t);return n&&(i.pageSize=n),e.currentPage=i.page,t&&delete r[e.storeId],i}return e.storeId}),Object.assign(t,r),t}},{key:"loadCrudStore",value:function(e,t,n){var r=t&&t.rows;n&&n.append||t.append?e.add(r):e.data=r,e.trigger("load",{source:e,data:r})}},{key:"loadDataToCrudStore",value:function(e,t,n){var r,i=this,o=e.store,a=e.stores,s=e.idField||"id",u=o.tree,c=t&&t.rows;(o.__loading=!0,c)&&(a&&(r=i.getSubStoresData(c,a,s,u)),i.loadCrudStore(o,t,n,e),r&&r.forEach(function(e){i.loadDataToCrudStore(Object.assign({store:o.getById(e.id).get(e.storeDesc.storeId)},e.storeDesc),e.data)}));o.__loading=!1}},{key:"loadCrudManagerData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.suspendChangesTracking(),this.crudStores.forEach(function(r){var i=r.storeId,o=e[i];o&&t.loadDataToCrudStore(r,o,n[i])}),this.resumeChangesTracking()}},{key:"load",value:function(e){var t=this,n=t.getLoadPackage(e);return new Promise(function(r,i){!1!==t.trigger("beforeLoad",{pack:n})?(t.activeRequests.load&&(t.cancelRequest(t.activeRequests.load.desc),t.trigger("loadCanceled",{pack:n})),t.activeRequests.load={options:e,pack:n,resolve:r,reject:i,id:n.requestId,desc:t.sendRequest({data:t.encode(n),type:"load",success:t.onLoadSuccess,failure:t.onLoadFailure,thisObj:t})},t.emitCrudStoreEvents(n.stores,"loadStart"),t.trigger("loadStart",{pack:n})):(t.trigger("loadCanceled",{pack:n}),t.processPromise(i,null,{action:"load",cancelled:!0}))})}},{key:"onLoadSuccess",value:(o=ro()(to.a.mark(function e(t,n){var r,i,o,a;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="",i=this.activeRequests.load,o=i.options,e.next=4,t.text().then(function(e){return r=e}).catch(Vp);case 4:return e.next=6,this.internalOnLoad(r,n,o);case 6:a=e.sent,this.emitCrudStoreEvents(i.pack.stores,"afterRequest"),a&&a.success?i.resolve({response:a,rawResponse:t,responseText:r,options:o}):this.processPromise(i.reject,i.resolve,{action:"load",cancelled:!1,response:a,rawResponse:t,responseText:r,options:o});case 9:case"end":return e.stop()}},e,this)})),function(e,t){return o.apply(this,arguments)})},{key:"onLoadFailure",value:(i=ro()(to.a.mark(function e(t){var n,r,i,o,a,s,u,c=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},r=this.activeRequests.load,i=r.options,o=n.abortController&&n.abortController.signal,a=Boolean(o&&o.aborted)){e.next=12;break}if(s="",!t){e.next=7;break}return e.next=7,t.text().then(function(e){return s=e}).catch(Vp);case 7:return e.next=9,this.internalOnLoad(s,n,i);case 9:u=e.sent,this.emitCrudStoreEvents(r.pack.stores,"afterRequest"),this.processPromise(r.reject,null,{action:"load",cancelled:a,response:u,rawResponse:t,responseText:s,options:i,request:r});case 12:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"getSubStoresData",value:function(e,t,n,r){var i=this;if(e){var o=[];return r?e.forEach(function(e){a(e,t);var r=i.getSubStoresData(e.children,t,n,!0);r&&o.push.apply(o,te()(r))}):e.forEach(function(e){return a(e,t)}),o}function a(e,t){t.forEach(function(t){var r=t.storeId;e[r]&&(o.push({id:e[n],storeDesc:t,data:e[r]}),delete e[r])})}}},{key:"prepareAdded",value:function(e,t){var n=this,r=t.store,i=t.stores,o=r.isTree,a=t.phantomIdField||this.phantomIdField,s=t.phantomParentIdField||this.phantomParentIdField;return e.filter(function(e){return e.isValid}).map(function(e){var t=e.constructor,r=Object.assign(e.persistableData,se()({},a,e.id));if(o){var u=e.parent;u&&!u.isRoot&&u.isPhantom&&(r[s]=u.id)}return n.resetIdsBeforeSync&&It.deletePath(r,t.getFieldDataSource(t.idField)),i&&n.processSubStores(e,r,i),r})}},{key:"prepareUpdated",value:function(e,t){var n=this,r=t.store,i=t.stores,o=r.isTree,a=t.writeAllFields||!1!==t.writeAllFields&&this.writeAllFields,s=t.phantomParentIdField||this.phantomParentIdField;if(t.store.tree){var u=t.store.rootNode;e=e.filter(function(e){return e!==u})}return e.filter(function(e){return e.isValid}).reduce(function(e,t){var r;if(r=a?t.persistableData:t.modificationData,o){var u=t.parent;u&&!u.isRoot&&u.isPhantom&&(r[s]=u.id)}return i&&n.processSubStores(t,r,i),It.isEmpty(r)||e.push(r),e},[])}},{key:"prepareRemoved",value:function(e){return e.map(function(e){var t=e.constructor;return It.setPath({},t.getFieldDataSource(t.idField),e.id)})}},{key:"processSubStores",value:function(e,t,n){var r=this;n.forEach(function(n){var i=n.storeId,o=e.get(i);if(o){var a=r.getCrudStoreChanges(Object.assign({store:o},n));a?t[i]=Object.assign(a,{$store:!0}):delete t[i]}else delete t[i]})}},{key:"getCrudStoreChanges",value:function(e){var t,n=e.store,r=n.added.values,i=n.modified.values,o=n.removed.values;return r.length&&(r=this.prepareAdded(r,e)),i.length&&(i=this.prepareUpdated(i,e)),o.length&&(o=this.prepareRemoved(o)),(r.length||i.length||o.length)&&(t={},r.length&&(t.added=r),i.length&&(t.updated=i),o.length&&(t.removed=o)),t}},{key:"getChangeSetPackage",value:function(){var e=this,t={type:"sync",requestId:this.requestId,revision:this.crudRevision},n=0;return this.crudStores.forEach(function(r){var i=e.getCrudStoreChanges(r);i&&(n++,t[r.storeId]=i)}),n?t:null}},{key:"applyChangesToRecord",value:function(e,t,n){var r,i=this,o=e.constructor,a=o.fieldDataSourceMap,s=o.prototype,u={},c=e.data,l=se()({},i.phantomIdField,!0);n&&n.forEach(function(n){var r=n.storeId;if(Object.prototype.hasOwnProperty.call(t,r)){l[r]=!0;var o=e.get(r);o?i.applyChangesToStore(Object.assign({store:o},n),t[r]):console.log("Can't find store for the response sub-package")}});var f={};for(var d in t)Object.prototype.hasOwnProperty.call(t,d)&&!l[d]&&(f[d]=t[d]);var h=It.pathifyKeys(f);for(var p in h){var v=a[p],g=v?v.name:p,y=o.processField(g,h[p]),m=p in s?e[g]:It.getPath(c,p);It.isEqual(m,y)||(r=!0,u[g]=y)}if(r){for(var k in i.suspendChangesTracking(),u)e[k]=u[k];i.resumeChangesTracking()}e.clearChanges(!0,!1)}},{key:"applyRemovals",value:function(e,t,n){var r=this,i=e.removed,o=e.modelClass,a=n.findByIdFn,s=n.removeRecordFn,u=o.getFieldDataSource(o.idField),c=0;return t.forEach(function(e){var t=e[u],n=!1;if(i.includes(t)&&(i.remove(t),n=!0,c++),!n){var o=a(t);o?(r.suspendChangesTracking(),s(o),i.remove(o),c++,r.resumeChangesTracking()):console.log("Can't find record to remove from the response package")}}),c}},{key:"getApplyChangesToStoreHelpers",value:function(e){return e.tree?{findByPhantomFn:function(t){return e.getById(t)},findByIdFn:function(t){return e.getById(t)},addRecordFn:function(t){return(t.parentId&&e.getById(t.parentId)||e.rootNode).appendChild(t)},removeRecordFn:function(e){return e.remove()}}:{findByPhantomFn:function(t){return e.getById(t)},findByIdFn:function(t){return e.getById(t)},addRecordFn:function(t){return e.add(t)[0]},removeRecordFn:function(t){return e.remove(t)}}}},{key:"applyChangesToStore",value:function(e,t){var n=this,r=e.phantomIdField||n.phantomIdField,i=e.store,o=i.modelClass,a=o.getFieldDataSource(o.idField),s=n.getApplyChangesToStoreHelpers(i),u=s.findByPhantomFn,c=s.findByIdFn,l=s.addRecordFn,f=s.removeRecordFn,d=t.rows,h=t.removed;if(d){var p=e.stores;d.forEach(function(e){var t=e[r],o=It.getPath(e,a),s=null;null!=t?s=u(t):null!=o&&(s=c(o)),s?n.applyChangesToRecord(s,e,p,i):(n.suspendChangesTracking(),s=l(e),n.resumeChangesTracking(),s.clearChanges())})}h&&n.applyRemovals(i,h,{findByIdFn:c,removeRecordFn:f})&&i.trigger("dataChanged",{source:i})}},{key:"applySyncResponse",value:function(e){var t=this.orderedCrudStores;this.applyingSyncResponse=!0;var n,r=_p(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=e[i.storeId];o&&this.applyChangesToStore(i,o)}}catch(e){r.e(e)}finally{r.f()}this.applyingSyncResponse=!1}},{key:"applyLoadResponse",value:function(e,t){this.applyingLoadResponse=!0,this.loadCrudManagerData(e,t),this.applyingLoadResponse=!1}},{key:"applyResponse",value:(r=ro()(to.a.mark(function e(t,n,r){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.trackResponseType&&(t=n.type||t),e.t0=t,e.next="load"===e.t0?4:"sync"===e.t0?6:8;break;case 4:return this.applyLoadResponse(n,r),e.abrupt("break",8);case 6:return this.applySyncResponse(n),e.abrupt("break",8);case 8:case"end":return e.stop()}},e,this)})),function(e,t,n){return r.apply(this,arguments)})},{key:"sync",value:function(){var e=this,t=this;return t.activeRequests.sync?(t.trigger("syncDelayed"),t.activeSyncPromise=t.activeSyncPromise.then(function(){return t.sync()},function(){return t.sync()})):t.activeSyncPromise=new Promise(function(n,r){var i=t.getChangeSetPackage();i?!1!==t.trigger("beforeSync",{pack:i})?(t.trigger("syncStart",{pack:i}),t.activeRequests.sync={pack:i,resolve:n,reject:r,id:i.requestId,desc:t.sendRequest({data:t.encode(i),type:"sync",success:t.onSyncSuccess,failure:t.onSyncFailure,thisObj:t})}):(t.trigger("syncCanceled",{pack:i}),e.processPromise(r,null,{action:"sync",cancelled:!0})):n(null)})}},{key:"onSyncSuccess",value:(n=ro()(to.a.mark(function e(t,n){var r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="",e.next=3,t.text().then(function(e){return r=e}).catch(Vp);case 3:return i=this.activeRequests.sync,e.next=6,this.internalOnSync(r,n);case 6:(o=e.sent)&&o.success?i.resolve({response:o,rawResponse:t,responseText:r,request:i}):this.processPromise(i.reject,i.resolve,{action:"sync",cancelled:!1,response:o,rawResponse:t,responseText:r,request:i});case 8:case"end":return e.stop()}},e,this)})),function(e,t){return n.apply(this,arguments)})},{key:"onSyncFailure",value:(t=ro()(to.a.mark(function e(t){var n,r,i,o,a,s,u,c=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},r=this.activeRequests.sync,i=r.options,o=n.abortController&&n.abortController.signal,a=Boolean(o&&o.aborted)){e.next=11;break}if(s="",!t){e.next=7;break}return e.next=7,t.text().then(function(e){return s=e}).catch(Vp);case 7:return e.next=9,this.internalOnSync(s,n,i);case 9:u=e.sent,this.processPromise(r.reject,null,{action:"sync",cancelled:a,response:u,rawResponse:t,responseText:s,options:i,request:r});case 11:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"commitCrudStores",value:function(){this.crudStores.forEach(function(e){return e.store.commit()})}},{key:"rejectCrudStores",value:function(){this.orderedCrudStores.forEach(function(e){return e.store.clearChanges()})}},{key:"doDestroy",value:function(){var e=this;for(e.activeRequests.load&&e.cancelRequest(e.activeRequests.load.desc),e.activeRequests.sync&&e.cancelRequest(e.activeRequests.sync.desc);e.crudStores.length>0;)e.removeCrudStore(e.crudStores[0]);clearTimeout(e.autoSyncTimerId),e.destroyed=!0,ce()(Q()(l.prototype),"doDestroy",this)&&ce()(Q()(l.prototype),"doDestroy",this).call(this)}},{key:"isValidResponse",value:function(e,t){return e&&(e.ok&&t||[500,404].includes(e.status))}},{key:"processPromise",value:function(e,t,n){var r=n.cancelled,i=n.action,o=n.rawResponse,a=n.response;if(t&&this.isValidResponse(o,a))t(n);else{var s="".concat(_.capitalizeFirstLetter(i)," ").concat(r?"canceled":"failed"),u=new Error(s);Object.assign(u,n),e(u)}}},{key:"isCrudManager",get:function(){return!0}},{key:"crudStores",set:function(e){this._crudStores=[],this.addCrudStore(e);var t,n=_p(this._crudStores);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.loadPriority=r.syncPriority=0}}catch(e){n.e(e)}finally{n.f()}},get:function(){return this._crudStores}},{key:"orderedCrudStores",get:function(){return this._orderedCrudStores},set:function(e){return this._orderedCrudStores=e}},{key:"syncApplySequence",set:function(e){this._syncApplySequence=[],this.addStoreToApplySequence(e)},get:function(){return this._syncApplySequence}},{key:"isCrudManagerLoading",get:function(){return Boolean(this.activeRequests.load||this.applyingLoadResponse)}},{key:"isLoadingOrSyncing",get:function(){return Boolean(this.activeRequests.load||this.activeRequests.sync)}},{key:"requestId",get:function(){return Number.parseInt("".concat(Date.now()).concat(this._requestId++))}}],[{key:"defaultConfig",get:function(){return{crudRevision:null,crudStores:[],storeIdProperty:"storeId",crudFilterParam:"filter",transport:{},trackResponseType:!1,phantomIdField:"$PhantomId",phantomParentIdField:"$PhantomParentId",autoLoad:!1,autoSyncTimeout:100,autoSync:!1,resetIdsBeforeSync:!0,syncApplySequence:[],orderedCrudStores:[],writeAllFields:!1,crudIgnoreUpdates:0,crudLoaded:!1,createMissingRecords:!1,autoSyncTimerId:null,applyingLoadResponse:!1,applyingSyncResponse:!1,callOnFunctions:!0}}}]),l}(yr(e))};function $p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Gp=function(e){X()(n,e);var t=$p(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.stores&&(e.crudStores=e.stores,delete e.stores),ce()(Q()(n.prototype),"construct",this).call(this,e)}},{key:"commit",value:function(){this.commitCrudStores()}},{key:"reject",value:function(){this.rejectCrudStores()}},{key:"addStore",value:function(){return this.addCrudStore.apply(this,arguments)}},{key:"removeStore",value:function(){return this.removeCrudStore.apply(this,arguments)}},{key:"getStore",value:function(){return this.getCrudStore.apply(this,arguments)}},{key:"hasChanges",value:function(){return this.crudStoreHasChanges.apply(this,arguments)}},{key:"loadData",value:function(){return this.loadCrudManagerData.apply(this,arguments)}},{key:"revision",get:function(){return this.crudRevision},set:function(e){this.crudRevision=e}},{key:"stores",set:function(e){e!==this.crudStores&&(this.crudStores=e)},get:function(){return this.crudStores}},{key:"isLoading",get:function(){return this.isCrudManagerLoading}}],[{key:"defaultConfig",get:function(){return Object.assign({},this.crudManagerDefaultConfig,{overrideCrudStoreLoad:!0,stores:null})}}]),n}(Wp(me(U)));function Yp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Gp._$name="AbstractCrudManager";var Up=function(e){return function(e){X()(n,e);var t=Yp(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"afterConstruct",value:function(){var e=this;e.crudManager&&e.loadMask&&e.crudManager.isCrudManagerLoading&&e.maskBody(e.loadMask)}},{key:"bindCrudManager",value:function(e){this.detachListeners("crudManager"),e&&e.on({name:"crudManager",loadStart:"onCrudManagerLoadStart",load:"onCrudManagerLoad",loadCanceled:"onCrudManagerLoadCanceled",syncStart:"onCrudManagerSyncStart",sync:"onCrudManagerSync",syncCanceled:"onCrudManagerSyncCanceled",requestFail:"onCrudManagerRequestFail",thisObj:this})}},{key:"onCrudManagerLoadStart",value:function(){this.loadMask&&this.maskBody(this.loadMask),this.toggleEmptyText()}},{key:"onCrudManagerSyncStart",value:function(){this.syncMask&&this.maskBody(this.syncMask)}},{key:"onCrudManagerRequestFinalize",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=this;r.activeMask&&(e?(r.unmaskBody(),r.toggleEmptyText()):(r.activeMask.icon=r.loadMaskErrorIcon,r.activeMask.text='<div class="b-grid-load-failure">\n                <div class="b-grid-load-fail">'.concat(r.L("L{GridBase.".concat(t,"FailedMessage}")),"</div>\n                ").concat(n&&n.message?'<div class="b-grid-load-fail">'.concat(r.L("L{serverResponseLabel}")," ").concat(n.message,"</div>"):"","\n            </div>"),r.loadmaskHideTimer=r.setTimeout(function(){r.onCrudManagerRequestFinalize()},r.loadMaskHideTimeout)))}},{key:"onCrudManagerLoadCanceled",value:function(){this.onCrudManagerRequestFinalize()}},{key:"onCrudManagerSyncCanceled",value:function(){this.onCrudManagerRequestFinalize()}},{key:"onCrudManagerLoad",value:function(){this.onCrudManagerRequestFinalize()}},{key:"onCrudManagerSync",value:function(){this.onCrudManagerRequestFinalize()}},{key:"onCrudManagerRequestFail",value:function(e){var t=e.requestType,n=e.response;this.onCrudManagerRequestFinalize(!1,t,n)}},{key:"crudManager",get:function(){return this._crudManager},set:function(e){var t=this;e&&e.isCrudManager?t._crudManager=e:e&&t.crudManagerClass?e=new t.crudManagerClass(Object.assign({scheduler:t},e)):t._crudManager=null,t.bindCrudManager(t._crudManager)}}],[{key:"$name",get:function(){return"CrudManagerView"}},{key:"defaultConfig",get:function(){return{crudManagerClass:null,crudManager:null}}}]),n}(e)};function qp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Xp=function(e){X()(n,e);var t=qp(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onEventStoreBeforeSync",value:function(e){var t=e.changes;return this.removeNonPersistableRecordsToCreate(t),this.shallContinueSync(t)}},{key:"onResourceStoreBeforeSync",value:function(e){var t=e.changes;return this.removeNonPersistableRecordsToCreate(t),this.shallContinueSync(t)}},{key:"onAssignmentStoreBeforeSync",value:function(e){var t=e.changes;return this.removeNonPersistableRecordsToCreate(t),this.shallContinueSync(t)}},{key:"onDependencyStoreBeforeSync",value:function(e){var t=e.changes;return this.removeNonPersistableRecordsToCreate(t),this.shallContinueSync(t)}},{key:"removeNonPersistableRecordsToCreate",value:function(e){var t,n,r=e.added||[];for(n=r.length-1;n>=0;--n)(t=r[n]).isPersistable||r.splice(r.indexOf(t),1);0===r.length&&(e.added.length=0)}},{key:"shallContinueSync",value:function(e){return Boolean(e.added&&e.added.length>0||e.modified&&e.modified.length>0||e.removed&&e.removed.length>0)}},{key:"eventStore",set:function(e){var t=this;t.eventStoreDetacher&&t.eventStoreDetacher(),t._eventStore=e,e&&e.autoCommit&&(t.eventStoreDetacher=e.on({beforecommit:t.onEventStoreBeforeSync,thisObj:t,detachable:!0,prio:100}))},get:function(){return this._eventStore}},{key:"resourceStore",set:function(e){var t=this;t.resourceStoreDetacher&&t.resourceStoreDetacher(),t._resourceStore=e,e&&e.autoCommit&&(t.resourceStoreDetacher=e.on({beforecommit:t.onResourceStoreBeforeSync,thisObj:t,detachable:!0,prio:100}))},get:function(){return this._resourceStore}},{key:"assignmentStore",set:function(e){var t=this;t.assignmentStoreDetacher&&t.assignmentStoreDetacher(),t._assignmentStore=e,e&&e.autoSync&&(t.assignmentStoreDetacher=e.on({beforecommit:t.onAssignmentStoreBeforeSync,thisObj:t,detachable:!0,prio:100}))},get:function(){return this._assignmentStore}},{key:"dependencyStore",set:function(e){var t=this;t.dependencyStoreDetacher&&t.dependencyStoreDetacher(),t._dependencyStore=e,e&&e.autoSync&&(t.dependencyStoreDetacher=e.on({beforecommit:t.onDependencyStoreBeforeSync,thisObj:t,detachable:!0,prio:100}))},get:function(){return this._dependencyStore}}]),n}(U);function Kp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Xp._$name="ModelPersistencyManager";var Zp=function(e){X()(n,e);var t=Kp(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getResource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.resourceStore;return e&&e.getById(this.resourceId)}},{key:"fullCopy",value:function(){throw new Error("Not implemented")}},{key:"eventResourceKey",get:function(){return"".concat(this.event?this.eventId:this.data.eventId||this.internalId,"-").concat(this.resource?this.resourceId:this.data.resourceId||this.internalId)}},{key:"assignmentStore",get:function(){return this.stores&&this.stores[0]}},{key:"eventStore",get:function(){var e=this.assignmentStore;return e&&e.eventStore}},{key:"resourceStore",get:function(){var e=this.eventStore;return e&&e.resourceStore}},{key:"eventName",get:function(){return this.event&&this.event.name}},{key:"resourceName",get:function(){return this.resource&&this.resource.name}},{key:"isAssignment",get:function(){return!0}},{key:"isPersistable",get:function(){var e,t=this.event,n=this.resource,r=this.stores,i=this.unjoinedStores,o=r[0];return e=o?this.isValid&&(o.crudManager||!t.hasGeneratedId&&!n.hasGeneratedId):i[0],Boolean(e)}},{key:"isValid",get:function(){return null!=this.resource&&null!=this.event}},{key:"eventResourceCompositeKey",get:function(){return n.makeAssignmentEventResourceCompositeKey(this.eventId,this.resourceId)}}],[{key:"makeAssignmentEventResourceCompositeKey",value:function(e,t){return"event(".concat(e,")-resource(").concat(t,")")}},{key:"fields",get:function(){return[{name:"resourceId"},{name:"eventId"}]}},{key:"relationConfig",get:function(){return[{relationName:"resource",fieldName:"resourceId",store:"resourceStore",collectionName:"assignments"},{relationName:"event",fieldName:"eventId",store:"eventStore",collectionName:"assignments"}]}}]),n}(Yo);function Jp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zp.exposeProperties(),Zp._$name="AssignmentModel";var Qp=function(e){return function(e){X()(n,e);var t=Jp(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).call(this,e),Object.assign(this,{isEventStore:!0,autoTree:!0,modelPersistencyManager:this.createModelPersistencyManager()})}},{key:"createModelPersistencyManager",value:function(){return new Xp({eventStore:this,resourceStore:this.resourceStore,assignmentStore:this.assignmentStore,dependencyStore:this.dependencyStore})}},{key:"getEventsInTimeSpan",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[];return this.forEachScheduledEvent(function(o,a,s){(n&&xt.intersectSpans(a,s,e,t)||!n&&a-e>=0&&t-s>=0)&&(!r||o.resources.length>0)&&i.push(o)}),i}},{key:"getEventsByStartDate",value:function(e){var t=[];return this.forEachScheduledEvent(function(n,r,i){xt.isEqual(r,e,"day")&&t.push(n)}),t}},{key:"forEachScheduledEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;this.forEach(function(n){var r=n.startDate,i=n.endDate;if(r&&i)return e.call(t,n,r,i)})}},{key:"getTotalTimeSpan",value:function(){var e=new Date(9999,0,1),t=new Date(0);return this.forEach(function(n){n.startDate&&(e=xt.min(n.startDate,e)),n.endDate&&(t=xt.max(n.endDate,t))}),e=e<new Date(9999,0,1)?e:null,t=t>new Date(0)?t:null,this.lastTotalTimeSpan={startDate:e||null,endDate:t||e||null}}},{key:"isEventPersistable",value:function(e){var t=!0;if(!this.assignmentStore){var n=e.stores[0],r=n&&n.crudManager;t=!n||(r||!e.resource||!e.resource.hasGeneratedId)}return t}},{key:"isDateRangeAvailable",value:function(e,t,n,r){if(n instanceof Zp){var i=n.event,o=i.resources,a=new Set(r.events);return o.forEach(function(e){e.events.forEach(function(e){return a.add(e)})}),a.delete(i),!Array.from(a).some(function(n){return xt.intersectSpans(e,t,n.startDate,n.endDate)})}return!this.getEventsForResource(r).some(function(r){return!(n===r||!xt.intersectSpans(e,t,r.startDate,r.endDate))})}},{key:"filterEventsForResource",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this;return e.getEvents(this).filter(t.bind(n))}},{key:"getResourcesForEvent",value:function(e){return this.assignmentStore?this.assignmentStore.getResourcesForEvent(e):(e=this.getById(e)).resource&&!e.resource.placeHolder?[e.resource]:[]}},{key:"getEventsForResource",value:function(e){if(this.assignmentStore)return this.assignmentStore.getEventsForResource(e);e=Yo.asId(e);var t=this.relationCache.resource&&this.relationCache.resource[e];return t?t.slice():[]}},{key:"getAssignmentsForEvent",value:function(e){return this.assignmentStore&&this.assignmentStore.getAssignmentsForEvent(e)||[]}},{key:"getAssignmentsForResource",value:function(e){return this.assignmentStore&&this.assignmentStore.getAssignmentsForResource(e)||[]}},{key:"assignEventToResource",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.assignmentStore?this.assignmentStore.assignEventToResource(e,t,void 0,n):(e=this.getById(e),Array.isArray(t)&&(t=t[0]),e&&(e.resourceId=Yo.asId(t)))}},{key:"unassignEventFromResource",value:function(e,t){this.assignmentStore?this.assignmentStore.unassignEventFromResource(e,t):(e=this.getById(e),t=Yo.asId(t),e&&e.resourceId==t&&(e.resourceId=null))}},{key:"reassignEventFromResourceToResource",value:function(e,t,n){var r=this.assignmentStore,i=Yo.asId(n),o=Yo.asId(t);if(r){var a=r.getAssignmentForEventAndResource(e,t);a?a.resourceId=i:r.assignEventToResource(e,n)}else(e=this.getById(e)).resourceId==o&&(e.resourceId=i)}},{key:"isEventAssignedToResource",value:function(e,t){return this.assignmentStore?this.assignmentStore.isEventAssignedToResource(e,t):(e=this.getById(e),t=Yo.asId(t),e&&e.resourceId==t||!1)}},{key:"removeAssignmentsForEvent",value:function(e){this.assignmentStore?this.assignmentStore.removeAssignmentsForEvent(e):(e=this.getById(e))&&(e.resourceId=null)}},{key:"removeAssignmentsForResource",value:function(e){var t=this.assignmentStore,n=this.resourceStore;t?t.removeAssignmentsForResource(e):n?e=n.getById(e):(e=Yo.asId(e),this.forEach(function(t){return t.resourceId==e&&(t.resourceId=null)}))}},{key:"resourceStore",get:function(){return this._resourceStore},set:function(e){var t=this,n=t._resourceStore;n&&(n.eventStore=null,t.modelPersistencyManager&&(t.modelPersistencyManager.resourceStore=null)),t._resourceStore=e||null,e&&(t.modelPersistencyManager&&(t.modelPersistencyManager.resourceStore=t._resourceStore),e.eventStore=t),t.isConfiguring||t.initRelations(!0),(n||e)&&n!==e&&t.trigger("resourceStoreChange",{newResourceStore:e,oldResourceStore:n})}},{key:"assignmentStore",get:function(){return this._assignmentStore},set:function(e){var t=this,n=t._assignmentStore;n&&(n.eventStore=null,t.modelPersistencyManager&&(t.modelPersistencyManager.assignmentStore=null)),t._assignmentStore=e||null,e&&(t.modelPersistencyManager&&(t.modelPersistencyManager.assignmentStore=t._assignmentStore),e.eventStore=t),t.isConfiguring||t.initRelations(!0),(n||e)&&n!==e&&t.trigger("assignmentStoreChange",{newAssignmentStore:e,oldAssignmentStore:n})}},{key:"dependencyStore",get:function(){return this._dependencyStore},set:function(e){var t=this,n=t._dependencyStore;n&&(n.eventStore=null,t.modelPersistencyManager&&(t.modelPersistencyManager.dependencyStore=null)),t._dependencyStore=e||null,t._dependencyStore&&(t.modelPersistencyManager&&(t.modelPersistencyManager.dependencyStore=t._dependencyStore),t._dependencyStore.eventStore=t),(n||e)&&n!==e&&t.trigger("dependencyStoreChange",{newDependencyStore:e,oldDependencyStore:n})}}]),n}(e||U)};function ev(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var tv=function(e){X()(n,e);var t=ev(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"cancel",value:function(){var e=this.delayedCalls;if(e){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n.length?n:Object.keys(e),o=i.length-1;o>=0;o--){var a=i[o],s=e[a];s&&s.timer&&(this.clearTimeout(s.timer),s.timer=null)}}}},{key:"invoke",value:function(e){var t=e.id,n=e.scope,r=e.beforeFn,i=_.capitalizeFirstLetter(t);this.trigger("delayed".concat(i,"Start"),e),r&&r.call(n,e);for(var o,a=e.afterFn,s=e.fn,u=e.entries,c=[];o=u.shift();)c.push(s.call.apply(s,[n,e].concat(te()(o))));return a&&a.call(n,e),this.trigger("delayed".concat(i,"End"),e),e.delete(),c}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,r){var i=e;i.delayedCalls=i.delayedCalls||{};var o=t.id,a=t.args,s=t.timeout;i.delayedCalls[o]||(i.delayedCalls[o]=Object.assign({delete:function(){return delete i.delayedCalls[o]},entries:[],scope:e,id:o},t),delete i.delayedCalls[o].args);var u=i.delayedCalls[o];i.cancel(o),u.entries.push(a||[]),u.timer=i.setTimeout(function(){u.results=i.invoke(u),n(u)},s||i.delayedCallTimeout)})}},{key:"delayedCallTimeout",get:function(){return isNaN(this._delayedCallTimeout)?100:this._delayedCallTimeout},set:function(e){this._delayedCallTimeout=e}}]),n}(yr(me()));function nv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}tv._$name="DelayedCallsManager";var rv=function(e){X()(n,e);var t=nv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"getNthDayInPeriod",value:function(e,t,n,r){var i,o,a;if(r){r>0?(o=1,a=e):(o=-1,a=t);var s=n-a.getDay();o*s<0&&(r+=o),((i=new Date(a.getTime()+6048e5*(r-o)+864e5*s))<e||i>t)&&(i=null)}return i}},{key:"buildDate",value:function(e,t,n){var r=new Date(e,t,n);if(r.getFullYear()==e&&r.getMonth()==t&&r.getDate()==n)return r}},{key:"isValidPosition",value:function(e){return Boolean(e)}},{key:"forEachDateAtPositions",value:function(e,t,n,r){for(var i=e.length,o={},a=0;a<t.length;a++){var s=t[a];if(this.isValidPosition(s)){var u=s>0?e[s-1]:e[i+s];if(u&&!o[u.getTime()]&&(o[u.getTime()]=!0,!1===n.call(r,u)))return!1}}}},{key:"frequency",get:function(){return"NONE"}},{key:"MAX_OCCURRENCES_COUNT",get:function(){return 1e6}}]),n}(U);function iv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}rv._$name="AbstractRecurrenceIterator";var ov=function(e){X()(n,e);var t=iv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"forEachDate",value:function(e){var t=e.recurrence,n=e.fn,r=e.scope,i=void 0===r?this:r,o=t.timeSpan,a=t.endDate,s=t.interval,u=o.startDate,c=e.startDate||u,l=e.endDate||a,f=t.count,d=0;a&&l&&l>a&&(l=a),u>c&&(c=u);var h=c-u,p=864e5*s,v=Math.floor(h/p);l||f||(f=this.MAX_OCCURRENCES_COUNT);for(var g=xt.add(u,v,"day");(!l||g<=l)&&(d++,!(g>=c&&(l&&g>l||!1===n.call(i,g,d)||f&&d>=f)));)g=xt.add(g,s,"day")}},{key:"frequency",get:function(){return"DAILY"}}]),n}(rv);function av(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ov._$name="DailyRecurrenceIterator";var sv=/^([+-]?[0-9])?(SU|MO|TU|WE|TH|FR|SA)$/,uv=["SU","MO","TU","WE","TH","FR","SA"],cv=function(e){X()(n,e);var t=av(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"decodeDay",value:function(e){var t,n;return(t=sv.exec(e))&&(n=[uv.indexOf(t[2])],t[1]&&(t[1]=parseInt(t[1],10),n.push(t[1]))),n}},{key:"encodeDay",value:function(e){var t;if(Array.isArray(e)){var n=e,r=re()(n,2);e=r[0],t=r[1]}return(t?t.toString():"")+uv[e]}},{key:"decode",value:function(e){var t,n=[];if(e)for(var r=0;r<e.length;r++)(t=this.decodeDay(e[r]))&&n.push(t);return n}},{key:"encode",value:function(e){var t,n=[];if(e)for(var r=0;r<e.length;r++)(t=this.encodeDay(e[r]))&&n.push(t);return n}}]),n}(U);function lv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}cv._$name="RecurrenceDayRuleEncoder";var fv=function(e){X()(n,e);var t=lv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"forEachDate",value:function(e){var t,n,r=e.fn,i=e.recurrence,o=e.scope,a=void 0===o?this:o,s=i.timeSpan,u=i.interval,c=i.days,l=i.endDate,f=s.startDate,d=0,h=e.startDate||f,p=e.endDate||l,v=i.count,g=cv.decode(c);for(l&&p&&p>l&&(p=l),g&&g.length?g.sort(function(e,t){return e[0]-t[0]}):g=[[f.getDay()]],f>h&&(h=f),t=xt.getNext(v?f:h,"week",0,0),p||v||(v=this.MAX_OCCURRENCES_COUNT);!p||t<=p;){for(var y=0;y<g.length;y++)if((n=xt.copyTimeValues(xt.add(t,g[y][0],"day"),f))>=f&&(d++,n>=h&&(p&&n>p||!1===r.call(a,n,d)||v&&d>=v)))return;t=xt.getNext(t,"week",u,0)}}},{key:"frequency",get:function(){return"WEEKLY"}}]),n}(rv);function dv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}fv._$name="WeeklyRecurrenceIterator";var hv=function(e){X()(n,e);var t=dv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"getNthDayOfMonth",value:function(e,t){var n=xt.daysInMonth(e),r=null;return t&&Math.abs(t)<=n&&(r=new Date(e.getFullYear(),e.getMonth(),t<0?n+t+1:t)),r}},{key:"isValidPosition",value:function(e){return e&&Math.abs(e)>0&&Math.abs(e)<=31}},{key:"forEachDate",value:function(e){var t,n,r,i,o,a,s=this,u=e.fn,c=e.recurrence,l=e.scope,f=void 0===l?s:l,d=c.timeSpan,h=c.interval,p=c.days,v=c.endDate,g=c.count,y=c.positions,m=d.startDate,k=cv.decode(p),b=y&&y.length,w={},S=e.startDate||m,D=e.endDate||v,R=c.monthDays,C=0;for(v&&D&&D>v&&(D=v),m>S&&(S=m),n=xt.startOf(g?m:S,"month"),r=new Date(xt.getNext(n,"month",1)-1),R&&R.length||k&&k.length||(R=[m.getDate()]),k&&k.length&&k.forEach(function(e){e[1]&&((t=t||{})[e[0]]=e[1])});(!D||D>=n)&&(!g||C<g);){if(i=[],k&&k.length){if(k.forEach(function(e){var t=e[0],u=1,c=53;for(e[1]&&(u=c=e[1]),a=u;a<=c;a++)(o=s.getNthDayInPeriod(n,r,t,a))&&(o=xt.copyTimeValues(o,m),w[o.getTime()]||(w[o.getTime()]=!0,i.push(o)))}),i.sort(function(e,t){return e-t}),!b)for(a=0;a<i.length;a++)if((o=i[a])>=m&&(C++,o>=S&&(D&&o>D||!1===u.call(f,o,C)||g&&C>=g)))return!1}else{var x=[];for(a=0;a<R.length;a++)(o=s.getNthDayOfMonth(n,R[a]))&&!w[o.getTime()]&&(w[o.getTime()]=!0,x.push(o));for(x.sort(function(e,t){return e-t}),a=0;a<x.length;a++)if(o=xt.copyTimeValues(x[a],m),b)i.push(o);else if(o>=m&&(C++,o>=S&&(D&&o>D||!1===u.call(f,o,C)||g&&C>=g)))return}b&&i.length&&s.forEachDateAtPositions(i,y,function(e){if(e>=m&&(C++,e>=S&&(!D||e<=D)&&(!1===u.call(f,e,C)||g&&C>=g)))return!1}),n=xt.getNext(n,"month",h),r=new Date(xt.getNext(n,"month",1)-1)}}},{key:"frequency",get:function(){return"MONTHLY"}}]),n}(rv);function pv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}hv._$name="MonthlyRecurrenceIterator";var vv=function(e){X()(n,e);var t=pv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"forEachDate",value:function(e){var t,n,r,i,o,a,s=this,u=e.fn,c=e.recurrence,l=e.scope,f=void 0===l?s:l,d=c.timeSpan,h=c.interval,p=c.days,v=c.count,g=c.positions,y=c.endDate,m=d.startDate,k=cv.decode(p),b=g&&g.length,w={},S=e.startDate||m,D=e.endDate||y,R=c.months,C=0;for(y&&D&&D>y&&(D=y),m>S&&(S=m),i=xt.startOf(v?m:S,"year"),o=new Date(xt.getNext(i,"year",1)-1),R&&R.sort(function(e,t){return e-t}),R&&R.length||k&&k.length||(R=[m.getMonth()+1]),k&&k.length&&k.forEach(function(e){e[1]&&((a=a||{})[e[0]]=e[1])});(!D||D>=i)&&(!v||C<v);){if(r=[],k&&k.length){if(k.forEach(function(e){var a=e[0],u=1,c=53;for(e[1]&&(u=c=e[1]),t=u;t<=c;t++)(n=s.getNthDayInPeriod(i,o,a,t))&&(n=xt.copyTimeValues(n,m),w[n.getTime()]||(w[n.getTime()]=!0,r.push(n)))}),r.sort(function(e,t){return e-t}),!b)for(t=0;t<r.length;t++)if((n=r[t])>=m&&(C++,n>=S&&(D&&n>D||!1===u.call(f,n,C)||v&&C>=v)))return}else for(t=0;t<R.length;t++)if((n=s.buildDate(i.getFullYear(),R[t]-1,m.getDate()))&&(n=xt.copyTimeValues(n,m),!w[n.getTime()]))if(w[n.getTime()]=!0,b)r.push(n);else if(n>=m&&(C++,n>=S&&(D&&n>D||!1===u.call(f,n,C)||v&&C>=v)))return;b&&r.length&&s.forEachDateAtPositions(r,g,function(e){if(e>=m&&(C++,e>=S&&(!D||e<=D)&&(!1===u.call(f,e,C)||v&&C>=v)))return!1}),i=xt.getNext(i,"year",h),o=new Date(xt.getNext(i,"year",1)-1)}}},{key:"frequency",get:function(){return"YEARLY"}}]),n}(rv);function gv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}vv._$name="YearlyRecurrenceIterator";function yv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function mv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var kv=function(e){X()(n,e);var t=mv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"afterConstruct",value:function(){ce()(Q()(n.prototype),"afterConstruct",this).call(this),this.normalize()}},{key:"normalize",value:function(){var e=this,t=e.startDate,n=e.endDate,r=e.duration,i=e.durationUnit,o=null!=r;t&&n&&!o?e.setData("duration",xt.diff(t,n,i,!0)):t&&!n&&o?e.setData("endDate",xt.add(t,r,i)):!t&&n&&o&&e.setData("startDate",xt.add(n,-r,i)),this.clearCachedValues()}},{key:"setDuration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.durationUnit,n={duration:e=parseFloat(e),durationUnit:t};this.startDate?n.endDate=xt.add(this.startDate,e,t):this.endDate&&(n.startDate=xt.add(this.endDate,-e,t)),this.set(n)}},{key:"setStartDate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r={startDate:e};if(e){var i;if(t)i=null!=n.duration;else if(n.endDate){if(r.duration=xt.diff(e,n.endDate,n.durationUnit,!0),r.duration<0)throw new Error("Negative duration")}else i=null!=this.duration;i&&(r.endDate=xt.add(e,n.duration,n.durationUnit))}else r.duration=null;n.set(r)}},{key:"setEndDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r={endDate:e};if(e){var i;if(!0===t)i=null!=n.duration;else if(n.startDate){if(r.duration=xt.diff(n.startDate,e,n.durationUnit,!0),r.duration<0)throw new Error("Negative duration")}else i=null!=this.duration;i&&(r.startDate=xt.add(e,-n.duration,n.durationUnit))}n.set(r)}},{key:"setStartEndDate",value:function(e,t){this.set({startDate:e,endDate:t})}},{key:"clearCachedValues",value:function(){this._startDateMS=null,this._endDateMS=null,this._isMilestone=null}},{key:"inSetNormalize",value:function(e){if("string"!=typeof e){var t=e.startDate,n=e.endDate,r=e.duration,i=e.durationUnit;return"string"==typeof t&&(t=this.getFieldDefinition("startDate").convert(t)),"string"==typeof n&&(n=this.getFieldDefinition("endDate").convert(n)),"duration"in e?(t&&!n&&(n=xt.add(t,r,i||this.durationUnit,!0,!0)),!t&&n&&(t=xt.add(n,-r,i||this.durationUnit,!0,!0))):t&&n&&(r=xt.diff(t,n,i||this.durationUnit,!0)),t&&(e.startDate=t),n&&(e.endDate=n),null!=r&&(e.duration=r),e}}},{key:"inSet",value:function(e,t,r,i){return this.clearCachedValues(),e=this.inSetNormalize(e)||e,ce()(Q()(n.prototype),"inSet",this).call(this,e,t,r,i)}},{key:"beginBatch",value:function(){this.clearCachedValues(),ce()(Q()(n.prototype),"beginBatch",this).call(this)}},{key:"forEachDate",value:function(e,t){return this.dates.forEach(e.bind(t))}},{key:"shift",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.durationUnit;if("string"==typeof e){var n=e;e=t,t=n}this.setStartDate(xt.add(this.startDate,e,t,!0),!0)}},{key:"fullCopy",value:function(){return this.copy.apply(this,arguments)}},{key:"intersects",value:function(e){return this.intersectsRange(e.startDate,e.endDate)}},{key:"intersectsRange",value:function(e,t){var n=this.startDate,r=this.endDate;return n&&r&&xt.intersectSpans(n,r,e,t)}},{key:"split",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=this,n=this.copy(),r=t.firstStore,i=r&&r.assignmentStore,o=t.duration*e,a=t.duration-o;if(e<=0||e>=1)throw new Error("Split point must be > 0 and < 1");return t.duration=o,n.startDate=t.endDate,n.duration=a,r&&r.add(n),i&&i.add(t.assignments.map(function(e){var t=Object.assign({},e.data,{eventId:n.id});return delete t.id,t})),n}},{key:"cls",get:function(){return this._cls||(this._cls=new Ft(ce()(Q()(n.prototype),"get",this).call(this,"cls"))),this._cls},set:function(e){var t=this;t._cls?t._cls.value=e:t._cls=new Ft(e),t.set("cls",t._cls.value)}},{key:"startDate",get:function(){return this.get("startDate")},set:function(e){this.setStartDate(e)}},{key:"endDate",get:function(){return this.get("endDate")},set:function(e){this.setEndDate(e)}},{key:"duration",get:function(){return this.get("duration")},set:function(e){this.setDuration(e,this.durationUnit)}},{key:"durationUnit",get:function(){return this.get("durationUnit")}},{key:"fullDuration",get:function(){return new Bs({unit:this.durationUnit,magnitude:this.duration})},set:function(e){"string"==typeof e&&(e=xt.parseDuration(e,!0,this.durationUnit)),this.setDuration(e.magnitude,e.unit)}},{key:"dates",get:function(){for(var e=[],t=xt.startOf(this.startDate,"day"),n=this.endDate,r=t;r<n;r=xt.add(r,1,"day"))e.push(r);return e}},{key:"durationMS",get:function(){return this.endDate&&this.startDate?this.endDateMS-this.startDateMS:xt.asMilliseconds(this.duration||0,this.durationUnit)}},{key:"endDateMS",get:function(){var e=this;return null==e._endDateMS&&(e._endDateMS=e.endDate&&e.endDate.getTime()),e._endDateMS}},{key:"startDateMS",get:function(){var e=this;return null==e._startDateMS&&(e._startDateMS=e.startDate&&e.startDate.getTime()),e._startDateMS}},{key:"isMilestone",get:function(){return null==this._isMilestone&&(this._isMilestone=0===this.durationMS),this._isMilestone}},{key:"isScheduled",get:function(){return Boolean(this.startDate&&this.endDate&&this.hasValidDates)}},{key:"isValid",get:function(){var e=!0;if(e){var t=this.startDate,n=this.endDate;e=!t||!n||n-t>=0}return e}},{key:"hasValidDates",get:function(){var e=this.startDateMS,t=this.endDateMS;return!e||!t||t-e>=0}},{key:"wbsCode",get:function(){return this.indexPath.join(".")}}],[{key:"fields",get:function(){return[{name:"startDate",type:"date"},{name:"endDate",type:"date"},{name:"duration",type:"number",allowNull:!0},{name:"durationUnit",type:"string",defaultValue:"d"},{name:"fullDuration",persist:!1},{name:"cls",defaultValue:""},"iconCls",{name:"style",type:"object"},{name:"name",type:"string"}]}}]),n}(Yo);function bv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}kv._$name="TimeSpan";function wv(e){return e?"string"==typeof e&&(e=e.split(",").map(function(e){return parseInt(e,10)})):e=null,e}function Sv(e){return e?"string"==typeof e&&(e=e.split(",")):e=null,e}function Dv(e,t){return String(e)===String(t)}function Rv(e){return this.defaultValue&&void 0===e?this.defaultValue:this.allowNull&&null==e?null:(e=parseInt(e),isNaN(e)&&(e=void 0),e)}var Cv=function(e){X()(n,e);var t=bv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,r=e.rule,i=e.timeSpan;t._suspendedTimeSpanNotifying=0,delete e.timeSpan,delete e.rule,ce()(Q()(n.prototype),"construct",this).apply(this,arguments),r&&(t.suspendTimeSpanNotifying(),t.rule=r,t.resumeTimeSpanNotifying()),t.timeSpan=i}},{key:"sanitize",value:function(){var e=this,t=e.timeSpan,n=t&&t.startDate;switch(e.beginBatch(),e.isSanitizing=!0,e.frequency){case"DAILY":e.positions=null,e.days=null,e.monthDays=null,e.months=null;break;case"WEEKLY":e.positions=null,e.monthDays=null,e.months=null;var r=e.days;n&&r&&1==r.length&&r[0]==cv.encodeDay(n.getDay())&&(e.days=null);break;case"MONTHLY":e.monthDays&&e.monthDays.length&&(e.positions=null,e.days=null),e.months=null;var i=e.monthDays;n&&i&&1==i.length&&i[0]==n.getDate()&&(e.monthDays=null);break;case"YEARLY":e.monthDays=null;var o=e.months;n&&o&&1==o.length&&o[0]==n.getMonth()+1&&(e.months=null)}e.isSanitizing=!1,e.endBatch()}},{key:"copy",value:function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=(e=ce()(Q()(n.prototype),"copy",this)).call.apply(e,[this].concat(r));return o.dateFormat=this.dateFormat,o.timeSpan=this.timeSpan,o}},{key:"afterChange",value:function(e,t,r){var i=ce()(Q()(n.prototype),"afterChange",this).call(this,e,t,r);this.isSanitizing||this.sanitize();var o=this.timeSpan;return o&&!this.isTimeSpanNotifyingSuspended&&o.onRecurrenceChanged(),i}},{key:"suspendTimeSpanNotifying",value:function(){this._suspendedTimeSpanNotifying++}},{key:"resumeTimeSpanNotifying",value:function(){this._suspendedTimeSpanNotifying&&this._suspendedTimeSpanNotifying--}},{key:"isRecurrenceModel",get:function(){return!0}},{key:"dateFormat",get:function(){return this._dateFormat||"YYYYMMDDTHHmmss"},set:function(e){this._dateFormat=e}},{key:"timeSpan",get:function(){return this._timeSpan},set:function(e){this._timeSpan=e}},{key:"rule",get:function(){var e=this,t=[];return e.frequency&&(t.push("FREQ=".concat(e.frequency)),e.interval>1&&t.push("INTERVAL=".concat(e.interval)),e.days&&e.days.length&&t.push("BYDAY="+e.days.join(",")),e.monthDays&&e.monthDays.length&&t.push("BYMONTHDAY="+e.monthDays.join(",")),e.months&&e.months.length&&t.push("BYMONTH="+e.months.join(",")),e.count&&t.push("COUNT=".concat(e.count)),e.endDate&&t.push("UNTIL="+xt.format(e.endDate,e.dateFormat)),e.positions&&e.positions.length&&t.push("BYSETPOS="+e.positions.join(","))),t.join(";")},set:function(e){var t=this;if(t.beginBatch(),e){for(var n=e.split(";"),r=0,i=n.length;r<i;r++){var o=n[r].split("="),a=o[1];switch(o[0]){case"FREQ":t.frequency=a;break;case"INTERVAL":t.interval=a;break;case"COUNT":t.count=a,t.until=null;break;case"UNTIL":t.endDate=a?xt.parse(a,t.dateFormat):null,t.count=null;break;case"BYDAY":t.days=a;break;case"BYMONTHDAY":t.monthDays=a;break;case"BYMONTH":t.months=a;break;case"BYSETPOS":t.positions=a}}t.sanitize()}else t.set({frequency:null,interval:null,count:null,endDate:null,days:null,monthDays:null,months:null,positions:null});t.endBatch()}},{key:"count",get:function(){return this.get("count")},set:function(e){e&&(this.endDate=null),this.set("count",e)}},{key:"endDate",get:function(){return this.get("endDate")},set:function(e){e&&(this.count=null),this.set("endDate",e)}},{key:"isTimeSpanNotifyingSuspended",get:function(){return Boolean(this._suspendedTimeSpanNotifying)}}],[{key:"fields",get:function(){return[{name:"frequency",defaultValue:"DAILY"},{name:"interval",defaultValue:1,convert:Rv},{name:"endDate",type:"date"},{name:"count",allowNull:!0,convert:Rv},{name:"days",convert:Sv,isEqual:Dv},{name:"monthDays",convert:wv,isEqual:Dv},{name:"months",convert:wv,isEqual:Dv},{name:"positions",convert:wv,isEqual:Dv}]}}]),n}(Yo);function xv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Cv._$name="RecurrenceModel";function Ev(e){if(e){var t=this.dateFormat;e=(e="string"==typeof e?e.split(","):e).map(function(e){return"string"==typeof e&&(e=xt.parse(e,t)),e})}return e}function Tv(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Mv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mv(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Mv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Av=function(e){X()(n,e);var t=Pv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"forEachResource",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,r=Tv(this.resources);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!1===e.call(n,i))return}}catch(e){r.e(e)}finally{r.f()}}},{key:"getResource",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.resourceId,t=this,n=t.eventStore,r=n&&n.resourceStore;if(n&&e){var i=n.getResourcesForEvent(t);if(1==i.length)return i[0];if(i.length>1)throw new Error("Event::getResource() is not applicable for events with multiple assignments, please use Event::resources instead.");return null}if(r)return r?r.getById(e):null}},{key:"assign",value:function(e){var t=this.eventStore;e=Yo.asId(e),t?t.assignEventToResource(this,e):this.resourceId=e}},{key:"unassign",value:function(e,t){var n=this,r=n.eventStore;e=Yo.asId(e),n.meta.removingResource=t,r?r.unassignEventFromResource(n,e):n.resourceId==e&&(n.resourceId=null),n.meta.removingResource=null}},{key:"reassign",value:function(e,t){var n=this.eventStore;e=Yo.asId(e),t=Yo.asId(t),n?n.reassignEventFromResourceToResource(this,e,t):this.resourceId=t}},{key:"isAssignedTo",value:function(e){var t=this.eventStore;return e=Yo.asId(e),t?t.isEventAssignedToResource(this,e):this.resourceId==e}},{key:"eventStore",get:function(){var e=this;return e._eventStore||(e._eventStore=e.stores&&e.stores.find(function(e){return e.isEventStore})),e._eventStore}},{key:"resourceStore",get:function(){var e=this.eventStore;return e&&e.resourceStore}},{key:"assignmentStore",get:function(){var e=this.eventStore;return e&&e.assignmentStore}},{key:"resources",get:function(){return this.eventStore&&this.eventStore.getResourcesForEvent(this)||[]}},{key:"isEvent",get:function(){return!0}},{key:"isDraggable",get:function(){return this.draggable}},{key:"isResizable",get:function(){return!this.isMilestone&&this.resizable}},{key:"isPersistable",get:function(){var e=this.eventStore;return e&&e.isEventPersistable(this)}},{key:"recurringEvent",get:function(){return this.recurringTimeSpan}}],[{key:"fields",get:function(){return[{name:"resourceId"},{name:"draggable",type:"boolean",persist:!1,defaultValue:!0},{name:"resizable",persist:!1,defaultValue:!0},"eventStyle","eventColor","milestoneWidth"]}},{key:"relationConfig",get:function(){return[{relationName:"resource",fieldName:"resourceId",store:"resourceStore",collectionName:"events"}]}}]),n}(function(e){return function(e){X()(n,e);var t=xv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"setRecurrence",value:function(e,t,n){var r,i;e&&(e.isRecurrenceModel?r=e:"string"==typeof e?((r=new this.recurrenceModel).frequency=e,t&&(r.interval=t),n&&(n instanceof Date?r.endDate=n:r.count=n)):r=new this.recurrenceModel(e),r.timeSpan=this,i=r.rule),this.recurrence=r,this.recurrenceRule=i}},{key:"getOccurrenceByStartDate",value:function(e){var t,n;if(e){n=this.occurrences;for(var r=0;r<n.length;r++)if(n[r].startDate-e==0){t=n[r];break}}return t}},{key:"removeOccurrences",value:function(){var e=this.stores[0];return e&&e.removeOccurrencesForTimeSpans&&e.removeOccurrencesForTimeSpans(this)}},{key:"onRecurrenceChanged",value:function(){this.recurrenceRule=this.recurrence&&this.recurrence.rule||null}},{key:"buildOccurrence",value:function(e){var t=this.copy(null);return t.beginBatch(),t.setStartDate(e),t.recurringTimeSpanId=this.id,t.endBatch(),t}},{key:"afterChange",value:function(e,t,r){var i;"recurrenceRule"in t&&(this._recurrence=null);for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return(i=ce()(Q()(n.prototype),"afterChange",this)).call.apply(i,[this,e,t,r].concat(a))}},{key:"addExceptionDate",value:function(e){var t=this.exceptionDates||[];e&&(this.exceptionDates=t.concat(e))}},{key:"beforeStartDateChange",value:function(){this._startDateValue=this.startDate}},{key:"afterStartDateChange",value:function(){this._startDateValue-this.startDate&&this.exceptionDates&&(this.exceptionDates=null)}},{key:"supportsRecurring",get:function(){return!0}},{key:"recurrenceModel",get:function(){return this._recurrenceModel||Cv},set:function(e){this._recurrenceModel=e}},{key:"recurrence",get:function(){var e=this,t=e.recurrenceRule;return!e._recurrence&&t&&(e._recurrence=new e.recurrenceModel({rule:t,timeSpan:e})),e._recurrence},set:function(e){var t,n=this;if(n.isOccurrence){var r=n.recurringTimeSpan;t=r&&r.recurrence,n.recurringTimeSpanId=null}e&&t&&(t.endDate=new Date(n.startDate-1)),n._recurrence=e,e?(e.timeSpan=n,n.recurrenceRule=e.rule):n.recurrenceRule=null}},{key:"isRecurring",get:function(){return this.recurrence&&!this.isOccurrence}},{key:"isOccurrence",get:function(){return Boolean(this.recurringTimeSpanId)}},{key:"recurringTimeSpan",get:function(){var e=this.recurringTimeSpanId,t=this.stores[0];return e&&t&&t.getById(e)}},{key:"occurrences",get:function(){var e=this.stores[0];return e&&e.getOccurrencesForTimeSpans&&e.getOccurrencesForTimeSpans(this)}}],[{key:"fields",get:function(){return[{name:"recurringTimeSpanId"},{name:"recurrenceRule"},{name:"exceptionDates",convert:Ev}]}}]),n}(e||kv)}());function Iv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Av.exposeProperties(),Av._$name="EventModel";var Fv=function(e){X()(n,e);var t=Iv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){if(ce()(Q()(n.prototype),"construct",this).call(this,e,!0),this.setupRecurringEvents(),this.modelClass!==Av&&!(this.modelClass.prototype instanceof Av))throw new Error("The model for the EventStore must subclass EventModel")}},{key:"append",value:function(e){this.add(e)}}],[{key:"defaultConfig",get:function(){return{loadPriority:100,syncPriority:200,modelClass:Av,storeId:"events"}}}]),n}(function(e){return function(e){X()(n,e);var t=yv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"setupRecurringEvents",value:function(){return this.setupRecurringTimeSpans.apply(this,arguments)}},{key:"generateOccurrencesForEvents",value:function(){return this.generateOccurrencesForTimeSpans.apply(this,arguments)}},{key:"generateOccurrencesForEventsBuffered",value:function(){return this.generateOccurrencesForTimeSpansBuffered.apply(this,arguments)}},{key:"regenerateOccurrencesForEvents",value:function(){return this.regenerateOccurrencesForTimeSpans.apply(this,arguments)}},{key:"regenerateOccurrencesForEventsBuffered",value:function(){return this.regenerateOccurrencesForTimeSpansBuffered.apply(this,arguments)}},{key:"getRecurringEvents",value:function(){return this.getRecurringTimeSpans()}},{key:"getOccurrencesForEvents",value:function(e){return this.getOccurrencesForTimeSpans(e)}},{key:"removeOccurrencesForEvents",value:function(e){return this.removeOccurrencesForTimeSpans(e)}},{key:"isEventPersistable",value:function(e){return ce()(Q()(n.prototype),"isEventPersistable",this).call(this,e)&&(!e.supportsRecurring||!e.isOccurrence)}},{key:"supportsRecurringEvents",get:function(){return!0}}],[{key:"$name",get:function(){return"RecurringEventsMixin"}}]),n}(function(e){return function(e){X()(n,e);var t=gv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"setupRecurringTimeSpans",value:function(){var e=this;e.recurrenceIterators=e.recurrenceIterators||[],e.addRecurrenceIterators(ov,fv,hv,vv),e.relayEvents(e.delayedCallsManager,["delayedRegenerateOccurrencesStart","delayedRegenerateOccurrencesEnd","delayedGenerateOccurrencesStart","delayedGenerateOccurrencesEnd"]),e.delayedCallsManager.on({delayedRegenerateOccurrencesEnd:e.onDelayedRegenerateOccurrencesFinish,delayedGenerateOccurrencesEnd:e.onDelayedGenerateOccurrencesFinish,thisObj:e})}},{key:"doDestroy",value:function(){this.delayedCallsManager.destroy()}},{key:"addRecurrenceIterators",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){return e.recurrenceIterators[t.frequency]=t})}},{key:"getRecurrenceIteratorForTimeSpan",value:function(e){return this.recurrenceIterators[e.recurrence.frequency]}},{key:"buildOccurrencesForTimeSpan",value:function(e,t,n,r){var i=[];if(e.isRecurring&&e.startDate){var o=e.recurrence,a=this.getRecurrenceIteratorForTimeSpan(e),s=e.exceptionDates?e.exceptionDates.reduce(function(e,t){return e[t.getTime()]=!0,e},{}):{};a.forEachDate({recurrence:o,startDate:t,endDate:n,fn:function(t){s[t.getTime()]||r&&e.getOccurrenceByStartDate(t)||i.push(e.buildOccurrence(t))}})}return i}},{key:"mergeDelayedCallEntries",value:function(e){for(var t,n,r,i,o,a=e.entries,s={},u=0;u<a.length;u++){var c=o=a[u],l=re()(c,3);r=l[0],t=l[1],n=l[2];for(var f=0;f<r.length;f++){var d=s[(i=r[f]).id];d?(d[1]>t&&(d[1]=t),d[2]<n&&(d[2]=n)):s[i.id]=[[i]].concat(te()(o.slice(1)))}}a=Object.values(s);for(var h={},p=0;p<a.length;p++){var v=o=a[p],g=re()(v,3);i=g[0],t=g[1],n=g[2];var y=(t?t.getTime():"")+"-"+(n?n.getTime():"");h[y]?h[y][0]=h[y][0].concat(i):h[y]=o}e.entries=Object.values(h)}},{key:"regenerateOccurrencesForTimeSpansBuffered",value:function(e,t,n){var r=this;return Array.isArray(e)||(e=[e]),(e=e.filter(function(e){return e.isRecurring})).length?new Promise(function(){var i=ro()(to.a.mark(function i(o,a){var s;return to.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.delayedCallsManager.execute({id:"regenerateOccurrences",beforeFn:r.mergeDelayedCallEntries,args:[e,t,n],fn:function(e,t,n,i){var o=e.toRemove=e.toRemove||[];o.push.apply(o,te()(r.getOccurrencesForTimeSpans(t))),e.added=r.generateOccurrencesForTimeSpans(t,n,i,!1)},afterFn:function(e){var t=e.toRemove;t.length&&(e.removed=r.remove(t))}});case 2:s=i.sent,o({added:s.added,removed:s.removed});case 4:case"end":return i.stop()}},i)}));return function(e,t){return i.apply(this,arguments)}}()):Promise.resolve()}},{key:"generateOccurrencesForTimeSpansBuffered",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this;return Array.isArray(e)||(e=[e]),(e=e.filter(function(e){return e.isRecurring})).length?new Promise(function(){var o=ro()(to.a.mark(function o(a){var s;return to.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,i.delayedCallsManager.execute({id:"generateOccurrences",beforeFn:i.mergeDelayedCallEntries,args:[e,t,n,r],fn:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.added=i.generateOccurrencesForTimeSpans.apply(i,n)}});case 2:s=o.sent,a({added:s.added});case 4:case"end":return o.stop()}},o)}));return function(e){return o.apply(this,arguments)}}()):Promise.resolve()}},{key:"generateOccurrencesForTimeSpans",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[];if(e){var o=this,a=[];if(Array.isArray(e)||(e=[e]),e.length){for(var s=0;s<e.length;s++){var u=e[s],c=void 0,l=void 0,f=void 0;(a=o.buildOccurrencesForTimeSpan(u,t,n,r))&&(t<=(f=u.startDate)&&(l=a.shift())&&(c=l.startDate)-f&&(u.setStartEndDate(c,l.endDate),u.recurrence.sanitize()),i.push.apply(i,te()(a)))}i.length&&o.add(i)}}return i}},{key:"generateOccurrencesForAll",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.getRecurringTimeSpans(),o=[];return i.length&&(r.trigger("generateOccurrencesAllStart",{timeSpans:i,startDate:e,endDate:t,preserveExisting:n}),o=r.generateOccurrencesForTimeSpans(i,e,t,n),r.trigger("generateOccurrencesAllEnd",{timeSpans:i,startDate:e,endDate:t,preserveExisting:n})),o}},{key:"getRecurringTimeSpans",value:function(){return this.query(function(e){return e.supportsRecurring&&e.isRecurring})}},{key:"getOccurrencesForTimeSpans",value:function(e){var t=this,n=[];if(Array.isArray(e)||(e=[e]),e.length)for(var r=function(r){var i=e[r].id;n.push.apply(n,te()(t.query(function(e){return e.supportsRecurring&&e.recurringTimeSpanId==i})))},i=0;i<e.length;i++)r(i);return n}},{key:"getOccurrencesForAll",value:function(){return this.query(function(e){return e.supportsRecurring&&e.isOccurrence})}},{key:"removeOccurrencesForTimeSpans",value:function(e){return this.remove(this.getOccurrencesForTimeSpans(e))}},{key:"removeOccurrencesForAll",value:function(){return this.remove(this.getOccurrencesForAll())}},{key:"onDelayedRegenerateOccurrencesFinish",value:function(){this.trigger("occurrencesReady")}},{key:"onDelayedGenerateOccurrencesFinish",value:function(){this.trigger("occurrencesReady")}},{key:"supportsRecurringTimeSpans",get:function(){return!0}},{key:"delayedCallTimeout",get:function(){return isNaN(this._delayedCallTimeout)?100:this._delayedCallTimeout},set:function(e){this._delayedCallTimeout=e}},{key:"delayedCallsManager",get:function(){return this._delayedCallsManager=this._delayedCallsManager||new tv({delayedCallTimeout:this.delayedCallTimeout}),this._delayedCallsManager}}],[{key:"$name",get:function(){return"RecurringTimeSpansMixin"}}]),n}(e||U)}(e||U))}(Qp(Pa)));function Lv(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ov(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ov(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ov(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Fv._$name="EventStore";var jv=function(e){X()(n,e);var t=_v(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).apply(this,arguments),this.normalizeUnits()}},{key:"generateId",value:function(e){var t=this,n=t.headers,r=[],i=Object.getPrototypeOf(t.data).id;if(!i){for(var o=n.length-1;o>=0;o--)r.push(o?n[o].unit:_.capitalizeFirstLetter(n[o].unit));i=r.join("And")}return e.includes(i)&&(i+="-".concat(t.tickWidth,"by").concat(t.tickHeight||t.tickWidth),e.includes(i)&&(i+="-".concat(t.bottomHeader.increment),e.includes(i)&&(i=De.generateId("".concat(i,"-"))))),i}},{key:"normalizeUnits",value:function(){for(var e=this,t=e.timeResolution,n=e.headers,r=0,i=n.length;r<i;r++){var o=n[r];o.unit=xt.normalizeUnit(o.unit),o.splitUnit&&(o.splitUnit=xt.normalizeUnit(o.splitUnit)),"increment"in o||(n[r]=Object.assign({increment:1},o))}t&&(t.unit=xt.normalizeUnit(t.unit)),e.shiftUnit&&(e.shiftUnit=xt.normalizeUnit(e.shiftUnit))}},{key:"set",value:function(){}},{key:"inSet",value:function(){}},{key:"columnLinesFor",get:function(){return"columnLinesFor"in this.data?this.data.columnLinesFor:this.headers.length-1}},{key:"tickSize",get:function(){return this._tickSize||this.tickWidth}},{key:"tickWidth",get:function(){return"tickWidth"in this.data?this.data.tickWidth:50}},{key:"tickHeight",get:function(){return"tickHeight"in this.data?this.data.tickHeight:50}},{key:"headerConfig",get:function(){if(this.data.headerConfig)return this.data.headerConfig;var e={},t=this.headers;switch(t.length){case 1:e.middle=t[0];break;case 2:0===this.mainHeaderLevel?(e.middle=t[0],e.bottom=t[1]):(e.top=t[0],e.middle=t[1]);break;case 3:e.top=t[0],e.middle=t[1],e.bottom=t[2];break;default:throw new Error("headerConfig object not supported for >3 header levels")}return e}},{key:"mainHeaderLevel",set:function(e){this.data.mainHeaderLevel=e},get:function(){return"mainHeaderLevel"in this.data?this.data.mainHeaderLevel:3===this.data.headers.length?1:this.headers.length-1}},{key:"mainHeader",get:function(){return this.headers[this.mainHeaderLevel]}},{key:"bottomHeader",get:function(){return this.headers[this.headers.length-1]}},{key:"leafUnit",get:function(){return this.bottomHeader.unit}},{key:"mainUnit",get:function(){return this.mainHeader}},{key:"msPerPixel",get:function(){var e=this.bottomHeader;return Math.round(xt.asMilliseconds(e.increment||1,e.unit)/this.tickWidth)}},{key:"isValid",get:function(){var e,t=this,n=!0,r=Lv(t.headers);try{for(r.s();!(e=r.n()).done;){var i=e.value;n=n&&Boolean(xt.normalizeUnit(i.unit))}}catch(e){r.e(e)}finally{r.f()}return t.timeResolution&&(n=n&&xt.normalizeUnit(t.timeResolution.unit)),t.shiftUnit&&(n=n&&xt.normalizeUnit(t.shiftUnit)),n}}],[{key:"processData",value:function(e){var t;e.headerConfig&&(H.deprecate("Scheduler","4.0.0","ViewPreset headerConfig config replaced by headers config. See https://www.bryntum.com/docs/scheduler/#guides/upgrades/3.0.md"),e=It.assign({},e),this.normalizeHeaderConfig(e));for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(t=ce()(Q()(n),"processData",this)).call.apply(t,[this,e].concat(i))}},{key:"normalizeHeaderConfig",value:function(e){var t=e.headerConfig,n=e.columnLinesFor,r=e.mainHeaderLevel,i=e.headers=[];if(t.top&&("top"==n&&(e.columnLinesFor=0),"top"==r&&(e.mainHeaderLevel=0),i[0]=t.top),!t.middle)throw new Error("ViewPreset.headerConfig must be configured with a middle");"middle"==n&&(e.columnLinesFor=i.length),"middle"==r&&(e.mainHeaderLevel=i.length),i.push(t.middle),t.bottom&&(e.mainHeaderLevel=i.length-1,null==n?e.columnLinesFor=i.length-1:"bottom"==n&&(e.columnLinesFor=i.length),null==r&&(e.mainHeaderLevel=i.length-1),"bottom"==r&&(e.mainHeaderLevel=i.length),i.push(t.bottom))}},{key:"fields",get:function(){return[{name:"name",type:"string"},{name:"rowHeight",defaultValue:24},{name:"tickWidth",defaultValue:50},{name:"tickHeight",defaultValue:50},{name:"displayDateFormat",defaultValue:"HH:mm"},{name:"shiftUnit",defaultValue:"hour"},{name:"shiftIncrement",defaultValue:1},{name:"defaultSpan",defaultValue:12},"timeResolution","headers","mainHeaderLevel","columnLinesFor"]}}]),n}(Yo);function Hv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}jv._$name="ViewPreset";var Nv=function(e){X()(n,e);var t=Hv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"createRecord",value:function(e){if(e.preset&&!e.base&&(H.deprecate("Scheduler","4.0.0","ViewPreset preset config replaced by base config. See https://www.bryntum.com/docs/scheduler/#guides/upgrades/3.0.md"),e.base=e.preset),e.base){var t=this.getById(e.base)||zv.getById(e.base);e=Object.setPrototypeOf(e,t.data)}return ce()(Q()(n.prototype),"createRecord",this).apply(this,arguments)}},{key:"updateLocalization",value:function(){var e=this;ce()(Q()(n.prototype),"updateLocalization",this).call(this),this.forEach(function(t){var n=e.L(t.id);n&&(n.displayDateFormat&&(t.displayDateFormat=n.displayDateFormat),n.middleDateFormat&&t.headerConfig.middle&&(t.headerConfig.middle.dateFormat=n.middleDateFormat),n.topDateFormat&&t.headerConfig.top&&(t.headerConfig.top.dateFormat=n.topDateFormat),n.bottomDateFormat&&t.headerConfig.bottom&&(t.headerConfig.bottom.dateFormat=n.bottomDateFormat))})}},{key:"storage",set:function(e){var t=this;di()(Q()(n.prototype),"storage",e,this,!0),this.storage.addSorter(function(e,n){var r=e.bottomHeader,i=n.bottomHeader;return(n.msPerPixel-e.msPerPixel||Ct[r.unit]-Ct[i.unit]||r.increment-i.increment)*t.zoomOrder})},get:function(){return ce()(Q()(n.prototype),"storage",this)}}],[{key:"defaultConfig",get:function(){return{useRawData:!0,modelClass:jv,zoomOrder:1}}}]),n}(We(Ra));function Bv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Nv._$name="PresetStore";var zv=new(function(e){X()(n,e);var t=Bv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getById",value:function(e){return ce()(Q()(n.prototype),"getById",this).call(this,e)||this.basePresets[e]}},{key:"registerPreset",value:function(e,t){var n=this.createRecord(Object.assign({id:e},t)),r=this.find(function(e){return e.equals(n)});if(r)return r;if(!n.isValid)throw new Error("Invalid preset, please check your configuration");return this.add(n),n}},{key:"getPreset",value:function(e){return"number"==typeof e&&(e=this.getAt(e)),"string"==typeof e?e=this.getById(e):e instanceof jv||(e=this.createRecord(e)),e}},{key:"normalizePreset",value:function(e){if(!(e instanceof jv))if("string"==typeof e){if(!(e=this.getPreset(e)))throw new Error("You must define a valid view preset. See PresetManager for reference")}else if("object"===oe()(e)){if(e.base){var t=this.getById(e.base);if(!t)throw new Error("ViewPreset base '".concat(e.base,"' does not exist"));e=It.merge(It.clone(t.data),e)}e.id?e=this.createRecord(e):(e=this.createRecord(It.assign({},e))).id=e.generateId(e)}return e}},{key:"deletePreset",value:function(e){"string"==typeof e?e=this.getById(e):"number"==typeof e&&(e=this.getAt(e)),e&&(this.remove(e),delete this.basePresets[e.id])}},{key:"basePresets",set:function(e){var t=this._basePresets={};for(var n in e)e[n].id=n,t[n]=this.createRecord(e[n])},get:function(){return this._basePresets}},{key:"defaultPresets",set:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],i="string"==typeof r,o=i?r:r.preset,a=void 0;if(i)a=this.basePresets[o];else{var s=Object.setPrototypeOf(It.clone(this.basePresets[o].data),{id:o}),u=s.timeResolution,c=s.headers[s.headers.length-1];s.id=void 0,"width"in r&&(s.tickWidth=r.width),"height"in r&&(s.tickHeight=r.height),"increment"in r&&(c.increment=r.increment),"resolution"in r&&(u.increment=r.resolution),"resolutionUnit"in r&&(u.unit=xt.getUnitByName(r.resolutionUnit)),a=this.createRecord(s)}this.add(a)}}}],[{key:"defaultConfig",get:function(){return{preventSubClassingModel:!0,basePresets:{secondAndMinute:{name:"Seconds",tickWidth:30,tickHeight:40,displayDateFormat:"ll LTS",shiftIncrement:10,shiftUnit:"minute",defaultSpan:24,timeResolution:{unit:"second",increment:5},headers:[{unit:"minute",dateFormat:"llll"},{unit:"second",increment:10,dateFormat:"ss"}]},minuteAndHour:{name:"Minutes",tickWidth:60,tickHeight:60,displayDateFormat:"ll LT",shiftIncrement:1,shiftUnit:"hour",defaultSpan:24,timeResolution:{unit:"minute",increment:30},headers:[{unit:"hour",dateFormat:"ddd MM/DD, hA"},{unit:"minute",increment:30,dateFormat:"mm"}]},hourAndDay:{name:"Hours",tickWidth:70,tickHeight:40,displayDateFormat:"ll LT",shiftIncrement:1,shiftUnit:"day",defaultSpan:24,timeResolution:{unit:"minute",increment:30},headers:[{unit:"day",dateFormat:"ddd DD/MM"},{unit:"hour",dateFormat:"LT"}]},day:{name:"Hours 2",displayDateFormat:"LT",shiftIncrement:1,shiftUnit:"day",defaultSpan:1,timeResolution:{unit:"minute",increment:30},mainHeaderLevel:0,headers:[{unit:"day",dateFormat:"ddd DD/MM",splitUnit:"day"},{unit:"hour",renderer:function(e){return'\n                                    <div class="b-sch-calendarcolumn-ct"><span class="b-sch-calendarcolumn-hours">'.concat(xt.format(e,"HH"),'</span>\n                                    <span class="b-sch-calendarcolumn-minutes">').concat(xt.format(e,"mm"),"</span></div>\n                                ")}}]},week:{name:"Week/hours",displayDateFormat:"LT",shiftIncrement:1,shiftUnit:"week",defaultSpan:24,timeResolution:{unit:"minute",increment:30},mainHeaderLevel:0,headers:[{unit:"week",dateFormat:"D d",splitUnit:"day"},{unit:"hour",dateFormat:"LT",renderer:function(e){return'\n                                    <div class="sch-calendarcolumn-ct">\n                                    <span class="sch-calendarcolumn-hours">'.concat(xt.format(e,"HH"),'</span>\n                                    <span class="sch-calendarcolumn-minutes">').concat(xt.format(e,"mm"),"</span>\n                                    </div>\n                                ")}}]},dayAndWeek:{name:"Days 2",tickWidth:100,tickHeight:80,displayDateFormat:"ll LT",shiftUnit:"day",shiftIncrement:1,defaultSpan:5,timeResolution:{unit:"hour",increment:1},headers:[{unit:"week",renderer:function(e){return xt.getShortNameOfUnit("week")+"."+xt.format(e,"WW MMM YYYY")}},{unit:"day",dateFormat:"dd DD"}]},weekAndDay:{name:"Days",tickWidth:100,tickHeight:80,displayDateFormat:"ll hh:mm A",shiftUnit:"week",shiftIncrement:1,defaultSpan:1,timeResolution:{unit:"day",increment:1},mainHeaderLevel:0,headers:[{unit:"week",dateFormat:"YYYY MMMM DD"},{unit:"day",increment:1,dateFormat:"DD MMM"}]},weekAndMonth:{name:"Weeks",tickWidth:100,tickHeight:105,displayDateFormat:"ll",shiftUnit:"week",shiftIncrement:5,defaultSpan:6,timeResolution:{unit:"day",increment:1},headers:[{unit:"month",dateFormat:"MMM YYYY"},{unit:"week",dateFormat:"DD MMM"}]},weekAndDayLetter:{name:"Weeks 2",tickWidth:20,tickHeight:50,displayDateFormat:"ll",shiftUnit:"week",shiftIncrement:1,defaultSpan:10,timeResolution:{unit:"day",increment:1},mainHeaderLevel:0,headers:[{unit:"week",dateFormat:"ddd DD MMM YYYY",verticalColumnWidth:115},{unit:"day",dateFormat:"d1",verticalColumnWidth:25}]},weekDateAndMonth:{name:"Weeks 3",tickWidth:30,tickHeight:40,displayDateFormat:"ll",shiftUnit:"week",shiftIncrement:1,defaultSpan:10,timeResolution:{unit:"day",increment:1},headers:[{unit:"month",dateFormat:"YYYY MMMM"},{unit:"week",dateFormat:"DD"}]},monthAndYear:{name:"Months",tickWidth:110,tickHeight:110,displayDateFormat:"ll",shiftIncrement:3,shiftUnit:"month",defaultSpan:12,timeResolution:{unit:"day",increment:1},headers:[{unit:"year",dateFormat:"YYYY"},{unit:"month",dateFormat:"MMM YYYY"}]},year:{name:"Years",tickWidth:100,tickHeight:100,resourceColumnWidth:100,displayDateFormat:"ll",shiftUnit:"year",shiftIncrement:1,defaultSpan:1,timeResolution:{unit:"month",increment:1},headers:[{unit:"year",dateFormat:"YYYY"},{unit:"quarter",renderer:function(e,t,n){return xt.getShortNameOfUnit("quarter").toUpperCase()+(Math.floor(e.getMonth()/3)+1)}}]},manyYears:{name:"Years 2",tickWidth:40,tickHeight:50,displayDateFormat:"ll",shiftUnit:"year",shiftIncrement:1,defaultSpan:1,timeResolution:{unit:"year",increment:1},mainHeaderLevel:0,headers:[{unit:"year",dateFormat:"YYYY",increment:5},{unit:"year",dateFormat:"YY",increment:1}]}},defaultPresets:["manyYears",{width:80,increment:1,resolution:1,preset:"manyYears",resolutionUnit:"YEAR"},"year",{width:30,increment:1,resolution:1,preset:"year",resolutionUnit:"MONTH"},{width:50,increment:1,resolution:1,preset:"year",resolutionUnit:"MONTH"},{width:200,increment:1,resolution:1,preset:"year",resolutionUnit:"MONTH"},"monthAndYear","weekDateAndMonth","weekAndMonth","weekAndDayLetter","weekAndDay",{width:54,increment:1,resolution:1,preset:"weekAndDay",resolutionUnit:"HOUR"},"hourAndDay",{width:64,increment:6,resolution:30,preset:"hourAndDay",resolutionUnit:"MINUTE"},{width:100,increment:6,resolution:30,preset:"hourAndDay",resolutionUnit:"MINUTE"},{width:64,increment:2,resolution:30,preset:"hourAndDay",resolutionUnit:"MINUTE"},"minuteAndHour",{width:30,increment:15,resolution:5,preset:"minuteAndHour"},{width:130,increment:15,resolution:5,preset:"minuteAndHour"},{width:60,increment:5,resolution:5,preset:"minuteAndHour"},{width:100,increment:5,resolution:5,preset:"minuteAndHour"},"secondAndMinute",{width:60,increment:10,resolution:5,preset:"secondAndMinute"},{width:130,increment:5,resolution:5,preset:"secondAndMinute"}],listeners:{locale:"updateLocalization"}}}}]),n}(Nv));function Vv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Wv=function(e){X()(n,e);var t=Vv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;if(t.generateTicksValidatorFn=function(){return!0},ce()(Q()(n.prototype),"construct",this).call(this,e),t.originalContinuous=t.continuous,t.on({change:function(e){"filter"!==e.action&&t.trigger("reconfigure",{supressRefresh:!1})},refresh:function(){return t.trigger("reconfigure",{supressRefresh:!1})},endreconfigure:function(e){return t.trigger("reconfigure",e)}}),t.startDate)t.internalOnReconfigure(),t.trigger("reconfigure");else if(t.viewPreset){var r=t.getAdjustedDates(new Date);t.startDate=r.startDate,t.endDate=r.endDate}}},{key:"reconfigure",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.getAdjustedDates(e.startDate,e.endDate);if(!1!==r.trigger("beforeReconfigure",{startDate:i.startDate,endDate:i.endDate,config:e})){if(r.trigger("beginReconfigure"),r._configuredStartDate=e.startDate,r._configuredEndDate=e.endDate,Object.assign(r,e),!1===r.internalOnReconfigure(n))return!1;r.trigger("endReconfigure",{suppressRefresh:t,config:e})}}},{key:"internalOnReconfigure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.isConfigured=!0;var n=t.getAdjustedDates(t.startDate,t.endDate,!0),r=t.getAdjustedDates(t.startDate,t.endDate),i=r.startDate,o=r.endDate;if(i>=o)throw new Error("Invalid start/end dates. Start date must less than end date. Start date: ".concat(i,". End date: ").concat(o,"."));var a=t.unit,s=t.increment||1,u=t.generateTicks(i,o,a,s);t.suspendEvents(),t.data=u;var c=t.count;if(0===c){if(e)return t.resumeEvents(),!1;throw new Error("Invalid time axis configuration or filter, please check your input data.")}t.startDate=t.first.startDate,t.resumeEvents();var l=t.last.endDate;t.isContinuous?(t.adjustedStart=n.startDate,t.adjustedEnd=xt.getNext(c>1?u[c-1].startDate:n.startDate,a,s,t.weekStartDay)):(t.adjustedStart=t.startDate,t.adjustedEnd=l);do{t.visibleTickStart=(t.startDate-t.adjustedStart)/(xt.asMilliseconds(a)*s),t.autoAdjust&&(t.visibleTickStart=Math.floor(t.visibleTickStart)),t.visibleTickStart>=1&&(t.adjustedStart=xt.getNext(t.adjustedStart,a,s,t.weekStartDay))}while(t.visibleTickStart>=1);do{t.visibleTickEnd=c-(t.adjustedEnd-l)/(xt.asMilliseconds(a)*s),c-t.visibleTickEnd>=1&&(t.adjustedEnd=xt.getNext(t.adjustedEnd,a,-1,t.weekStartDay))}while(c-t.visibleTickEnd>=1);t.updateTickCache(!0)}},{key:"setTimeSpan",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.getAdjustedDates(e,t),o=i.startDate,a=i.endDate;if(r.startDate-o!=0||r.endDate-a!=0)return r.reconfigure({startDate:o,endDate:a},!1,n)}},{key:"shift",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.shiftUnit,n=this,r=n.startDate,i=n.endDate;n.isFiltered&&(r=n.allRecords[0].startDate,i=n.allRecords[n.allCount-1].endDate);var o=0;do{r=xt.add(r,e,t),i=xt.add(i,e,t)}while(o++<100&&!1===n.setTimeSpan(r,i,!0))}},{key:"shiftNext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.shiftIncrement;this.shift(e)}},{key:"shiftPrevious",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.shiftIncrement;this.shift(-e)}},{key:"filterBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,r=this;r.filters.clear(),ce()(Q()(n.prototype),"filterBy",this).call(this,function(n,r){return e.call(t,n.data,r)}),0===r.count&&(r.trigger("invalidFilter"),r.clearFilters())}},{key:"triggerFilterEvent",value:function(e){e.filters.count?this.continuous=!1:this.continuous=this.originalContinuous,this.updateTickCache(),ce()(Q()(n.prototype),"triggerFilterEvent",this).call(this,e)}},{key:"getAdjustedDates",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;return e=e||r.startDate,t=t||xt.add(e,r.defaultSpan,r.mainUnit),r.autoAdjust||n?{startDate:r.floorDate(e,!1,r.autoAdjust?r.mainUnit:r.unit,1),endDate:r.ceilDate(t,!1,r.autoAdjust?r.mainUnit:r.unit,1)}:{startDate:e,endDate:t}}},{key:"floorDate",value:function(e,t,n,r){var i=this,o=(t=!1!==t)?xt.clone(i.startDate):null,a=r||i.resolutionIncrement,s=n||(t?i.resolutionUnit:i.mainUnit),u=function(e,t){return Math.floor(e/t)*t};if(t){var c=u(xt.diff(o,e,s),a);return xt.add(o,c,s)}var l=xt.clone(e);if("week"===s){var f=l.getDay()||7,d=i.weekStartDay||7;(l=xt.add(xt.startOf(l,"day"),f>=d?d-f:-(7-d+f),"day")).getDay()!==d&&23===l.getHours()&&(l=xt.add(l,1,"hour"))}else{l=xt.startOf(l,s);var h=["day","year"].includes(s)?1:0,p="day"===s?"date":s,v=u(xt.get(l,p)-h,a)+h;l=xt.set(l,p,v)}return l}},{key:"roundDate",value:function(e,t){var n=this,r=xt.clone(e),i=n.resolutionIncrement||1;switch(t=xt.clone(t||n.startDate),n.resolutionUnit){case"week":xt.startOf(r,"day");var o,a=r.getDay()-n.weekStartDay;return a<0&&(a=7+a),o=1===Math.round(a/7)?7-a:-a,xt.add(r,o,"day");case"month":var s=xt.diff(t,r,"month")+xt.as("month",r.getDay()/xt.daysInMonth(r)),u=Math.round(s/i)*i;return xt.add(t,u,"month");case"quarter":return xt.startOf(r,"month"),xt.add(r,"month",3-r.getMonth()%3);default:var c=xt.as(n.resolutionUnit,xt.diff(t,r)),l=xt.as(n.resolutionUnit,t.getTimezoneOffset()-r.getTimezoneOffset(),"minute"),f=Math.round((c+l)/i)*i;return xt.add(t,f-l,n.resolutionUnit)}}},{key:"ceilDate",value:function(e,t,n,r){t=!1!==t,r=r||(t?this.resolutionIncrement:1);var i=xt.clone(e),o=!1,a=n||(t?this.resolutionUnit:this.mainUnit);switch(a){case"minute":o=!xt.isStartOf(i,"minute");break;case"hour":o=!xt.isStartOf(i,"hour");break;case"day":case"date":o=!xt.isStartOf(i,"day");break;case"week":o=(i=xt.startOf(i,"day")).getDay()!==this.weekStartDay||!xt.isEqual(i,e);break;case"month":o=1!==(i=xt.startOf(i,"day")).getDate()||!xt.isEqual(i,e);break;case"quarter":o=(i=xt.startOf(i,"day")).getMonth()%3!=0||1!==i.getDate()||!xt.isEqual(i,e);break;case"year":o=0!==(i=xt.startOf(i,"day")).getMonth()||1!==i.getDate()||!xt.isEqual(i,e)}return o?xt.getNext(i,a,r,this.weekStartDay):i}},{key:"processExclusion",value:function(e,t,n){var r=this.include;return!!r&&Object.entries(r).some(function(r){var i=re()(r,2),o=i[0],a=i[1];if(!a)return!1;var s=a.from,u=a.to;if(xt.compareUnits("day",n)>=0&&xt.getLargerUnit(o)===n&&(s&&xt.set(e,o,s),u)){var c,l=n;"day"===n&&(l="date"),xt.set(t,(c={},se()(c,l,xt.get(t,l)-1),se()(c,o,u),c))}if(xt.compareUnits(o,n)>=0){var f="day"===o?e.getDay():xt.get(e,o);if(s&&f<s||u&&f>=u)return!0}})}},{key:"initExclusion",value:function(){Object.entries(this.include).forEach(function(e){var t=re()(e,2),n=t[0],r=t[1];if(r){var i=r.from,o=r.to;r.lengthFactor=xt.getUnitToBaseUnitRatio(n,xt.getLargerUnit(n))/(o-i),r.lengthFactorExcl=xt.getUnitToBaseUnitRatio(n,xt.getLargerUnit(n))/(o-i-1),r.center=i+i/(r.lengthFactor-1)}})}},{key:"generateTicks",value:function(e,t){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.unit,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.increment,s=this,u=[],c=Boolean(s.include),l=0,f=s.getAdjustedDates(e,t),d=f.startDate,h=f.endDate;for(s.tickCache={},c&&s.initExclusion();d<h;){if(n=xt.getNext(d,o,a,s.weekStartDay),!s.autoAdjust&&n>h&&(n=h),"hour"===o&&a>1&&u.length>0&&0===l){var p=u[u.length-1];0!==(l=(p.startDate.getHours()+a)%24-p.endDate.getHours())&&(n=xt.add(n,l,"hour"))}i=!1,c?(r=new Date(n.getTime()),i=s.processExclusion(d,n,o)):r=n,s.generateTicksValidatorFn(d)&&!i&&(u.push({id:u.length+1,startDate:d,endDate:n}),s.tickCache[d.getTime()]=u.length-1),d=r}return u}},{key:"getTickFromDate",value:function(e){var t,n,r,i,o=this.records,a=0,s=o.length-1;if(!o.length||e<o[0].startDate||e>o[s].endDate)return-1;if(this.isContinuous){for(;a<s;)e>o[t=a+s+1>>1].endDate?a=t+1:e<o[t].startDate?s=t-1:a=t;return r=(n=o[a]).startDate,i=n.endDate,e>r&&(a+=(e-r)/(i-r)),Math.min(Math.max(a,this.visibleTickStart),this.visibleTickEnd)}for(var u=0;u<=s;u++)if(e<=(i=o[u].endDate))return n=u+(e>(r=o[u].startDate)?(e-r)/(i-r):0)}},{key:"getDateFromTick",value:function(e,t){var n=this;if(e===n.visibleTickEnd)return n.endDate;var r=Math.floor(e),i=e-r,o=n.getAt(r);if(!o)return null;var a=0===r?n.adjustedStart:o.startDate,s=r===n.count-1&&n.isContinuous?n.adjustedEnd:o.endDate,u=xt.add(a,i*(s-a),"millisecond");return t&&(u=n[t+"Date"](u)),u}},{key:"updateTickCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.count?(t._start=t.first.startDate,t._end=t.last.endDate,t._startMS=t.startDate.getTime(),t._endMS=t.endDate.getTime()):t._start=t._end=t._startMs=t._endMS=null,e||(t.tickCache={},t.forEach(function(e,n){return t.tickCache[e.startDate.getTime()]=n}))}},{key:"dateInAxis",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n.startDate,i=n.endDate;if(n.isContinuous)return t?xt.betweenLesserEqual(e,r,i):xt.betweenLesser(e,r,i);for(var o,a,s,u=n.getCount(),c=0;c<u;c++)if(o=(s=n.getAt(c)).startDate,a=s.endDate,t&&e<=a||!t&&e<a)return e>=o;return!1}},{key:"timeSpanInAxis",value:function(e,t){var n=this;return t&&t.getTime()!==e.getTime()?n.isContinuous?xt.intersectSpans(e,t,n.startDate,n.endDate):e<n.startDate&&t>n.endDate||n.getTickFromDate(e)!==n.getTickFromDate(t):this.dateInAxis(e,!0)}},{key:"isTimeSpanInAxis",value:function(e){var t=this,n=e.startDateMS,r=e.endDateMS;return!(!n||!r)&&(r===n?this.dateInAxis(e.startDate,!0):t.isContinuous?r>t.startMS&&n<t.endMS:n<t.startMS&&r>t.endMS||t.getTickFromDate(e.startDate)!==t.getTickFromDate(e.endDate))}},{key:"forEachAuxInterval",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this,o=this.endDate,a=this.startDate,s=0;if(a>o)throw new Error("Invalid time axis configuration");for(;a<o;)t=xt.min(xt.getNext(a,e,n,this.weekStartDay),o),r.call(i,a,t,s),a=t,s++}},{key:"isTimeAxis",get:function(){return!0}},{key:"viewPreset",get:function(){return this._viewPreset},set:function(e){if(!((e=zv.getPreset(e))instanceof jv))throw new Error("TimeAxis must be configured with the ViewPreset instance that the Scheduler is using");this._viewPreset=e,Object.assign(this,{unit:e.bottomHeader.unit,increment:e.bottomHeader.increment||1,resolutionUnit:e.timeResolution.unit,resolutionIncrement:e.timeResolution.increment,mainUnit:e.mainHeader.unit,shiftUnit:e.shiftUnit,shiftIncrement:e.shiftIncrement||1,defaultSpan:e.defaultSpan||1,presetName:e.id,headers:e.headers})}},{key:"weekStartDay",set:function(e){this._weekStartDay=e},get:function(){return null==this._weekStartDay?xt.weekStartDay:this._weekStartDay}},{key:"resolution",get:function(){return{unit:this.resolutionUnit,increment:this.resolutionIncrement}},set:function(e){this.resolutionUnit=e.unit,this.resolutionIncrement=e.increment}},{key:"resolutionUnit",get:function(){return this._resolutionUnit},set:function(e){this._resolutionUnit=e}},{key:"resolutionIncrement",get:function(){return this._resolutionIncrement},set:function(e){this._resolutionIncrement=e||1}},{key:"mainUnit",set:function(e){this._mainUnit=e},get:function(){return this._mainUnit}},{key:"shiftUnit",set:function(e){this._shiftUnit=e},get:function(){return this._shiftUnit||this._mainUnit}},{key:"shiftIncrement",set:function(e){this._shiftIncrement=e},get:function(){return this._shiftIncrement||1}},{key:"unit",set:function(e){this._unit=e},get:function(){return this._unit}},{key:"increment",set:function(e){this._increment=e},get:function(){return this._increment}},{key:"defaultSpan",get:function(){return this._defaultSpan},set:function(e){this._defaultSpan=e}},{key:"isContinuous",get:function(){return!1!==this.continuous&&!this.filtered}},{key:"startDate",get:function(){return this._start||(this.first?new Date(this.first.startDate):null)},set:function(e){this._start=xt.parse(e)}},{key:"endDate",get:function(){return this._end||(this.last?new Date(this.last.endDate):null)},set:function(e){e&&(this._end=xt.parse(e))}},{key:"startMS",get:function(){return this._startMS}},{key:"endMS",get:function(){return this._endMS}},{key:"include",get:function(){return this._include},set:function(e){var t=this;t._include=e,t.continuous=!e,t.isConfiguring||(t.startDate=t._configuredStartDate,t.endDate=t._configuredEndDate,t.internalOnReconfigure(),t.trigger("includeChange"))}},{key:"visibleTickTimeSpan",get:function(){return this.isContinuous?this.visibleTickEnd-this.visibleTickStart:this.count}},{key:"ticks",get:function(){return this.records}}],[{key:"defaultConfig",get:function(){return{modelClass:kv,continuous:!0,originalContinuous:null,include:null,autoAdjust:!0,unit:null,increment:null,resolutionUnit:null,resolutionIncrement:null,weekStartDay:null,mainUnit:null,shiftUnit:null,shiftIncrement:1,adjustedStart:null,adjustedEnd:null,visibleTickStart:null,visibleTickEnd:null,defaultSpan:1,tickCache:{},viewPreset:null}}}]),n}(Ra);function $v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Wv._$name="TimeAxis";var Gv=function(e){X()(n,e);var t=$v(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"add",value:function(e){Array.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var r=e[t];if(r instanceof Yo||(e[t]=r=this.createRecord(r)),-1!==this.storage.findIndex("eventResourceKey",r.eventResourceKey,!0))throw new Error("Duplicate assignment Event: ".concat(r.eventId," to resource: ").concat(r.resourceId))}return ce()(Q()(n.prototype),"add",this).call(this,e)}},{key:"doDestroy",value:function(){this.eventStoreDetacher&&this.eventStoreDetacher(),this.resourceStoreDetacher&&this.resourceStoreDetacher(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"attachToEventStore",value:function(e){var t=this;t.eventStoreDetacher&&t.eventStoreDetacher(),e&&(t.eventStoreDetacher=e.on({remove:t.onEventRemove,resourcestorechange:t.onEventStoreResourceStoreChange,thisObj:t,prio:200})),t.isConfiguring||t.initRelations(!0),t.attachToResourceStore(e&&e.resourceStore)}},{key:"attachToResourceStore",value:function(e){var t=this;t.resourceStore=e,t.resourceStoreDetacher&&t.resourceStoreDetacher(),e&&(t.resourceStoreDetacher=e.on({remove:t.onResourceRemove,removeAll:t.onResourceRemoveAll,thisObj:t,prio:200}),t.isConfiguring||t.initRelations(!0))}},{key:"onEventStoreResourceStoreChange",value:function(e){var t=e.newResourceStore;this.attachToResourceStore(t)}},{key:"onEventRemove",value:function(e){var t=e.records,n=e.isMove,r=e.isCollapse;if(!n&&!r){var i=[];t.forEach(function(e){e.traverse(function(e){i.push.apply(i,te()(e.assignments))})}),this.isRemovingEvent=!0,i.length&&this.remove(i),this.isRemovingEvent=!1}}},{key:"onResourceRemove",value:function(e){var t=e.records,n=e.isMove,r=e.isCollapse;if(!n&&!r){var i=[];t.forEach(function(e){e.traverse(function(e){i.push.apply(i,te()(e.assignments))})}),i.length&&this.remove(i)}}},{key:"onResourceRemoveAll",value:function(){this.removeAll()}},{key:"mapAssignmentsForEvent",value:function(e,t,n){var r=Boolean(t),i=Boolean(n),o=Yo.asId(e),a=this.relationCache.event&&this.relationCache.event[o];return a?(t=t||function(e){return e},n=n||function(){return!0},r||i?a.reduce(function(e,r){var i=t(r);return n(i)&&e.push(i),e},[]):a):[]}},{key:"mapAssignmentsForResource",value:function(e,t,n){var r=Boolean(t),i=Boolean(n),o=Yo.asId(e),a=this.relationCache.resource&&this.relationCache.resource[o];return a?(t=t||function(e){return e},n=n||function(){return!0},r||i?a.reduce(function(e,r){var i=t(r);return n(i)&&e.push(i),e},[]):a):[]}},{key:"getAssignmentsForEvent",value:function(e){return e.assignments}},{key:"removeAssignmentsForEvent",value:function(e){return this.remove(e.assignments)}},{key:"getAssignmentsForResource",value:function(e){return this.mapAssignmentsForResource(e)}},{key:"removeAssignmentsForResource",value:function(e){this.remove(this.getAssignmentsForResource(e))}},{key:"getResourcesForEvent",value:function(e){return this.mapAssignmentsForEvent(e,function(e){return e.resource},function(e){return Boolean(e)})}},{key:"getEventsForResource",value:function(e){return this.mapAssignmentsForResource(e,function(e){return e.event},function(e){return!!e})}},{key:"assignEventToResource",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this,o=i.autoCommit;t=Array.isArray(t)?t:[t];var a=[];return i.autoCommit=!1,r&&e.resources&&e.resources.forEach(function(n){t.includes(n)||i.unassignEventFromResource(e,n)}),t.forEach(function(t){if(!i.isEventAssignedToResource(e,t)){var r=new i.modelClass({eventId:Yo.asId(e),resourceId:Yo.asId(t)});r=n(r),a.push(r)}}),a=i.add(a),i.autoCommit=o,a}},{key:"unassignEventFromResource",value:function(e,t){var n=[];if(!t)return this.removeAssignmentsForEvent(e);Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++)this.isEventAssignedToResource(e,t[r])&&n.push(this.getAssignmentForEventAndResource(e,t[r]));return this.remove(n)}},{key:"isEventAssignedToResource",value:function(e,t){var n=this.getResourcesForEvent(e),r=Yo.asId(t);return n.some(function(e){return e.id==r})}},{key:"getAssignmentForEventAndResource",value:function(e,t){return e=this.eventStore.getById(e),t=this.resourceStore.getById(t),this.records.find(function(n){return n.event==e&&n.resource==t})}},{key:"storage",set:function(e){di()(Q()(n.prototype),"storage",e,this,!0),this.storage.addIndex("eventResourceKey")},get:function(){return ce()(Q()(n.prototype),"storage",this)}},{key:"eventStore",get:function(){return this._eventStore},set:function(e){var t=this,n=t._eventStore;t._eventStore=e||null,t.attachToEventStore(t._eventStore),(n||e)&&n!==e&&t.trigger("eventStoreChange",{newEventStore:e,oldEventStore:n})}}],[{key:"defaultConfig",get:function(){return{loadPriority:300,syncPriority:300,modelClass:Zp}}}]),n}(Pa);function Yv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Gv._$name="AssignmentStore";var Uv=function(e){X()(n,e);var t=Yv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"clearDate",value:function(){this.set("date",null)}},{key:"getAvailability",value:function(e){var t=this;if(e)return t.get("availability");if(t.availabilityCache)return t.availabilityCache;var n=t.get("availability").map(function(e){return"string"==typeof e?t.parseInterval(e):e});return t.verifyAvailability(n),t.availabilityCache=n}},{key:"verifyAvailability",value:function(e){var t=this;e.sort(function(e,t){return e.startTime-t.startTime}),e.forEach(function(n,r){if(n.startTime>n.endTime)throw new Error("Start time ".concat(xt.format(n.startTime,"HH:mm")," is greater than end time ").concat(xt.format(n.endTime,"HH:mm")));if(r>0&&e[r-1].endTime>n.startTime)throw new Error("Availability intervals should not intersect: [".concat(t.stringifyInterval(e[r-1]),"] and [").concat(t.stringifyInterval(n),"]"))})}},{key:"stringifyInterval",value:function(e){var t=e.startTime,n=e.endTime;return xt.format(t,"HH:mm")+"-"+xt.format(n,"HH:mm")}},{key:"stringifyIntervals",value:function(e){var t=this;return e.map(function(e){return"string"==typeof e?e:t.stringifyInterval(e)})}},{key:"parseInterval",value:function(e){var t=/(\d\d):(\d\d)-(\d\d):(\d\d)/.exec(e);if(!t)throw new Error("Invalid format for availability string: ".concat(String,". It should have exact format: hh:mm-hh:mm"));return{startTime:new Date(0,0,0,t[1],t[2]),endTime:new Date(0,0,0,t[3],t[4])}}},{key:"addAvailabilityInterval",value:function(e,t){var n;n=e instanceof Date?{startTime:e,endTime:t}:this.parseInterval(e+(t?"-"+t:""));var r=this.getAvailability().concat(n);this.verifyAvailability(r),this.setAvailability(r)}},{key:"removeAvailabilityInterval",value:function(e){var t=this.getAvailability();t.splice(e,1),this.setAvailability(t)}},{key:"getAvailabilityIntervalsFor",value:function(e){var t=(e="number"==typeof e?new Date(e):e).getFullYear(),n=e.getMonth(),r=e.getDate();return this.getAvailability().map(function(e){var i=e.endTime.getDate();return{startDate:new Date(t,n,r,e.startTime.getHours(),e.startTime.getMinutes()),endDate:new Date(t,n,r+(1==i?1:0),e.endTime.getHours(),e.endTime.getMinutes())}})}},{key:"getAvailabilityStartFor",value:function(e){var t=this.getAvailabilityIntervalsFor(e);return t.length?t[0].startDate:null}},{key:"getAvailabilityEndFor",value:function(e){var t=this.getAvailabilityIntervalsFor(e);return t.length?t[t.length-1].endDate:null}},{key:"date",set:function(e){e&&(e=xt.startOf(e,"day")),this.set("date",e)},get:function(){return this.get("date")}},{key:"availability",get:function(){return this.get("availability")},set:function(e){this.availabilityCache=null,this.set("availability",this.stringifyIntervals(e)),this.getAvailability()}},{key:"totalHours",get:function(){return this.getTotalMS()/1e3/60/60}},{key:"totalMS",get:function(){return this.getAvailability().reduce(function(e,t){return e+(t.endTime-t.startTime)},0)}}],[{key:"fields",get:function(){return[{name:"date",type:"date",format:"YYYY-MM-DD",persist:!0},{name:"weekday",type:"int"},{name:"overrideStartDate",type:"date",dateFormat:"YYYY-MM-DD"},{name:"overrideEndDate",type:"date",dateFormat:"YYYY-MM-DD"},{name:"type",defaultValue:"DAY"},{name:"isWorkingDay",type:"boolean",defaultValue:!1},{name:"cls"},{name:"name"},{name:"availability",persist:!0}]}}]),n}(Yo);function qv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Uv._$name="CalendarDayModel";var Xv=function(e){X()(n,e);var t=qv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;ce()(Q()(n.prototype),"construct",this).call(this,e),t.unitsInMs={MILLI:1,SECOND:1e3,MINUTE:6e4,HOUR:36e5,DAY:60*t.hoursPerDay*60*1e3,WEEK:t.daysPerWeek*t.hoursPerDay*60*60*1e3,MONTH:t.daysPerMonth*t.hoursPerDay*60*60*1e3,QUARTER:3*t.daysPerMonth*24*60*60*1e3,YEAR:12*t.daysPerMonth*24*60*60*1e3},t.defaultWeekAvailability=t.getDefaultWeekAvailability(),t.on({change:t.clearCache,thisObj:t}),t.clearCache()}},{key:"getDefaultWeekAvailability",value:function(){for(var e=this.defaultAvailability,t=this.weekendFirstDay,n=this.weekendSecondDay,r=[],i=0;i<7;i++)r.push(this.weekendsAreWorkdays||i!=t&&i!=n?new this.modelClass({type:"WEEKDAY",weekday:i,availability:e&&e.slice()||[],isWorkingDay:!0}):new this.modelClass({type:"WEEKDAY",weekday:i,availability:[]}));return r}},{key:"removeAll",value:function(){n.allCalendars.forEach(function(e){e.storeId=null,e.destroy()})}},{key:"intersectsWithCurrentWeeks",value:function(e,t){var n=!1;return this.forEachNonStandardWeek(function(r){var i=r.startDate,o=r.endDate;if(i<=e&&e<o||i<t&&t<=o)return n=!0,!1}),n}},{key:"clearCache",value:function(){var e=this;if(!(e.suspendCacheUpdate>0)){e.holidaysCache={},e.availabilityIntervalsCache={};var t=e.daysIndex={},n=e.weekAvailability=[],r=e.nonStandardWeeksStartDates=[],i=e.nonStandardWeeksByStartDate={};e.forEach(function(e){var o,a,s=e.id,u=/^(\d)-(\d\d\d\d\/\d\d\/\d\d)-(\d\d\d\d\/\d\d\/\d\d)$/.exec(s),c=/^WEEKDAY:(\d+)$/.exec(s),l=e.type,f=e.weekday;if("WEEKDAYOVERRIDE"==l||u){if("WEEKDAYOVERRIDE"==l&&(o=e.overrideStartDate,a=e.overrideEndDate),u&&(o=xt.parse(u[2],"YYYY/MM/DD"),a=xt.parse(u[3],"YYYY/MM/DD"),f=u[1]),o&&a&&null!=f){var d=o-0;i[d]||(i[d]={startDate:new Date(o),endDate:new Date(a),name:e.getName(),weekAvailability:[],mainDay:null},r.push(d)),f>=0?i[d].weekAvailability[f]=e:i[d].mainDay=e}}else if("WEEKDAY"==l||c){if(c&&(f=c[1]),null!=f){if(f<0||f>6)throw new Error("Incorrect week day index");n[f]=e}}else{var h=e.date;h&&(t[h-0]=e)}}),r.sort(function(e,t){return e-t}),e.trigger("calendarChange")}}},{key:"addNonStandardWeek",value:function(e,t,n,r){if(e=xt.clearTime(e),t=xt.clearTime(t),this.intersectsWithCurrentWeeks(e,t))throw new Error("Can not add intersecting week");var i=this.modelClass,o=[];n.forEach(function(n,a){if(n instanceof Uv)n.type="WEEKDAYOVERRIDE",n.overrideStartDate=e,n.overrideEndDate=t,n.weekday=a,n.name=r||"Week override",o.push(n);else if(Array.isArray(n)){var s=new i;s.type="WEEKDAYOVERRIDE",s.overrideStartDate=e,s.overrideEndDate=t,s.weekday=a,s.name=r||"Week override",s.setAvailability(n),o.push(s)}});var a=new i;a.type="WEEKDAYOVERRIDE",a.overrideStartDate=e,a.overrideEndDate=t,a.weekday=-1,a.name=r||"Week override",o.push(a),this.add(o)}},{key:"getNonStandardWeekByStartDate",value:function(e){return this.nonStandardWeeksByStartDate[xt.clearTime(e)-0]||null}},{key:"removeNonStandardWeek",value:function(e){e=xt.clearTime(e)-0;var t=this.getNonStandardWeekByStartDate(e);t&&this.remove(de.clean(t.weekAvailability).concat(t.mainDay))}},{key:"getNonStandardWeekByDate",value:function(e){e=xt.clearTime(e)-0;for(var t=this.nonStandardWeeksStartDates,n=this.nonStandardWeeksByStartDate,r=0;r<t.length;r++){var i=n[t[r]];if(i.startDate>e)break;if(i.startDate<=e&&e<=i.endDate)return i}return null}},{key:"setWeekendsAreWorkDays",value:function(e){var t=this;e!==t.weekendsAreWorkdays&&(t.weekendsAreWorkdays=e,t.defaultWeekAvailability=t.getDefaultWeekAvailability(),t.clearCache())}},{key:"areWeekendsWorkDays",value:function(){return this.weekendsAreWorkdays}},{key:"forEachNonStandardWeek",value:function(e,t){for(var n=this.nonStandardWeeksStartDates,r=this.nonStandardWeeksByStartDate,i=0;i<n.length;i++)if(!1===e.call(t||this,r[n[i]]))return!1}},{key:"getCalendarDay",value:function(e){return e="number"==typeof e?new Date(e):e,this.getOverrideDay(e)||this.getWeekDay(e.getDay(),e)||this.getDefaultCalendarDay(e.getDay())}},{key:"getOverrideDay",value:function(e){return this.getOwnCalendarDay(e)||this.parent&&this.parent.getOverrideDay(e)||null}},{key:"getOwnCalendarDay",value:function(e){return e="number"==typeof e?new Date(e):e,this.daysIndex[xt.clearTime(e)-0]}},{key:"getWeekDay",value:function(e,t){if(t){var n=this.getNonStandardWeekByDate(t);if(n&&n.weekAvailability[e])return n.weekAvailability[e]}return this.weekAvailability[e]||this.parent&&this.parent.getWeekDay(e,t)||null}},{key:"isHoliday",value:function(e){var t=e-0,n=this.holidaysCache;if(null!=n[t])return n[t];e="number"==typeof e?new Date(e):e;var r=this.getCalendarDay(e);if(!r)throw new Error("Can't find day for "+e);return n[t]=!r.isWorkingDay}},{key:"getDefaultCalendarDay",value:function(e){return this.hasOwnProperty("defaultAvailability")||this.hasOwnProperty("weekendsAreWorkdays")||!this.parent?this.defaultWeekAvailability[e]:this.parent.getDefaultCalendarDay(e)}},{key:"isWorkingDay",value:function(e){return!this.isHoliday(e)}},{key:"isWeekend",value:function(e){var t=e.getDay();return t===this.weekendFirstDay||t===this.weekendSecondDay}},{key:"convertMSDurationToUnit",value:function(e,t){return e/this.unitsInMs[xt.getUnitByName(t)]}},{key:"convertDurationToMs",value:function(e,t){return e*this.unitsInMs[xt.getUnitByName(t)]}},{key:"forEachAvailabilityInterval",value:function(e,t,n){n=n||this;var r=e.startDate,i=e.endDate,o=!1!==e.isForward;if(o?!r:!i)throw new Error("At least `startDate` or `endDate` is required, depending from the `isForward` option");var a=new Date(o?r:i),s=xt;o?i||(i=s.add(r,e.availabilitySearchLimit||this.availabilitySearchLimit||1825,"day")):r||(r=s.add(i,-(e.availabilitySearchLimit||this.availabilitySearchLimit||1825),"day"));for(var u=!1;o?a<i:a>r;){for(var c=this.getAvailabilityIntervalsFor(a-(o?0:1),!!o&&u),l=o?0:c.length-1;o?l<c.length:l>=0;o?l++:l--){var f=c[l],d=f.startDate,h=f.endDate;if(!(d>=i||h<=r)){var p=d<r?r:d,v=h>i?i:h;if(!1===t.call(n,p,v))return!1}}a=o?s.getStartOfNextDay(a,!1,u):s.getEndOfPreviousDay(a,u),u=!0}}},{key:"calculateDuration",value:function(e,t,n){var r=0;return this.forEachAvailabilityInterval({startDate:e,endDate:t},function(e,t){var n=e.getTimezoneOffset()-t.getTimezoneOffset();r+=t-e+60*n*1e3}),this.convertMSDurationToUnit(r,n)}},{key:"getHolidaysRanges",value:function(e,t,n){if(e>t)throw new Error("startDate can't be bigger than endDate");e=xt.clearTime(e),t=xt.clearTime(t);var r,i,o=[];for(i=e;i<t;i=xt.getNext(i,"day",1))if(this.isHoliday(i)||this.weekendsAreWorkdays&&n&&this.isWeekend(i)){var a=this.getCalendarDay(i),s=a&&a.cls||this.defaultNonWorkingTimeCssCls,u=xt.getNext(i,"day",1);r?r.cls.isEqual(s)?r.endDate=u:(o.push(r),r=new kv({startDate:i,endDate:u,cls:s})):r=new kv({startDate:i,endDate:u,cls:s})}else r&&(o.push(r),r=null);return r&&o.push(r),o}},{key:"calculateEndDate",value:function(e,t,n){if(!t)return new Date(e);var r,i=xt,o=0===(t=this.convertDurationToMs(t,n))&&i.clearTime(e,!0)-e==0?i.add(e,-1,"day"):e;return this.forEachAvailabilityInterval({startDate:o},function(e,n){var i=n-e,o=e.getTimezoneOffset()-n.getTimezoneOffset();if(i>=t)return r=new Date(e-0+t),!1;t-=i+60*o*1e3}),r}},{key:"skipNonWorkingTime",value:function(e,t){var n=!1;if(this.forEachAvailabilityInterval(t?{startDate:e}:{endDate:e,isForward:!1},function(r,i){return e=t?r:i,n=!0,!1}),!n)throw new Error("skipNonWorkingTime: Cannot skip non-working time, please ensure that this calendar has any working period of time specified");return new Date(e)}},{key:"calculateStartDate",value:function(e,t,n){return t?(t=this.convertDurationToMs(t,n),this.forEachAvailabilityInterval({endDate:e,isForward:!1},function(e,n){var i=n-e;if(i>=t)return r=new Date(n-t),!1;t-=i}),r):new Date(e);var r}},{key:"skipWorkingTime",value:function(e,t,n){return t>=0?this.calculateEndDate(e,t,n):this.calculateStartDate(e,-t,n)}},{key:"isChildOf",value:function(e){for(var t=this,n=!1;t&&!n;)n=t===e,t=t.parent;return n}},{key:"getParentableCalendars",value:function(){var e=this;return n.getAllCalendars().reduce(function(t,n){return n===e||n.isChildOf(e)||t.push({id:n.calendarId,name:n.name||n.calendarId}),t},[])}},{key:"getAvailabilityIntervalsFor",value:function(e,t){return e=t?e.valueOf():e instanceof Date?new Date(e.getFullYear(),e.getMonth(),e.getDate()).valueOf():xt.clearTime(new Date(e)).valueOf(),this.availabilityIntervalsCache[e]=this.availabilityIntervalsCache[e]||this.getCalendarDay(e).getAvailabilityIntervalsFor(e)}},{key:"onParentDestroy",value:function(){this.parent=null}},{key:"isAvailabilityIntersected",value:function(e,t,n){for(var r,i,o,a,s=0;s<7;s++)if(r=this.getWeekDay(s)||this.getDefaultCalendarDay(s),o=e.getWeekDay(s)||e.getDefaultCalendarDay(s),r&&o){i=r.getAvailability(),a=o.getAvailability();for(var u=0,c=i.length;u<c;u++)for(var l=0,f=a.length;l<f;l++)if(a[l].startTime<i[u].endTime&&a[l].endTime>i[u].startTime)return!0}var d=!1;return this.forEachNonStandardWeek(function(e){return!(e.startDate>=n)&&(t<e.endDate?(d=!0,!1):void 0)}),d}},{key:"calendarId",get:function(){return this._calendarId},set:function(e){var t=this;t._calendarId=e,t.storeId=null!=e?"GNT_CALENDAR:"+e:null,t.params=Object.assign(t.params||{},{calendarId:e})}},{key:"parent",set:function(e){var t=this,r=n.getCalendar(e);if(e&&!r)throw new Error("Invalid parent specified for the calendar");if(t.parent!=r){var i={calendarchange:t.clearCache,destroy:t.onParentDestroy,thisObj:t},o=t.parent;o&&o.un(i),t._parent=r,r&&r.on(i),t.params=Object.assign(t.params||{},{parentId:r?r.calendarId:null}),t.clearCache(),t.trigger("parentChange",{newParent:r,oldParent:o})}},get:function(){return this._parent}}],[{key:"getCalendar",value:function(e){return e instanceof n?e:Ra.getStore(e)}},{key:"defaultConfig",get:function(){return{modelClass:Uv,daysPerMonth:30,daysPerWeek:7,hoursPerDay:24,unitsInMs:null,defaultNonWorkingTimeCssCls:"b-nonworkingtime",weekendsAreWorkdays:!1,weekendFirstDay:6,weekendSecondDay:0,holidaysCache:null,availabilityIntervalsCache:null,daysIndex:null,weekAvailability:null,defaultWeekAvailability:null,nonStandardWeeksByStartDate:null,nonStandardWeeksStartDates:null,calendarId:null,parent:null,defaultAvailability:["00:00-24:00"],name:null,suspendCacheUpdate:0,availabilitySearchLimit:1825}}},{key:"allCalendars",get:function(){return(Ra.stores||[]).filter(function(e){return e instanceof n})}}]),n}(Pa);function Kv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Xv._$name="Calendar";var Zv=function(e){return function(e){X()(n,e);var t=Kv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"encode",value:function(e){return _.safeJsonStringify(e)}},{key:"decode",value:function(e){return _.safeJsonParse(e)}}]),n}(e||U)};function Jv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function Qv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var eg=function(e){X()(n,e);var t=Qv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.eventStore;return e&&e.getEventsForResource(this)||[]}},{key:"isAbove",value:function(e){var t,n,r,i,o,a=this,s=a.resourceStore;if(a===e)return!1;if(s.tree){for(t=a,n=[];t;)n.push(t),t=t.parentNode;for(t=e,r=[];t;)r.push(t),t=t.parentNode;for(i=0;i<n.length-1&&i<r.length-1&&n[i]==r[i];)++i;return o=n[i],a=n[i+1],e=r[i+1],o.indexOf(a)<o.indexOf(e)}return s.indexOf(a)<s.indexOf(e)}},{key:"unassignAll",value:function(e){var t=this;this.events&&this.events.slice().forEach(function(n){return n.unassign(t,e)})}},{key:"resourceStore",get:function(){return this.stores&&this.stores[0]}},{key:"eventStore",get:function(){var e=this.resourceStore;return e&&e.eventStore||this.parentNode&&this.parentNode.eventStore}},{key:"assignmentStore",get:function(){var e=this.eventStore;return e&&e.assignmentStore}},{key:"events",get:function(){return this.eventStore&&this.eventStore.getEventsForResource(this)}},{key:"isPersistable",get:function(){var e=this.parentNode;return!e||!e.phantom||e.isRoot&&e.isRoot()}}],[{key:"fields",get:function(){return[{name:"name",type:"string",persist:!0},"eventColor","eventStyle","imageUrl","image"]}}]),n}(Tf);function tg(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ng(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ng(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ng(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}eg.exposeProperties(),eg._$name="ResourceModel";var ig=function(e){X()(n,e);var t=rg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){if(ce()(Q()(n.prototype),"construct",this).call(this,e),this.modelClass!==eg&&!(this.modelClass.prototype instanceof eg))throw new Error("Model for ResourceStore must subclass ResourceModel")}},{key:"remove",value:function(e){var t,r=tg(e=Array.isArray(e)?e:[e]);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.getById(i).unassignAll(!0)}}catch(e){r.e(e)}finally{r.f()}ce()(Q()(n.prototype),"remove",this).call(this,e)}},{key:"removeAll",value:function(){this.traverse(function(e){return e.unassignAll(!0)}),ce()(Q()(n.prototype),"removeAll",this).call(this)}}],[{key:"defaultConfig",get:function(){return{loadPriority:200,syncPriority:100,modelClass:eg,storeId:"resources",autoTree:!0}}}]),n}(function(e){return function(e){X()(n,e);var t=Jv(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getScheduledEventsInTimeSpan",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.eventStore;return this.reduce(function(r,i){r.concat(n.getEventsForResource(i).reduce(function(n,r){r.intersectsRange(e,t)&&n.push(r)}))})}},{key:"eventStore",get:function(){return this._eventStore},set:function(e){var t=this;if(t._eventStore!==e){var n=t._eventStore;t._eventStore=e||null,e&&!e.resourceStore&&(e.resourceStore=t),t.trigger("eventStoreChange",{newEventStore:e,oldEventStore:n})}}}]),n}(e||U)}(Pa));function og(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ig._$name="ResourceStore";var ag=["SS","SF","FS","FF"],sg=function(e){X()(n,e);var t=og(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).apply(this,arguments),e&&(e.from&&e.from instanceof kv&&(this.sourceEvent=e.from,delete e.from),e.to&&e.to instanceof kv&&(this.targetEvent=e.to,delete e.to))}},{key:"getHardType",value:function(){return this.get("type")}},{key:"setHardType",value:function(e){var t;return e!==this.getHardType()&&(t=this.set({type:e,fromSide:null,toSide:null})),t}},{key:"setLag",value:function(e,t){1!==arguments.length?(e=parseFloat(e),this.set({lag:e,lagUnit:t})):"number"==typeof e?this.lag=e:(e=xt.parseDuration(e),this.set({lag:e.magnitude,lagUnit:e.unit}))}},{key:"getLag",value:function(){return this.lag?"".concat(this.lag<0?"-":"+").concat(Math.abs(this.lag)).concat(xt.getShortNameOfUnit(this.lagUnit)):""}},{key:"getSourceEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.eventStore;return!e&&this.unjoinedStores.length&&(e=this.leftProjectEventStore),e&&e.getById(this.from)}},{key:"getTargetEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.eventStore;return!e&&this.unjoinedStores.length&&(e=this.leftProjectEventStore),e&&e.getById(this.to)}},{key:"getDateRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.sourceEvent,r=this.targetEvent;if(t&&r&&t.isScheduled&&r.isScheduled){var i,o,a=n.Type;switch(this.type){case a.StartToStart:i=t.startDate,o=r.startDate;break;case a.StartToEnd:i=t.startDate,o=r.endDate;break;case a.EndToEnd:i=t.endDate,o=r.endDate;break;case a.EndToStart:i=t.endDate,o=r.startDate}return{start:e?i:xt.min(i,o),end:e?o:xt.max(i,o)}}return null}},{key:"highlight",value:function(e){var t=this.highlighted?this.highlighted.split(" "):[];t.includes(e)||(this.highlighted=t.concat(e).join(" "))}},{key:"unhighlight",value:function(e){var t=this.highlighted;if(t){var n=t.split(" "),r=n.findIndex(function(t){return t===e});r>=0&&(n.splice(r,1),this.highlighted=n.join(" "))}}},{key:"isHighlightedWith",value:function(e){var t=this.highlighted;return t&&t.split(" ").includes(e)}},{key:"getConnectorString",value:function(e){var t=ag[this.type];if(e)return t;if(this.type===n.Type.EndToStart)return"";var r=_e.locale;if(r){var i=r.Scheduler&&r.Scheduler[t];if(i)return i}return t}},{key:"toString",value:function(){return"".concat(this.from).concat(this.getConnectorString()).concat(this.getLag())}},{key:"isValid",value:function(e){var t=this.from,n=this.to;return"number"==typeof this.type&&t&&""!==t&&null!=n&&""!==n&&t!==n}},{key:"eventStore",get:function(){var e=this.stores,t=this.unjoinedStores;return e[0]&&e[0].eventStore||t[0]&&t[0].eventStore}},{key:"hardType",get:function(){return this.getHardType()},set:function(e){this.setHardType(e)}},{key:"lag",get:function(){return this.get("lag")},set:function(e){"number"==typeof e?this.set({lag:e}):this.setLag(e)}},{key:"fullLag",get:function(){return{unit:this.lagUnit,magnitude:this.lag}},set:function(e){"string"==typeof e?this.setLag(e):this.setLag(e.magnitude,e.unit)}},{key:"sourceEvent",set:function(e){this.from=e.id}},{key:"targetEvent",set:function(e){this.to=e.id}},{key:"isPersistable",get:function(){var e,t=this.stores,n=this.unjoinedStores,r=t[0];if(r){var i=this.getSourceEvent(),o=this.getTargetEvent(),a=r.crudManager;e=i&&(a||!i.hasGeneratedId)&&o&&(a||!o.hasGeneratedId)}else e=Boolean(n[0]);return e}}],[{key:"Type",get:function(){return{StartToStart:0,StartToEnd:1,EndToStart:2,EndToEnd:3}}},{key:"fields",get:function(){return[{name:"from"},{name:"to"},{name:"type",type:"int",defaultValue:2},{name:"cls",defaultValue:""},{name:"bidirectional",type:"boolean"},{name:"fromSide",type:"string"},{name:"toSide",type:"string"},{name:"lag",type:"number",allowNull:!0,defaultValue:0},{name:"lagUnit",type:"string",defaultValue:"d"}]}},{key:"relationConfig",get:function(){return[{relationName:"sourceEvent",fieldName:"from",store:"eventStore",collectionName:"successors"},{relationName:"targetEvent",fieldName:"to",store:"eventStore",collectionName:"predecessors"}]}}]),n}(Yo);function ug(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}sg.exposeProperties(),sg._$name="DependencyBaseModel";var cg=function(e){X()(n,e);var t=ug(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getTypeFromSides",value:function(e,t,n){var r=sg.Type,i=n?"right":"left",o=n?"left":"right";return e===i?t===i?r.StartToStart:r.StartToEnd:t===o?r.EndToEnd:r.EndToStart}}]),n}(sg);function lg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}cg.exposeProperties(),cg._$name="DependencyModel";var fg=function(e){X()(n,e);var t=lg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"doDestroy",value:function(){this.eventStoreDetacher&&this.eventStoreDetacher(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"attachToEventStore",value:function(e){var t=this;t.eventStoreDetacher&&t.eventStoreDetacher(),t.eventStoreDetacher=e.on({remove:t.onEventRemove,thisObj:t,detachable:!0})}},{key:"onEventRemove",value:function(e){var t=this,n=e.records,r=e.isMove,i=void 0!==r&&r,o=e.isCollapse;i||void 0!==o&&o||n.forEach(function(e){e.traverse(function(e){return t.removeEventDependencies(e,!1)})})}},{key:"reduceEventDependencies",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4?arguments[4]:void 0;return o=o||function(e){return r.getEventDependencies(e)},(e=Array.isArray(e)?e:[e]).reduce(function(e,n){n.children&&!i?n.traverse(function(n){e=o(n).reduce(t,e)}):e=o(n).reduce(t,e)},n),n}},{key:"reduceEventPredecessors",value:function(e,t,n,r){return this.reduceEventDependencies(e,t,n,r,function(e){})}},{key:"reduceEventSuccessors",value:function(e,t,n,r){return this.reduceEventDependencies(e,t,n,r,function(e){})}},{key:"mapEventDependencies",value:function(e,t,n,r,i){return this.reduceEventDependencies(e,function(e,t){return n(t)&&e.push(t),e},[],r,i)}},{key:"mapEventPredecessors",value:function(e,t,n,r){return this.reduceEventPredecessors(e,function(e,t){return n(t)&&e.push(t),e},[],r)}},{key:"mapEventSuccessors",value:function(e,t,n,r){return this.reduceEventSuccessors(e,function(e,t){return n(t)&&e.push(t),e},[],r)}},{key:"getEventDependencies",value:function(e){return[].concat(e.predecessors||[],e.successors||[])}},{key:"getEventPredecessors",value:function(e){return e.predecessors}},{key:"getEventSuccessors",value:function(e){return e.successors}},{key:"getUnique",value:function(e){return te()(new Set(e))}},{key:"removeEventDependencies",value:function(e,t){var n=this.getEventDependencies(e,t);n.length&&this.remove(this.getUnique(n))}},{key:"removeEventPredecessors",value:function(e,t){var n=this.getEventPredecessors(e,t);n.length&&this.remove(this.getUnique(n))}},{key:"removeEventSuccessors",value:function(e,t){var n=this.getEventSuccessors(e,t);n.length&&this.remove(this.getUnique(n))}},{key:"getBySourceTargetId",value:function(e){return this.records.find(function(t){return e==n.makeDependencySourceTargetCompositeKey(t.from,t.to)})}},{key:"getDependencyForSourceAndTargetEvents",value:function(e,t){return e=Yo.asId(e),t=Yo.asId(t),this.getBySourceTargetId(n.makeDependencySourceTargetCompositeKey(e,t))}},{key:"getEventsLinkingDependency",value:function(e,t){return this.getDependencyForSourceAndTargetEvents(e,t)||this.getDependencyForSourceAndTargetEvents(t,e)}},{key:"isValidDependency",value:function(e,t,n){return 1===arguments.length&&(n=e.type,t=e.to,e=e.from),null!=e&&null!=t&&e!==t}},{key:"isValidDependencyToCreate",value:function(e,t,n){return this.isValidDependency(e,t,n)}},{key:"getHighlightedDependencies",value:function(e){return this.records.reduce(function(t,n){return n.isHighlightedWith(e)&&t.push(n),t},[])}},{key:"getTimeSpanDependencies",value:function(e){return this.getEventDependencies(e)}},{key:"eventStore",get:function(){return this._eventStore},set:function(e){var t=this,n=t._eventStore;t._eventStore=e,e&&(t.attachToEventStore(e),t.isConfiguring||t.initRelations(!0)),(n||e)&&n!==e&&t.trigger("eventStoreChange",{newEventStore:e,oldEventStore:n})}}],[{key:"makeDependencySourceTargetCompositeKey",value:function(e,t){return"source(".concat(e,")-target(").concat(t,")")}},{key:"defaultConfig",get:function(){return{loadPriority:400,syncPriority:400,modelClass:cg,storeId:"dependencies"}}}]),n}(Pa);function dg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}fg._$name="DependencyStore";var hg=function(e){X()(n,e);var t=dg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.scheduler&&(this.scheduler=e.scheduler,this.scheduler._crudManager=this),ce()(Q()(n.prototype),"construct",this).call(this,e)}},{key:"afterConstruct",value:function(){var e=this,t=e.scheduler;if(t){(t.isVertical||t.isHorizontal&&!t.store)&&(t.resourceStore=e.resourceStore,t.eventStore=e.eventStore);var r=t.features,i=r.dependencies,o=r.timeRanges,a=r.resourceTimeRanges;i&&(e.dependencyStore=i.dependencyStore),o&&(e.addCrudStore(o.store),e._timeRangesStore=o.store),a&&(e.addCrudStore(a.store),e._resourceTimeRangesStore=a.store)}ce()(Q()(n.prototype),"afterConstruct",this).call(this)}},{key:"addFeaturedStore",value:function(e){this.addPrioritizedStore(e)}},{key:"setFeaturedStore",value:function(e,t,n){var r=this,i=r[e];return t=Ra.getStore(t,t&&t.storeClass||n),i&&r.removeStore(i),r[e]=t&&{store:t}||null,r.addFeaturedStore(r[e]),r[e]}},{key:"timeRangesStore",get:function(){return this._timeRangesStore}},{key:"resourceStore",get:function(){return this._resourceStore&&this._resourceStore.store},set:function(e){var t=this;t.setFeaturedStore("_resourceStore",e,t.resourceStoreClass),t.eventStore.resourceStore=t._resourceStore&&t._resourceStore.store}},{key:"eventStore",get:function(){return this._eventStore&&this._eventStore.store},set:function(e){var t=this;if(t.setFeaturedStore("_eventStore",e,t.eventStoreClass),e=t._eventStore&&t._eventStore.store,t.isConfiguring&&e&&!1!==t.addRelatedStores){var r=n.getEventStoreInfo(e,t.initialConfig),i=r.assignmentStore,o=r.resourceStore,a=r.dependencyStore;i&&(t.assignmentStore=i),o&&(t.resourceStore=o),a&&(t.dependencyStore=a)}}},{key:"assignmentStore",get:function(){return this._assignmentStore&&this._assignmentStore.store},set:function(e){this.setFeaturedStore("_assignmentStore",e,this.assignmentStoreClass)}},{key:"dependencyStore",get:function(){return this._dependencyStore&&this._dependencyStore.store},set:function(e){this.setFeaturedStore("_dependencyStore",e,this.dependencyStoreClass)}}],[{key:"getEventStoreInfo",value:function(e,t){e instanceof Fv||(e="string"==typeof e?Ra.getStore(e):e.store);var n={},r=t.assignmentStore,i=t.resourceStore,o=t.dependencyStore;return!r&&(n.assignmentStore=e.assignmentStore),!i&&(n.resourceStore=e.resourceStore),!o&&(n.dependencyStore=e.dependencyStore),n}},{key:"defaultConfig",get:function(){return{resourceStoreClass:ig,eventStoreClass:Fv,assignmentStoreClass:Gv,dependencyStoreClass:fg,resourceStore:{},eventStore:{},assignmentStore:null,dependencyStore:null,addRelatedStores:!0}}}]),n}(Zv(Op(Gp)));function pg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}hg._$name="CrudManager";var vg=function(e){X()(n,e);var t=pg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){e.useBackgroundCanvas=!0,ce()(Q()(n.prototype),"construct",this).call(this,e,t),this.timeAxisViewModel=e.timeAxisViewModel,e.on({theme:"onThemeChange",thisObj:this})}},{key:"doDestroy",value:function(){this.timeAxisViewModelDetatcher&&this.timeAxisViewModelDetatcher(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){this.isConfiguring||(e?(yn.removeEachSelector(this.client.backgroundCanvas,".b-column-line-major"),this.client.backgroundCanvas.style.backgroundImage="none"):this.drawLines()),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"getColorsFromCSS",value:function(){var e=this;if(!e.GotColors){var t=yn.createElement({style:"position: absolute; visibility: hidden",html:'<div class="b-column-line"></div><div class="b-column-line-major"></div>',parent:document.body}),n=yn.getStyleValue(t.firstElementChild,"border-left-color"),r=yn.getStyleValue(t.lastElementChild,"border-left-color"),i=yn.getStyleValue(t.firstElementChild,"border-left-style"),o=yn.getStyleValue(t.lastElementChild,"border-left-style");n&&(e.tickColor=n),r&&(e.majorTickColor=r),i&&(e.tickStyle=i),o&&(e.majorTickStyle=o),t.remove(),e.GotColors=!0}}},{key:"onThemeChange",value:function(){this.GotColors=!1,this.render()}},{key:"render",value:function(){this.getColorsFromCSS(),this.drawLines()}},{key:"drawLines",value:function(){if(this.client.timeAxis.startDate){var e=this,t=e.client,n=t.timeAxis,r=n.startDate,i=t.timeAxisViewModel,o=i.tickSize,a=t.backgroundCanvas,s=document.createElement("canvas"),u=s.getContext("2d"),c=i.columnLinesFor,l=i.headers[c],f=i.headers,d=f[f.indexOf(l)-1]||f[0],h=f[f.length-1],p=n.floorDate(r,!1,d.unit,"year"===d.unit?1:d.increment||1),v=xt.getNext(p,d.unit,d.increment||1,n.weekStartDay),g=Math.round(xt.getDurationInUnit(p,v,h.unit))/(h.increment||1),y=Math.round(xt.getDurationInUnit(p,v,l.unit))/(l.increment||1),m=g/y;if(t.isHorizontal){if(r){var k=f.length>1&&xt.doesUnitsAlign(d.unit,l.unit),b=k?p:n.floorDate(r,!1,l.unit,l.increment),w=n.isContinuous?xt.getDurationInUnit(b,r,h.unit,!0)/n.increment*o:0;yn.removeEachSelector(a,".b-column-line-major");var S=!1,D=!0;l!==d&&k&&"day"===h.unit&&-1!==xt.compareUnits(d.unit,"month")&&(D=!1,n.forEachAuxInterval(d.unit,d.increment,function(e,t){yn.append(a,{tag:"div",className:"b-column-line-major",style:"left:".concat(i.getPositionFromDate(t)-1,"px;")})})),s.width=Math.min(2*g*o,32767),s.height=20,u.translate(-.5,-.5),u.lineWidth=2;for(var R=0;R<y;R++){var C=(S=0===R&&(d!==l&&k&&D&&n.isContinuous))&&e.majorTickStyle||!S&&e.tickStyle;if("solid"!==C)switch(C){case"dashed":u.setLineDash([6,4]);break;case"dotted":u.setLineDash([2,3])}u.beginPath(),u.strokeStyle=S?e.majorTickColor:e.tickColor,u.moveTo(R*m*o*2+10-1,0),u.lineTo(R*m*o*2+10-1,22),u.stroke()}a.style.backgroundImage="url(".concat(s.toDataURL(),")"),a.style.backgroundSize="".concat(s.width/2,"px"),a.style.backgroundPositionX="".concat(-(5+w),"px")}}else{if(s.width=2*t.timeAxisColumn.resourceColumns.columnWidth,s.height=2,u.translate(-.5,-.5),u.lineWidth=2,r){if(yn.removeEachSelector(a,".b-column-line-major"),l!==d&&n.forEachAuxInterval(d.unit,d.increment,function(e,t){yn.append(a,{tag:"div",className:"b-column-line-major",style:"top:".concat(i.getPositionFromDate(t)-1,"px;")})}),"solid"!==e.tickStyle)switch(e.tickStyle){case"dashed":u.setLineDash([6,4]);break;case"dotted":u.setLineDash([2,3])}var x=m*o*2;s.height=x,u.beginPath(),u.strokeStyle=e.tickColor,u.lineWidth=2,u.moveTo(0,x-1),u.lineTo(s.width+2,x-1),u.stroke()}u.beginPath(),u.strokeStyle=e.tickColor,u.moveTo(s.width-1,0),u.lineTo(s.width-1,s.height+2),u.stroke(),a.style.backgroundImage="url(".concat(s.toDataURL(),")"),a.style.backgroundSize="".concat(s.width/2,"px"),a.style.backgroundPositionX="0"}}}},{key:"updateCanvasSize",value:function(){this.disabled||this.drawLines()}}],[{key:"$name",get:function(){return"ColumnLines"}},{key:"properties",get:function(){return{tickColor:"#e6e6e6",majorTickColor:"#999",tickStyle:"solid",majorTickStyle:"solid"}}},{key:"pluginConfig",get:function(){return{after:["render","updateCanvasSize"]}}}]),n}(To);function gg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}vg._$name="ColumnLines",Ff.registerFeature(vg,!0,["Scheduler","Gantt"]);var yg=function(e){X()(n,e);var t=gg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).call(this,e)}},{key:"generateContent",value:function(e){var t=e.date,n=this.template(e),r=this.div;return r.innerHTML=n,this.updateDateIndicator(r,t),r.innerHTML}},{key:"updateDateIndicator",value:function(e,t){var n=e.querySelector(".b-sch-hour-indicator"),r=e.querySelector(".b-sch-minute-indicator");t&&n&&r&&("hour"===this.mode?(n.style.transform="rotate(".concat(t.getHours()%12*30,"deg)"),r.style.transform="rotate(".concat(6*t.getMinutes(),"deg)")):(n.style.transform="none",r.style.transform="none"))}},{key:"mode",get:function(){var e=xt.compareUnits(this.scheduler.timeAxisViewModel.timeResolution.unit,"day")<0,t=xt.formatContainsHourInfo(this.scheduler.displayDateFormat);return e&&t?"hour":"day"}},{key:"template",set:function(e){this._template=e},get:function(){return this._template}}],[{key:"defaultConfig",get:function(){return{minuteHeight:8,minuteTop:2,hourHeight:8,hourTop:2,handLeft:10,div:document.createElement("div"),scheduler:null,template:function(e){return'<div class="b-sch-clockwrap b-sch-clock-'.concat(this.mode," ").concat(e.cls||"",'">\n                    <div class="b-sch-clock">\n                        <div class="b-sch-hour-indicator">').concat(xt.format(e.date,"MMM"),'</div>\n                        <div class="b-sch-minute-indicator">').concat(xt.format(e.date,"D"),'</div>\n                        <div class="b-sch-clock-dot"></div>\n                    </div>\n                    <span class="b-sch-clock-text">').concat(e.text,"</span>\n                </div>")}}}}]),n}(U);function mg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}yg._$name="ClockTemplate";var kg=function(e){X()(r,e);var t,n=mg(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"render",value:function(){var e,t=this,n=t.client;t.drag&&t.drag.destroy(),t.drag=new Hc(Object.assign((e={name:t.constructor.name,mode:"translateXY"},se()(e,this.client.isHorizontal?"lockY":"lockX",t.constrainDragToResource),se()(e,this.client.isHorizontal?"lockX":"lockY",t.constrainDragToTimeSlot),se()(e,"minX",!0),se()(e,"maxX",!0),se()(e,"constrain",!1),se()(e,"cloneTarget",!t.constrainDragToTimeline),se()(e,"dragWithin",t.constrainDragToTimeline?null:document.body),se()(e,"hideOriginalElement",!0),se()(e,"outerElement",n.timeAxisSubGridElement),se()(e,"targetSelector",n.eventSelector),se()(e,"isElementDraggable",function(e,r){return!n.readOnly&&t.isElementDraggable(e,r)}),se()(e,"scrollManager",t.constrainDragToTimeline?n.scrollManager:null),se()(e,"transitionDuration",n.transitionDuration),se()(e,"listeners",{beforedragstart:"onBeforeDragStart",dragstart:"onDragStart",drag:"onDrag",drop:"onDrop",abort:"onDragAbort",reset:"onDragReset",thisObj:t}),e),t.dragHelperConfig)),n.rowManager.on({changeTotalHeight:"updateYConstraint",thisObj:t}),t.showTooltip&&(t.clockTemplate=new yg({scheduler:n}))}},{key:"doDestroy",value:function(){var e=this;e.drag&&e.drag.destroy(),e.clockTemplate&&e.clockTemplate.destroy(),e.tip&&e.tip.destroy(),ce()(Q()(r.prototype),"doDestroy",this).call(this)}},{key:"onBeforeDragStart",value:function(e){var t=e.context,n=this.client,r=n.scheduledEventName,i=n.resolveEventRecord(t.element);if(this.disabled||!i||!i.isDraggable)return!1;t.pointerStartDate=n.getDateFromXY([t.startClientX,t.startPageY],null,!1);var o=!1!==n.trigger("before".concat(r,"Drag"),{eventRecord:i,context:this.dragData});return!1!==o&&this.updateYConstraint(i),o}},{key:"onDragStart",value:function(e){var t,n=e.context,r=e.event,i=this,o=i.client,a=o.scheduledEventName;i.currentOverClient=o,i.scrollClients={},i.onMouseOverNewTimeline(o);var s=i.dragData=i.getDragData(n,r);if(i.showTooltip){var u=s.context.dragProxy?s.context.dragProxy.firstChild:n.element;i.tip?i.tip.showBy(u):(i.tip=new ao({id:"".concat(o.id,"-event-drag-tip"),align:"b-t",autoShow:!0,updateContentOnMouseMove:!0,clippedBy:i.constrainDragToTimeline?[o.timeAxisSubGridElement,o.bodyContainer]:null,forElement:u,getHtml:i.getTipHtml.bind(i),style:"pointer-events:none",cls:i.tooltipCls}),i.tip.on("innerhtmlupdate",i.updateDateIndicator,i))}o.trigger("".concat(a,"DragStart"),(t={},se()(t,"".concat(a,"Records"),s.draggedRecords),se()(t,"context",s),t))}},{key:"updateDateIndicator",value:function(){var e=this.dragData,t=e.startDate,n=e.endDate,r=this.tip,i=r.element.querySelector(".b-sch-tooltip-enddate");this.clockTemplate.updateDateIndicator(r.element,t),i&&this.clockTemplate.updateDateIndicator(i,n)}},{key:"onDrag",value:function(e){var t,n=e.context,r=e.event,i=this,o=i.dragData,a=o.startDate;if(i.constrainDragToTimeline)t=i.client;else{var s=r.target;if(/^touch/.test(r.type)){var u=Wn.from(o.context.element,null,!0).center;s=yn.elementFromPoint(u.x,u.y)}t=De.fromElement(s,"timelinebase")}var c=i.client.features.dependencies,l=n.newX,f=n.newY;if(t){if(t!==i.currentOverClient&&i.onMouseOverNewTimeline(t),i.updateDragContext(n,r),i.constrainDragToTimeline&&(i.showExactDropPosition||i.client.timeAxisViewModel.snap)){var d=t.getDateFromCoordinate(i.getCoordinate(o.draggedRecords[0],n.element,[l,f]))-o.sourceDate,h=new Date(o.origStart-0+d),p=t.timeAxisViewModel.getDistanceBetweenDates(h,o.startDate);o.startDate>=t.timeAxis.startDate&&null!=p&&yn.addTranslateX(n.element,p)}i.triggerEventDrag(o,a);var v=i.checkDragValidity(o,r);v&&"boolean"!=typeof v&&(n.message=v.message||"",v=v.valid),n.valid=!1!==v,i.showTooltip&&i.tip.realign(),c&&c.updateDependenciesForTimeSpan(o.draggedRecords[0],o.context.element.querySelector(t.eventInnerSelector))}else c&&c.updateDependenciesForTimeSpan(o.draggedRecords[0],o.context.element)}},{key:"onMouseOverNewTimeline",value:function(e){var t=this.scrollClients||{};(this.currentOverClient.element.classList.remove("b-dragging-"+this.currentOverClient.scheduledEventName),e.element.classList.add("b-dragging-"+e.scheduledEventName),e.id in t)||(e.scrollManager.startMonitoring({element:e.timeAxisSubGridElement}),t[e.id]=e);this.currentOverClient=e}},{key:"onDrop",value:function(e){var t=e.context,n=e.event,r=this,i=r.currentOverClient,o=r.dragData,a=!1;r.updateDragContext(t,n),r.tip&&r.tip.hide(),t.valid&&o.startDate&&o.endDate&&(o.finalize=function(){r.finalize.apply(r,arguments),t.finalize.apply(t,arguments)},i.trigger("before".concat(i.capitalizedEventName,"DropFinalize"),{context:o,event:n}),t.async=o.async,!t.async&&r.isValidDrop(o)&&(a=o.startDate-o.origStart!=0||o.newResource!==o.resourceRecord)),t.async||r.finalize(o.valid&&t.valid&&a)}},{key:"onDragAbort",value:function(e){var t,n=e.context,r=this,i=r.dragData,o=r.client,a=i.draggedRecords;o.currentOrientation.onDragAbort(n),r.dragData.record.instanceMeta(o).retainElement=!1,r.tip&&r.tip.hide(),o.trigger("".concat(o.capitalizedEventName,"DragAbort"),(t={},se()(t,"".concat(o.scheduledEventName,"Records"),a),se()(t,"context",i),t))}},{key:"onDragReset",value:function(e){var t=e.source,n=this,r=n.scrollClients||{};for(var i in r)r[i].scrollManager.stopMonitoring(r[i].timeAxisSubGridElement);t.context&&t.context.started&&n.dragData.eventBarEls[0].classList.remove("b-drag-main");if(n.scrollClients=null,n.currentOverClient&&n.currentOverClient.element.classList.remove("b-dragging-"+n.currentOverClient.scheduledEventName),n.dragData&&!n.dragData.context.valid){var o=n.currentOverClient.features.dependencies;o&&o.scheduleDraw(!0)}}},{key:"onInternalInvalidDrop",value:function(){var e,t=this,n=t.currentOverClient;t.tip&&t.tip.hide(),t.drag.abort(),n.trigger("after".concat(n.capitalizedEventName,"Drop"),(e={},se()(e,n.scheduledEventName+"Records",t.dragData.draggedRecords),se()(e,"valid",!1),se()(e,"context",t.dragData),e))}},{key:"finalize",value:(t=ro()(to.a.mark(function e(t){var n,r,i,o,a,s,u;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=this).currentOverClient,i=n.dragData,o=i.context,(a=i.draggedRecords).forEach(function(e,t){n.resumeElementRedrawing(e),i.eventBarEls[t].classList.remove(n.drag.draggingCls)}),!t){e.next=11;break}if(s=n.updateRecords(i),!It.isPromise(s)){e.next=8;break}return o.async=!0,e.next=8,s;case 8:i.valid?(n.drag.reset(),r.trigger("after".concat(r.capitalizedEventName,"Drop"),(u={},se()(u,"".concat(r.scheduledEventName,"Records"),a),se()(u,"valid",!0),se()(u,"context",i),u))):n.onInternalInvalidDrop(),e.next=12;break;case 11:n.onInternalInvalidDrop();case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"updateDragContext",value:function(e,t){var n=this,r=n.drag,i=n.dragData,o=n.currentOverClient,a=o.isHorizontal,s=e.element,u=Wn.from(s,o.timeAxisSubGridElement),c=i.draggedRecords[0],l=c.isAssignment?c.event:c,f=n.constrainDragToTimeSlot||(a?r.lockX:r.lockY);if(i.browserEvent=t,f)i.timeDiff=0;else{if(o.timeAxis.isContinuous){var d=i.dateConstraints,h=o.timeAxisSubGrid.scrollable,p=h.viewport,v=o.isHorizontal?e.clientX-p.x+h.x:e.clientY-p.y+h.y,g=o.timeAxisViewModel.getDateFromPosition(v,null,!0),y=i.timeDiff=g-e.pointerStartDate;i.startDate=n.adjustStartDate(i.origStart,y),d&&(i.startDate=xt.constrain(i.startDate,d.start,new Date(d.end-l.durationMS))),i.endDate=new Date(i.startDate-0+i.duration)}else{var m=n.resolveStartEndDates(u);i.valid=Boolean(m.startDate&&m.endDate),i.valid&&(i.startDate=m.startDate,i.endDate=m.endDate)}i.valid&&(i.timeDiff=i.startDate-i.origStart)}if(Object.assign(i,n.getProductDragContext(i)),i.valid)if(i.endDate<=o.timeAxis.startDate||i.startDate>=o.timeAxis.endDate)i.context.valid=!1,i.context.message=n.L("L{EventDrag.noDropOutsideTimeline}");else{var k=!t||n.checkDragValidity(i,t);k&&"boolean"!=typeof k?(i.context.valid=!1!==k.valid,i.context.message=k.message):(i.context.valid=!1!==k,i.context.message="")}else i.context.valid=!1}},{key:"suspendElementRedrawing",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.instanceMeta(this.client).retainElement=t}},{key:"resumeElementRedrawing",value:function(e){this.suspendElementRedrawing(e,!1)}},{key:"getDragData",value:function(e,t){var n=this,r=n.client,i=n.setupProductDragData(e),o=i.record,a=i.dateConstraints,s=i.eventBarEls,u=i.draggedRecords,c=o.startDate,l=o.endDate,f=r.timeAxis,d=c<f.startDate,h=l>f.endDate,p=n.getCoordinate(o,e.element,[e.elementStartX,e.elementStartY]),v=n.getCoordinate(o,e.element,[e.startClientX,e.startClientY]);u.forEach(function(e){return n.suspendElementRedrawing(e)}),n.drag.startEvent.ctrlKey&&n.client.selectEvent(u[0],!0);var g={context:e,dateConstraints:a,eventBarEls:s,record:o,draggedRecords:u,sourceDate:d?c:r.getDateFromCoordinate(p),screenSourceDate:r.getDateFromCoordinate(v,null,!1),origStart:c,origEnd:l,startDate:c,endDate:l,timeDiff:0,startsOutsideView:d,endsOutsideView:h,duration:l-c,browserEvent:t};if(s.forEach(function(e){e.classList.add(n.drag.draggingCls),e.classList.remove("b-sch-event-hover"),e.classList.remove("b-active"),e.classList.remove("b-first-render")}),s.length>1)if(e.relatedElements=s.slice(1),e.relatedElStartPos=[],e.relatedElDragFromPos=[],n.unifiedDrag){n.client.isAnimating=!0,ur.on({element:s[1],transitionend:function(){n.client.isAnimating=!1},once:!0}),s[0].classList.add("b-drag-main");var y=yn.getTranslateXY(e.element),m=re()(y,2),k=m[0],b=m[1];e.relatedElements.forEach(function(t,n){e.relatedElStartPos[n]=yn.getTranslateXY(t),k+=10,b+=10,yn.setTranslateXY(t,k,b),e.relatedElDragFromPos[n]=[k,b]})}else e.relatedElements.forEach(function(t,n){e.relatedElStartPos[n]=e.relatedElDragFromPos[n]=yn.getTranslateXY(t)});return g}},{key:"getRelatedRecords",value:function(e){return[]}},{key:"setupConstraints",value:function(e,t,n,r){var i=!this.showExactDropPosition&&n>1?n:0;r?this.setXConstraint(e.left,e.right-t.width,i):this.setXConstraint(!0,!0,i),this.setYConstraint(e.top,e.bottom-t.height,0)}},{key:"updateYConstraint",value:function(e){var t=this,n=t.client,r=t.drag.context,i=n.timeAxisViewModel.snapPixelAmount;if(r&&!t.drag.lockY){var o;if(!t.constrainDragToTimeline)return void t.setYConstraint(null,null,i);o=n.getScheduleRegion(null,e),t.setYConstraint(o.top,o.bottom-r.element.offsetHeight,i)}else t.setYConstraint(null,null,i)}},{key:"setXConstraint",value:function(e,t,n){var r=this.drag;r.leftConstraint=e,r.rightConstraint=t,r.minX=e,r.maxX=t}},{key:"setYConstraint",value:function(e,t,n){var r=this.drag;r.topConstraint=e,r.bottomConstraint=t,r.minY=e,r.maxY=t}},{key:"adjustStartDate",value:function(e,t){return this.client.timeAxis.roundDate(new Date(e-0+t),!!this.client.snapRelativeToEventStartDate&&e)}},{key:"resolveStartEndDates",value:function(e){var t=this.client.getStartEndDatesFromRectangle(e,"round",this.dragData.duration);return{startDate:t.start,endDate:t.end}}},{key:"getTipHtml",value:function(){var e,t=this,n=t.dragData,r=n.startDate,i=n.endDate,o=n.draggedRecords,a=t.client.getFormattedDate(r),s=t.client.getFormattedEndDate(i,r),u=t.dragData.context,c=u.valid,l=u.message;return t.dragTipTemplate((e={valid:c,startDate:r,endDate:i,startText:a,endText:s,message:l||""},se()(e,t.client.scheduledEventName+"Record",o[0]),se()(e,"dragData",t.dragData),se()(e,"startClockHtml",t.clockTemplate.template({date:r,text:a,cls:"b-sch-tooltip-startdate"})),se()(e,"endClockHtml",o[0].isMilestone?"":t.clockTemplate.template({date:i,text:s,cls:"b-sch-tooltip-enddate"})),e))}},{key:"isValidDrop",value:function(e){throw new Error("Implement in subclass")}},{key:"checkDragValidity",value:function(e){throw new Error("Implement in subclass")}},{key:"updateRecords",value:function(e){throw new Error("Implement in subclass")}},{key:"isElementDraggable",value:function(e,t){throw new Error("Implement in subclass")}},{key:"getCoordinate",value:function(e,t,n){throw new Error("Implement in subclass")}},{key:"setupProductDragData",value:function(e){throw new Error("Implement in subclass")}},{key:"getProductDragContext",value:function(e){throw new Error("Implement in subclass")}},{key:"constrainDragToTimeSlot",set:function(e){var t=this.client.isHorizontal?"lockX":"lockY";this._constrainDragToTimeSlot=e,this.drag&&(this.drag[t]=e)},get:function(){return this._constrainDragToTimeSlot}},{key:"constrainDragToResource",set:function(e){var t=this.client.isHorizontal?"lockY":"lockX";this._constrainDragToResource=e,this.drag&&(this.drag[t]=e)},get:function(){return this._constrainDragToResource}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e}}],[{key:"defaultConfig",get:function(){return{dragTipTemplate:function(e){return'\n                <div class="b-sch-tip-'.concat(e.valid?"valid":"invalid",'">\n                    ').concat(e.startClockHtml,"\n                    ").concat(e.endClockHtml,'\n                    <div class="b-sch-tip-message">').concat(e.message,"</div>\n                </div>\n            ")},constrainDragToResource:!0,showTooltip:!0,showExactDropPosition:!1,constrainDragToTimeline:!0,store:null,dragHelperConfig:null,tooltipCls:null}}},{key:"pluginConfig",get:function(){return{chain:["render"]}}}]),r}(To);function bg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}kg._$name="DragBase";var wg=function(e){X()(n,e);var t=bg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"doDestroy",value:function(){this.menu&&this.menu.destroy()}},{key:"onElementContextMenu",value:function(e){"contextmenu"===this.triggerEvent&&this.showEventContextMenu(e)}},{key:"onElementClick",value:function(e){"click"===this.triggerEvent&&this.showEventContextMenu(e)}},{key:"onElementDblClick",value:function(e){"dblclick"===this.triggerEvent&&this.showEventContextMenu(e)}},{key:"onEventSpaceKey",value:function(e){var t=Wn.from(e.target).center,n=new MouseEvent("contextmenu",Object.assign({clientX:t.x,clientY:t.y},e));Object.defineProperty(n,"target",{get:function(){return e.target}}),this.showEventContextMenu(n)}},{key:"showEventContextMenu",value:function(e){var t=this.client,n=e.target,r=yn.up(n,t.eventSelector),i=r||n;if(i){var o=this.resolveRecord(i);o&&(e.preventDefault(),this.showContextMenuFor(o,{targetElement:i,eventElement:r,event:e}))}}},{key:"showContextMenuFor",value:function(e,t){}},{key:"beforeContextMenuShow",value:function(){}},{key:"showContextMenu",value:function(e){if(!this.disabled){var t=this,n=e.event,r=e.menuType.toLowerCase(),i=_.lowercaseFirstLetter(r),o="get".concat(_.capitalizeFirstLetter(r),"MenuItems"),a=t.client,s=t.processItems,u=t.defaultItems,c=t.namedItems,l=n?[n.clientX+1,n.clientY+1]:Wn.from(e.targetElement).center,f=e.items=It.isEmpty(t.items)?It.clone(u):It.merge(It.clone(u),t.items);e.namedItems=c,e.selection=a.selectedRecords;var d=a.getColumnFromElement(e.targetElement),h=[];if(d){a.getCellMenuItems(d,e.taskRecord,h);var p=h.reduce(function(e,t){return e[t.name]=t,e},{});f=e.items=It.copyPropertiesIf(f,p,Object.keys(p))}!function e(t,n){for(var r in t){var i=t[r];if(i){r in n&&(i=t[r]="object"===oe()(i)?It.merge(It.clone(n[r]),i):n[r]);var o=i.menu;o&&e("items"in o?o.items:o,n)}}}(f,c),a[o]&&a[o](e,f),s&&!1===s(e)||It.isEmpty(e.items)||!1!==t.beforeContextMenuShow(e)&&!1!==a.trigger("".concat(i,"ContextMenuBeforeShow"),e)&&(t.menu=Ce.showContextMenu(l,{owner:a,scrollAction:"hide",clippedBy:[a.timeAxisSubGridElement,a.bodyContainer],constrainTo:window,items:f,onDestroy:function(){t.menu=null},onBeforeItem:function(t){Object.assign(t,e)},onItem:function(e){return a.trigger("".concat(i,"ContextMenuItem"),e)},listeners:{show:function(t){var n=t.source;e.menu=n,a.trigger("".concat(i,"ContextMenuShow"),e)}}}))}}},{key:"hideContextMenu",value:function(e){this.menu&&this.menu.hide(e)}},{key:"defaultItems",set:function(e){this._defaultItems=e},get:function(){var e=It.clone(this._defaultItems);if(this.client.readOnly)for(var t in e)e[t]=!1;return e}},{key:"triggerEvent",get:function(){return this._triggerEvent||this.client.contextMenuTriggerEvent},set:function(e){this._triggerEvent=e}}],[{key:"defaultConfig",get:function(){return{defaultItems:null,items:null,processItems:null,triggerEvent:null}}},{key:"pluginConfig",get:function(){return{assign:["showEventContextMenu"],chain:["onElementContextMenu","onElementClick","onElementDblClick","onEventSpaceKey"]}}}]),n}(To);function Sg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}wg._$name="TimeSpanRecordContextMenuBase";var Dg=function(e){X()(n,e);var t=Sg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"resolveRecord",value:function(e){return this.client.resolveEventRecord(e)}},{key:"showContextMenuFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.targetElement,r=t.event,i=this,o=i.client;(n||(n=o.getElementsFromEventRecord(e)[0]))&&i.showContextMenu({menuType:"event",eventElement:n,targetElement:n,eventRecord:e,resourceRecord:o.resolveResourceRecord(n),assignmentRecord:o.resolveAssignmentRecord(n),event:r})}},{key:"defaultItems",set:function(e){this._defaultItems=e},get:function(){var e=ce()(Q()(n.prototype),"defaultItems",this);return this.client.assignmentStore||(e.unassignEvent=!1),e}},{key:"namedItems",get:function(){var e=this.client;return this._namedItems||(this._namedItems={deleteEvent:{text:"L{Scheduler.Delete event}",localeClass:this,icon:"b-icon b-icon-trash",weight:-160,onItem:function(t){var n=t.menu,r=t.eventRecord,i=n.focusInEvent&&n.focusInEvent.relatedTarget;i&&(i.focus(),e.navigator.activeItem=i),e.removeRecords([r])}},unassignEvent:{text:"L{Scheduler.Unassign event}",localeClass:this,icon:"b-icon b-icon-unassign",weight:-150,name:"unassignEvent",onItem:function(t){var n=t.menu,r=t.eventRecord,i=t.resourceRecord,o=n.focusInEvent&&n.focusInEvent.relatedTarget;o&&(o.focus(),e.navigator.activeItem=o),r.unassign(i)}}}),this._namedItems}}],[{key:"$name",get:function(){return"EventContextMenu"}},{key:"defaultConfig",get:function(){return{items:null,processItems:null,defaultItems:{deleteEvent:!0,unassignEvent:!0}}}}]),n}(wg);Dg.featureClass="",Dg._$name="EventContextMenu",Ff.registerFeature(Dg,!0,"Scheduler");n(273),n(234);function Rg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function Cg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var xg=function(e){return function(e){X()(n,e);var t=Cg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"obtainResourceStore",value:function(e,t){return e.store}},{key:"obtainDependencyStore",value:function(e,t){return e.dependencyStore}},{key:"obtainAssignmentStore",value:function(e,t){return e.assignmentStore}},{key:"obtainEventStore",value:function(e,t){return e.eventStore}}],[{key:"defaultConfig",get:function(){return{dataLayerStores:["resourceStore","dependencyStore","assignmentStore","eventStore"]}}}]),n}(function(e){return function(e){X()(n,e);var t=Rg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"startConfigure",value:function(e){this.configDataLayer(this.client,e),ce()(Q()(n.prototype),"startConfigure",this).call(this,e)}},{key:"doDestroy",value:function(){var e=this;return(this.dataLayerStores||[]).forEach(function(t){"columns"===t&&(t="columnStore"),e[t]=null}),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"configDataLayer",value:function(e,t){var n=this;return(t.dataLayerStores||[]).reduce(function(t,r){if("columnStore"===r||"columns"===r)r="columnStore",t.columnStore=t.columnStore||t.columns||n.obtainColumnStore(e,t);else{var i="obtain".concat(_.capitalizeFirstLetter(r)),o=n[i];t[r]=t[r]||o&&o.call(n,e,t)}return Reflect.has(n,r)||!Object.isExtensible(n)||Object.isSealed(n)||Object.isFrozen(n)||Object.defineProperty(n,r,{get:function(){return this["_".concat(r)]},set:function(e){this.setDataLayerStore(r,e)}}),t},t)}},{key:"attachToDataLayer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.dataLayerStores||[]).forEach(function(n){"columns"===n&&(n="columnStore");var r="obtain".concat(_.capitalizeFirstLetter(n)),i=e[r];e[n]&&!t||!i||(e[n]=i.call(e,e.client))})}},{key:"setDataLayerStore",value:function(e,t){var n="_".concat(e),r="_".concat(e,"Detacher"),i="on".concat(_.capitalizeFirstLetter(e),"Change"),o="get".concat(_.capitalizeFirstLetter(e),"ListenersConfig");if(this[n]!==t&&(this[r]&&(this[r](),this[r]=null),this[i]&&this[i](t,this[n]),this[n]=t,t&&this[o])){var a=this[o]();a&&(this[r]=t.on(Object.assign({thisObj:this,detachable:!0},a)))}}},{key:"obtainStore",value:function(e,t){return e.store}},{key:"obtainColumnStore",value:function(e,t){return e.columns}}],[{key:"defaultConfig",get:function(){return{dataLayerStores:["store"]}}}]),n}(e||U)}(e||U))};function Eg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Tg=function(e){return function(e){X()(n,e);var t=Eg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"addEventToResource",value:function(e){var t=e.event,n=e.resource,r=e.eventStore,i=e.assignmentStore;t=r.add(t)[0];var o=this.addAssignment({event:t,resource:n,assignmentStore:i}).assignment;return{event:t,assignment:o!==t?o:null}}},{key:"getEventDependencies",value:function(e){var t=e.event;return e.dependencyStore.getEventDependencies(t)}},{key:"getEventAssignments",value:function(e){var t=e.event;e.assignmentStore;return t.assignments||[]}},{key:"getEventResource",value:function(e){var t=e.event;e.resourceStore;return t.resource}},{key:"isEventAssignedToResource",value:function(e){var t=this,n=e.event,r=e.resource,i=e.resourceStore,o=e.assignmentStore;return o?this.getEventAssignments({event:n,assignmentStore:o}).some(function(e){return t.isAssignmentForResource({assignment:e,resource:r,resourceStore:i})}):n.resource===r}},{key:"assignEventToResource",value:function(e){var t,n=e.event,r=e.resource,i=e.assignmentStore;return i?t=i.add({eventId:n.id,resourceId:r.id})[0]:n.resourceId=r.id,t||n}}]),n}(e||U)};function Mg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Pg=function(e){return function(e){X()(n,e);var t=Mg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"isAssignmentEventAssigned",value:function(e){return!!e.assignment.event}},{key:"isAssignmentResourceAssigned",value:function(e){return!!e.assignment.resource}},{key:"isAssignmentAssigned",value:function(e){var t=e.assignment;return!!t.event&&!!t.resource}},{key:"isAssignmentForResource",value:function(e){var t=e.assignment,n=e.resource;e.resourceStore;return t.resource===n}},{key:"getAssignmentResource",value:function(e){var t=e.assignment;e.resourceStore;return t.resource}},{key:"getAssignmentEvent",value:function(e){var t=e.assignment;e.eventStore;return t.event}},{key:"getAssignmentDependencies",value:function(e){var t=e.assignment,n=e.dependencyStore,r=t.event;return r?this.getEventDependencies({event:r,dependencyStore:n}):[]}},{key:"addAssignment",value:function(e){var t=e.event,n=e.resource,r=e.assignmentStore,i=e.assignmentConfig;return{assignment:r.add(Object.assign({},i,{eventId:t.id,resourceId:n.id}))[0]}}}]),n}(e||U)};function Ag(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ig=function(e){return function(e){X()(n,e);var t=Ag(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getDependencySourceEvent",value:function(e){var t=e.dependency;e.eventStore;return t.sourceEvent}},{key:"getDependencyTargetEvent",value:function(e){var t=e.dependency;e.eventStore;return t.targetEvent}},{key:"getDependencySourceAssignments",value:function(e){var t=e.dependency,n=e.assignmentStore,r=t.sourceEvent;return r?this.getEventAssignments({event:r,assignmentStore:n}):[]}},{key:"getDependencyTargetAssignments",value:function(e){var t=e.dependency,n=e.assignmentStore,r=t.targetEvent;return r?this.getEventAssignments({event:r,assignmentStore:n}):[]}},{key:"getDependencyAssignments",value:function(e){var t=e.dependency,n=e.assignmentStore;[].concat(this.getDependencySourceAssignments({dependency:t,assignmentStore:n}),this.getDependencyTargetAssignments({dependency:t,assignmentStore:n}))}},{key:"getDependencyAssignmentsAsFromToArray",value:function(e){var t=e.dependency,n=e.assignmentStore,r=this.getDependencySourceAssignments({dependency:t,assignmentStore:n}),i=this.getDependencyTargetAssignments({dependency:t,assignmentStore:n});return r.reduce(function(e,t){return i.reduce(function(e,n){return e.push({from:t,to:n}),e},e)},[])}},{key:"isDependencySourceAssignment",value:function(e){var t=e.dependency,n=e.assignment;return t.from===n.eventId}},{key:"isDependnecyTargetAssignment",value:function(e){var t=e.dependency,n=e.assignment;return t.to===n.eventId}},{key:"isValidDependency",value:function(e){var t=e.sourceEvent,n=e.targetEvent,r=e.type;return e.dependencyStore.isValidDependency(t.id,n.id,r)}},{key:"isValidDependencyToCreate",value:function(e){var t=e.sourceEvent,n=e.targetEvent,r=e.type;return e.dependencyStore.isValidDependencyToCreate(t.id,n.id,r)}},{key:"createDependency",value:function(e){var t=e.sourceEvent,n=e.targetEvent,r=e.type,i=e.fromSide,o=e.toSide;return e.dependencyStore.add({from:t.id,to:n.id,type:r,fromSide:i,toSide:o})[0]}}]),n}(e||U)};function Fg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Lg=function(e){return function(e){X()(n,e);var t=Fg(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(e||U)};function Og(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var _g=function(e){var t,n=[Pg,Ig,Tg,Lg],r=(t=Uo(U)).mixes.apply(t,n);return function(e){X()(n,e);var t=Og(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"dataApi",get:function(){return this._dataApi||(this._dataApi=new r({host:this.dataApiHost||this})),this._dataApi}}]),n}(e||U)};function jg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Hg=[null],Ng=function(e){X()(n,e);var t=jg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"isElementDraggable",value:function(e,t){var n=this.scheduler,r=yn.up(e,n.eventSelector),i=n.features.eventResize;if(!r||this.disabled)return!1;if(e.matches('[class$="-handle"]'))return!1;var o=n.resolveEventRecord(r);return!(i&&!o.isMilestone&&i.resize.overAnyHandle(t,r))}},{key:"triggerEventDrag",value:function(e,t){e.startDate-t==0&&e.newResource===e.resourceRecord||this.scheduler.trigger("eventDrag",{eventRecords:e.draggedRecords,startDate:e.startDate,endDate:e.endDate,newResource:e.newResource,context:e})}},{key:"onDragStart",value:function(e){var t=e.context,r=e.event,i=this.client.features.eventContextMenu;ce()(Q()(n.prototype),"onDragStart",this).call(this,{context:t,event:r}),i&&i.hideContextMenu(!1)}},{key:"isValidDrop",value:function(e){var t=e.newResource,n=e.resourceRecord,r=e.draggedRecords[0];return!(!t||t.meta.specialRow)&&(n===t||(r instanceof Zp?(r=this.dataApi.getAssignmentEvent({assignment:r,eventStore:this.eventStore}),!this.dataApi.isAssignmentForResource({assignment:r,resource:t,resourceStore:this.resourceStore})):!this.dataApi.isEventAssignedToResource({event:r,resource:t,resourceStore:this.resourceStore,assignmentStore:this.assignmentStore})))}},{key:"checkDragValidity",value:function(e,t){var n=this,r=this.currentOverClient,i=n.dragData.context.valid;return i&&(i=r.allowOverlap||r.isDateRangeAvailable(e.startDate,e.endDate,e.draggedRecords[0],e.newResource)?n.validatorFn.call(n.validatorFnThisObj||n,e,t):{valid:!1,message:n.L("L{eventOverlapsExisting}")}),i}},{key:"updateRecords",value:function(e){var t,n=this.scheduler,r=this.currentOverClient,i=n.assignmentStore,o=n.eventStore,a=e.draggedRecords;if(o.suspendAutoCommit(),r.eventStore.suspendAutoCommit(),o!==r.eventStore&&(o.remove(a),r.eventStore.add(a)),i){if(r!==n)throw new Error("Assignments cannot be dragged cross-scheduler");t=this.updateRecordsMultipleAssignmentMode(n,r,e,!1)}else t=this.updateRecordsSingleAssignmentMode(n,r,e,!1);return o.resumeAutoCommit(),r.eventStore.resumeAutoCommit(),r.trigger("eventDrop",{eventRecords:a,isCopy:!1,event:e.browserEvent,targetEventRecord:e.targetEventRecord,targetResourceRecord:e.newResource,context:e}),t}},{key:"updateRecordsSingleAssignmentMode",value:function(e,t,n,r){var i,o=this,a=e!==t,s="vertical"===t.mode,u=e.eventStore,c=e.resourceStore,l=n.draggedRecords,f=n.timeDiff,d=n.resourceRecord,h=n.newResource,p=o.unifiedDrag||a&&l.length>1,v=[],g=o.constrainDragToResource?0:c.indexOf(d)-c.indexOf(h),y=o.adjustStartDate(l[0].startDate,f);if(s&&l.forEach(function(t,r){var i=n.eventBarEls[r];delete t.instanceMeta(e).hasTemporaryDragElement,i.dataset.transient&&i.remove()}),l.forEach(function(d,m){var k=n.eventBarEls[m],b=d.generation,w=a?Hg:d.resources;k.querySelector(e.eventInnerSelector).classList.add(e.committingCls),r?(d=d.fullCopy(null),v.push(d)):u!==t.eventStore&&(u.remove(l),t.eventStore.add(l),d.instanceMeta(t).fromDragProxy=!0),d.beginBatch();var S=p?y:o.adjustStartDate(d.startDate,f);(0!==g||p||a)&&w.length&&w.forEach(function(e){var r=h;if(!p&&!a){var i=c.indexOf(e)-g;i<0?i=0:i>=c.getCount()&&(i=c.getCount()-1),r=c.getAt(i)}if(e?d.reassign(e,r):d.assign(r),!s){var o=t.rowManager.getRowFor(r)&&t.isInTimeAxis(d)?t.getEventRenderId(d,r):null;if(o)if(a){var u=Wn.from(n.context.element,t.foregroundCanvas,!0),l=n.context.element.cloneNode(!0);yn.setTranslateXY(l,u.x,u.y),l.classList.remove("b-first-render"),l.classList.remove("b-active"),l.classList.remove("b-drag-proxy"),l.classList.remove("b-dragging"),t.currentOrientation.cacheTimeSpanElement(d,r,l)}else t.currentOrientation.releaseTimeSpanDiv(k,!0),t.currentOrientation.updateElementId(k,o);else k.remove()}}),d.setStartDate(S,!0,u.skipWeekendsDuringDragDrop),d.endBatch(),d.generation!==b&&(i=!0)}),v.length){var m=u.count;u.add(v),u.count!==m&&(i=!0)}i||(n.valid=!1)}},{key:"updateRecordsMultipleAssignmentMode",value:function(e,t,n,r){var i,o=this,a=e!==t,s=e.eventStore,u=n.draggedRecords,c=n.timeDiff,l=n.resourceRecord,f=n.newResource,d={};u.forEach(function(u,h){var p=u.event,v=n.eventBarEls[h],g=p.generation,y=e.getEventRenderId(u.event,f);d[p.id]||(d[p.id]=!0,"vertical"===t.mode?v.dataset.transient&&(v.retainElement=!1):y&&(a?t.currentOrientation.cacheTimeSpanElement(p,v):t.currentOrientation.updateElementId(v,y)),p.setStartDate(o.adjustStartDate(p.startDate,c),!0,s.skipWeekendsDuringDragDrop),l!==f&&(r?p.assign(f):p.isAssignedTo(f)?p.unassign(u.resource):p.reassign(u.resource,f)),i=i||u.resource!==l||p.generation!==g)}),i||(n.valid=!1)}},{key:"getProductDragContext",value:function(e){var t,n=this.scheduler.resolveEventRecord(e.browserEvent.target);return t=this.constrainDragToResource?e.resourceRecord:this.constrainDragToTimeline?this.resolveResource()||e.newResource||e.resourceRecord:this.resolveResource(),{valid:Boolean(t),newResource:t,targetEventRecord:n}}},{key:"setupProductDragData",value:function(e){var t=this,n=t.scheduler,r=e.grabbed,i=n.resolveEventRecord(r),o=n.resolveResourceRecord(r),a=n.resolveAssignmentRecord(r),s=Wn.from(r),u=[a||i],c=[];if(t.constrainDragToResource&&!o)throw new Error("Resource could not be resolved for event: "+i.id);var l=n.getDateConstraints(t.constrainDragToResource?o:null,i);return t.constrainDragToTimeline&&t.setupConstraints(n.getScheduleRegion(t.constrainDragToResource?o:null,i),s,n.timeAxisViewModel.snapPixelAmount,Boolean(l)),n.multiEventSelect&&(n.isEventSelected(u[0])||t.drag.startEvent.ctrlKey)&&u.push.apply(u,t.getRelatedRecords(a||i)),u.forEach(function(e){var t;(t=e instanceof Zp?n.getElementFromEventRecord(e.event,e.resource):n.getElementFromEventRecord(e,e.resource))||(t=(t=n.currentOrientation.addTemporaryDragElement(e)).innerElement),c.push(t)}),c.forEach(function(e,t){return c[t]=e.parentNode}),{record:i,dateConstraints:l,eventBarEls:c,draggedRecords:u}}},{key:"getDragData",value:function(e,t){return Object.assign(ce()(Q()(n.prototype),"getDragData",this).call(this,e,t),{resourceRecord:this.scheduler.resolveResourceRecord(e.grabbed)})}},{key:"getRelatedRecords",value:function(e){return this.scheduler.selectedEvents.filter(function(t){return t!==e&&t.isDraggable})}},{key:"getCoordinate",value:function(e,t,n){var r=this.currentOverClient;if(r.isHorizontal){var i=n[0];if("default"!==r.milestoneLayoutMode&&e.isMilestone)switch(r.milestoneAlign){case"center":i+=t.offsetWidth/2;break;case"end":i+=t.offsetWidth}return i}var o=n[1];if("default"!==r.milestoneLayoutMode&&e.isMilestone)switch(r.milestoneAlign){case"center":o+=t.offsetHeight/2;break;case"end":o+=t.offsetHeight}return o}},{key:"resolveResource",value:function(){var e=this.currentOverClient,t=e.isHorizontal,n=this.dragData.context,r=n.dragProxy||n.element,i=Wn.from(r,null,!0),o=e.isVertical||this.unifiedDrag?n.clientY:i.center.y,a=Wn.from(r,this.currentOverClient.timeAxisSubGridElement,!0).center,s=a.x,u=a.y;if(t){var c=e.rowManager.getRowAt(o);return c&&e.resourceStore.getAt(c.dataIndex)}return e.resolveResourceRecord(e.timeAxisSubGridElement.querySelector(".b-sch-timeaxis-cell"),[s,u])}},{key:"adjustStartDate",value:function(e,t){var n=this.currentOverClient;return n.timeAxis.roundDate(new Date(e-0+t),!!n.snapRelativeToEventStartDate&&e)}},{key:"resolveStartEndDates",value:function(e){var t=this.currentOverClient,n=this.dragData,r=t.getStartEndDatesFromRectangle(e,"round",n.duration),i=r.start,o=r.end;if(i&&o)if(n.startsOutsideView)n.endsOutsideView||(i=xt.add(o,-n.duration,"ms"));else{if(i&&!t.timeAxis.dateInAxis(i,!1)){var a=t.timeAxis.getTickFromDate(i);a>=0&&(i=t.timeAxis.getDateFromTick(a))}o=xt.add(i,n.duration,"ms")}return{startDate:i,endDate:o}}},{key:"scheduler",get:function(){return this.client}},{key:"store",get:function(){return this.eventStore}}],[{key:"$name",get:function(){return"EventDrag"}},{key:"defaultConfig",get:function(){return{constrainDragToResource:!1,constrainDragToTimeSlot:!1,validatorFn:function(){},validatorFnThisObj:null,unifiedDrag:null}}}]),n}(Uo(kg).mixes(xg,_g));function Bg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ng._$name="EventDrag",Ff.registerFeature(Ng,!0,"Scheduler");var zg=function(e){X()(n,e);var t=Bg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"doDestroy",value:function(){this.tip&&this.tip.destroy(),this.resize&&this.resize.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"addProxy",value:function(e){var t,n,r,i,o=this,a=o.client,s=a.barMargin,u=a.currentOrientation.getRowRegion(e.rowRecord);return a.isHorizontal?(r="currentX"in e?Math.min(e.startX,e.currentX+1):e.startX,i=u.y+s,t=e.width||o.dragTolerance,n=u.height-2*s):(r=u.x+s,i="currentY"in e?Math.min(e.startY,e.currentY+1):e.startY,t=u.width-2*s,n=e.height||o.dragTolerance),a.element.classList.add("b-dragcreating"),a.element.classList.add("b-dragcreating-proxy-sizing"),o.proxy=yn.createElement({parent:a.foregroundCanvas,className:o.proxyCls,style:"transform:translate(".concat(r,"px, ").concat(i,"px);width:").concat(t,"px;height:").concat(n,"px"),retainElement:!0})}},{key:"removeProxy",value:function(){var e=this;e.proxy&&(e.proxy.remove(),e.resize.destroy(),e.proxy=e.resize=null,e.client.element.classList.remove("b-dragcreating"),e.client.element.classList.remove("b-dragcreating-proxy-sizing"),e.tip&&e.tip.hide())}},{key:"initResizer",value:function(e,t){var n,r=this;n=r.client.isHorizontal?t.currentX>t.startX?"right":"left":t.currentY>t.startY?"bottom":"top",r.resize&&r.resize.destroy(),r.resize=new qc({name:r.constructor.name,direction:r.client.isVertical?"vertical":"horizontal",isTouch:e.type.startsWith("touch"),grab:{element:r.proxy,edge:n,event:t.startEvent},allowEdgeSwitch:!0,outerElement:r.client.timeAxisSubGridElement,scrollManager:r.client.scrollManager,scroller:r.client.timeAxisSubGrid.scrollable,listeners:{resizing:r.onResizing,resize:r.onResize,cancel:r.onCancel,thisObj:r}}),r.resize.context.resource=t.resource}},{key:"initTooltip",value:function(){var e=this,t=e.client;e.showTooltip&&(e.tip?e.tip.showBy(e.getTooltipTarget()):(e.clockTemplate=new yg({scheduler:t}),e.tip=new ao({id:"".concat(t.id,"-drag-create-tip"),autoShow:!0,trackMouse:!1,updateContentOnMouseMove:!0,getHtml:e.getTipHtml.bind(e),align:t.isVertical?"t-b":"b100-t100",hideDelay:0,axisLock:!0}),e.tip.on("innerhtmlupdate",e.updateDateIndicator,e)))}},{key:"updateDateIndicator",value:function(){var e=this.createContext,t=e.startDate,n=e.endDate,r=this.tip,i=r.element.querySelector(".b-sch-tooltip-enddate");t&&n&&(this.clockTemplate.updateDateIndicator(r.element,t),i&&this.clockTemplate.updateDateIndicator(i,n))}},{key:"getTipHtml",value:function(){if(this.resize.context){var e,t,n=this,r=n.client,i=n.resize.context,o=i.edge,a=i.newX,s=i.newY,u=i.elementStartX,c=i.elementStartY,l=i.elementWidth,f=i.elementHeight,d=i.newWidth,h=i.newHeight,p=i.valid,v=i.message;if(r.isHorizontal){var g="left"===o?a:u,y=Math.min(Math.max(g+(d||l)-1,0),r.timeAxisViewModel.totalSize-1);e=r.getDateFromCoordinate(g,"round",!0),t=r.getDateFromCoordinate(y,"round",!0)}else{var m="top"===o?s:c,k=Math.min(Math.max(m+(h||f)-1,0),r.timeAxisViewModel.totalSize-1);e=r.getDateFromCoordinate(m,"round",!0),t=r.getDateFromCoordinate(k,"round",!0)}var b=xt.min(e,t),w=xt.max(e,t),S=b&&r.getFormattedDate(b),D=w&&t&&r.getFormattedEndDate(w,b);return n.tipTemplate({valid:p,startDate:b,endDate:w,startText:S,endText:D,message:v,startClockHtml:n.clockTemplate.template({date:b,text:S,cls:"b-sch-tooltip-startdate"}),endClockHtml:n.clockTemplate.template({date:r.getDisplayEndDate(w,b),text:D,cls:"b-sch-tooltip-enddate"})})}}},{key:"finalize",value:function(e){var t=this,n=function(){t.proxy.retainElement=!1,t.reset()},r=function(){t.client.trigger("afterDragCreate",{proxyElement:t.proxy}),n()};if(e){var i=t.finalizeDragCreate(t.createContext);It.isPromise(i)?i.then(r,n):r()}else r()}},{key:"onElementMouseDown",value:function(e){var t=this,n=t.client;if(0===e.button&&e.target.matches(".b-sch-timeaxis-cell")&&!t.disabled&&!n.readOnly){var r=n.isVertical?n.resolveResourceRecord(e):n.getRecordFromElement(e.target);if(r.meta.specialRow)return;if(t.preventMultiple&&!t.isRowEmpty(r))return;t.monitorMove=!0,t.createContext={startEvent:e,startScreenX:e.screenX,startScreenY:e.screenY,startX:e.offsetX,startY:e.offsetY,cellElement:e.target,rowRecord:r},t.mouseUpDetacher=ur.on({element:document.body,mouseup:"onMouseUp",once:!0,thisObj:this})}}},{key:"onElementMouseMove",value:function(e){var t=this;if(t.monitorMove){var n=t.createContext,r=t.client,i=t.client.isVertical?n.startScreenY-e.screenY:n.startScreenX-e.screenX;if(Math.abs(i)>t.dragTolerance){var o=r.getDateFromDomEvent(e),a=Wn.from(r.timeAxisSubGridElement,null,!0);if(!1===t.handleBeforeDragCreate(o,e))return void(t.monitorMove=!1);n.currentX=Math.max(e.clientX-a.x+r.timeAxisSubGrid.scrollable.x,0),n.currentY=Math.max(e.clientY-a.y+r.timeAxisSubGrid.scrollable.y,0),t.addProxy(t.createContext),t.initResizer(e,t.createContext),t.initTooltip(),t.monitorMove=!1,r.trigger("dragCreateStart",{proxyElement:t.proxy})}}t.proxy&&t.showTooltip&&t.resize.context&&t.tip.alignTo(t.getTooltipTarget())}},{key:"getTooltipTarget",value:function(){var e=this,t=Wn.from(e.proxy,null,!0);return e.client.isVertical?("bottom"===e.resize.context.edge&&(t.y=t.bottom-1),t.height=e.tip.anchorSize[1]/2):("right"===e.resize.context.edge&&(t.x=t.right-1),t.width=e.tip.anchorSize[0]/2),{target:t}}},{key:"onMouseUp",value:function(){this.client.element.classList.remove("b-dragcreating-proxy-sizing"),this.monitorMove=!1}},{key:"onElementContextMenu",value:function(){if(this.proxy)return!1}},{key:"onResizing",value:function(e){var t=e.context,n=e.event,r=this,i=r.client,o="left"===t.edge?t.newX:t.elementStartX,a="top"===t.edge?t.newY:t.elementStartY,s=Math.min(o+Math.max((t.newWidth||t.elementWidth)-1,0),i.timeAxisViewModel.totalSize-1),u=Math.min(a+Math.max((t.newHeight||t.elementHeight)-1,0),i.timeAxisViewModel.totalSize-1),c=i.isVertical?a:o,l=i.isVertical?u:s,f=i.getDateFromCoordinate(c,"round",!0),d=i.getDateFromCoordinate(l,"round",!0),h=r.dateConstraints,p=xt.min(f,d),v=xt.max(f,d);h&&(v=xt.constrain(v,h.start,h.end),p=xt.constrain(p,h.start,h.end)),Object.assign(r.createContext,{startDate:p,endDate:v}),t.valid=r.checkValidity(r.createContext,n),t.message="",t.valid&&"boolean"!=typeof t.valid&&(t.message=t.valid.message,t.valid=t.valid.valid),t.valid=!1!==t.valid}},{key:"onResize",value:function(e){var t=e.context.valid,n=e.event,r=this,i=r.createContext,o=i.startDate,a=i.endDate;(!o||!a||a-o<=0)&&(t=!1),r.createContext=r.prepareCreateContextForFinalization(r.createContext,n,r.finalize.bind(r)),t&&r.client.trigger("beforeDragCreateFinalize",{context:r.createContext,event:n,proxyElement:r.proxy}),r.createContext&&(r.resize.context.async=r.createContext.async,r.createContext.async?r.resize.removeListeners():r.finalize(t))}},{key:"prepareCreateContextForFinalization",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.assign({},e,{async:r,event:t,finalize:n})}},{key:"onCancel",value:function(){this.cancel()}},{key:"cancel",value:function(){this.reset(),this.mouseUpDetacher&&this.mouseUpDetacher()}},{key:"reset",value:function(){this.removeProxy(),this.createContext=null,this.monitorMove=!1}},{key:"checkValidity",value:function(e,t){throw new Error("Implement in subclass")}},{key:"triggerDragCreateEnd",value:function(e,t){throw new Error("Implement in subclass")}},{key:"handleBeforeDragCreate",value:function(e,t){throw new Error("Implement in subclass")}},{key:"isRowEmpty",value:function(e){throw new Error("Implement in subclass")}},{key:"dragging",get:function(){return this.resize}}],[{key:"defaultConfig",get:function(){return{showTooltip:!0,dragTolerance:2,preventMultiple:!1,validatorFn:function(){},validatorFnThisObj:null,proxyCls:"b-sch-dragcreator-proxy",tipTemplate:function(e){return'\n                <div class="b-sch-tip-'.concat(e.valid?"valid":"invalid",'">\n                    ').concat(e.startClockHtml,"\n                    ").concat(e.endClockHtml,'\n                    <div class="b-sch-tip-message">').concat(e.message,"</div>\n                </div>\n            ")}}}},{key:"pluginConfig",get:function(){return{chain:["onElementMouseDown","onElementMouseMove"],before:["onElementContextMenu"]}}}]),n}(To);function Vg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}zg._$name="DragCreateBase";var Wg=function(e){X()(n,e);var t=Vg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){this.scheduler=e,this.store=e.eventStore,ce()(Q()(n.prototype),"construct",this).call(this,e,t)}},{key:"finalizeDragCreate",value:function(e){var t=new this.store.modelClass({startDate:e.startDate,endDate:e.endDate});this.proxy.dataset.eventId=t.id,this.scheduler.trigger("dragCreateEnd",{newEventRecord:t,resourceRecord:e.rowRecord,event:e.event,proxyElement:this.proxy})}},{key:"handleBeforeDragCreate",value:function(e,t){var n=this,r=n.scheduler.trigger("beforeDragCreate",{resourceRecord:n.createContext.rowRecord,date:e,event:t});if(r){var i=n.scheduler.features.scheduleTooltip;i&&i.hoverTip&&i.hoverTip.hide()}return n.dateConstraints=n.scheduler.getDateConstraints(n.createContext.rowRecord,e),r}},{key:"checkValidity",value:function(e,t){var n=this.client;return e.resourceRecord=e.rowRecord,(n.allowOverlap||n.isDateRangeAvailable(e.startDate,e.endDate,null,e.resourceRecord))&&this.validatorFn.call(this.validatorFnThisObj||this,e,t)}},{key:"isRowEmpty",value:function(e){var t=this.store.getEventsForResource(e);return!t||!t.length}}],[{key:"$name",get:function(){return"EventDragCreate"}},{key:"defaultConfig",get:function(){return{validatorFn:function(){}}}}]),n}(zg);function $g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Wg._$name="EventDragCreate",Ff.registerFeature(Wg,!0,"Scheduler");var Gg=xt,Yg=function(e){if(1===e.length)return e[0].value;if(2===e.length){var t=e[0]instanceof gs?e:e.reverse(),n=re()(t,2),r=n[0],i=n[1],o=Gg.parse(r.value);return o&&o.setHours(i.value.getHours(),i.value.getMinutes(),i.value.getSeconds(),i.value.getMilliseconds()),o}return null},Ug=function(e,t,n){if(e&&t){var r=Gg.add((i=n.startDateField.value,o=n.startTimeField.value,(a=new Date(i.getTime())).setHours(o.getHours(),o.getMinutes()),a),n.eventRecord.durationMS,"milliseconds");n.endDateField.value=r,n.endTimeField.value=Gg.clone(r)}var i,o,a},qg=function(e){X()(o,e);var t,n,r,i=$g(o);function o(){return E()(this,o),i.apply(this,arguments)}return M()(o,[{key:"construct",value:function(e,t){var n,r=this;e.eventEdit=r,ce()(Q()(o.prototype),"construct",this).call(this,e,It.assign({weekStartDay:e.weekStartDay},t)),r.clientListenersDetacher=e.on((n={},se()(n,r.triggerEvent,r.onActivateEditor),se()(n,"dragcreateend",r.onDragCreateEnd),se()(n,"thisObj",r),n))}},{key:"doDestroy",value:function(){this.clientListenersDetacher(),this.editor&&this.editor.destroy(),ce()(Q()(o.prototype),"doDestroy",this).call(this)}},{key:"insertExtraWidgetsIntoDefaultWidgets",value:function(e){if(this.extraItems&&this.extraItems.length){var t,n=e.items.findIndex(function(e){return"extraItems"===e.type});n>-1&&(e.items.splice(n,1),t=e.items.splice(n));var r=this.extraItems.filter(function(e){return e.index>=0}),i=this.extraItems.filter(function(e){return!(e.index>=0)});e.items=e.items.concat(i),r.sort(function(e,t){return e.index-t.index}),r.forEach(function(t){return e.items.splice(t.index,0,t)}),t&&t.length&&(e.items=e.items.concat(t))}}},{key:"onDatesChange",value:function(e){var t=this,n=e.source,r=e.value;switch(n.ref){case"startDateField":t.startTimeField&&Ug(r,t.startTimeField.value,t);break;case"startTimeField":t.startDateField&&Ug(t.startDateField.value,r,t)}t.endTimeField&&(Gg.isEqual(Gg.clearTime(t.startDateField.value),Gg.clearTime(t.endDateField.value))?t.endTimeField.min=t.startTimeField.value:t.endTimeField.min=null)}},{key:"save",value:(r=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Implement in subclass");case 1:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"onBeforeSave",value:function(e){}},{key:"onAfterSave",value:function(e){}},{key:"updateRecord",value:function(e){var t=this.values;this.scheduler.assignmentStore&&delete t.resource,e.set(t)}},{key:"resetEditingContext",value:function(){var e=this;e.isEditing=!1,e.client.element.classList.remove("b-eventeditor-editing"),e.phantomEventElement&&e.phantomEventElement.remove(),e.phantomEventElement=null}},{key:"onPopupKeyDown",value:function(e){var t=e.event;"Enter"===t.key&&this.saveAndCloseOnEnter&&"input"===t.target.tagName.toLowerCase()&&(t.preventDefault(),"startDate"===t.target.name&&Ug(this.startDateField.value,this.startTimeField.value,this),this.onSaveClick())}},{key:"onSaveClick",value:(n=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.save();case 2:e.sent&&this.editor.close();case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"onDeleteClick",value:(t=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deleteEvent();case 2:e.sent&&(this.editor.autoClose&&!this.editor.containsFocus||this.editor.close());case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"onCancelClick",value:function(){this.editor.close()}},{key:"editorConfig",get:function(){return this._editorConfig},set:function(e){var t=this.getDefaultConfiguration().editorConfig;(e=It.assign({},t,e)).items=e.items||[],this.insertExtraWidgetsIntoDefaultWidgets(e),this._editorConfig=e}},{key:"extraWidgets",get:function(){return this._skipWarn||console.warn("`extraWidgets` was deprecated in 2.1, please change your code to use `extraItems`"),this._extraItems},set:function(e){console.warn("`extraWidgets` was deprecated in 2.1, please change your code to use `extraItems`"),this._extraItems=e}},{key:"extraItems",get:function(){var e=this;return e._skipWarn=!0,e._thisIsAUsedExpression(e.extraWidgets),e._skipWarn=!1,e._extraItems},set:function(e){this._extraItems=e}},{key:"isValid",get:function(){return Object.values(this.editor.widgetMap).every(function(e){return!(e.name&&!e.hidden)||!1!==e.isValid})}},{key:"values",get:function(){var e=[],t=[],n={};return this.editor.eachWidget(function(r){var i=r.name;if(i&&!r.hidden)switch(i){case"startDate":e.push(r);break;case"endDate":t.push(r);break;case"resource":n[i]=r.record;break;default:n[i]=r.value}},!0),n.startDate=Yg(e),n.endDate=Yg(t),n.duration=Gg.diff(n.startDate,n.endDate,this.editor.record.durationUnit,!0),n}}],[{key:"defaultConfig",get:function(){return{autoClose:!0,saveAndCloseOnEnter:!0,triggerEvent:null,showDeleteButton:!0,showNameField:!0,startTimeConfig:null,startDateConfig:null,endTimeConfig:null,endDateConfig:null,dateFormat:"L",timeFormat:"LT",editorConfig:null,extraItems:null,extraWidgets:null,weekStartDay:null}}}]),o}(To);function Xg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}qg._$name="EditBase";var Kg=function(e){X()(n,e);var t=Xg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"processWidgetConfig",value:function(e){var t,r=this.eventEditFeature;if((null===(t=e.type)||void 0===t?void 0:t.includes("date"))&&null==e.weekStartDay&&(e.weekStartDay=this.weekStartDay),"extraItems"===e.type)return!1;var i={};if("resourceField"===e.ref){if(!r.showResourceField)return!1;this.resourceStore=e.store=r.resourceStore.makeChained(function(e){return!e.meta.specialRow},null,{excludeCollapsedRecords:!1}),e.multiSelect=Boolean(r.scheduler.assignmentStore),r.resourceFieldConfig&&(i=r.resourceFieldConfig)}return!("nameField"===e.ref&&!r.showNameField)&&(!("deleteButton"===e.ref&&!r.showDeleteButton)&&("startDate"!==e.name&&"endDate"!==e.name||"date"!==e.type||(i.format=r.dateFormat),"startDate"!==e.name&&"endDate"!==e.name||"time"!==e.type||(i.format=r.timeFormat),r.startDateConfig&&"startDate"===e.name&&"date"===e.type&&(i=r.startDateConfig),r.startTimeConfig&&"startDate"===e.name&&"time"===e.type&&(i=r.startTimeConfig),r.endDateConfig&&"endDate"===e.name&&"date"===e.type&&(i=r.endDateConfig),r.endTimeConfig&&"endDate"===e.name&&"time"===e.type&&(i=r.endTimeConfig),Object.assign(e,i),ce()(Q()(n.prototype),"processWidgetConfig",this).call(this,e)))}},{key:"show",value:function(){var e;this.resourceStore&&this.resourceStore.fillFromMaster();for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=ce()(Q()(n.prototype),"show",this)).call.apply(e,[this].concat(r))}},{key:"beforeShow",value:function(){var e,t=this.widgetMap.deleteButton;t&&(t.hidden=this.readOnly||!this.record.stores.length);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(e=ce()(Q()(n.prototype),"beforeShow",this)).call.apply(e,[this].concat(i))}},{key:"onInternalKeyDown",value:function(e){this.trigger("keyDown",{event:e}),ce()(Q()(n.prototype),"onInternalKeyDown",this).call(this,e)}},{key:"readOnly",set:function(e){var t=this.widgetMap,n=t.deleteButton,r=t.saveButton,i=t.cancelButton;this._readOnly=e,this.element.classList[e?"add":"remove"]("b-readonly"),this.eachWidget(function(t){"_originalReadOnly"in t||(t._originalReadOnly=t._readOnly||!1),t.readOnly=e||t._originalReadOnly}),n&&(n.hidden=e),r&&(r.hidden=e),i&&(i.hidden=e)},get:function(){return this._readOnly}}],[{key:"$name",get:function(){return"EventEditor"}},{key:"defaultConfig",get:function(){return{items:[],draggable:{handleSelector:":not(button,.b-field-inner)"},axisLock:"flexible",scrollable:{overflowY:!0}}}}]),n}(Hi);function Zg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Kg._$name="EventEditor";var Jg=function(e){X()(n,e);var t=Zg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){for(var e,t=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(e=ce()(Q()(n.prototype),"construct",this)).call.apply(e,[this].concat(i));var a=t.widgetMap,s=a.changeMultipleButton,u=a.changeSingleButton,c=a.cancelButton;s&&s.on("click",t.onChangeMultipleButtonClick,t),u&&u.on("click",t.onChangeSingleButtonClick,t),c&&c.on("click",t.onCancelButtonClick,t),t.on("toolclick",t.onToolClick,t)}},{key:"onChangeMultipleButtonClick",value:function(){this.processMultipleRecords(),this.close()}},{key:"onChangeSingleButtonClick",value:function(){this.processSingleRecord(),this.close()}},{key:"onCancelButtonClick",value:function(){this.cancelFn&&this.cancelFn.call(this.thisObj),this.close()}},{key:"onToolClick",value:function(e){"close"===e.tool.handler&&this.cancelFn&&this.cancelFn.call(this.thisObj)}},{key:"confirm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return["actionType","eventRecord","title","html","changerFn","cancelFn","thisObj"].forEach(function(n){n in e&&(t[n]=e[n])}),t.updatePopupContent(),ce()(Q()(n.prototype),"show",this).call(this,e)}},{key:"updatePopupContent",value:function(){var e=this,t=e.widgetMap,n=t.changeMultipleButton,r=t.changeSingleButton,i=t.cancelButton,o=e.eventRecord,a=e.actionType,s=void 0===a?"update":a,u=o&&o.isRecurring;u?(n.text=e.L("L{Object.Yes}"),e.html=e.L("".concat(s,"-all-message"))):(n.text=e.L("".concat(s,"-further-btn-text")),e.html=e.L("".concat(s,"-further-message"))),r.text=e.L("".concat(s,"-only-this-btn-text")),i.text=e.L("L{Object.Cancel}"),u?r.hide():r.show(),e.width=e.L("L{width}"),e.title=e.L("".concat(s,"-title"))}},{key:"processMultipleRecords",value:function(){var e=this.eventRecord,t=this.changerFn,n=this.thisObj,r=e.recurringEvent,i=new Date(e.startDate-1);e.beginBatch(),t.call(n,e),e.recurringTimeSpanId=null,e.endBatch(),r&&(r.recurrence.endDate=i)}},{key:"processSingleRecord",value:function(){var e=this.eventRecord,t=this.changerFn,n=this.thisObj,r=e.recurringEvent,i=e.startDate;e.beginBatch(),t.call(n),e.recurrence=null,e.endBatch(),r.addExceptionDate(i)}},{key:"updateLocalization",value:function(){this.updatePopupContent(),ce()(Q()(n.prototype),"updateLocalization",this).call(this)}}],[{key:"$name",get:function(){return"RecurrenceConfirmationPopup"}},{key:"defaultConfig",get:function(){return{localizableProperties:[],align:"b-t",autoShow:!1,autoClose:!1,centered:!0,scrollAction:"realign",constrainTo:window,draggable:!0,closable:!0,floating:!0,eventRecord:null,cls:"b-sch-recurrenceconfirmation",bbar:[{color:"b-green",localeClass:this,text:"L{Object.Yes}",ref:"changeMultipleButton"},{color:"b-gray",localeClass:this,text:"L{update-only-this-btn-text}",ref:"changeSingleButton"},{color:"b-gray",text:"L{Object.Cancel}",localeClass:this,ref:"cancelButton"}]}}}]),n}(Hi);function Qg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Jg._$name="RecurrenceConfirmationPopup",ke.register("recurrenceconfirmation",Jg);var ey=function(e){X()(n,e);var t=Qg(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"buildLocalizedItems",value:function(){return[{value:"DAILY",text:this.L("L{Daily}")},{value:"WEEKLY",text:this.L("L{Weekly}")},{value:"MONTHLY",text:this.L("L{Monthly}")},{value:"YEARLY",text:this.L("L{Yearly}")}]}}],[{key:"$name",get:function(){return"RecurrenceFrequencyCombo"}},{key:"defaultConfig",get:function(){return{editable:!1,displayField:"text",valueField:"value"}}}]),n}(Gd(Ja));function ty(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ey._$name="RecurrenceFrequencyCombo",ke.register("recurrencefrequencycombo",ey);var ny=function(e){X()(n,e);var t=ty(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"buildLocalizedItems",value:function(){return[{value:"none",text:this.L("L{None}")}].concat(te()(ce()(Q()(n.prototype),"buildLocalizedItems",this).call(this)),[{value:this.customValue,text:this.L("L{Custom}"),cls:this.splitCls}])}},{key:"isCustomRecurrence",value:function(e){var t=e.interval,n=e.days,r=e.monthDays,i=e.months;return Boolean(t>1||n&&n.length||r&&r.length||i&&i.length)}},{key:"value",set:function(e){e=e||"none",di()(Q()(n.prototype),"value",e,this,!0)},get:function(){return ce()(Q()(n.prototype),"value",this)}},{key:"recurrence",set:function(e){this.value=e?this.isCustomRecurrence(e)?this.customValue:e.frequency:null}}],[{key:"$name",get:function(){return"RecurrenceCombo"}},{key:"defaultConfig",get:function(){return{customValue:"custom",placeholder:"None",splitCls:"b-recurrencecombo-split",items:!0,highlightExternalChange:!1}}}]),n}(ey);function ry(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ny._$name="RecurrenceCombo",ke.register("recurrencecombo",ny);var iy=function(e){X()(n,e);var t=ry(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"getLegend",value:function(e,t){var n,r=this,i=e.timeSpan,o=e.interval,a=e.days,s=e.monthDays,u=e.months,c=e.positions,l=t||i.startDate,f={interval:o};switch(e.frequency){case"DAILY":return 1===o?r.L("L{Daily}"):r.L("L{Every {0} days}",f);case"WEEKLY":return a&&a.length?f.days=r.getDaysLegend(a):l&&(f.days=xt.getDayName(l.getDay())),r.L(1===o?"L{Weekly on {1}}":"L{Every {0} weeks on {1}}",f);case"MONTHLY":return a&&a.length&&c&&c.length?f.days=r.getDaysLegend(a,c):s&&s.length?(s.sort(function(e,t){return e-t}),f.days=r.arrayToText(s)):l&&(f.days=l.getDate()),r.L(1===o?"L{Monthly on {1}}":"L{Every {0} months on {1}}",f);case"YEARLY":return a&&a.length&&c&&c.length?f.days=r.getDaysLegend(a,c):f.days=l.getDate(),u&&u.length?(u.sort(function(e,t){return e-t}),n=u.length>2?function(e){return xt.getMonthShortName(e-1)}:function(e){return xt.getMonthName(e-1)},f.months=r.arrayToText(u,n)):f.months=xt.getMonthName(l.getMonth()),r.L(1===o?"L{Yearly on {1} of {2}}":"L{Every {0} years on {1} of {2}}",f)}}},{key:"getDaysLegend",value:function(e,t){var n,r=this,i={position:""};if(t&&t.length&&(i.position=r.arrayToText(t,function(e){return r.L("L{position".concat(e,"}"))})),e.length)switch(e.sort(function(e,t){return cv.decodeDay(e)[0]-cv.decodeDay(t)[0]}),e.join(",")){case r.allDaysValue:i.days=r.L("L{day}");break;case r.workingDaysValue:i.days=r.L("L{weekday}");break;case r.nonWorkingDaysValue:i.days=r.L("L{weekend day}");break;default:n=e.length>2?function(e){return xt.getDayShortName(cv.decodeDay(e)[0])}:function(e){return xt.getDayName(cv.decodeDay(e)[0])},i.days=r.arrayToText(e,n)}return r.L("L{daysFormat}",i)}},{key:"arrayToText",value:function(e,t){return t&&(e=e.map(t)),e.join(", ").replace(/,(?=[^,]*$)/,this.L("L{ and }"))}},{key:"$name",get:function(){return"RecurrenceLegend"}},{key:"allDaysValue",get:function(){return"SU,MO,TU,WE,TH,FR,SA"}},{key:"workingDaysValue",get:function(){return"MO,TU,WE,TH,FR"}},{key:"nonWorkingDaysValue",get:function(){return"SU,SA"}}]),n}(We());function oy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}iy._$name="RecurrenceLegend";var ay=function(e){X()(n,e);var t=oy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"updateLegend",value:function(){var e=this.recurrence;this.text=e?iy.getLegend(e,this.eventStartDate):""}},{key:"onLocaleChange",value:function(){this.updateLegend()}},{key:"updateLocalization",value:function(){this.onLocaleChange(),ce()(Q()(n.prototype),"updateLocalization",this).call(this)}},{key:"recurrence",set:function(e){this._recurrence=e,this.updateLegend()},get:function(){return this._recurrence}},{key:"eventStartDate",set:function(e){this._eventStartDate=e,this.updateLegend()},get:function(){return this._eventStartDate}}],[{key:"$name",get:function(){return"RecurrenceLegendButton"}},{key:"defaultConfig",get:function(){return{localizableProperties:[],recurrence:null}}}]),n}(po);function sy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ay._$name="RecurrenceLegendButton",ke.register("recurrencelegendbutton",ay);var uy=function(e){X()(n,e);var t=sy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"buildLocalizedItems",value:function(){var e=this;return e._weekDays=null,e.weekDays.concat([{value:e.allDaysValue,text:e.L("L{day}"),cls:e.splitCls},{value:e.workingDaysValue,text:e.L("L{weekday}")},{value:e.nonWorkingDaysValue,text:e.L("L{weekend day}")}])}},{key:"weekDays",get:function(){if(!this._weekDays){var e=xt.weekStartDay,t=xt.getDayNames().map(function(e,t){return{text:e,value:cv.encodeDay(t)}});this._weekDays=t.slice(e).concat(t.slice(0,e))}return this._weekDays}},{key:"value",set:function(e){e&&Array.isArray(e)&&(e=e.join(",")),e&&this.store.findRecord("value",e)||(e=this.defaultValue),di()(Q()(n.prototype),"value",e,this,!0)},get:function(){var e=ce()(Q()(n.prototype),"value",this);return e&&Array.isArray(e)&&(e=e.join(",")),e}}],[{key:"$name",get:function(){return"RecurrenceDaysCombo"}},{key:"defaultConfig",get:function(){return{allDaysValue:"SU,MO,TU,WE,TH,FR,SA",editable:!1,defaultValue:"SU,MO,TU,WE,TH,FR,SA",workingDaysValue:"MO,TU,WE,TH,FR",nonWorkingDaysValue:"SU,SA",splitCls:"b-recurrencedays-split",displayField:"text",valueField:"value"}}}]),n}(Gd(Ja));function cy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}uy._$name="RecurrenceDaysCombo",ke.register("recurrencedayscombo",uy);var ly=function(e){X()(n,e);var t=cy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;e.columns=7,e.items=t.buildItems(),ce()(Q()(n.prototype),"construct",this).call(this,e)}},{key:"updateItemText",value:function(e){var t=cv.decodeDay(e.value)[0];e.text=xt.getDayName(t).substring(0,3)}},{key:"buildItems",value:function(){if(!this.__items){var e=xt.weekStartDay,t=xt.getDayNames().map(function(e,t){return{text:e.substring(0,3),value:cv.encodeDay(t)}});this.__items=t.slice(e).concat(t.slice(0,e))}return this.__items}},{key:"onLocaleChange",value:function(){this.items.forEach(this.updateItemText,this)}},{key:"updateLocalization",value:function(){this.onLocaleChange(),ce()(Q()(n.prototype),"updateLocalization",this).call(this)}},{key:"value",set:function(e){e&&Array.isArray(e)&&(e=e.join(",")),di()(Q()(n.prototype),"value",e,this,!0)},get:function(){var e=ce()(Q()(n.prototype),"value",this);return e&&Array.isArray(e)&&(e=e.join(",")),e}},{key:"widgetClassList",get:function(){var e=ce()(Q()(n.prototype),"widgetClassList",this);return e.push("b-field"),e}}],[{key:"$name",get:function(){return"RecurrenceDaysButtonGroup"}},{key:"defaultConfig",get:function(){return{defaults:{cls:"b-raised",toggleable:!0}}}}]),n}(go);function fy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ly._$name="RecurrenceDaysButtonGroup",ke.register("recurrencedaysbuttongroup",ly);var dy=function(e){X()(n,e);var t=fy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;e.columns=7,e.items=t.buildItems(),ce()(Q()(n.prototype),"construct",this).call(this,e)}},{key:"buildItems",value:function(){for(var e=[],t=this.minValue;t<=this.maxValue;t++)e.push({text:t+"",value:t});return e}},{key:"minValue",get:function(){return 1}},{key:"maxValue",get:function(){return 31}},{key:"widgetClassList",get:function(){var e=ce()(Q()(n.prototype),"widgetClassList",this);return e.push("b-field"),e}}],[{key:"$name",get:function(){return"RecurrenceMonthDaysButtonGroup"}},{key:"defaultConfig",get:function(){return{defaults:{toggleable:!0,cls:"b-raised"}}}}]),n}(go);function hy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}dy._$name="RecurrenceMonthDaysButtonGroup",ke.register("recurrencemonthdaysbuttongroup",dy);var py=function(e){X()(n,e);var t=hy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;e.columns=4,e.items=t.buildItems(),ce()(Q()(n.prototype),"construct",this).call(this,e)}},{key:"buildItems",value:function(){return xt.getMonthNames().map(function(e,t){return{text:e.substring(0,3),value:t+1}})}},{key:"updateItemText",value:function(e){e.text=xt.getMonthName(e.value-1).substring(0,3)}},{key:"onLocaleChange",value:function(){this.items.forEach(this.updateItemText,this)}},{key:"updateLocalization",value:function(){this.onLocaleChange(),ce()(Q()(n.prototype),"updateLocalization",this).call(this)}},{key:"widgetClassList",get:function(){var e=ce()(Q()(n.prototype),"widgetClassList",this);return e.push("b-field"),e}}],[{key:"$name",get:function(){return"RecurrenceMonthsButtonGroup"}},{key:"defaultConfig",get:function(){return{defaults:{toggleable:!0,cls:"b-raised"}}}}]),n}(go);function vy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}py._$name="RecurrenceMonthsButtonGroup",ke.register("recurrencemonthsbuttongroup",py);var gy=function(e){X()(n,e);var t=vy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"buildLocalizedItems",value:function(){return[{value:"never",text:this.L("L{Never}")},{value:"count",text:this.L("L{After}")},{value:"date",text:this.L("L{On date}")}]}},{key:"value",set:function(e){e=e||"never",di()(Q()(n.prototype),"value",e,this,!0)},get:function(){return ce()(Q()(n.prototype),"value",this)}},{key:"recurrence",get:function(){return this._recurrence},set:function(e){var t=null;e.endDate?t="date":e.count&&(t="count"),this._recurrence=e,this.value=t}}],[{key:"$name",get:function(){return"RecurrenceStopConditionCombo"}},{key:"defaultConfig",get:function(){return{editable:!1,placeholder:"Never",displayField:"text",valueField:"value"}}}]),n}(Gd(Ja));function yy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}gy._$name="RecurrenceStopConditionCombo",ke.register("recurrencestopconditioncombo",gy);var my=function(e){X()(n,e);var t=yy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"buildLocalizedItems",value:function(){return this.buildDayNumbers().concat([{value:"-1",text:this.L("L{position-1}"),cls:this.splitCls}])}},{key:"buildDayNumbers",value:function(){var e=this;return de.populate(e.maxPosition,function(t){return{value:t,text:e.L("position".concat(t))}})}},{key:"value",set:function(e){e&&Array.isArray(e)&&(e=e.join(",")),e&&this.store.findRecord("value",e)||(e=this.defaultValue),di()(Q()(n.prototype),"value",e,this,!0)},get:function(){var e=ce()(Q()(n.prototype),"value",this);return e?"".concat(e).split(",").map(function(e){return parseInt(e,10)}):[]}}],[{key:"$name",get:function(){return"RecurrencePositionsCombo"}},{key:"defaultConfig",get:function(){return{editable:!1,splitCls:"b-sch-recurrencepositions-split",displayField:"text",valueField:"value",defaultValue:1,maxPosition:5}}}]),n}(Gd(Ja));function ky(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}my._$name="RecurrencePositionsCombo",ke.register("recurrencepositionscombo",my);var by=function(e){X()(n,e);var t=ky(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onSaveClick",value:function(){var e=this;e.saveHandler?e.saveHandler.call(e.thisObj||e,e,e.record):(e.updateRecord(),e.close())}},{key:"onCancelClick",value:function(){var e=this;e.cancelHandler?e.cancelHandler.call(e.thisObj||e,e,e.record):e.close()}},{key:"updateRecord",value:function(e){var t=this.getValues(function(t){return t.name in e&&!t.disabled});e.set(t)}},{key:"toggleStopFields",value:function(){var e=this.widgetMap,t=e.countField,n=e.endDateField;switch(this.widgetMap.stopRecurrenceField.value){case"count":t.show(),t.enable(),n.hide(),n.disable();break;case"date":t.hide(),t.disable(),n.show(),n.enable();break;default:t.hide(),n.hide(),t.disable(),n.disable()}}},{key:"onMonthDaysRadioFieldChange",value:function(e){var t=e.checked,n=this.widgetMap.monthDaysButtonField;n.disabled=!t||!this.isWidgetAvailableForFrequency(n)}},{key:"onPositionAndDayRadioFieldChange",value:function(e){var t=e.checked,n=this.widgetMap,r=n.daysCombo,i=n.positionsCombo;r.disabled=i.disabled=!t||!this.isWidgetAvailableForFrequency(r)}},{key:"onStopRecurrenceFieldChange",value:function(){this.toggleStopFields()}},{key:"isWidgetAvailableForFrequency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.widgetMap.frequencyField.value;return!e.forFrequency||e.forFrequency.indexOf(t)>-1}},{key:"onFrequencyFieldChange",value:function(e){var t=e.value,n=e.valid,r=this,i=r.queryAll(function(e){return"forFrequency"in e});if(n&&t){for(var o=0;o<i.length;o++){var a=i[o];r.isWidgetAvailableForFrequency(a,t)?(a.show(),a.enable()):(a.hide(),a.disable())}r.widgetMap.intervalField.intervalUnit.innerHTML=r.L("".concat(t,"intervalUnit")),r.toggleFieldsState()}}},{key:"toggleFieldsState",value:function(){var e=this.widgetMap;this.onMonthDaysRadioFieldChange({checked:e.monthDaysRadioField.checked}),this.onPositionAndDayRadioFieldChange({checked:e.positionAndDayRadioField.checked}),this.onStopRecurrenceFieldChange()}},{key:"updateLocalization",value:function(){var e=this.widgetMap,t=e.countField,r=e.intervalField,i=e.frequencyField;t.countUnit.innerHTML=this.L("L{time(s)}"),r.intervalUnit.innerHTML=this.L("".concat(i.value,"intervalUnit")),ce()(Q()(n.prototype),"updateLocalization",this).call(this)}},{key:"record",get:function(){return ce()(Q()(n.prototype),"record",this)},set:function(e){di()(Q()(n.prototype),"record",e,this,!0);var t=e.timeSpan,r=t&&t.startDate,i=this.widgetMap,o=i.daysButtonField,a=i.monthDaysButtonField,s=i.monthsButtonField,u=i.monthDaysRadioField,c=i.positionAndDayRadioField,l=i.stopRecurrenceField;r&&(e.days&&e.days.length||(o.value=[cv.encodeDay(r.getDay())]),e.monthDays&&e.monthDays.length||(a.value=r.getDate()),e.months&&e.months.length||(s.value=r.getMonth()+1)),e.days&&e.positions?(c.check(),this.isPainted||u.uncheck()):(u.check(),this.isPainted||c.uncheck()),l.recurrence=e}}],[{key:"$name",get:function(){return"RecurrenceEditor"}},{key:"defaultConfig",get:function(){return{draggable:!0,closable:!0,floating:!0,cls:"b-recurrenceeditor",title:"L{Repeat event}",autoClose:!0,width:400,items:{frequencyField:!0,daysButtonField:!0,monthDaysRadioField:!0,monthDaysButtonField:!0,monthsButtonField:!0,positionAndDayRadioField:!0,stopRecurrenceField:!0,countField:!0,endDateField:!0,intervalField:!0,positionsCombo:!0,daysCombo:!0},namedItems:{frequencyField:{type:"recurrencefrequencycombo",name:"frequency",localeClass:this,label:"L{Frequency}",weight:10,onChange:"up.onFrequencyFieldChange"},intervalField:{type:"numberfield",weight:15,name:"interval",localeClass:this,label:"L{Every}",labels:[{align:"end",reference:"intervalUnit",style:{width:"50em"}}],min:1,allowBlank:!1},daysButtonField:{type:"recurrencedaysbuttongroup",weight:20,name:"days",forFrequency:"WEEKLY"},monthDaysRadioField:{type:"checkbox",weight:30,toggleGroup:"radio",forFrequency:"MONTHLY",localeClass:this,label:"L{Each}",checked:!0,onChange:"up.onMonthDaysRadioFieldChange"},monthDaysButtonField:{type:"recurrencemonthdaysbuttongroup",weight:40,name:"monthDays",forFrequency:"MONTHLY"},monthsButtonField:{type:"recurrencemonthsbuttongroup",weight:50,name:"months",forFrequency:"YEARLY"},positionAndDayRadioField:{type:"checkbox",weight:60,toggleGroup:"radio",forFrequency:"MONTHLY|YEARLY",localeClass:this,label:"L{On the}",onChange:"up.onPositionAndDayRadioFieldChange"},positionsCombo:{type:"recurrencepositionscombo",weight:80,name:"positions",forFrequency:"MONTHLY|YEARLY"},daysCombo:{type:"recurrencedayscombo",weight:90,name:"days",forFrequency:"MONTHLY|YEARLY",flex:1},stopRecurrenceField:{type:"recurrencestopconditioncombo",weight:100,localeClass:this,label:"L{End repeat}",onChange:"up.onStopRecurrenceFieldChange"},countField:{type:"numberfield",weight:110,name:"count",min:2,localeClass:this,allowBlank:!1,disabled:!0,label:" ",labels:[{align:"end",reference:"countUnit",label:"L{time(s)}"}]},endDateField:{type:"datefield",weight:120,name:"endDate",hidden:!0,disabled:!0,label:" ",allowBlank:!1}},bbar:[{type:"widget",cls:"b-label-filler"},{type:"button",color:"b-green",ref:"saveButton",text:"L{Save}",localeClass:this,onClick:"up.onSaveClick"},{type:"button",color:"b-gray",ref:"cancelButton",text:"L{Object.Cancel}",localeClass:this,onClick:"up.onCancelClick"}]}}}]),n}(Hi);function wy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}by._$name="RecurrenceEditor",ke.register("recurrenceeditor",by);function Sy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Dy=function(e){X()(n,e);var t=Sy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){this.scheduler=e,this.eventStore=e.eventStore,this.resourceStore=e.resourceStore,ce()(Q()(n.prototype),"construct",this).call(this,e,t)}},{key:"getEditor",value:function(){var e=this,t=e.editor;return t||(0===(t=e.editor=new Kg(e.getEditorConfig())).items.length&&console.warn("Event Editor configured without any `items`"),t.on({beforehide:e.resetEditingContext,keydown:e.onPopupKeyDown,thisObj:e}),Object.values(t.widgetMap).forEach(function(t){var n=t.ref||t.id;if(n&&!e[n])switch(e[n]=t,t.name){case"startDate":case"endDate":t.on("change",e.onDatesChange,e)}}),e.onEditorConstructed&&e.onEditorConstructed(t),e.eventTypeField&&e.eventTypeField.on("change",e.onEventTypeChange,e),e.saveButton&&e.saveButton.on("click",e.onSaveClick,e),e.deleteButton&&e.deleteButton.on("click",e.onDeleteClick,e),e.cancelButton&&e.cancelButton.on("click",e.onCancelClick,e),e.editor)}},{key:"getEditorConfig",value:function(){var e=this,t=e.autoClose,n=e.cls,r=e.readOnly;return It.assign({eventEditFeature:e,weekStartDay:e.weekStartDay,align:"b-t",id:"".concat(e.scheduler.id,"-event-editor"),autoShow:!1,anchor:!0,scrollAction:"realign",clippedBy:[e.scheduler.timeAxisSubGridElement,e.scheduler.bodyContainer],constrainTo:window,autoClose:t,readOnly:r,cls:n},e.editorConfig)}},{key:"internalShowEditor",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this,o=i.scheduler,a=r||yn.down(o.getElementFromEventRecord(e,t),o.eventInnerSelector);if(a||!e.isPartOfStore(o.eventStore)){if(!1===o.trigger("beforeEventEdit",{eventEdit:i,eventRecord:e,resourceRecord:t,eventElement:a}))return o.element.classList.remove("b-eventeditor-editing"),i.phantomEventElement&&i.phantomEventElement.remove(),void(i.phantomEventElement=null);i.resourceRecord=t;var s=i.getEditor(e);ce()(Q()(n.prototype),"internalShowEditor",this)&&ce()(Q()(n.prototype),"internalShowEditor",this).call(this,e,t,r),i.typeField&&i.toggleEventType(e.get(i.typeField)),o.trigger("beforeEventEditShow",{eventEdit:i,eventRecord:e,resourceRecord:t,eventElement:a,editor:s}),i.isEditing=!0,i.loadRecord(e,t),a?(a.classList.add("b-editing"),s.showBy({target:a,anchor:!0})):s.showBy({target:o.element,anchor:!1,align:"c-c"});var u=o.timeAxisViewModel.timeResolution;"hour"!==u.unit&&"minute"!==u.unit||(i.startTimeField.step=i.endTimeField.step="".concat(u.increment).concat(u.unit))}}},{key:"editEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this,i=r.scheduler,o=i.eventStore.indexOf(e)<0;r.isEditing&&r.resetEditingContext(),i.readOnly||r.disabled||(i.element.classList.add("b-eventeditor-editing"),t||(e.resource?t=e.resource:e.resourceId&&(t=i.resourceStore.getById(e.resourceId))),o&&(this.phantomEventElement=n),n||o?r.internalShowEditor(e,t,n):i.scrollResourceEventIntoView(t,e,null,{animate:!0,edgeOffset:0,extendTimeAxis:!1}).then(function(){return r.internalShowEditor(e,t)},function(){return i.element.classList.remove("b-eventeditor-editing")}))}},{key:"loadRecord",value:function(e,t){this.loadingRecord=!0,this.internalLoadRecord(e,t),this.loadingRecord=!1}},{key:"internalLoadRecord",value:function(e,t){var r=this,i=r.client.eventStore;if(r.eventRecord=e,r.resourceRecord=t,r.editor.record=e,r.resourceField){var o=i.getResourcesForEvent(e);!i.storage.includes(e,!0)&&r.resourceRecord?r.resourceField.value=r.resourceRecord[r.resourceField.valueField]:r.scheduler.assignmentStore&&(r.resourceField.value=o.map(function(e){return e[r.resourceField.valueField]}))}ce()(Q()(n.prototype),"internalLoadRecord",this).call(this,e,t)}},{key:"toggleEventType",value:function(e){this.editor.element.dataset.eventType=e||"",this.editor.eachWidget(function(t){return t.dataset&&t.dataset.eventType&&(t.hidden=t.dataset.eventType!==e)})}},{key:"finalizeEventSave",value:function(e,t,n,r){var i=this,o=i.scheduler,a=i.eventStore;if(i.onBeforeSave(e),e.beginBatch(),i.updateRecord(e),e.endBatch(),a&&!e.stores.length){if(!1===o.trigger("beforeEventAdd",{eventRecord:e,resourceRecords:t,resources:t}))return void n(!1);if(o.isInTimeAxis(e)){if(i.phantomEventElement){var s=o.generateTplData(e,t[0]);s&&(yn.syncClassList(i.phantomEventElement,s.wrapperCls),yn.createElement({tag:"div",parent:i.phantomEventElement,className:s.cls.toString()}),i.phantomEventElement.classList.add("b-sch-dragcreator-proxy"),i.phantomEventElement.id=s.id,i.phantomEventElement.dataset.syncId=e.id,o.isHorizontal&&o.currentOrientation.releaseTimeSpanDiv(i.phantomEventElement,!0),i.phantomEventElement=null,e.instanceMeta(o).fromDragProxy=!0)}}else i.phantomEventElement.remove();if(i.eventStore.add(e),i.eventStore.assignEventToResource(e,t),!i.eventStore.includes(e)){var u=o.element.querySelector(".b-sch-dragcreator-proxy");u&&(o.currentOrientation.availableDivs.remove(u),u.remove())}}else o.assignmentStore&&i.eventStore.assignEventToResource(e,t,!0);o.trigger("afterEventSave",{eventRecord:e}),i.onAfterSave(e),n(e)}},{key:"save",value:function(){var e=this;return new Promise(function(t,n){var r=e,i=r.scheduler,o=r.eventRecord;if(o&&r.isValid){var a=r.eventStore,s=r.values,u=r.resourceField&&r.resourceField.records||[r.resourceRecord],c=u[0];if(!r.scheduler.allowOverlap&&a)if(u.some(function(e){return!a.isDateRangeAvailable(s.startDate,s.endDate,o,e)}))return void t(!1);var l={finalize:function(e){try{!1!==e?r.finalizeEventSave(o,u,t,n):t(!1)}catch(e){n(e)}}};!1!==i.trigger("beforeEventSave",{eventRecord:o,resourceRecords:u,resourceRecord:c,values:s,context:l})?l.finalize():l.async||t()}else t(!1)})}},{key:"deleteEvent",value:function(){var e=this;return new Promise(function(t,n){var r=e,i=r.eventRecord,o=r.editor;r.scheduler.removeRecords([i],function(e){e&&o.containsFocus&&o.revertFocus(),t(e)})})}},{key:"onActivateEditor",value:function(e){var t=e.eventRecord,n=e.resourceRecord,r=e.eventElement;this.editEvent(t,n,r)}},{key:"onDragCreateEnd",value:function(e){var t=e.newEventRecord,n=e.resourceRecord,r=e.proxyElement;if(!this.disabled){this.scheduler.onEventCreated(t);var i=r.cloneNode(!0);i.removeAttribute("id"),r.parentElement.appendChild(i),this.editEvent(t,n,i)}}},{key:"onEventEnterKey",value:function(e){var t=e.assignmentRecord,n=e.eventRecord;t?this.editEvent(n,t.resource):n&&this.editEvent(n,n.resource)}},{key:"onEventTypeChange",value:function(e){var t=e.value;this.toggleEventType(t)}},{key:"getEventMenuItems",value:function(e){var t=this,n=e.eventRecord,r=e.resourceRecord,i=e.items;this.scheduler.readOnly||(i.editEvent={text:"L{Edit Event}",localeClass:this,icon:"b-icon b-icon-edit",weight:-200,onItem:function(){t.editEvent(n,r)}})}},{key:"readOnly",get:function(){return this.editor?this.editor.readOnly:this._readOnly},set:function(e){this._readOnly=e,this.editor&&(this.editor.readOnly=e)}},{key:"values",get:function(){var e=ce()(Q()(n.prototype),"values",this);return!this.scheduler.assignmentStore&&e.resource&&(e.resourceId=e.resource.id,delete e.resource),e}},{key:"resourceStore",get:function(){return this._resourceStore},set:function(e){this._resourceStore=e,this.resourceField&&(this.resourceField.store=e)}}],[{key:"$name",get:function(){return"EventEdit"}},{key:"defaultConfig",get:function(){return{triggerEvent:"eventdblclick",showResourceField:!0,resourceFieldConfig:null,typeField:"eventType",eventRecord:null,readOnly:null,editorConfig:{title:"L{Edit Event}",localeClass:this,closable:!0,items:[{type:"text",localeClass:this,label:"L{Name}",clearable:!0,name:"name",ref:"nameField"},{type:"combo",localeClass:this,label:"L{Resource}",name:"resource",ref:"resourceField",editable:!0,valueField:"id",displayField:"name"},{type:"date",cls:"b-inline",clearable:!1,required:!0,localeClass:this,label:"L{Start}",name:"startDate",ref:"startDateField",flex:"1 0 60%"},{type:"time",clearable:!1,required:!0,name:"startDate",ref:"startTimeField",cls:"b-match-label",flex:"1 0 40%"},{type:"date",cls:"b-inline",clearable:!1,required:!0,localeClass:this,label:"L{End}",name:"endDate",ref:"endDateField",flex:"1 0 60%"},{type:"time",clearable:!1,required:!0,name:"endDate",ref:"endTimeField",cls:"b-match-label",flex:"1 0 40%"},{type:"extraItems"}],bbar:[{type:"widget",cls:"b-label-filler"},{color:"b-green",localeClass:this,text:"L{Save}",ref:"saveButton"},{color:"b-gray",localeClass:this,text:"L{Delete}",ref:"deleteButton"},{color:"b-gray",text:"L{Object.Cancel}",localeClass:this,ref:"cancelButton"}]}}}},{key:"pluginConfig",get:function(){return{chain:["getEventMenuItems","onEventEnterKey"],assign:["editEvent"]}}}]),n}(function(e){return function(e){X()(n,e);var t=wy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"insertExtraWidgetsIntoDefaultWidgets",value:function(e){this.processEditorConfig(e),ce()(Q()(n.prototype),"insertExtraWidgetsIntoDefaultWidgets",this).call(this,e)}},{key:"processEditorConfig",value:function(e){var t=e.items,n=t.findIndex(function(e){return"extraItems"===e.type});n<0?t.push.apply(t,te()(this.recurringEventsItems)):t.splice.apply(t,[n,0].concat(te()(this.recurringEventsItems)))}},{key:"construct",value:function(e,t){ce()(Q()(n.prototype),"construct",this).call(this,e,t),this.scheduler.on({beforeEventDelete:this.onRecurrableEventBeforeDelete,beforeEventSave:this.onRecurrableEventBeforeSave,thisObj:this})}},{key:"doDestroy",value:function(){this._recurrenceConfirmation&&this.recurrenceConfirmation.destroy(),this._recurrenceEditor&&this.recurrenceEditor.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"onEditorConstructed",value:function(e){var t=this;e.on("hide",t.onRecurringEventEditorHide,t),t.editRecurrenceButton&&t.editRecurrenceButton.on("click",t.onEditRecurrenceClick,t),t.recurrenceCombo.on("change",t.onRecurrenceComboChange.bind(t))}},{key:"internalShowEditor",value:function(){this.toggleRecurringFieldsVisibility(this.isRecurringEnabled&&!1!==this.showRecurringUI)}},{key:"toggleRecurringFieldsVisibility",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e?"show":"hide";this.editRecurrenceButton&&this.editRecurrenceButton[t](),this.recurrenceCombo&&this.recurrenceCombo[t]()}},{key:"onRecurringEventEditorHide",value:function(e){e.source;var t=this.recurrenceEditor,n=this.recurrenceConfirmation;t&&t.isVisible&&t.hide(),n&&n.isVisible&&n.hide()}},{key:"makeRecurrence",value:function(e){var t=this.eventRecord,n=t.copy(),r=t.recurrence;return(r=!e&&r?r.copy():new t.recurrenceModel({rule:e})).timeSpan=n,n.setStartDate(this.values.startDate),r.suspendTimeSpanNotifying(),r}},{key:"onRecurrableEventBeforeSave",value:function(e){var t=e.eventRecord,n=e.context;if(t.supportsRecurring&&(t.isRecurring||t.isOccurrence))return this.recurrenceConfirmation.confirm({actionType:"update",eventRecord:t,changerFn:function(){n.finalize(!0)},cancelFn:function(){n.finalize(!1)}}),n.async=!0,!1}},{key:"showDisplayConfirmationOnEventDelete",value:function(e){return this.isEditing&&this.eventRecord===e&&e.supportsRecurring&&(e.isRecurring||e.isOccurrence)}},{key:"onRecurrableEventBeforeDelete",value:function(e){var t=e.eventRecords,n=e.context,r=re()(t,1)[0];if(this.showDisplayConfirmationOnEventDelete(r))return this.recurrenceConfirmation.confirm({actionType:"delete",eventRecord:r,changerFn:function(){n.finalize(!0)},cancelFn:function(){n.finalize(!1)}}),!1}},{key:"showRecurrenceEditor",value:function(){var e=this,t=e.recurrenceEditor,n=e.eventRecord;t&&n&&n.supportsRecurring&&(e.recurrence||(e.recurrence=e.makeRecurrence()),e.recurrence.timeSpan.setStartDate(e.values.startDate),t.record=e.recurrence,t.showBy(e.recurrenceCombo.element))}},{key:"onEditRecurrenceClick",value:function(){this.showRecurrenceEditor()}},{key:"loadRecurrenceData",value:function(e){this.recurrence=e,this.updateRecurrenceFields(e)}},{key:"updateRecurrenceFields",value:function(e){var t=this;t.recurrenceCombo&&(t.recurrenceCombo.recurrence=e),t.editRecurrenceButton&&(t.editRecurrenceButton.recurrence=e,t.editRecurrenceButton.value=e?e.rule:null,e&&t.isRecurringEnabled&&!1!==t.showRecurringUI?t.editRecurrenceButton.show():t.editRecurrenceButton.hide())}},{key:"onRecurrenceComboChange",value:function(e){var t=e.source,n=e.value,r=e.userAction;n==t.customValue?r&&this.showRecurrenceEditor():this.loadRecurrenceData(n?this.makeRecurrence("FREQ=".concat(n)):null)}},{key:"recurrenceEditorSaveHandler",value:function(e,t){e.updateRecord(t),this.updateRecurrenceFields(t),e.close()}},{key:"onDatesChange",value:function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=ce()(Q()(n.prototype),"onDatesChange",this)).call.apply(e,[this].concat(r));var o=this,a=o.editRecurrenceButton;if(!o.loadingRecord&&a){var s=o.values.startDate;s&&(a.eventStartDate=s)}}},{key:"internalLoadRecord",value:function(e,t){this.recurrenceCombo&&e&&e.supportsRecurring&&this.loadRecurrenceData(e.recurrence?this.makeRecurrence():null)}},{key:"isRecurringEnabled",get:function(){return Boolean(this.scheduler.features.recurringEvents&&!this.scheduler.features.recurringEvents.disabled)}},{key:"recurrenceConfirmation",set:function(e){this._recurrenceConfirmation=e},get:function(){var e=this._recurrenceConfirmation;return e&&e.$name||(e=Ce.createWidget(Object.assign({type:"recurrenceconfirmation",owner:this.getEditor()},e)),this._recurrenceConfirmation=e),e}},{key:"recurrenceEditor",set:function(e){this._recurrenceEditor=e},get:function(){var e=this,t=e._recurrenceEditor;return t&&t.$name||(t=Ce.createWidget(Object.assign({type:"recurrenceeditor",autoShow:!1,owner:e.getEditor(),scrollAction:"realign",clippedBy:[e.scheduler.timeAxisSubGridElement,e.scheduler.bodyContainer],constrainTo:window,anchor:!0,saveHandler:e.recurrenceEditorSaveHandler,thisObj:e},t)),e._recurrenceEditor=t),t}}],[{key:"$name",get:function(){return"RecurringEventEdit"}},{key:"defaultConfig",get:function(){return{recurringEventsItems:[{type:"recurrencecombo",label:"L{EventEdit.Repeat}",ref:"recurrenceCombo"},{type:"recurrencelegendbutton",ref:"editRecurrenceButton",name:"recurrenceRule",flex:"1"}],showRecurringUI:null}}}]),n}(e||U)}(qg));function Ry(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Dy._$name="EventEdit",Ff.registerFeature(Dy,!0,"Scheduler");var Cy=function(e){X()(n,e);var t=Ry(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){ce()(Q()(n.prototype),"construct",this).call(this,e,t),this.scheduler=e}},{key:"getHeaderMenuItems",value:function(e,t){var n=this;"timeAxis"===e.type&&t.push({text:"L{filterEvents}",localeClass:this,icon:"b-fw-icon b-icon-filter",disabled:n.disabled,menu:{type:"popup",items:[{type:"textfield",cls:"b-eventfilter b-last-row",clearable:!0,keyStrokeChangeDelay:300,label:"L{byName}",localeClass:this,width:200,listeners:{change:n.onEventFilterChange,thisObj:n}}],onBeforeShow:function(e){var t=e.source,r=re()(t.items,1)[0],i=n.scheduler.eventStore.filters.getBy("property","name");r.value=i&&i.value}}})}},{key:"onEventFilterChange",value:function(e){var t=e.value;""!==t?this.scheduler.eventStore.filter("name",t):this.scheduler.eventStore.removeFilter("name")}}],[{key:"$name",get:function(){return"EventFilter"}},{key:"pluginConfig",get:function(){return{chain:["getHeaderMenuItems"]}}}]),n}(To);function xy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Cy.featureClass="b-event-filter",Cy._$name="EventFilter",Ff.registerFeature(Cy,!0,["Scheduler","Gantt"]);var Ey={top:"b-t",right:"b100-t100",bottom:"t-b",left:"b0-t0"},Ty=function(e){X()(n,e);var t=xy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"render",value:function(){var e=this;e.resize&&e.resize.destroy(),e.resize=e.createResizeHelper(),e.showTooltip&&(e.clockTemplate=new yg({scheduler:e.client}))}},{key:"doDestroy",value:function(){var e=this;e.tip&&e.tip.destroy(),e.clockTemplate&&e.clockTemplate.destroy(),e.resize&&e.resize.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"isElementResizable",value:function(e,t){var n=this.client,r=this.resize,i=n.resolveTimeSpanRecord(e);if(n.readOnly)return!1;var o=i&&i.isResizable,a=(e=yn.up(t.target,n.eventSelector))?e.firstElementChild:e,s=t.target.closest('[class$="-handle"]');if(!o||s&&s!==a)return!1;var u=e.classList.contains("b-sch-event-startsoutside"),c=e.classList.contains("b-sch-event-endsoutside");if(!0===o){if(u&&c)return!1;if(u)o="end";else{if(!c)return r.overStartHandle(t,e)||r.overEndHandle(t,e);o="start"}}return!(u&&"start"===o||c&&"end"===o)&&!!(r.overStartHandle(t,e)&&"start"===o||r.overEndHandle(t,e)&&"end"===o)}},{key:"onBeforeResizeStart",value:function(e){var t,n=e.element,r=e.event,i=this.client,o=i.scheduledEventName,a=i.resolveTimeSpanRecord(n);return!this.disabled&&!1!==i.trigger("before".concat(i.capitalizedEventName,"Resize"),(t={},se()(t,o+"Record",a),se()(t,"event",r),t))}},{key:"onResizeStart",value:function(e){var t,n=e.context,r=e.event,i=this,o=i.client,a=o.resolveTimeSpanRecord(n.element),s=o.scheduledEventName;o.element.classList.add("b-resizing-event"),i.setupProductResizeContext(n,r),i.showTooltip&&(i.tip?(i.tip.align=Ey[n.edge],i.tip.showBy(i.getTooltipTarget())):(i.tip=new ao({id:"".concat(o.id,"-event-resize-tip"),autoShow:!0,axisLock:!0,trackMouse:!1,updateContentOnMouseMove:!0,getHtml:i.getTipHtml.bind(i),align:Ey[n.edge],hideDelay:0}),i.tip.on("innerhtmlupdate",i.updateDateIndicator,i))),a.instanceMeta(o).retainElement=!0,o.trigger("".concat(s,"ResizeStart"),(t={},se()(t,"".concat(s,"Record"),a),se()(t,"event",r),t))}},{key:"updateDateIndicator",value:function(){var e=this.resize.context,t=e.edge,n=e.startDate,r=e.endDate,i=this.tip.element;(n||r)&&("right"===t||"bottom"===t?this.clockTemplate.updateDateIndicator(i.querySelector(".b-sch-tooltip-enddate"),r):this.clockTemplate.updateDateIndicator(i,n))}},{key:"getTooltipTarget",value:function(){var e=this,t=Wn.from(e.resize.context.element,null,!0);return"horizontal"===e.resize.direction?("right"===e.resize.context.edge&&(t.x=t.right-1),t.width=e.tip.anchorSize[0]/2):("bottom"===e.resize.context.edge&&(t.y=t.bottom-1),t.height=e.tip.anchorSize[1]/2),{target:t}}},{key:"onResizing",value:function(e){var t,n,r,i=e.context,o=e.event,a=this,s=a.client,u=s.features.dependencies,c=a.getTimespanRecord(i),l=s.scheduledEventName,f=i.element,d=i.edge,h=yn.getTranslateXY(f);if("top"===d||"left"===d?(r=c.endDate,s.snapRelativeToEventStartDate?(n=s.getDateFromXY(h,null,!0),n=s.timeAxis.roundDate(n,c.startDate)):n=s.getDateFromXY(h,"round",!0)):(h[0]+=f.offsetWidth,h[1]+=f.offsetHeight,n=c&&c.startDate,s.snapRelativeToEventStartDate?(r=s.getDateFromXY(h,null,!0),r=s.timeAxis.roundDate(r,c.endDate)):r=s.getDateFromXY(h,"round",!0)),n=n||i.startDate,r=r||i.endDate,i.dateConstraints&&(n=xt.constrain(n,i.dateConstraints.start,i.dateConstraints.end),r=xt.constrain(r,i.dateConstraints.start,i.dateConstraints.end)),a.showExactResizePosition||s.timeAxisViewModel.snap){var p="top"===d||"left"===d?s.timeAxisViewModel.getDistanceBetweenDates(n,c.endDate):s.timeAxisViewModel.getDistanceBetweenDates(c.startDate,r);switch(d){case"top":yn.setTranslateY(f,i.elementStartY+i.elementWidth-p),f.style.height=p+"px";break;case"right":f.style.width=p+"px";break;case"bottom":f.style.height=p+"px";break;case"left":yn.setTranslateX(f,i.elementStartX+i.elementWidth-p),f.style.width=p+"px"}}var v=i.endDate-r!=0||i.startDate-n!=0;i.endDate=r,i.startDate=n,v&&(i.valid=a.checkValidity(i,o)),s.trigger("".concat(l,"PartialResize"),(t={},se()(t,"".concat(l,"Record"),c),se()(t,"startDate",n),se()(t,"endDate",r),se()(t,"element",f),se()(t,"context",i),t)),u&&u.updateDependenciesForTimeSpan(c,f),a.showTooltip&&a.tip.alignTo(a.getTooltipTarget())}},{key:"checkValidity",value:function(e,t){var n=e.startDate&&e.endDate>e.startDate&&this.validatorFn.call(this.validatorFnThisObj||this,e,t);return n&&"boolean"!=typeof n&&(e.message=n.message||"",n=n.valid),!1!==n}},{key:"onFinishResize",value:function(e){e.source;var t=e.context,n=e.event,r=this,i=r.getTimespanRecord(t),o=i.startDate,a=i.endDate,s=t.startDate||o,u=t.endDate||a,c=r.client,l=!1;r.tip&&r.tip.hide(),i.instanceMeta(c).retainElement=!1;var f=t.finalize;t.finalize=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.async&&r.finalize.apply(r,n),f.call(t,n)},t.valid=s&&u&&u-s>0&&(s-o!=0||u-a!=0)&&!1!==t.valid,t.valid&&(c.trigger("before".concat(c.scheduledEventName,"ResizeFinalize"),{context:t,event:n}),l=!0),t.async||r.finalize(l)}},{key:"onCancelResize",value:function(e){var t=e.context,n=this.getTimespanRecord(t);n&&(n.instanceMeta(this.client).retainElement=!1),this.finalize(!1)}},{key:"finalize",value:function(e){var t=this,n=t.client,r=t.resize.context,i=t.getTimespanRecord(r),o=n.scheduledEventName,a=!1;if(t.tip&&t.tip.hide(),r.started&&(e&&(a=t.internalUpdateRecord(r,i)),!e||!a)){var s=n.features.dependencies;t.resize.abortResize(null,!0),s&&s.scheduleDraw(!0)}n.element.classList.remove("b-resizing-event"),n.trigger("".concat(o,"ResizeEnd"),se()({changed:a},"".concat(o,"Record"),i||n.resolveEventRecord(r.element)))}},{key:"getTipHtml",value:function(e){var t=e.tip,n=this,r=n.resize.context,i=r.startDate,o=r.endDate,a=r.valid,s=r.message;if(!i||!o)return t.html;void 0===s&&(s=""),o=n.client.getDisplayEndDate(o,i);var u=n.client.getFormattedDate(i),c=n.client.getFormattedDate(o);return n.tipTemplate({valid:a,startDate:i,endDate:o,startText:u,endText:c,message:s,startClockHtml:n.clockTemplate.template({date:i,text:u,cls:"b-sch-tooltip-startdate"}),endClockHtml:n.clockTemplate.template({date:o,text:c,cls:"b-sch-tooltip-enddate"})})}},{key:"getRowRecord",value:function(e){throw new Error("Implement in subclass")}},{key:"getTimespanRecord",value:function(e){throw new Error("Implement in subclass")}},{key:"setupProductResizeContext",value:function(e,t){throw new Error("Implement in subclass")}},{key:"store",get:function(){throw new Error("Implement in subclass")}}],[{key:"defaultConfig",get:function(){return{showTooltip:!0,showExactResizePosition:!1,validatorFn:function(){},validatorFnThisObj:null,tip:null,tipTemplate:function(e){return'\n                <div class="b-sch-tip-'.concat(e.valid?"valid":"invalid",'">\n                    ').concat(e.startClockHtml,"\n                    ").concat(e.endClockHtml,'\n                    <div class="b-sch-tip-message">').concat(e.message,"</div>\n                </div>\n            ")}}}},{key:"pluginConfig",get:function(){return{chain:["render"]}}}]),n}(To);function My(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ty._$name="ResizeBase";var Py=function(e){X()(n,e);var t=My(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"createResizeHelper",value:function(){var e=this,t=e.client;return new qc({direction:t.isVertical?"vertical":"horizontal",name:e.constructor.$name,isElementResizable:function(t,n){return e.isElementResizable(t,n)},targetSelector:t.eventSelector,handleContainerSelector:t.eventInnerSelector,resizingCls:"b-sch-event-wrap-resizing",allowResize:e.isElementResizable.bind(e),outerElement:t.timeAxisSubGridElement,scrollManager:t.scrollManager,dragThreshold:0,dynamicHandleSize:!0,reservedSpace:5,scroller:t.timeAxisSubGrid.scrollable,listeners:{beforeresizestart:e.onBeforeResizeStart,resizestart:e.onResizeStart,resizing:e.onResizing,resize:e.onFinishResize,cancel:e.onCancelResize,thisObj:e}})}},{key:"getTimespanRecord",value:function(e){return e.eventRecord}},{key:"getRowRecord",value:function(e){return e.resourceRecord}},{key:"setupProductResizeContext",value:function(e,t){var n=this.client,r=n.resolveEventRecord(e.element),i=n.resolveResourceRecord(e.element);Object.assign(e,{eventRecord:r,resourceRecord:i,dateConstraints:n.getDateConstraints(i,r)})}},{key:"onResizeStart",value:function(e){var t=e.context,r=e.event;ce()(Q()(n.prototype),"onResizeStart",this).call(this,{context:t,event:r}),this.client.features.dependencies&&this.client.features.dependencies.hideTerminals(t.element),t.element.querySelector(".b-sch-event").classList.add("b-sch-event-resizing")}},{key:"checkValidity",value:function(e,t){return(this.client.allowOverlap||this.client.isDateRangeAvailable(e.startDate,e.endDate,e.eventRecord,e.resourceRecord))&&ce()(Q()(n.prototype),"checkValidity",this).call(this,e,t)}},{key:"onFinishResize",value:function(e){var t=e.source,r=e.context,i=e.event;ce()(Q()(n.prototype),"onFinishResize",this).call(this,{source:t,context:r,event:i}),this.client.features.dependencies&&this.client.features.dependencies.showTerminals(r.eventRecord,r.element)}},{key:"internalUpdateRecord",value:function(e,t){var n=this.store,r=t.generation;return"left"===e.edge||"top"===e.edge?t.setStartDate(e.startDate,!1,n.skipWeekendsDuringDragDrop):t.setEndDate(e.endDate,!1,n.skipWeekendsDuringDragDrop),t.generation!==r||(this.client.repaintEventsForResource(e.resourceRecord),!1)}},{key:"finalize",value:function(e){this.resize.context.element.querySelector(".b-sch-event").classList.remove("b-sch-event-resizing"),ce()(Q()(n.prototype),"finalize",this).call(this,e)}},{key:"store",get:function(){return this.client.eventStore}}],[{key:"$name",get:function(){return"EventResize"}}]),n}(Ty);function Ay(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Py._$name="EventResize",Ff.registerFeature(Py,!0,"Scheduler");var Iy=function(e){X()(n,e);var t=Ay(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;t=r.processConfig(t),ce()(Q()(n.prototype),"construct",this).call(this,e,t),r.forSelector||(r.forSelector="".concat(e.eventInnerSelector,":not(.b-dragproxy)")),r.clockTemplate=new yg({scheduler:e}),e.on(se()({},"before".concat(e.scheduledEventName,"drag"),function(){r.tooltip&&r.tooltip.hide()}))}},{key:"processConfig",value:function(e){return"function"==typeof e?{template:e}:e}},{key:"setConfig",value:function(e){ce()(Q()(n.prototype),"setConfig",this).call(this,this.processConfig(e))}},{key:"doDestroy",value:function(){this.clockTemplate&&this.clockTemplate.destroy(),this.tooltip&&this.tooltip.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){this.tooltip&&(this.tooltip.disabled=e),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"render",value:function(){var e=this,t=e.client,n=[".b-dragselecting",".b-eventeditor-editing",".b-resizing-event",".b-dragcreating",".b-dragging-".concat(t.scheduledEventName),".b-creating-dependency",".b-dragproxy"].map(function(e){return":not(".concat(e,")")}).join("");e.tooltip&&e.tooltip.destroy(),e.tooltip=new ao(Object.assign({axisLock:"flexible",id:e.tipId||"".concat(e.client.id,"-event-tip"),cls:e.tipCls,forSelector:".b-timelinebase".concat(n," .b-grid-body-container:not(.b-scrolling) ").concat(e.forSelector),scrollAction:"realign",clippedBy:[t.timeAxisSubGridElement,t.bodyContainer],forElement:t.timeAxisSubGridElement,showOnHover:!0,hoverDelay:0,hideDelay:100,anchorToTarget:!0,allowOver:Boolean(e.config.items||e.config.tools),getHtml:e.getTipHtml.bind(e),disabled:e.disabled},e.config)),e.tooltip.on("innerhtmlupdate",e.updateDateIndicator,e)}},{key:"updateDateIndicator",value:function(){var e=this.client,t=this.tooltip,n=t.activeTarget&&e.resolveTimeSpanRecord(t.activeTarget),r=t.element.querySelector(".b-sch-tooltip-enddate");n&&(this.clockTemplate.updateDateIndicator(t.element,n.startDate),r&&this.clockTemplate.updateDateIndicator(r,n.endDate))}},{key:"resolveTimeSpanRecord",value:function(e){return this.client.resolveTimeSpanRecord(e)}},{key:"getTipHtml",value:function(e){var t=e.tip,n=e.activeTarget,r=this,i=r.client,o=r.recordType||"".concat(i.scheduledEventName,"Record"),a=r.resolveTimeSpanRecord(n);if(a){var s,u=a.startDate,c=a.endDate,l=i.getFormattedDate(u),f=i.getDisplayEndDate(c,u),d=i.getFormattedDate(f);return t.eventRecord=a,t.title=a.name,r.template((s={tip:t},se()(s,"".concat(o),a),se()(s,"startDate",u),se()(s,"endDate",c),se()(s,"startText",l),se()(s,"endText",d),se()(s,"startClockHtml",r.clockTemplate.template({date:u,text:l,cls:"b-sch-tooltip-startdate"})),se()(s,"endClockHtml",a.isMilestone?"":r.clockTemplate.template({date:f,text:d,cls:"b-sch-tooltip-enddate"})),s))}return t.hide(),""}}],[{key:"defaultConfig",get:function(){return{autoUpdate:!1,template:null,cls:null,align:{align:"b-t"},clockTemplate:null}}},{key:"pluginConfig",get:function(){return{chain:["render"]}}}]),n}(To);function Fy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Iy._$name="TooltipBase";var Ly=function(e){X()(n,e);var t=Fy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){ce()(Q()(n.prototype),"construct",this).call(this,e,t),"string"==typeof this.align&&(this.align={align:this.align})}},{key:"render",value:function(){var e=this.client.features.dependencies;if(ce()(Q()(n.prototype),"render",this).call(this),e){var t=this.align.offset;this.tooltip.on("beforeshow",function(n){var r=n.source;e.disabled?r.align.offset=t:r.align.offset=[0,10]})}}}],[{key:"$name",get:function(){return"EventTooltip"}},{key:"defaultConfig",get:function(){return{template:function(e){return"\n                ".concat(e.eventRecord.name?'<div class="b-sch-event-title">'.concat(e.eventRecord.name,"</div>"):"","\n                ").concat(e.startClockHtml,"\n                ").concat(e.endClockHtml)},cls:"b-sch-event-tooltip"}}}]),n}(Iy);function Oy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ly._$name="EventTooltip",Ff.registerFeature(Ly,!0,"Scheduler");var _y=function(e){X()(n,e);var t=Oy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){ce()(Q()(n.prototype),"construct",this).call(this,e,t),this.scheduler=e}},{key:"getHeaderMenuItems",value:function(e,t){var n=this,r=n.scheduler,i=n.processItems,o=r.timeAxis,a={magnitude:o.shiftIncrement,unit:o.shiftUnit};"timeAxis"===e.type&&(t.push({text:"L{pickZoomLevel}",localeClass:this,icon:"b-fw-icon b-icon-search-plus",disabled:!r.presets.count||n.disabled,menu:{type:"popup",items:[{type:"slider",showValue:!1,listeners:{input:n.onZoomSliderChange,thisObj:n},minWidth:130}],onBeforeShow:function(e){var t=e.source,n=re()(t.items,1)[0];n.min=r.minZoomLevel,n.max=r.maxZoomLevel,n.value=r.zoomLevel}}}),n.startDateField=new gs({label:n.L("L{startText}"),labelWidth:"6em",required:!0,step:a,listeners:{change:n.onRangeDateFieldChange,thisObj:n}}),n.endDateField=new gs({label:n.L("L{endText}"),labelWidth:"6em",required:!0,step:a,listeners:{change:n.onRangeDateFieldChange,thisObj:n}}),t.push({text:"L{activeDateRange}",localeClass:this,icon:"b-fw-icon b-icon-calendar",disabled:n.disabled,menu:{type:"popup",width:"20em",items:[n.startDateField,n.endDateField,{type:"button",cls:"b-left-nav-btn",icon:"b-icon b-icon-prev",color:"b-blue b-raised",flex:1,margin:0,listeners:{click:n.onLeftShiftBtnClick,thisObj:n}},{type:"button",cls:"b-today-nav-btn",color:"b-blue b-raised",text:"L{todayText}",localeClass:this,flex:4,margin:"0 8",listeners:{click:n.onTodayBtnClick,thisObj:n}},{type:"button",cls:"b-right-nav-btn",icon:"b-icon b-icon-next",color:"b-blue b-raised",flex:1,listeners:{click:n.onRightShiftBtnClick,thisObj:n}}],onBeforeShow:function(){return n.initDates()}}}),n.extraItems&&t.push.apply(t,n.extraItems),i&&i({items:t}))}},{key:"onZoomSliderChange",value:function(e){var t=e.value,n=this.client.features.contextMenu.currentMenu;n.scrollAction="realign",this.scheduler.zoomLevel=t,n.setTimeout({fn:function(){return n.scrollAction="hide"},delay:100,cancelOutstanding:!0})}},{key:"initDates",value:function(){var e=this;e.startDateField.suspendEvents(),e.endDateField.suspendEvents(),e.startDateField.value=e.startDateFieldInitialValue=e.scheduler.startDate,e.endDateField.value=e.endDateFieldInitialValue=e.scheduler.endDate,e.startDateField.resumeEvents(),e.endDateField.resumeEvents()}},{key:"onRangeDateFieldChange",value:function(e){var t=this,n=e.source===t.startDateField,r=t.client,i=r.timeResolution,o=r.timeAxisSubGrid.scrollable,a=t.startDateFieldInitialValue&&!n?t.startDateFieldInitialValue:t.startDateField.value,s=r.getDateFromX(o.x),u=t.endDateFieldInitialValue&&n?t.endDateFieldInitialValue:t.endDateField.value;n?t.startDateFieldInitialValue=null:t.endDateFieldInitialValue=null,u-a?u<a&&(u=xt.add(a,i.increment,i.unit)):u=xt.add(u,i.increment,i.unit),t.scheduler.timeAxis.setTimeSpan(a,u),o.x=r.getCoordinateFromDate(s,!0),t.initDates()}},{key:"onLeftShiftBtnClick",value:function(){this.scheduler.timeAxis.shiftPrevious(),this.initDates()}},{key:"onTodayBtnClick",value:function(){var e=xt.clearTime(new Date);this.scheduler.timeAxis.setTimeSpan(e,xt.add(e,1,"day")),this.initDates()}},{key:"onRightShiftBtnClick",value:function(){this.scheduler.timeAxis.shiftNext(),this.initDates()}}],[{key:"$name",get:function(){return"HeaderContextMenu"}},{key:"defaultConfig",get:function(){return{extraItems:null,processItems:null}}},{key:"pluginConfig",get:function(){return{chain:["getHeaderMenuItems"]}}}]),n}(To);function jy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}_y.featureClass="",_y._$name="HeaderContextMenu",Ff.registerFeature(_y,!0,["Scheduler","Gantt"]);var Hy=function(e){X()(n,e);var t=jy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onElementMouseDown",value:function(e){var t=this,n=t.client;if(!e.touches&&0===e.button&&!t.disabled&&e.target.matches(".b-sch-header-timeaxis-cell")){var r=n.subGrids.normal.header.headersElement;t.startX=e.clientX,t.element=yn.createElement({parent:r,tag:"div",className:"b-headerzoom-rect"}),t.headerElementRect=Wn.from(r)}}},{key:"onElementMouseMove",value:function(e){var t=this;if(0!==e.buttons||N.isSafari||N.isIE11&&!e.isTrusted){if("number"==typeof t.startX){var n=Math.max(e.clientX,t.headerElementRect.left),r=Math.min(t.startX,n),i=Math.abs(t.startX-n),o=new Wn(r-t.headerElementRect.x+t.client.scrollLeft,0,i,t.headerElementRect.height);yn.setTranslateX(t.element,o.left),t.element.style.width=o.width+"px"}}else t.onElementMouseUp(e)}},{key:"onElementMouseUp",value:function(e){var t=this;if("number"==typeof t.startX){var n=t.client,r=Wn.from(t.element),i=n.getDateFromCoordinate(r.left,"round",!1),o=n.getDateFromCoordinate(r.right,"round",!1);t.element&&t.element.remove(),t.startX=null,t.client.zoomToSpan({startDate:i,endDate:o})}}}],[{key:"$name",get:function(){return"HeaderZoom"}},{key:"pluginConfig",get:function(){return{chain:["onElementMouseDown","onElementMouseMove","onElementMouseUp"]}}}]),n}(To);Hy._$name="HeaderZoom",Ff.registerFeature(Hy,!1,"Scheduler");n(274);function Ny(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return By(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return By(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function By(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Vy=function(e){X()(n,e);var t=zy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;ce()(Q()(n.prototype),"construct",this).call(this,e,t),r.cls=r.cls||"b-timerange-".concat(r.constructor.$name),r.baseSelector=".".concat(r.baseCls,".").concat(r.cls),r.enableResizing&&(r.showHeaderElements=!0)}},{key:"doDestroy",value:function(){var e=this;e.storeDetacher&&e.storeDetacher(),e.timeAxisViewModelDetacher&&e.timeAxisViewModelDetacher(),e.timeAxisDetacher&&e.timeAxisDetacher(),e.clockTemplate&&e.clockTemplate.destroy(),e.tip&&e.tip.destroy(),e.drag&&e.drag.destroy(),e.resize&&e.resize.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){this.client.isPainted&&this.renderRanges(),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"onPaint",value:function(){var e=this;e.isPainted||(e.timeAxisViewModel=e.client.timeAxisViewModel,e.timeAxisViewModelDetacher=e.timeAxisViewModel.on({reconfigure:e.onTimeAxisViewModelUpdate,update:e.onTimeAxisViewModelUpdate,thisObj:e}),e.timeAxisDetacher=e.client.timeAxis.on({includeChange:e.onTimeAxisViewModelUpdate,thisObj:e}),e.enableResizing&&!e.client.hideHeaders&&(e.drag=new Hc({name:"rangeDrag",mode:e.client.isVertical?"translateY":"translateX",constrain:!0,outerElement:e.headerContainerElement,targetSelector:"".concat(e.baseSelector),isElementDraggable:function(t,n){return!e.client.readOnly&&e.isElementDraggable(t,n)},transitionDuration:e.client.transitionDuration,listeners:{dragstart:e.onDragStart,drag:e.onDrag,drop:e.onDrop,abort:e.onInvalidDrop,thisObj:e}}),e.resize=new qc({direction:e.client.mode,targetSelector:"".concat(e.baseSelector,".b-sch-range"),outerElement:e.headerContainerElement,isElementResizable:function(e){return!e.closest(".b-dragging")},listeners:{resizestart:e.onResizeStart,resizing:e.onResizeDrag,resize:e.onResize,cancel:e.onInvalidResize,thisObj:e}})),e.renderRanges())}},{key:"renderRanges",value:function(){var e=this,t=e.client.foregroundCanvas;if(t){var n=e.headerContainerElement,r=e.store;if(yn.removeEachSelector(t,e.baseSelector),n&&yn.removeEachSelector(n,e.baseSelector),!e.disabled){var i,o=Ny(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;e.renderRange(a,!0)}}catch(e){o.e(e)}finally{o.f()}}}}},{key:"renderRange",value:function(e,t){var n=this,r=n.client;if(e.duration&&r.timeAxis.timeSpanInAxis(e.startDate,e.endDate)||e.startDate&&r.timeAxis.dateInAxis(e.startDate)){var i,o=r.getCoordinateFromDate(xt.max(e.startDate,r.timeAxis.startDate),{respectExclusion:!0}),a=e.duration&&r.getCoordinateFromDate(xt.min(e.endDate,r.timeAxis.endDate),{respectExclusion:!0,isEnd:!0}),s="<label>".concat(e.name||"&nbsp;","</label>"),u={className:"".concat(n.baseCls," ").concat(n.cls," ").concat(a?n.rangeCls:n.lineCls," ").concat(e.cls||""),dataset:{id:e.id},style:r.isVertical?"transform: translateY(".concat(o,"px); ").concat(a?"height:".concat(a-o,"px"):"",";"):"transform: translateX(".concat(o,"px); ").concat(a?"width:".concat(a-o,"px"):"",";"),retainElement:!0},c=yn.createElement(Object.assign({},u,{parent:t&&r.foregroundCanvas,style:u.style+(e.style||""),html:n.showHeaderElements?"":s}));n.showHeaderElements&&(i=yn.createElement(Object.assign({parent:t&&n.headerContainerElement,html:e.name?s:""},u)));var l={bodyElement:c,headerElement:i};return t&&n.rotateLabel(l),l}}},{key:"rotateLabel",value:function(e){var t=e.bodyElement,n=t.firstChild;if(n){n.classList.remove("b-vertical");var r=this.client.isVertical?n.offsetHeight<t.offsetHeight:n.offsetWidth>t.offsetWidth;n.classList[r?"add":"remove"]("b-vertical")}}},{key:"getElementsByRecord",value:function(e){var t="object"!==oe()(e)?e:e.id,n=this.client.foregroundCanvas.querySelector("".concat(this.baseSelector,'[data-id="').concat(t,'"]')),r=this.headerContainerElement.querySelector("".concat(this.baseSelector,'[data-id="').concat(t,'"]'));return n?{bodyElement:n,headerElement:r}:null}},{key:"getBodyElementByRecord",value:function(e){var t="string"==typeof e?e:e.id;return this.client.foregroundCanvas.querySelector("".concat(this.baseSelector,'[data-id="').concat(t,'"]'))}},{key:"getRecordByElement",value:function(e){return this.store.getById(e.dataset.id)}},{key:"getHeaderMenuItems",value:function(e,t){return[]}},{key:"onTimeAxisViewModelUpdate",value:function(){this.renderRanges()}},{key:"onStoreChanged",value:function(e){var t=this;if(!(t.disabled||t.isConfiguring||"refresh"===e.type&&"batch"!==e.action))if("update"===e.action){var n=e.changes.hasOwnProperty("id")?e.changes.id.oldValue:e.record.id,r=t.getElementsByRecord(n),i=t.renderRange(e.record,!r);if(r&&!i&&(r.bodyElement.remove(),r.headerElement&&r.headerElement.remove()),!r||!i)return;t.client.runWithTransition(function(){yn.sync(i.bodyElement,r.bodyElement),t.showHeaderElements&&yn.sync(i.headerElement,r.headerElement),t.rotateLabel(r)})}else t.renderRanges()}},{key:"showTip",value:function(e){var t=this;t.showTooltip&&(t.clockTemplate=new yg({scheduler:t.client}),t.tip=new ao({id:"".concat(t.client.id,"-time-range-tip"),cls:"b-interaction-tooltip",align:"b-t",autoShow:!0,updateContentOnMouseMove:!0,forElement:e.element,getHtml:function(){return t.getTipHtml(e.record,e.element)}}))}},{key:"isElementDraggable",value:function(e){return(e=e.closest(this.baseSelector+":not(.b-resizing)"))&&!e.classList.contains("b-over-resize-handle")}},{key:"onDragStart",value:function(e){var t=e.context,n=this,r=n.getRecordByElement(t.element.closest(n.baseSelector)),i=n.getBodyElementByRecord(r),o=n.drag;Object.assign(t,{record:r,rangeBodyEl:i,originRangeX:yn.getTranslateX(i),originRangeY:yn.getTranslateY(i)}),n.client.isVertical?(o.minY=0,o.maxY=n.timeAxisViewModel.totalSize-t.rangeBodyEl.offsetHeight,o.minX=0,o.maxX=Number.MAX_SAFE_INTEGER):(o.minX=0,o.maxX=n.timeAxisViewModel.totalSize-t.rangeBodyEl.offsetWidth,o.minY=0,o.maxY=Number.MAX_SAFE_INTEGER),n.client.element.classList.add("b-dragging-timerange"),n.showTip(t)}},{key:"onDrag",value:function(e){var t=e.context;this.client.isVertical?yn.setTranslateY(t.rangeBodyEl,yn.getTranslateY(t.element)):yn.setTranslateX(t.rangeBodyEl,yn.getTranslateX(t.element))}},{key:"onDrop",value:function(e){var t=e.context;if(!t.valid)return this.onInvalidDrop({context:t});var n=this,r=t.record,i=t.rangeBodyEl.getBoundingClientRect(),o=n.client.getDateFromCoordinate(n.client.isVertical?i.top:i.left,"round",!1);r.startDate-o!=0?r.setStartDate(o):n.onInvalidDrop(),n.tip&&(n.tip.destroy(),n.tip=null),n.client.element.classList.remove("b-dragging-timerange")}},{key:"onInvalidDrop",value:function(){var e=this;e.drag.reset(),e.renderRanges(),e.client.element.classList.remove("b-dragging-timerange"),e.tip&&(e.tip.destroy(),e.tip=null)}},{key:"onResizeStart",value:function(e){var t=e.context,n=this.getRecordByElement(t.element.closest(this.baseSelector)),r=this.getBodyElementByRecord(n);Object.assign(t,{record:n,rangeBodyEl:r}),this.showTip(t)}},{key:"onResizeDrag",value:function(e){var t=e.context;this.client.isVertical?("top"===t.edge&&yn.setTranslateY(t.rangeBodyEl,t.newY),t.rangeBodyEl.style.height=t.newHeight+"px"):("left"===t.edge&&yn.setTranslateX(t.rangeBodyEl,t.newX),t.rangeBodyEl.style.width=t.newWidth+"px")}},{key:"onResize",value:function(e){var t=e.context;if(!t.valid)return this.onInvalidDrop({context:t});var n=this,r=n.client,i=t.record,o=t.element.getBoundingClientRect(),a=r.isVertical?o.top:o.left,s=r.isVertical?o.bottom:o.right,u=r.getDateFromCoordinate(a,"round",!1),c="left"===t.edge||"top"===t.edge,l=r.getDateFromCoordinate(s,"round",!1);(c&&i.startDate-u!=0||l&&i.endDate-l!=0)&&l>u?c?i.setStartDate(u,!1):i.setEndDate(l,!1):n.onInvalidResize(),n.tip&&(n.tip.destroy(),n.tip=null)}},{key:"onInvalidResize",value:function(){var e=this;e.resize.reset(),e.renderRanges(),e.tip&&(e.tip.destroy(),e.tip=null)}},{key:"getTipHtml",value:function(e,t){var n=this.client,r=t.getBoundingClientRect(),i=n.isVertical?r.top:r.left,o=n.isVertical?r.bottom:r.right,a=n.getDateFromCoordinate(i,"round",!1),s=e.endDate&&n.getDateFromCoordinate(o,"round",!1),u=n.getFormattedDate(a),c=s&&n.getFormattedEndDate(s,a);return this.dragTipTemplate({name:e.name||"",startDate:a,endDate:s,startText:u,endText:c,startClockHtml:this.clockTemplate.template({date:a,text:u,cls:"b-sch-tooltip-startdate"}),endClockHtml:c&&this.clockTemplate.template({date:s,text:c,cls:"b-sch-tooltip-enddate"})})}},{key:"headerContainerElement",get:function(){var e=this.client,t=e.isVertical,n=e.timeView,r=e.timeAxisColumn,i=null;return t&&n.element?i=n.element.parentElement:t||(i=r.element),i}},{key:"showHeaderElements",get:function(){return this._showHeaderElements},set:function(e){this._showHeaderElements=e,this.client.isPainted&&(e?this.client.element.classList.add("b-sch-timeranges-with-headerelements"):this.client.element.classList.remove("b-sch-timeranges-with-headerelements"),this.renderRanges())}},{key:"store",get:function(){return this._store},set:function(e){var t=this;t._store=Ra.getStore(e,Ra);var n=!1;t.storeDetacher&&(t.storeDetacher(),n=!0),t.storeDetacher=t._store.on({change:t.onStoreChanged,refresh:t.onStoreChanged,thisObj:t}),n&&this.renderRanges()}}],[{key:"defaultConfig",get:function(){return{rangeCls:"b-sch-range",lineCls:"b-sch-line",store:{modelClass:kv},enableResizing:!1,showTooltip:!0,showHeaderElements:!0,dragTipTemplate:function(e){return'\n                <div class="b-sch-tip-'.concat(e.valid?"valid":"invalid",'">\n                    <div class="b-sch-tip-name">').concat(e.name||"","</div>\n                    ").concat(e.startClockHtml,"\n                    ").concat(e.endClockHtml||"","\n                </div>\n            ")},baseCls:"b-sch-timerange",cls:""}}},{key:"pluginConfig",get:function(){return{chain:["onPaint","getHeaderMenuItems"]}}}]),n}(yr(To));function Wy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Vy._$name="AbstractTimeRanges";var $y=function(e){X()(n,e);var t=Wy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){ce()(Q()(n.prototype),"construct",this).call(this,e,t),this.calendar&&e.calendar||(this.calendar=new Xv),this.bindCalendar(this.calendar)}},{key:"doDestroy",value:function(){this.bindCalendar(null),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"bindCalendar",value:function(e){var t=this;t.calendarDetacher&&t.calendarDetacher(),e&&(t.calendarDetacher=e.on({change:t.renderRanges,thisObj:t,delay:1})),t.calendar=e,t.renderRanges()}},{key:"renderRanges",value:function(){var e=this;if(e.store&&!e.store.isDestroyed){var t=xt.as(e.client.timeAxis.unit,1,"week")>=1;e.store.removeAll(!0),e.calendar&&e.highlightWeekends&&t&&e.store.add(e.calendar.getHolidaysRanges(e.client.timeAxis.startDate,e.client.timeAxis.endDate,!0),!0)}ce()(Q()(n.prototype),"renderRanges",this).call(this)}}],[{key:"$name",get:function(){return"NonWorkingTime"}},{key:"defaultConfig",get:function(){return{highlightWeekends:!0,showHeaderElements:!0,cls:"b-sch-nonworkingtime"}}}]),n}(Vy);function Gy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}$y._$name="NonWorkingTime",Ff.registerFeature($y,!1,"Scheduler");var Yy=function(e){X()(n,e);var t=Gy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){if(this.timeline=e,e.features.eventDragCreate&&!e.features.eventDragCreate.disabled)throw new Error("Cannot combine Pan and eventDragCreate features");this.targetSelector=[".b-grid-cell",".b-timeline-subgrid"].join(","),ce()(Q()(n.prototype),"construct",this).call(this,e,t)}},{key:"onElementMouseDown",value:function(e){var t=this,n=t.timeline,r=Object.values(n.features).find(function(e){return e instanceof kg}),i=n.readOnly||!r||r.disabled;e.touches||0!==e.button||t.disabled||(e.target.matches(t.targetSelector)||i&&e.target.closest(n.eventSelector))&&(t.mouseX=e.clientX,t.mouseY=e.clientY)}},{key:"onElementMouseMove",value:function(e){var t=this;if(0!==e.buttons||N.isSafari||N.isIE11&&!e.isTrusted){if("number"==typeof t.mouseX){var n=t.timeline.subGrids.normal.scrollable,r=t.timeline.scrollable,i=e.clientX,o=e.clientY;e.preventDefault(),t.vertical&&r.scrollBy(0,t.mouseY-o),n.scrollBy(t.mouseX-i),t.mouseX=i,t.mouseY=o}}else t.onElementMouseUp()}},{key:"onElementMouseUp",value:function(e){this.mouseX=this.mouseY=null}}],[{key:"$name",get:function(){return"Pan"}},{key:"defaultConfig",get:function(){return{vertical:!0}}},{key:"pluginConfig",get:function(){return{chain:["onElementMouseDown","onElementMouseMove","onElementMouseUp"]}}}]),n}(To);function Uy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Yy._$name="Pan",Ff.registerFeature(Yy,!1,["Scheduler","Gantt"]);var qy=function(e){X()(n,e);var t=Uy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"isResourceTimeRange",get:function(){return!0}},{key:"resources",get:function(){return[this.resource]}}],[{key:"fields",get:function(){return["resourceId","timeRangeColor"]}},{key:"relationConfig",get:function(){return[{relationName:"resource",fieldName:"resourceId",store:"resourceStore",collectionName:"timeRanges",nullFieldOnRemove:!0}]}}]),n}(kv);function Xy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}qy._$name="ResourceTimeRangeModel";var Ky=function(e){X()(n,e);var t=Xy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getResourcesForEvent",value:function(e){return[e.resource]}},{key:"resourceStore",set:function(e){this._resourceStore=e,this.isConfiguring||this.initRelations(!0)},get:function(){return this._resourceStore}}],[{key:"defaultConfig",get:function(){return{loadPriority:500,syncPriority:500,resourceStore:null,modelClass:qy,storeId:"resourceTimeRanges"}}}]),n}(Pa);function Zy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ky._$name="ResourceTimeRangeStore";var Jy=function(e){X()(n,e);var t=Zy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"noFeatureElementsInAxis",value:function(){var e=this.scheduler.timeAxis;return!this.store.storage.values.some(function(t){return e.isTimeSpanInAxis(t)})}},{key:"construct",value:function(e,t){var r=this;r.scheduler=e,ce()(Q()(n.prototype),"construct",this).call(this,e,t),Object.defineProperty(e,"resourceTimeRanges",{get:function(){return r.store.records},set:function(e){return r.store.data=e}})}},{key:"doDisable",value:function(e){this.client.isPainted&&this.client.refresh(),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"getEventsToRender",value:function(e,t){return e.timeRanges&&e.timeRanges.length&&!this.disabled&&t.push.apply(t,te()(e.timeRanges)),t}},{key:"onEventDataGenerated",value:function(e){var t=this,n=e.event||e.eventRecord;n.isResourceTimeRange&&(t.scheduler.isVertical?e.width=t.scheduler.resourceColumnWidth:(e.top=0,e.id="".concat(t.scheduler.id,"-").concat(t.idPrefix,"-").concat(n.id)),e.fillSize=!0,e.wrapperCls[t.rangeCls]=1,e.wrapperCls["b-sch-color-".concat(n.timeRangeColor)]=n.timeRangeColor,e.body=document.createDocumentFragment(),e.body.textContent=n.name,e.eventId="".concat(t.idPrefix,"-").concat(n.id),e.eventContent=n.name)}},{key:"onStoreChange",value:function(e){this.scheduler.onInternalEventStoreChange(e)}},{key:"store",set:function(e){var t=this,n=t.scheduler;t._store=e=e||new Ky,n.resourceTimeRangeStore||(n.resourceTimeRangeStore=e),n.resourceTimeRanges&&(e.add(n.resourceTimeRanges),delete n.resourceTimeRanges),e.resourceStore||(e.resourceStore=n.resourceStore),t.storeDetacher&&t.storeDetacher(),t.storeDetacher=t.store.on({change:t.onStoreChange,thisObj:t})},get:function(){return this._store}}],[{key:"$name",get:function(){return"ResourceTimeRanges"}},{key:"defaultConfig",get:function(){return{idPrefix:"resourcetimerange",rangeCls:"b-sch-resourcetimerange",store:!1,resourceTimeRanges:null}}},{key:"pluginConfig",get:function(){return{chain:["getEventsToRender","onEventDataGenerated","noFeatureElementsInAxis"]}}}]),n}(To);function Qy(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Jy.featureClass="",Jy._$name="ResourceTimeRanges",Ff.registerFeature(Jy,!1,"Scheduler");var em=function(e){X()(n,e);var t=Qy(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){ce()(Q()(n.prototype),"construct",this).call(this,e,t),this.scheduler=e}},{key:"showEventContextMenu",value:function(e){var t=this.scheduler,n=t.getEventData(e),r=n?t.columns.getById(n.columnId)===t.timeAxisColumn:t.timeAxisSubGrid.element===e.target,i=t.resolveResourceRecord(e)||t.resourceStore.last;!r||i&&i.meta.specialRow||(this.showContextMenu({menuType:"schedule",date:t.getDateFromDomEvent(e,"floor"),resourceRecord:i,event:e}),e.preventDefault())}},{key:"namedItems",get:function(){var e=this.client;return this._namedItems||(this._namedItems={addEvent:{text:"L{Scheduler.Add event}",localeClass:this,icon:"b-icon b-icon-add",disabled:0===e.resourceStore.count,weight:100,onItem:function(t){var n=t.date,r=t.resourceRecord;e.internalAddEvent(n,r,e.getRowFor(r))}}}),this._namedItems}}],[{key:"$name",get:function(){return"ScheduleContextMenu"}},{key:"defaultConfig",get:function(){return{items:null,processItems:null,defaultItems:{addEvent:!0}}}}]),n}(wg);em.featureClass="",em._$name="ScheduleContextMenu",Ff.registerFeature(em,!0,"Scheduler");n(275);function tm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var nm=function(e){return function(e){X()(n,e);var t=tm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){ce()(Q()(n.prototype),"construct",this).call(this,e,t);var r=this;r.view=e,r.eventName=e.scheduledEventName,r.view.on("readOnly",function(){return r.updateCreateListeners()}),r.updateCreateListeners()}},{key:"doDestroy",value:function(){var e=this;e.detachListeners("view"),e.creationData=null,e.mouseDetacher&&e.mouseDetacher(),e.creationTooltip&&e.creationTooltip.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"updateCreateListeners",value:function(){var e,t=this;t.view&&(t.detachListeners("view"),t.isCreateAllowed&&t.view.on((e={name:"view"},se()(e,"".concat(t.eventName,"mouseenter"),"onTimeSpanMouseEnter"),se()(e,"".concat(t.eventName,"mouseleave"),"onTimeSpanMouseLeave"),se()(e,"thisObj",t),e)))}},{key:"onTimeSpanMouseEnter",value:function(e){var t=e["".concat(this.eventName,"Record")],n=e["".concat(this.eventName,"Element")];this.showTerminals(t,yn.down(n,e.source.eventInnerSelector))}},{key:"onTimeSpanMouseLeave",value:function(e){var t=e["".concat(this.eventName,"Element")];this.creationData&&yn.isDescendant(t,this.creationData.sourceTerminal.parentElement)||this.hideTerminals(t)}},{key:"onTerminalMouseOut",value:function(e){var t=this,n=yn.up(e.target,t.view.eventSelector);!n||yn.isDescendant(n,t.showingTerminalsFor)||t.creationData&&n===t.creationData.sourceTerminal.parentElement||(t.hideTerminals(n),t.view.unhover(e))}},{key:"onTerminalMouseDown",value:function(e){var t=this;if(0===e.button&&!t.creationData){var n=t.view,r=n.timeAxisSubGridElement,i=e.target,o=i.parentElement.closest(n.eventSelector),a=Wn.from(n.element,document.body);e.preventDefault(),e.stopPropagation(),t.creationData={source:n.resolveTimeSpanRecord(o),sourceTerminal:i,startPoint:Wn.from(i,r).center,startX:e.pageX-a.x+n.scrollLeft,startY:e.pageY-a.y+n.scrollTop,valid:!1},n.resolveResourceRecord&&(t.creationData.sourceResource=n.resolveResourceRecord(o)),t.mouseDetacher=ur.on({mouseup:{element:document.body,handler:"onMouseUp"},mousemove:{element:r,handler:"onMouseMove"},thisObj:t})}}},{key:"onMouseMove",value:function(e){var t=this,n=t.view,r=t.creationData,i=Wn.from(n.element,document.body),o=e.pageX-i.x+n.scrollLeft-r.startX,a=e.pageY-i.y+n.scrollTop-r.startY,s=Math.round(Math.sqrt(o*o+a*a))-3,u=Math.atan2(a,o),c=t.connector;if(!c){if(!1===this.onRequestDragCreate())return;c=t.connector}c.style.width="".concat(s,"px"),c.style.transform="rotate(".concat(u,"rad)"),t.lastMouseMoveEvent=e}},{key:"onRequestDragCreate",value:function(){var e=this,t=e.view,n=e.creationData;if(!1===t.trigger("beforeDependencyCreateDrag",{data:n}))return e.abort(),!1;t.element.classList.add("b-creating-dependency"),e.connector=e.createConnector(n.startPoint.x,n.startPoint.y),t.trigger("dependencyCreateDragStart",{data:n}),e.showCreationTooltip&&(e.creationTooltip=e.creationTooltip||e.createDragTooltip(),e.creationTooltip.disabled=!1,e.creationTooltip.show()),t.scrollManager.startMonitoring({element:t.timeAxisSubGridElement,callback:function(){return e.lastMouseMoveEvent&&e.onMouseMove(e.lastMouseMoveEvent)},thisObj:e})}},{key:"onOverTargetTerminal",value:function(e){var t=this,n=e.target,r=t.view,i=t.creationData,o=t.connector;if(!It.isPromise(i.valid))if(n!==i.sourceTerminal){if(n!==i.targetTerminal){i.targetTerminal=n,i.target=r.resolveTimeSpanRecord(n),r.resolveResourceRecord&&(i.targetResource=r.resolveResourceRecord(n));var a,s=i.sourceTerminal.dataset.side,u=i.targetTerminal.dataset.side,c=function(e){t.isDestroyed||(i.valid=e,n.classList.add(e?"b-valid":"b-invalid"),o.classList.add(e?"b-valid":"b-invalid"),r.trigger("dependencyValidationComplete",{data:i}))};switch(!0){case"left"===s&&"left"===u:a=sg.Type.StartToStart;break;case"left"===s&&"right"===u:a=sg.Type.StartToEnd;break;case"right"===s&&"left"===u:a=sg.Type.EndToStart;break;case"right"===s&&"right"===u:a=sg.Type.EndToEnd}r.trigger("dependencyValidationStart",{data:i}),i.valid=t.dataApi.isValidDependencyToCreate({type:a,sourceEvent:i.source,targetEvent:i.target,dependencyStore:t.dependencyStore}),It.isPromise(i.valid)?i.valid.then(c):c(i.valid)}}else o.classList.remove("b-valid"),o.classList.remove("b-invalid")}},{key:"onMouseUp",value:function(e){var t=this,n=t.creationData,r=e.target;t.abort();var i=function(){var r=ro()(to.a.mark(function r(){var i;return to.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(n.targetTerminal=e.target,i=t.createDependency(n),!It.isPromise(i)){r.next=5;break}return r.next=5,i;case 5:t.view.trigger("dependencyCreateDrop",{data:n});case 6:case"end":return r.stop()}},r)}));return function(){return r.apply(this,arguments)}}(),o=function(e){t.view.trigger("afterDependencyCreateDrop",{data:e})};n.valid&&r.matches(".".concat(t.terminalCls))?It.isPromise(n.valid)?n.valid.then(function(e){n.valid=e,e?i().then(function(){return o(n)}):o(n)}):i().then(function(){return o(n)}):(n.valid=!1,o(n))}},{key:"abort",value:function(){var e=this,t=e.view,n=e.creationData;if(n){var r=n.source,i=n.sourceResource,o=n.target,a=n.targetResource;if(r){var s=t.getElementFromEventRecord(r,i);s&&e.hideTerminals(s)}if(o){var u=t.getElementFromEventRecord(o,a);u&&e.hideTerminals(u)}}e.creationTooltip&&(e.creationTooltip.disabled=!0),e.creationData=e.lastMouseMoveEvent=null,e.mouseDetacher&&e.mouseDetacher(),e.removeConnector()}},{key:"createConnector",value:function(e,t){var n=this.view;return this.connector=yn.createElement({parent:n.timeAxisSubGridElement,className:"".concat(this.baseCls,"-connector"),style:"left:".concat(e,"px;top:").concat(t,"px")}),n.element.classList.add("b-creating-dependency"),this.connector}},{key:"createDragTooltip",value:function(){var e=this,t=e.view;return e.creationTooltip=new ao(Object.assign({id:"".concat(t.id,"-dependency-drag-tip"),cls:"b-sch-dependency-creation-tooltip",loadingMsg:"",autoShow:!0,anchorToTarget:!1,forSelector:".b-sch-terminal",forElement:t.timeAxisSubGridElement,trackMouse:!0,constrainTo:null,getHtml:function(t){var n=t.tip,r=t.event;if(e.creationData)return r&&e.onOverTargetTerminal(r),e.generateTooltipContent(n,e.creationData)},header:{dock:"right"},listeners:{pointerout:function(t){var n=t.source,r=e.creationData;return r.target=r.targetTerminal=null,r.valid=!1,n.html=n.getHtml({tip:n}),!1},beforeShow:function(e){var t=e.source;t.html=t.getHtml({tip:t})}}},e.creationTooltip||{}))}},{key:"removeConnector",value:function(e){var t=this,n=t.connector,r=t.view;n&&(n.classList.add("b-removing"),n.style.width="0",t.setTimeout(function(){n.remove(),t.connector=null,e&&e.call(t)},200)),r.element.classList.remove("b-creating-dependency"),t.creationTooltip&&t.creationTooltip.hide(),r.scrollManager.stopMonitoring(r.timeAxisSubGridElement)}},{key:"showTerminals",value:function(e,t){var n=this;if(n.isCreateAllowed){var r=n.terminalCls,i="".concat(r,"s-visible");(t=yn.down(t,n.view.eventInnerSelector)).classList.contains(i)||this.view.element.classList.contains("b-resizing-event")||n.view.readOnly||(n.terminalSides.forEach(function(e){var i=yn.createElement({parent:t,className:"".concat(r," ").concat(r,"-").concat(e),dataset:{side:e,feature:!0}});i.detacher=ur.on({element:i,mouseout:"onTerminalMouseOut",mousedown:{handler:"onTerminalMouseDown",capture:!0},thisObj:n})}),t.classList.add(i),e.cls.add(i),n.showingTerminalsFor=t)}}},{key:"hideTerminals",value:function(e){var t=this,n=t.client.getTimeSpanMouseEventParams(e),r=null==n?void 0:n["".concat(this.eventName,"Record")],i="".concat(t.terminalCls,"s-visible");yn.forEachSelector(e,".".concat(t.terminalCls),function(e){e.detacher&&e.detacher(),e.remove()}),yn.down(e,t.view.eventInnerSelector).classList.remove(i),r.cls.remove(i),t.showingTerminalsFor=null}},{key:"createDependency",value:function(e){var t=e.source,n=e.target,r=e.sourceTerminal.dataset.side,i=e.targetTerminal.dataset.side,o=("left"===r?0:2)+("right"===i?1:0);return this.dataApi.createDependency({sourceEvent:t,targetEvent:n,dependencyStore:this.dependencyStore,type:o,fromSide:r,toSide:i})}},{key:"generateTooltipContent",value:function(e,t){var n,r,i=this,o=t.valid;return Object.assign(t,{fromText:t.source.name,toText:t.target?t.target.name:"",fromSide:t.sourceTerminal.dataset.side,toSide:t.targetTerminal?t.targetTerminal.dataset.side:""}),It.isPromise(o)?(e.element.classList.remove("b-invalid"),e.element.classList.add("b-checking"),n="checking",r=i.L("L{Dependencies.Checking}"),new Promise(function(n){return o.then(function(r){t.valid=r,e.isDestroyed||n(i.generateTooltipContent(e,t))})})):(!0===o?(e.element.classList.remove("b-invalid"),e.element.classList.remove("b-checking"),n="valid",r=i.L("L{Dependencies.valid}")):(e.element.classList.remove("b-checking"),e.element.classList.add("b-invalid"),n="invalid",r=i.L("L{Dependencies.invalid}")),e.titleElement.innerHTML='<i class="b-icon b-icon-'.concat(n,'"></i>').concat(r),'<table class="b-sch-dependency-creation-tooltip">\n                        <tr><td>'.concat(i.L("L{Dependencies.from}"),": </td><td>").concat(t.fromText,'</td><td><div class="b-sch-box b-').concat(t.fromSide,'"></div></td></tr>\n                        <tr><td>').concat(i.L("L{Dependencies.to}"),": </td><td>").concat(t.toText,'</td><td><div class="b-sch-box b-').concat(t.toSide,'"></div></td></tr>\n                    </table>'))}},{key:"allowCreate",set:function(e){this._allowCreate=e,this.updateCreateListeners()},get:function(){return this._allowCreate}},{key:"isCreateAllowed",get:function(){return this.allowCreate&&!this.view.readOnly&&!this.disabled}}],[{key:"defaultConfig",get:function(){return{showCreationTooltip:!0,creationTooltip:null,terminalCls:"b-sch-terminal",terminalSides:["left","top","right","bottom"],allowCreate:!0}}}]),n}(e||U)};function rm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var im=function(e){X()(n,e);var t=rm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"findPath",value:function(e,t){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,g,y,m,k,b,w,S,D,R,C,x,E,T,M,P,A,I,F=this;for(t&&!Array.isArray(t)&&(t=[t]),I=0;e&&!A;)for(r=(n=Object.assign(F.config,e)).startBox,i=n.endBox,o=n.startShift,a=n.endShift,s=n.startSide,u=n.endSide,c=n.startArrowSize,l=n.endArrowSize,f=n.startArrowMargin,d=n.endArrowMargin,h=n.horizontalMargin,p=n.verticalMargin,v=n.hasOwnProperty("startHorizontalMargin")?n.startHorizontalMargin:h,g=n.hasOwnProperty("startVerticalMargin")?n.startVerticalMargin:p,y=n.hasOwnProperty("endHorizontalMargin")?n.endHorizontalMargin:h,m=n.hasOwnProperty("endVerticalMargin")?n.endVerticalMargin:p,k=n.hasOwnProperty("otherHorizontalMargin")?n.otherHorizontalMargin:h,b=n.hasOwnProperty("otherVerticalMargin")?n.otherVerticalMargin:p,w=n.otherBoxes,s=F.normalizeSide(s),u=F.normalizeSide(u),S=F.getConnectionCoordinatesFromBoxSideShift(r,s,o),D=F.getConnectionCoordinatesFromBoxSideShift(i,u,a),T=F.calcGridBaseBoxFromBoxAndDrawParams(r,s,c,f,v,g),M=F.calcGridBaseBoxFromBoxAndDrawParams(i,u,l,d,y,m),w=w&&w.map(function(e){return F.calcGridBaseBoxFromBoxAndDrawParams(e,!1,0,0,k,b)}),R=F.getConnectionCoordinatesFromBoxSideShift(T,s,o),C=F.getConnectionCoordinatesFromBoxSideShift(M,u,a),P=F.buildPathGrid(T,M,R,C,s,u,w),x=F.convertDecartPointToGridPoint(P,R),E=F.convertDecartPointToGridPoint(P,C),A=F.findPathOnGrid(P,x,E,s,u),e=!1;!A&&!e&&t&&I<t.length;I++)e=t[I](n);return A&&(A=F.prependPathWithArrowStaffSegment(A,S,c,s),A=F.appendPathWithArrowStaffSegment(A,D,l,u),A=F.optimizePath(A)),A}},{key:"getConnectionCoordinatesFromBoxSideShift",value:function(e,t,n){var r;switch(t){case"left":r={x:e.start,y:(e.top+e.bottom)/2+n};break;case"right":r={x:e.end,y:(e.top+e.bottom)/2+n};break;case"top":r={x:(e.start+e.end)/2+n,y:e.top};break;case"bottom":r={x:(e.start+e.end)/2+n,y:e.bottom}}return r}},{key:"calcGridBaseBoxFromBoxAndDrawParams",value:function(e,t,n,r,i,o){var a;switch(t){case"left":a={start:e.start-Math.max(n+r,i),end:e.end+i,top:e.top-o,bottom:e.bottom+o};break;case"right":a={start:e.start-i,end:e.end+Math.max(n+r,i),top:e.top-o,bottom:e.bottom+o};break;case"top":a={start:e.start-i,end:e.end+i,top:e.top-Math.max(n+r,o),bottom:e.bottom+o};break;case"bottom":a={start:e.start-i,end:e.end+i,top:e.top-o,bottom:e.bottom+Math.max(n+r,o)};break;default:a={start:e.start-i,end:e.end+i,top:e.top-o,bottom:e.bottom+o}}return a}},{key:"buildPathGrid",value:function(e,t,n,r,i,o,a){var s,u,c,l,f,d,h,p,v,g,y,m,k,b={},w=[];for(s=[e.start,"left"===i||"right"===i?(e.start+e.end)/2:n.x,e.end,t.start,"left"===o||"right"===o?(t.start+t.end)/2:r.x,t.end],u=[e.top,"top"===i||"bottom"===i?(e.top+e.bottom)/2:n.y,e.bottom,t.top,"top"===o||"bottom"===o?(t.top+t.bottom)/2:r.y,t.bottom],a&&a.forEach(function(e){s.push(e.start,(e.start+e.end)/2,e.end),u.push(e.top,(e.top+e.bottom)/2,e.bottom)}),s=te()(new Set(s.sort(function(e,t){return e-t}))),d=0,p=(u=te()(new Set(u.sort(function(e,t){return e-t})))).length;d<p;++d)for(b[d]=b[d]||{},c=u[d],f=0,h=s.length;f<h;++f){if(m=((l=s[f])<=e.start||l>=e.end||c<=e.top||c>=e.bottom)&&(l<=t.start||l>=t.end||c<=t.top||c>=t.bottom),a)for(v=0,g=a.length;m&&v<g;++v)m=l<=(y=a[v]).start||l>=y.end||c<=y.top||c>=y.bottom||l===n.x&&c===n.y||l===r.x&&c===r.y;k={distance:Math.pow(2,53)-1,permitted:m,x:l,y:c,ix:f,iy:d},b[d][f]=k,w.push(k)}return{width:s.length,height:u.length,xs:s,ys:u,points:b,linearPoints:w}}},{key:"convertDecartPointToGridPoint",value:function(e,t){var n=e.xs.indexOf(t.x),r=e.ys.indexOf(t.y);return e.points[r][n]}},{key:"findPathOnGrid",value:function(e,t,n,r,i){var o=!1;return t.permitted&&n.permitted&&(e=this.waveForward(e,t,0),o=this.collectPath(e,n,i)),o}},{key:"getGridPointNeighbors",value:function(e,t,n){var r,i=t.ix,o=t.iy,a=[];return o<e.height-1&&(r=e.points[o+1][i],(!n||n(r))&&a.push(r)),o>0&&(r=e.points[o-1][i],(!n||n(r))&&a.push(r)),i<e.width-1&&(r=e.points[o][i+1],(!n||n(r))&&a.push(r)),i>0&&(r=e.points[o][i-1],(!n||n(r))&&a.push(r)),a}},{key:"waveForward",value:function(e,t,n){var r=this;return ya.preWalkUnordered([t,n],function(t){var n=re()(t,2),i=n[0],o=n[1];return r.getGridPointNeighbors(e,i,function(e){return e.permitted&&e.distance>o+1}).map(function(e){return[e,o+1]})},function(e){var t=re()(e,2),n=t[0],r=t[1];return n.distance=r}),e}},{key:"collectPath",value:function(e,t,n){for(var r,i,o,a,s=!0,u=[];s&&t.distance;)if(s=(r=this.getGridPointNeighbors(e,t,function(e){return e.permitted&&e.distance==t.distance-1})).length>0){switch(i=(r=r.sort(function(e,r){var i,o;i=e.ix-t.ix,o=e.iy-t.iy;var a=("left"===n||"right"===n)&&0===o||("top"===n||"bottom"===n)&&0===i?-1:1;i=r.ix-t.ix,o=r.iy-t.iy;var s=("left"===n||"right"===n)&&0===o||("top"===n||"bottom"===n)&&0===i?-1:1;return a>s?1:a<s?-1:a===s?e.y>r.y?-1:1:void 0}))[0],u.push({x1:i.x,y1:i.y,x2:t.x,y2:t.y}),o=i.ix-t.ix,a=i.iy-t.iy,!0){case!a&&o>0:n="left";break;case!a&&o<0:n="right";break;case!o&&a>0:n="top";break;case!o&&a<0:n="bottom"}t=i}return s&&u.reverse()||!1}},{key:"prependPathWithArrowStaffSegment",value:function(e,t,n,r){var i,o;if(e.length>0){switch(i={x2:(o=e[0]).x1,y2:o.y1},r){case"left":i.x1=t.x-n,i.y1=o.y1;break;case"right":i.x1=t.x+n,i.y1=o.y1;break;case"top":i.x1=o.x1,i.y1=t.y-n;break;case"bottom":i.x1=o.x1,i.y1=t.y+n}e.unshift(i)}return e}},{key:"appendPathWithArrowStaffSegment",value:function(e,t,n,r){var i,o;if(e.length>0){switch(i={x1:(o=e[e.length-1]).x2,y1:o.y2},r){case"left":i.x2=t.x-n,i.y2=o.y2;break;case"right":i.x2=t.x+n,i.y2=o.y2;break;case"top":i.x2=o.x2,i.y2=t.y-n;break;case"bottom":i.x2=o.x2,i.y2=t.y+n}e.push(i)}return e}},{key:"optimizePath",value:function(e){var t,n,r=[];if(e.length>0)for(t=e.shift(),r.push(t);e.length>0;)n=e.shift(),t.x1==n.x1&&t.y1==n.y1&&t.x2==n.x2&&t.y2==n.y2?t=n:t.y1-t.y2==0&&n.y1-n.y2==0?t.x2=n.x2:t.x1-t.x2==0&&n.x1-n.x2==0?t.y2=n.y2:(r.push(n),t=n);return r}},{key:"normalizeSide",value:function(e){return n.sideToSide[e]||e}}],[{key:"defaultConfig",get:function(){return{startSide:"right",startArrowSize:0,startArrowMargin:12,startShift:0,endSide:"left",endArrowSize:0,endArrowMargin:12,endShift:0,verticalMargin:2,horizontalMargin:5,otherBoxes:null}}},{key:"sideToSide",get:function(){return{l:"left",r:"right",t:"top",b:"bottom"}}}]),n}(U);function om(){var e=Bi()(['\n             <table class="b-sch-dependency-tooltip">\n                <tr>\n                    <td>',": </td>\n                    <td>",'</td>\n                    <td>\n                        <div class="b-sch-box b-','"></div>\n                    </td>\n                </tr>\n                <tr>\n                    <td>',": </td>\n                    <td>",'</td>\n                    <td><div class="b-sch-box b-','"></div></td>\n                </tr>\n            </table>\n        ']);return om=function(){return e},e}function am(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}im._$name="RectangularPathFinder";var sm=["left","left","right","right"],um=["left","right","left","right"],cm=function(e){X()(n,e);var t=am(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;if(e.isVertical)throw new Error("Dependencies feature is not supported in vertical mode");r.doScheduleDraw=r.createOnFrame("draw",[],r,!0),ce()(Q()(n.prototype),"construct",this).call(this,e,t),r.pathFinder=new im(r.pathFinderConfig),delete r.pathFinderConfig,r.lineDefAdjusters=r.createLineDefAdjusters()}},{key:"doDestroy",value:function(){this.tooltip&&this.tooltip.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){this.updateCreateListeners(),this.client.isPainted&&this.draw(),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"exposeSchedulerDependenciesProperty",value:function(){var e=this;e.dependenciesPropertyExposed&&delete e.client.dependencies,Object.defineProperty(e.client,"dependencies",{configurable:!0,get:function(){return e.dependencyStore.records},set:function(t){return e.dependencyStore.data=t}}),e.dependenciesPropertyExposed=!0}},{key:"findDependencyIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.findIndex(function(e){return e.dependency===t&&(e.assignmentData===n||e.assignmentData&&n&&e.assignmentData.from===n.from&&e.assignmentData.to===n.to)})}},{key:"includesDependency",value:function(){return this.findDependencyIndex.apply(this,arguments)>=0}},{key:"getResourceStoreListenersConfig",value:function(){return{refresh:this.onRowStoreRefresh}}},{key:"obtainDependencyStore",value:function(e,t){var r=t&&t.store||ce()(Q()(n.prototype),"obtainDependencyStore",this).call(this,e,t);return!0!==r&&r||(r=new this.storeClass),r}},{key:"getDependencyStoreListenersConfig",value:function(){return{change:this.onDependencyChange}}},{key:"onDependencyStoreChange",value:function(e,t){var n=this,r=n.client;n.resetGridCache(),n.resetBoundsCache(),r.dependencyStore=e,e&&(!n.dependenciesPropertyExposed&&r.dependencies&&(e.data=r.dependencies,delete r.dependencies),n.dependencies&&(e.data=n.dependencies,delete n.dependencies),e.metaMapId=r.id,e.eventStore=r.eventStore,n.exposeSchedulerDependenciesProperty())}},{key:"getAssignmentStoreListenersConfig",value:function(){return{change:this.onAssignmentChange,refresh:this.onAssignmentRefresh}}},{key:"getEventStoreListenersConfig",value:function(){return{change:this.onEventChange}}},{key:"createMarkers",value:function(){var e=this,t=e.client.svgCanvas,n=e.endMarker=e.initMarkerElement("arrowEnd","8","M0,0 L0,6 L9,3 z");if(N.isEdge||N.isIE11){var r=e.startMarker=e.initMarkerElement("arrowStart","1","M0,3 L9,6 L9,0 z");t.appendChild(r)}else n.setAttribute("orient","auto-start-reverse");t.appendChild(n)}},{key:"initMarkerElement",value:function(e,t,n){return yn.createElement({id:e,tag:"marker",ns:"http://www.w3.org/2000/svg",markerHeight:9,markerWidth:9,refX:t,refY:3,viewBox:"0 0 9 6",orient:"auto",markerUnits:"userSpaceOnUse",children:[{tag:"path",ns:"http://www.w3.org/2000/svg",d:n}]})}},{key:"createLineDefAdjusters",value:function(){var e=this.client;return[function(t){var n=!1;return(t.startArrowMargin>e.barMargin||t.endArrowMargin>e.barMargin)&&(t.startArrowMargin=t.endArrowMargin=e.barMargin,n=!0),n?t:n},function(e){var t=!1;return(e.startArrowMargin>0||e.endArrowMargin>0)&&(e.startArrowMargin=e.endArrowMargin=0,t=!0),t?e:t}]}},{key:"getElementForDependency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n='[depId="'.concat(e.id,'"]');return t&&(n+='[fromId="'.concat(t.from.id,'"][toId="').concat(t.to.id,'"]')),this.client.svgCanvas.querySelector(n)}},{key:"getDependencyForElement",value:function(e){var t="string"==typeof e?e:e.getAttribute("depId");return this.dependencyStore.getById(t)}},{key:"onToggleNode",value:function(){this.dependencyGridCache=null,this.scheduleDraw(!0)}},{key:"onViewportResize",value:function(){this.scheduleDraw(!0)}},{key:"onTranslateRow",value:function(e){var t=e.row;t.lastTop>=0&&t.top!==t.lastTop&&this.scheduleDraw(!0)}},{key:"onChangeTotalHeight",value:function(){this.scheduleDraw(!0)}},{key:"onHorizontalScroll",value:function(e){var t=e.subGrid;this.isDrawn&&t===this.client.timeAxisSubGrid&&this.scheduleDraw(!1)}},{key:"onVerticalScroll",value:function(){this.isDrawn&&this.scheduleDraw(!1)}},{key:"onRowsRefresh",value:function(){this.scheduleDraw(!0)}},{key:"onRowsRerender",value:function(){this.scheduleDraw(!0)}},{key:"onRowStoreRefresh",value:function(e){switch(e.action){case"sort":case"filter":case"batch":this.dependencyGridCache=null,this.scheduleDraw(!0)}}},{key:"onDependencyChange",value:function(e){var t=e.action,n=e.record,r=e.records,i=this;if(i.client.isPainted&&!i.disabled){switch(t){case"dataset":i.dependencyGridCache={};case"add":var o=i._dependencyGridCache;return r.forEach(function(e){o&&i.addToGridCache(e)}),o||i._thisIsAUsedExpression(i.dependencyGridCache),void i.scheduleDraw();case"update":return i.scheduleRefreshDependency(n);case"remove":return r.forEach(function(e){i.releaseDependency(e,!0),i.removeFromCache(e)}),void i.client.trigger("dependenciesDrawn");case"removeall":case"filter":i.dependencyGridCache=null}i.scheduleDraw(!0)}}},{key:"onEventChange",value:function(e){var t=this,n=e.action,r=e.record;switch(n){case"filter":this.scheduleDraw(!0);break;case"update":if(r.isEvent){var i=[r];r.resources.forEach(function(e){return i.push.apply(i,te()(e.events))}),new Set(i).forEach(function(e){return t.drawForTimeSpan(e,!0)})}else this.drawForTimeSpan(r,!0);break;case"removeall":this.resetGridCache(),this.scheduleDraw(!0)}}},{key:"onAssignmentRefresh",value:function(e){"dataset"===e.action&&(this.resetGridCache(),this.scheduleDraw(!0))}},{key:"onAssignmentChange",value:function(e){var t=this,n=e.action,r=e.record,i=e.records,o=this;r&&(i=[r]),"add"!==n&&"remove"!==n&&"update"!==n||i.forEach(function(e){t.dataApi.getAssignmentDependencies({assignment:e,dependencyStore:t.dependencyStore}).forEach(function(i){if("add"===n)o.scheduleRefreshDependency(i);else if("remove"===n){(t.dataApi.isDependencySourceAssignment({dependency:i,assignment:e})?t.dataApi.getDependencyTargetAssignments({dependency:i,assignmentStore:t.assignmentStore}).map(function(t){return{from:e,to:t}}):t.dataApi.getDependencySourceAssignments({dependency:i,assignmentStore:t.assignmentStore}).map(function(t){return{from:t,to:e}})).forEach(function(e){o.releaseDependency(i,e),o.removeFromCache(i,e)})}else"update"===n&&t.dataApi.getDependencyAssignmentsAsFromToArray({dependency:i,assignmentStore:t.assignmentStore}).filter(function(e){return e.from===r||e.to===r}).forEach(function(e){t.scheduleRefreshDependency(i,e)})})})}},{key:"onElementClick",value:function(e){if(e.target.matches("."+this.baseCls)){var t=Ns.get(e.target).dependency,n="click"===e.type?"Click":"DblClick";this.client.trigger("dependency".concat(n),{dependency:t,event:e})}}},{key:"onElementDblClick",value:function(e){return this.onElementClick(e)}},{key:"onElementMouseOver",value:function(e){var t=this;if(e.target.matches("."+t.baseCls)){var n=Ns.get(e.target).dependency;t.client.trigger("dependencyMouseOver",{dependency:n,event:e}),t.overCls&&t.highlight(n,t.overCls)}}},{key:"onElementMouseOut",value:function(e){if(e.target.matches("."+this.baseCls)){var t=Ns.get(e.target).dependency;this.client.trigger("dependencyMouseOut",{dependency:t,event:e}),this.overCls&&!t.meta.removed&&this.unhighlight(t)}}},{key:"highlight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.overCls,n=this.getElementForDependency(e);n&&n.classList.add(t),e.highlight(t)}},{key:"unhighlight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.overCls,n=this.getElementForDependency(e);n&&n.classList.remove(t),e.unhighlight(t)}},{key:"highlightEventDependencies",value:function(e){var t=this;e.allDependencies.forEach(function(e){return t.highlight(e)})}},{key:"unhighlightEventDependencies",value:function(e){var t=this;e.allDependencies.forEach(function(e){return t.unhighlight(e)})}},{key:"isDependencyVisible",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this,o=i.dataApi,a=i.resourceStore,s=i.eventStore,u=o.getDependencySourceEvent({dependency:e}),c=o.getDependencyTargetEvent({dependency:e});if(!u||!c)return!1;if(r){if(t=o.getAssignmentResource({assignment:r.from,resourceStore:a}),n=o.getAssignmentResource({assignment:r.to,resourceStore:a}),s.isFiltered&&(-1===s.indexOf(u)||-1===s.indexOf(c)))return!1}else t=o.getEventResource({event:u,resourceStore:a}),n=o.getEventResource({event:c,resourceStore:a});return u instanceof Yo&&t instanceof eg&&n instanceof eg&&!t.instanceMeta(a).hidden&&!n.instanceMeta(a).hidden}},{key:"getBox",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.getTimeSpanRecordFromDependency(e,t);return n=r?this.dataApi.getAssignmentResource({assignment:r[t?"from":"to"],resourceStore:this.resourceStore}):this.dataApi.getEventResource({event:i,resourceStore:this.resoureStore}),this.client.getResourceEventBox(i,n,!0)}},{key:"getRowRecordFromDependency",value:function(e,t,n){return n?this.dataApi.getAssignmentResource({assignment:n[t?"from":"to"],resourceStore:this.resourceStore}):this.dataApi.getEventResource({event:this.getTimeSpanRecordFromDependency(e,t),resourceStore:this.resourceStore})}},{key:"getTimeSpanRecordFromDependency",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e["".concat(t?"source":"target","Event")]}},{key:"getMetaId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?"".concat(this.client.id,"-ass").concat(e.from.id,"-ass").concat(e.to.id):this.client.id}},{key:"getDependencyBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this,r=n.client,i=e.getDateRange();if(!r.rowManager.rowCount||!n.isDependencyVisible(e,t))return null;if(!i||!xt.intersectSpans(i.start,i.end,r.startDate,r.endDate))return null;var o=n.getMetaId(t),a=e.instanceMeta(o),s=n.getBox(e,!0,t),u=n.getBox(e,!1,t);if(!s||!u)return null;if(n._resetBoundsCache||!a.bounds||!a.bounds.layout){var c=n.getTimeSpanRecordFromDependency(e,!0),l=n.getTimeSpanRecordFromDependency(e,!1),f=s instanceof Wn?s:new Wn(s.start,s.top,s.end-s.start,s.bottom-s.top),d=u instanceof Wn?u:new Wn(u.start,u.top,u.end-u.start,u.bottom-u.top),h=Wn.union(f,d);r.isGantt||[[c,f,s],[l,d,u]].map(function(e){var t=re()(e,3),n=t[0],i=t[1],o=t[2];if("default"===r.milestoneLayoutMode&&n.isMilestone){!r.milestoneWidth&&o.eventEl&&n.iconCls&&(r.milestoneWidth=o.eventEl.firstElementChild.offsetWidth);var a=r.milestoneWidth||i.height;i.left-=a/2,i.right+=a/2}}),a.bounds={bounds:h,startRectangle:f,endRectangle:d,layout:s.layout&&u.layout}}return e.instanceMeta(o).bounds}},{key:"getIteratableDependencyAssignments",value:function(e){return this.assignmentStore?this.dataApi.getDependencyAssignmentsAsFromToArray({dependency:e,assignmentStore:this.assignmentStore}):[null]}},{key:"addToGridCache",value:function(e){var t=this,n=t.dependencyGridCache,r=t.cacheGridSize,i=t.rowStore;t.getIteratableDependencyAssignments(e).forEach(function(o){var a=t.getDependencyBounds(e,o);a&&function(){var s,u,c,l,f=t.getMetaId(o),d=e.instanceMeta(f).gridCache=[],h=i.indexOf(t.getRowRecordFromDependency(e,!0,o)),p=i.indexOf(t.getRowRecordFromDependency(e,!1,o)),v=Math.min(h,p),g=Math.max(h,p),y=a.bounds,m=Math.floor(Math.max(y.x,0)/r.x),k=Math.floor(y.right/r.x),b=Math.floor(v/r.index),w=Math.floor(g/r.index);for(c=m;c<=k;c++)for(s=n[c]||(n[c]={}),l=b;l<=w;l++)(u=s[l]||(s[l]=[])).find(function(t){return t.dependency.id===e.id&&t.assignmentData===o&&t.metaId===f})||u.push({dependency:e,assignmentData:o,metaId:f}),d.push([c,l])}()})}},{key:"removeFromCache",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this;(t?[t]:this.getIteratableDependencyAssignments(e)).forEach(function(t){var r=n.getMetaId(t),i=e.instanceMeta(r);i.gridCache&&n._dependencyGridCache&&i.gridCache.forEach(function(r){var i=re()(r,2),o=i[0],a=i[1];if(n._dependencyGridCache.hasOwnProperty(o)&&n._dependencyGridCache[o].hasOwnProperty(a)){var s=n._dependencyGridCache[o][a],u=n.findDependencyIndex(s,e,t);u>-1&&s.splice(u,1)}}),i.bounds=null,i.gridCache=null})}},{key:"resetBoundsCache",value:function(){this._resetBoundsCache=!0}},{key:"resetGridCache",value:function(){this.dependencyGridCache=null}},{key:"prepareLineDef",value:function(e,t){var n=this,r=n.getTimeSpanRecordFromDependency(e,!0),i=n.getTimeSpanRecordFromDependency(e,!1),o=e.type,a=e.fromSide,s=e.toSide;if(!a)switch(!0){case o===cg.Type.StartToEnd:case o===cg.Type.StartToStart:a=n.getConnectorStartSide(r);break;case o===cg.Type.EndToStart:case o===cg.Type.EndToEnd:a=n.getConnectorEndSide(r);break;default:throw new Error("Invalid dependency type: "+o)}if(!s)switch(!0){case o===cg.Type.StartToEnd:s=n.getConnectorEndSide(i);break;case o===cg.Type.StartToStart:case o===cg.Type.EndToStart:s=n.getConnectorStartSide(i);break;case o===cg.Type.EndToEnd:s=n.getConnectorEndSide(i);break;default:throw new Error("Invalid dependency type: "+o)}var u=t.startRectangle,c=t.endRectangle;return{startBox:{start:u.x,end:u.right,top:u.y,bottom:u.bottom},endBox:{start:c.x,end:c.right,top:c.y,bottom:c.bottom},startSide:a,endSide:s}}},{key:"drawLine",value:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.client,s=this.getMetaId(i),u=t.instanceMeta(s).lineElement;(u&&o||(u=document.createElementNS("http://www.w3.org/2000/svg","polyline"),o&&(t.instanceMeta(s).lineElement=u),u.setAttribute("depId",t.id),i&&(u.setAttribute("fromId",i.from.id),u.setAttribute("toId",i.to.id)),e.appendChild(u)),u.classList.length&&u.classList.remove.apply(u.classList,u.getAttribute("class").split(" ")),u.classList.add(this.baseCls),t.cls&&u.classList.add(t.cls),t.bidirectional&&u.classList.add("b-sch-bidirectional-line"),t.highlighted)&&(r=u.classList).add.apply(r,te()(t.highlighted.split(" ")));if(N.isIE11){var c=t.getDateRange(!0),l=a.startDate;c.start<l&&u.classList.add("b-no-start-marker"),c.end<l&&u.classList.add("b-no-end-marker")}return u.setAttribute("points",n?n.map(function(e,t){return t!==n.length-1?"".concat(e.x1,",").concat(e.y1):"".concat(e.x1,",").concat(e.y1," ").concat(e.x2,",").concat(e.y2)}).join(" "):""),Ns.set(u,{dependency:t}),u}},{key:"refreshDependency",value:function(e){var t=this,n=t.getIteratableDependencyAssignments(e);t.releaseDependency(e,null!==n[0]),t.removeFromCache(e),t.addToGridCache(e),n.forEach(function(n){return t.drawDependency(e,null,n)})}},{key:"refreshDependencyAssignment",value:function(e,t){this.releaseDependency(e,t),this.removeFromCache(e,t),this.addToGridCache(e),this.drawDependency(e,null,t)}},{key:"scheduleRefreshDependency",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.dependenciesToRefresh;n?r.has(e)?!0!==r.get(e)&&r.get(e).add(n):r.set(e,new Set([n])):r.set(e,!0),1===r.size&&this.requestAnimationFrame(function(){t.refreshDependencyOnFrame()})}},{key:"refreshDependencyOnFrame",value:function(){var e=this,t=e.dependenciesToRefresh;e.client.isPainted&&(t.forEach(function(t,n){if(!0===t){var r=e.getIteratableDependencyAssignments(n);e.releaseDependency(n,null!==r[0]),e.removeFromCache(n)}else t.forEach(function(t){e.releaseDependency(n,t),e.removeFromCache(n,t)})}),t.forEach(function(t,n){e.addToGridCache(n)}),t.forEach(function(t,n){!0===t&&(t=e.getIteratableDependencyAssignments(n)),t.forEach(function(t){e.drawDependency(n,null,t)})}),t.clear(),e.client.trigger("dependenciesDrawn",{partial:!0}))}},{key:"drawDependency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.client.svgCanvas,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this,a=o.drawnDependencies,s=o.oldDrawnDependencies,u=t||o.getDependencyBounds(e,n);if(!o.disabled&&u){var c=o.prepareLineDef(e,u),l=o.pathFinder.findPath(c,o.lineDefAdjusters);o.drawLine(r,e,l,n,i),i&&!this.includesDependency(a,e,n)&&a.push({dependency:e,assignmentData:n})}var f=this.findDependencyIndex(s,e,n);f>=0&&s.splice(f,1)}},{key:"drawForTimeSpan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;n.client.isAnimating?n.client.on({transitionend:function(){n.drawForTimeSpan(e,!0)},once:!0}):n.dependencyStore.getTimeSpanDependencies(e).forEach(function(e){t?n.scheduleRefreshDependency(e):n.refreshDependency(e)})}},{key:"drawForEvent",value:function(e){this.drawForTimeSpan(e)}},{key:"updateDependenciesForTimeSpan",value:function(e,t){var n,r=this,i=this,o=e.isAssignment?e.event:e,a=i.dependencyStore.getTimeSpanDependencies(o),s=i.getMetaId(),u=i.client,c=Wn.from(t,u.timeAxisSubGridElement);a.forEach(function(t){r.getIteratableDependencyAssignments(t).forEach(function(r){var a,u,l,f=c.clone();r&&r.from!==e&&r.to!==e||i.isDependencyVisible(t,r)&&(i.getTimeSpanRecordFromDependency(t,!0)===o?(a=f,(n=t.instanceMeta(s).bounds)?u=n.endRectangle:(l=i.getBox(t,!1,r))&&(u=l instanceof Wn?l:new Wn(l.start,l.top,l.end-l.start,l.bottom-l.top))):((n=t.instanceMeta(s).bounds)?a=n.startRectangle:(l=i.getBox(t,!0,r))&&(a=l instanceof Wn?l:new Wn(l.start,l.top,l.end-l.start,l.bottom-l.top)),u=f),a&&u&&i.drawDependency(t,{startRectangle:a,endRectangle:u},r))})})}},{key:"scheduleDraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.disabled||(e&&t.resetBoundsCache(),t.client.isAnimating?t.clientTransitionRemover||(t.clientTransitionRemover=t.client.on({transitionend:function(){t.clientTransitionRemover(),t.clientTransitionRemover=null,t.draw()},once:!0})):t.doScheduleDraw())}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=t.client;if((t.oldDrawnDependencies||t.dependencyStore.count)&&n.isPainted)if(n.isAnimating)n.on({transitionend:function(){t.scheduleDraw(!0)},once:!0});else{var r=n.timeAxisSubGrid.viewRectangle;if(e&&t.resetBoundsCache(),r.width&&r.height){if(t.oldDrawnDependencies=t.drawnDependencies,t.drawnDependencies=[],r.inflate(t.bufferSize),!t.disabled&&t.rowStore.count&&n.rowManager.rowCount){var i,o,a,s={},u=t.dependencyGridCache,c=t.cacheGridSize,l=Math.floor(Math.max(r.left,0)/c.x),f=Math.floor(r.right/c.x),d=Math.floor(n.rowManager.topRow.dataIndex/c.index),h=Math.floor(n.rowManager.bottomRow.dataIndex/c.index),p=[];for(i=l;i<=f;i++)for(o=d;o<=h;o++){var v=u[i],g=v&&v[o];for(a=0;g&&a<g.length;a++){var y=g[a],m=y.dependency,k=y.assignmentData,b=y.metaId,w=m.id+"-"+b;if(!s[w]){var S=t.getDependencyBounds(m,k);(S&&S.bounds.intersect(r,!0,!0)||n.ignoreViewBox)&&p.push([m,S,k]),s[w]=!0}}}p.forEach(function(e){var n=re()(e,3),r=n[0],i=n[1],o=n[2];t.drawDependency(r,i,o)})}t._resetBoundsCache=!1,t.oldDrawnDependencies.forEach(function(e){return t.releaseDependency(e.dependency,e.assignmentData)}),n.trigger("dependenciesDrawn"),this.isDrawn=!0}}}},{key:"releaseDependency",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!0===n)Object.keys(e.meta.map||{}).filter(function(e){return e.startsWith(t.client.id)}).forEach(function(t){var n=e.meta.map[t];n.lineElement&&(n.lineElement.remove(),n.lineElement=null)});else{var r=this.getMetaId(n),i=e.instanceMeta(r).lineElement;i&&(e.instanceMeta(r).lineElement=null,i.remove())}}},{key:"render",value:function(){var e=this,t=e.client;e.showTooltip&&(e.tooltip=e.createTooltip()),t.timeAxis.on({endreconfigure:e.resetGridCache,thisObj:e}),t.rowManager.on({refresh:e.onRowsRefresh,changetotalheight:e.onChangeTotalHeight,thisObj:e}),t.on({horizontalscroll:e.onHorizontalScroll,svgcanvascreated:e.createMarkers,togglenode:e.onToggleNode,scroll:e.onVerticalScroll,timelineviewportresize:e.onViewportResize,thisObj:e}),e.highlightDependenciesOnEventHover&&(t.on(t.scheduledEventName+"MouseEnter",function(t){return e.highlightEventDependencies(t.eventRecord||t.taskRecord)}),t.on(t.scheduledEventName+"MouseLeave",function(t){return e.unhighlightEventDependencies(t.eventRecord||t.taskRecord)})),e.draw()}},{key:"renderContents",value:function(){this.draw()}},{key:"getConnectorStartSide",value:function(e){return this.client.currentOrientation.getConnectorStartSide(e)}},{key:"getConnectorEndSide",value:function(e){return this.client.currentOrientation.getConnectorEndSide(e)}},{key:"createTooltip",value:function(){var e=this,t=e.client;return new ao(Object.assign({align:"b-t",id:"".concat(t.id,"-dependency-tip"),forSelector:".b-timelinebase:not(.b-eventeditor-editing):not(.b-resizing-event):not(.b-dragcreating):not(.b-dragging-event):not(.b-creating-dependency) .".concat(e.baseCls),clippedBy:[t.timeAxisSubGridElement,t.bodyContainer],forElement:t.timeAxisSubGridElement,showOnHover:!0,hoverDelay:0,hideDelay:0,anchorToTarget:!1,textContent:!1,trackMouse:!1,getHtml:e.getHoverTipHtml.bind(e)},e.tooltip||{}))}},{key:"getHoverTipHtml",value:function(e){var t=e.activeTarget,n=this,r=n.getDependencyForElement(t),i=n.dataApi.getDependencySourceEvent({dependency:r,eventStore:this.eventStore}),o=n.dataApi.getDependencyTargetEvent({dependency:r,eventStore:this.eventStore});return Wi.tpl(om(),n.L("L{from}"),i.name,sm[r.type],n.L("L{to}"),o.name,um[r.type])}},{key:"rowStore",get:function(){return this.resourceStore}},{key:"scheduler",get:function(){return this.client}},{key:"dependencyGridCache",get:function(){var e=this;return e._dependencyGridCache||(e._dependencyGridCache={},e.dependencyStore.forEach(function(t){return e.addToGridCache(t)})),e._dependencyGridCache},set:function(e){this._dependencyGridCache=e}}],[{key:"$name",get:function(){return"Dependencies"}},{key:"defaultConfig",get:function(){return{pathFinderConfig:null,overCls:"b-sch-dependency-over",baseCls:"b-sch-dependency",store:null,dependencies:null,highlightDependenciesOnEventHover:!1,showTooltip:!0,tooltip:null,bufferSize:50,cacheGridSize:{x:500,index:25},drawnDependencies:[],drawnLines:[],dependenciesToRefresh:new Map,storeClass:fg}}},{key:"pluginConfig",get:function(){return{chain:["render","renderContents","onElementClick","onElementDblClick","onElementMouseOver","onElementMouseOut"],assign:["getElementForDependency","getDependencyForElement"]}}}]),n}(Uo(To).mixes(nm,xg,yr,_g));function lm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}cm._$name="Dependencies",Ff.registerFeature(cm,!1,"Scheduler"),document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))&&function(e){if("Element"in e){var t=e.Element.prototype,n=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},o=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new o("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new o("INVALID_CHARACTER_ERR","The token must not contain space characters.");return i.call(e,t)},s=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},u=s.prototype=[],c=function(){return new s(this)};if(o.prototype=Error.prototype,u.item=function(e){return this[e]||null},u.contains=function(e){return~a(this,e+"")},u.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do{e=t[n]+"",~a(this,e)||(this.push(e),i=!0)}while(++n<r);i&&this._updateClassName()},u.remove=function(){var e,t,n=arguments,r=0,i=n.length,o=!1;do{for(e=n[r]+"",t=a(this,e);~t;)this.splice(t,1),o=!0,t=a(this,e)}while(++r<i);o&&this._updateClassName()},u.toggle=function(e,t){var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},u.replace=function(e,t){var n=a(e+"");~n&&(this.splice(n,1,t),this._updateClassName())},u.toString=function(){return this.join(" ")},n.defineProperty){var l={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",l)}catch(e){void 0!==e.number&&-2146823252!==e.number||(l.enumerable=!1,n.defineProperty(t,"classList",l))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}}(window),function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){for(var n=0,r=arguments.length;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(e,t){var n=this.toString().split(" "),r=n.indexOf(e+"");~r&&(n=n.slice(r),this.remove.apply(this,n),this.add(t),this.add.apply(this,n.slice(1)))}),e=null}();var fm=function(e){X()(n,e);var t=lm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"processWidgetConfig",value:function(e){var t=this.dependencyEditFeature;return!("lagField"===e.ref&&!t.showLagField)&&(!("deleteButton"===e.ref&&!t.showDeleteButton)&&(Object.assign(e,{}),ce()(Q()(n.prototype),"processWidgetConfig",this).call(this,e)))}},{key:"afterShow",value:function(){var e,t=this.widgetMap.deleteButton;t&&(t.hidden=!this.record.isPartOfStore());for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];(e=ce()(Q()(n.prototype),"afterShow",this)).call.apply(e,[this].concat(i))}},{key:"onInternalKeyDown",value:function(e){this.trigger("keyDown",{event:e}),ce()(Q()(n.prototype),"onInternalKeyDown",this).call(this,e)}}],[{key:"$name",get:function(){return"DependencyEditor"}},{key:"defaultConfig",get:function(){return{items:[],draggable:{handleSelector:":not(button,.b-field-inner)"},axisLock:"flexible"}}}]),n}(Hi);function dm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}fm._$name="DependencyEditor";var hm=function(e){X()(n,e);var t=dm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r,i=this;if(e.dependencyEdit=i,i.dependencyStore=e.dependencyStore,ce()(Q()(n.prototype),"construct",this).call(this,e,t),!e.features.dependencies)throw new Error("Dependencies feature required when using DependencyEdit");i.clientListenersDetacher=e.on((r={},se()(r,i.triggerEvent,i.onActivateEditor),se()(r,"thisObj",i),r))}},{key:"doDestroy",value:function(){this.clientListenersDetacher(),this.editor&&this.editor.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"onBeforeSave",value:function(e){}},{key:"onAfterSave",value:function(e){}},{key:"updateRecord",value:function(e){var t=this.values;if(e.beginBatch(),e.set(t),this.lagField){var n=this.lagField.value;e.setLag(n.magnitude,n.unit)}this.typeField&&"type"in t&&e.set({fromSide:null,toSide:null}),e.endBatch()}},{key:"onPopupKeyDown",value:function(e){var t=e.event;"Enter"===t.key&&this.saveAndCloseOnEnter&&"input"===t.target.tagName.toLowerCase()&&(t.preventDefault(),this.onSaveClick())}},{key:"onSaveClick",value:function(){this.save()&&this.editor.hide()}},{key:"onDeleteClick",value:function(){this.deleteDependency(),this.editor.hide()}},{key:"onCancelClick",value:function(){this.editor.hide()}},{key:"internalShowEditor",value:function(e){var t=this,n=t.client,r=t.lastPointerDownCoordinate;if(!1!==n.trigger("beforeDependencyEdit",{dependencyEdit:t,dependencyRecord:e})){var i=t.getEditor(e);if(t.loadRecord(e),n.trigger("beforeDependencyEditShow",{dependencyEdit:t,dependencyRecord:e,editor:i}),!r){var o=Wn.from(t.client.element).center;r=[o.x-i.width/2,o.y-i.height/2]}i.showByPoint(r)}}},{key:"editDependency",value:function(e){this.client.readOnly||this.internalShowEditor(e)}},{key:"getEditor",value:function(){var e=this,t=e.editor;return t||(0===(t=e.editor=new fm(It.assign({dependencyEditFeature:e,autoShow:!1,anchor:!0,scrollAction:"realign",clippedBy:[e.client.timeAxisSubGridElement,e.client.bodyContainer],constrainTo:window,autoClose:e.autoClose,cls:e.cls,listeners:{keydown:e.onPopupKeyDown,thisObj:e}},e.editorConfig))).items.length&&console.warn("Editor configured without any `items`"),t.eachWidget(function(t){var n=t.ref||t.id;n&&!e[n]&&(e[n]=t)}),e.saveButton&&e.saveButton.on("click",e.onSaveClick,e),e.deleteButton&&e.deleteButton.on("click",e.onDeleteClick,e),e.cancelButton&&e.cancelButton.on("click",e.onCancelClick,e),e.editor)}},{key:"loadRecord",value:function(e){var t=this;t.fromNameField.value=e.sourceEvent.name,t.toNameField.value=e.targetEvent.name,t.lagField&&(t.lagField.unit=e.lagUnit),t.editor.record=t.dependencyRecord=e}},{key:"save",value:function(){var e=this,t=e.client,n=e.dependencyRecord;if(n&&e.isValid){var r=e.dependencyStore,i=e.values;if(!1!==t.trigger("beforeDependencySave",{dependencyRecord:n,values:i})){if(e.onBeforeSave(n),e.updateRecord(n),r&&!n.stores.length){if(!1===t.trigger("beforeDependencyAdd",{dependencyRecord:n,dependencyEdit:e}))return;r.add(n)}t.project&&t.project.propagate(),t.trigger("afterDependencySave",{dependencyRecord:n}),e.onAfterSave(n)}return n}}},{key:"deleteDependency",value:function(){var e=this;return!1!==e.client.trigger("beforeDependencyDelete",{dependencyRecord:e.dependencyRecord})&&(e.editor.containsFocus&&e.editor.revertFocus(),e.client.dependencyStore.remove(e.dependencyRecord),e.client.project&&e.client.project.propagate(),!0)}},{key:"onActivateEditor",value:function(e){var t=e.dependency,n=e.event;this.disabled||(this.lastPointerDownCoordinate=[n.clientX,n.clientY],this.editDependency(t))}},{key:"editorConfig",get:function(){return this._editorConfig},set:function(e){var t=this.getDefaultConfiguration().editorConfig;(e=It.assign({},t,e)).items=e.items||[],this._editorConfig=e}},{key:"isValid",get:function(){return Object.values(this.editor.widgetMap).every(function(e){return!(e.name&&!e.hidden)||!1!==e.isValid})}},{key:"values",get:function(){var e={};return this.editor.eachWidget(function(t){t.name&&!t.hidden&&(e[t.name]=t.value)},!0),e}}],[{key:"$name",get:function(){return"DependencyEdit"}},{key:"defaultConfig",get:function(){var e=this;return{autoClose:!0,saveAndCloseOnEnter:!0,showDeleteButton:!0,triggerEvent:"dependencydblclick",showLagField:!1,dependencyRecord:null,editorConfig:{title:"L{Edit dependency}",localeClass:this,closable:!0,items:[{type:"display",localeClass:this,label:"L{From}",editable:!1,ref:"fromNameField"},{type:"display",localeClass:this,label:"L{To}",ref:"toNameField"},{type:"combo",localeClass:this,label:"L{Type}",name:"type",ref:"typeField",editable:!1,valueField:"id",displayField:"name",items:Object.keys(cg.Type).map(function(t){return{id:cg.Type[t],name:e.L("L{".concat(t,"}"))}})},{type:"duration",localeClass:this,label:"L{Lag}",name:"lag",ref:"lagField",allowNegative:!0}],bbar:[{type:"widget",cls:"b-label-filler"},{color:"b-green",localeClass:this,text:"L{Save}",ref:"saveButton"},{color:"b-gray",localeClass:this,text:"L{Delete}",ref:"deleteButton"},{color:"b-gray",text:"L{Object.Cancel}",localeClass:this,ref:"cancelButton"}]}}}}]),n}(To);function pm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}hm._$name="DependencyEdit",Ff.registerFeature(hm,!1);var vm=function(e){X()(n,e);var t=pm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"refreshContent",value:function(){this.headersElement&&0===this.headersElement.childNodes.length&&ce()(Q()(n.prototype),"refreshContent",this).call(this)}}],[{key:"$name",get:function(){return"SchedulerHeader"}}]),n}(Hh);function gm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}vm._$name="Header";var ym=function(e){X()(n,e);var t=gm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;t.unitToPixelsCache={},ce()(Q()(n.prototype),"construct",this).call(this,e);var r=t.timeAxis.viewPreset||t.viewPreset;if(r)if(r instanceof jv)t.consumeViewPreset(r);else{var i=zv.getPreset(r);i&&t.consumeViewPreset(i)}t.timeAxis.on("reconfigure",t.onTimeAxisReconfigure,t),t.configured=!0}},{key:"doDestroy",value:function(){this.timeAxis.un("reconfigure",this.onTimeAxisReconfigure,this)}},{key:"reconfigure",value:function(e){this.headers=null,this.setConfig(e),this.trigger("reconfigure")}},{key:"onTimeAxisReconfigure",value:function(e){var t=e.source,n=e.suppressRefresh;this.viewPreset!==t.viewPreset&&this.consumeViewPreset(t.viewPreset),n||this.update()}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.timeAxis,o=r.headers;if(r.isConfiguring||r._availableSpace===e)n&&r.trigger("update");else{if(r._availableSpace=Math.max(e||r.availableSpace||0,0),"number"!=typeof r.availableSpace)throw new Error("Invalid available space provided to TimeAxisModel");r.columnConfig=[];var a=r._tickSize=r.calculateTickSize(r.originalTickSize);if("number"!=typeof a||a<=0)throw new Error("Invalid timeAxis tick size");r.unitToPixelsCache={},r._totalSize=null;for(var s=0,u=o.length;s<u;s++){var c=o[s];if(c.cellGenerator){var l=c.cellGenerator.call(r,i.startDate,i.endDate);r.columnConfig[s]=r.createHeaderRow(s,c,l)}else r.columnConfig[s]=r.createHeaderRow(s,c)}t||r.trigger("update")}}},{key:"getDistanceBetweenDates",value:function(e,t){return Math.round(this.getPositionFromDate(t)-this.getPositionFromDate(e))}},{key:"getDistanceForDuration",value:function(e){var t=this.timeAxis.getAt(0);return this.tickSize/(t.endDate-t.startDate)*e}},{key:"getPositionFromDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=n.getScaledTick(e,t);return-1===r?-1:Math.round(n.tickSize*(r-n.timeAxis.visibleTickStart))}},{key:"getScaledTick",value:function(e,t){var n=t.respectExclusion,r=t.snapToNextIncluded,i=t.isEnd,o=t.min,a=t.max,s=this.timeAxis,u=s.include,c=s.unit,l=s.weekStartDay,f=s.getTickFromDate(e);if(-1!==f&&n&&u){var d=!1;if(u.hour&&xt.compareUnits(c,"hour")>0&&"day"!==c){var h=u.hour,p=h.from,v=h.to,g=h.lengthFactor,y=h.center,m=e.getHours(),k=Math.min(Math.max(m,p),v);if(!r&&k!==m)return-1;var b=y-(y-(k+e.getMinutes()/60))*g;e=xt.add(e,b-m,"h"),d=!0}if(u.day&&xt.compareUnits(c,"day")>0){var w=u.day,S=w.from,D=w.to,R=w.lengthFactor,C=w.center,x=e.getDay();i&&0===e.getHours()&&0===e.getMinutes()&&0===e.getSeconds()&&0===e.getMilliseconds()&&--x<0&&(x=6);var E=0;if(x<S||x>=D){if(!r)return-1;if(E=i?(D-x-8)%7:(S-x+7)%7,e=xt.add(e,E,"d"),e=xt.startOf(e,"d",!1),a&&e.getTime()>=a||o&&e.getTime()<=o)return-1}var T=0===e.getDay()?0:C,M=e.getDay()+e.getHours()/24,P=T-(T-M)*R;e=xt.add(e,P-M+l,"d"),d=!0}d&&(e=xt.constrain(e,s.startDate,s.endDate),f=s.getTickFromDate(e))}return f}},{key:"getDateFromPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.timeAxis,o=r.getScaledPosition(e)/r.tickSize+i.visibleTickStart;return o<0||o>i.count?n?o<0?xt.add(i.startDate,o,i.unit):xt.add(i.endDate,o-i.count,i.unit):null:i.getDateFromTick(o,t)}},{key:"getScaledPosition",value:function(e){var t=this.timeAxis,n=t.include,r=t.unit,i=t.weekStartDay;if(n){var o=this.getSingleUnitInPixels("day");if(n.day&&xt.compareUnits(r,"day")>0){var a=n.day,s=a.from,u=e%(7*o);e=u/a.lengthFactor+(s-i)*o+(e-u)}if(n.hour&&xt.compareUnits(r,"hour")>0&&"day"!==r){var c=n.hour,l=c.from,f=e%o;e=f/c.lengthFactorExcl+l*this.getSingleUnitInPixels("hour")+(e-f)}}return e}},{key:"getSingleUnitInPixels",value:function(e){var t=this;return t.unitToPixelsCache[e]||(t.unitToPixelsCache[e]=xt.getUnitToBaseUnitRatio(t.timeAxis.unit,e,!0)*t.tickSize/t.timeAxis.increment)}},{key:"setTickSize",value:function(e,t){this._tickSize=this.originalTickSize=e,this.update(void 0,t)}},{key:"calculateTickSize",value:function(e){var t=this,n=t.forceFit,r=t.timeAxis,i=t.suppressFit,o=r.unit,a=0,s=1;if(t.snap){var u=r.resolution;s=xt.getUnitToBaseUnitRatio(o,u.unit)*u.increment}if(i)a=e;else{var c=r.visibleTickTimeSpan,l=Math[n?"floor":"round"](t.availableSpace/c);if(a=n||e<l?l:e,s>0&&(!n||s<1)){var f=n?"floor":"round";a=Math.round(Math.max(1,Math[f](s*a))/s)}}return a}},{key:"getDates",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.columnLinesFor,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=[],o=t?r.lowestHeader:e,a=r.majorHeaderLevel,s=r.headers&&r.headers[e].unit,u=null!=a&&r.headers&&r.headers[a].unit,c=null!=a&&xt.doesUnitsAlign(u,s),l=!(!r.headers||!r.headers[o].cellGenerator);if(l)for(var f=r.columnConfig[o],d=1,h=f.length;d<h;d++)i.push({date:f[d].startDate});else r.forEachInterval(o,function(t,o){i.push({date:n?o:t,isMajor:a!==e&&c&&r.isMajorTick(n?o:t)})});return i}},{key:"fitToAvailableSpace",value:function(e){var t=Math.floor(this.availableSpace/this.timeAxis.visibleTickTimeSpan);this.setTickSize(t,e)}},{key:"createHeaderRow",value:function(e,t,n){var r=this,i=this,o=[],a=t.align,s=xt.clearTime(new Date),u=t.headerCellCls||"",c=function(n,c,f,d){var h=xt.format(n,t.dateFormat),p={align:a,start:n,end:c,value:d?d.header:h,headerCellCls:u,width:r.getDistanceBetweenDates(n,c),index:f};0!==p.width&&(p.coord=l,l+=p.width,i.headersDatesCache[e][n.getTime()]=1,t.renderer&&(h=t.renderer.call(t.thisObj||i,n,c,p,f,i.eventStore),p.value=null==h?"":h),"day"!==t.unit||t.increment&&1!==t.increment||(p.headerCellCls+=" b-sch-dayheadercell-"+n.getDay(),i.calendar&&i.calendar.isWeekend(n)&&(p.headerCellCls+=" b-sch-dayheadercell-nonworking"),xt.clearTime(n,!0)-s==0&&(p.headerCellCls+=" b-sch-dayheadercell-today")),o.push(p))},l=0;return i.headersDatesCache[e]={},n?n.forEach(function(e,t){return c(e.start,e.end,t,e)}):i.forEachInterval(e,c),o}},{key:"isMajorTick",value:function(e){var t=this.majorHeaderLevel;return null!=t&&this.headersDatesCache[t]&&this.headersDatesCache[t][e.getTime()]||!1}},{key:"forEachInterval",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=this.headers;if(r)if(e===r.length-1)this.timeAxis.forEach(function(e,r){return t.call(n,e.startDate,e.endDate,r)});else{var i=r[e];this.timeAxis.forEachAuxInterval(i.unit,i.increment,t,n)}}},{key:"forEachMainInterval",value:function(e,t){this.forEachInterval(this.mainHeaderLevel,e,t)}},{key:"consumeViewPreset",value:function(e){var t=this;t.headers=null,t._thisIsAUsedExpression(t.tickSize),t.viewPreset=e,Object.assign(t,{headers:e.headers,columnLinesFor:e.columnLinesFor,mainHeaderLevel:e.mainHeaderLevel,_tickSize:t.isHorizontal?e.tickWidth:e.tickHeight}),t.originalTickSize=t.tickSize}},{key:"columnConfig",get:function(){return this._columnConfig},set:function(e){this._columnConfig=e}},{key:"headers",get:function(){return this._headers},set:function(e){if(e&&e.length&&e[e.length-1].cellGenerator)throw new Error("`cellGenerator` cannot be used for the bottom level of your headers. Use TimeAxis#generateTicks() instead.");this._headers=e}},{key:"isTimeAxisViewModel",get:function(){return!0}},{key:"isHorizontal",get:function(){return"vertical"!==this.mode}},{key:"isVertical",get:function(){return"vertical"===this.mode}},{key:"forceFit",set:function(e){e!==this._forceFit&&(this._forceFit=e,this.update())},get:function(){return this._forceFit}},{key:"snapPixelAmount",get:function(){if(this.snap){var e=this.timeAxis.resolution;return(e.increment||1)*this.getSingleUnitInPixels(e.unit)}return 1}},{key:"tickSize",get:function(){return this._tickSize},set:function(e){this.setTickSize(e,!1)}},{key:"timeResolution",get:function(){return this.timeAxis.resolution}},{key:"totalSize",get:function(){return this._totalSize||(this._totalSize=Math.round(this.tickSize*this.timeAxis.visibleTickTimeSpan))}},{key:"availableSpace",get:function(){return this._availableSpace},set:function(e){var t=this;if(t._availableSpace=Math.max(0,e),t._availableSpace>0){var n=t.calculateTickSize(t.originalTickSize);n>0&&n!==t.tickSize&&t.update()}}},{key:"snap",get:function(){return this._snap},set:function(e){e!==this._snap&&(this._snap=e,this.configured&&this.update())}},{key:"mainHeader",get:function(){return"mainHeaderLevel"in this?this.headers[this.mainHeaderLevel]:this.bottomHeader}},{key:"bottomHeader",get:function(){return this.headers[this.headers.length-1]}},{key:"lowestHeader",get:function(){return this.headers.length-1}},{key:"majorHeaderLevel",get:function(){var e=this.headers;return e?Math.max(e.length-2,0):null}}],[{key:"defaultConfig",get:function(){return{timeAxis:null,availableSpace:null,tickSize:100,snap:!1,forceFit:!1,headers:null,calendar:null,mode:"horizontal",suppressFit:!1,columnConfig:[],viewPreset:null,columnLinesFor:null,eventStore:null,originalTickSize:null,headersDatesCache:[]}}}]),n}(me());function mm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ym._$name="TimeAxisViewModel";var km=new Date;function bm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var wm={mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut"};function Sm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function Dm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function Rm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function Cm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function xm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Em=["viewPreset","eventBarTextField","eventRenderer","eventRendererThisObj","eventBodyTemplate"],Tm={fn:"exitTransition",delay:0,cancelOutstanding:!0},Mm=function(e){X()(n,e);var t=xm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,r=e.schedulerRegion||"normal",i=e.subGridConfigs,o=void 0===i?{}:i;e.subGridConfigs=o,o[r]=o[r]||{},o[r].headerClass=vm,"flex"in o[r]||"width"in o[r]||(o[r].flex=1),e.startDate&&(e.startDate=xt.parse(e.startDate)),e.endDate&&(e.endDate=xt.parse(e.endDate)),ce()(Q()(n.prototype),"construct",this).call(this,e),t.onSchedulerViewportResize=t.throttle(t.onSchedulerViewportResize,250),t.initDomEvents(),t.currentOrientation.init(),t.rowManager.on("refresh",function(){t.forceLayout=!1})}},{key:"doDestroy",value:function(){var e=this,t=this.currentOrientation;t&&t.destroy(),e.partneredWith&&(e.partneredWith.forEach(function(t){e.removePartner(t)}),e.partneredWith.destroy()),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"startConfigure",value:function(e){ce()(Q()(n.prototype),"startConfigure",this).call(this,e),this._thisIsAUsedExpression(this.partner)}},{key:"onPaint",value:function(e){var t=e.firstPaint;if(t){var r=this.timeAxisSubGrid,i=this.isVertical?N.isIE11?r.element.parentElement.offsetHeight:r.height:r.width;this.timeAxisViewModel.update(i,!1,!0)}ce()(Q()(n.prototype),"onPaint",this).call(this,Array.prototype.slice.call(arguments))}},{key:"initSubGrids",value:function(){ce()(Q()(n.prototype),"initSubGrids",this).call(this);var e=this,t=e.timeAxisSubGrid=e.subGrids[e.timeAxisColumn.region];t.sealedColumns=!0,t.on({resize:e.onTimeAxisSubGridResize,thisObj:e})}},{key:"onSchedulerHorizontalScroll",value:function(e,t){this.currentOrientation.updateFromHorizontalScroll(t),ce()(Q()(n.prototype),"onSchedulerHorizontalScroll",this).call(this,e,t)}},{key:"initScroll",value:function(){var e=this,t=0;ce()(Q()(n.prototype),"initScroll",this).call(this),N.isMobileSafari&&(e.scrollable.element.style.transform="translate3d(0, 0, 0)"),e.on("horizontalscroll",function(n){var r=n.subGrid,i=n.scrollLeft;e.isPainted&&r===e.timeAxisSubGrid&&!e.isDestroying&&e.onSchedulerHorizontalScroll(r,i),t++}),"horizontal"===e.testPerformance&&e.setTimeout(function(){var n=performance.now(),r=5,i=1,o=e.setInterval(function(){if(r+=5,e.scrollLeft+=(10+Math.floor(r))*i,1===i&&e.scrollLeft>5500&&(i=-1,r=5),-1===i&&e.scrollLeft<=0){var a=1e3/((performance.now()-n)/t);a=Math.round(10*a)/10,clearInterval(o),console.log(e.eventPositionMode,e.eventScrollMode,a+"fps")}},0)},500)}},{key:"noFeatureElementsInAxis",value:function(){}},{key:"removePartner",value:function(e){var t=this,n=t.partneredWith;n&&n.includes(e)&&(n.remove(e),e.partneredWith.remove(t),e.scrollable.removePartner(t.scrollable),e.un({presetchange:"onPartnerPresetChange",thisObj:t}),t.un({presetchange:"onPartnerPresetChange",thisObj:e}))}},{key:"onPartnerPresetChange",value:function(e){var t=e.preset,n=e.startDate,r=e.endDate,i=e.centerDate;this._viewPresetChanging||this.viewPreset===t||this.setViewPreset(t,n,r,!1,{centerDate:i})}},{key:"applyWorkingTime",value:function(e){var t=this,n=t._workingTime;if(n){var r=null;n.fromHour>=0&&n.fromHour<24&&n.toHour>n.fromHour&&n.toHour<=24&&n.toHour-n.fromHour<24&&(r={from:n.fromHour,to:n.toHour});var i=null;n.fromDay>=0&&n.fromDay<7&&n.toDay>n.fromDay&&n.toDay<=7&&n.toDay-n.fromDay<7&&(i={from:n.fromDay,to:n.toDay}),e.include=r||i?{hour:r,day:i}:null}else e.include=null;t.isPainted&&(t.timeAxisColumn.refreshHeader(),t.features.columnLines&&t.features.columnLines.drawLines(),t.refreshWithTransition())}},{key:"setStartDate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=n._timeAxis||{},i=r.startDate,o=r.endDate,a=r.mainUnit;if("string"==typeof e&&(e=xt.parse(e)),n._timeAxis&&o){if(e){var s=o;if(t&&i){var u=xt.diff(i,o,a,!0);s=xt.add(e,u,a)}r.setTimeSpan(e,s)}}else n._tempStartDate=e}},{key:"setEndDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=n._timeAxis||{},i=r.startDate,o=r.endDate,a=r.mainUnit;if("string"==typeof e&&(e=xt.parse(e)),n._timeAxis&&i){if(e){var s=i;if(t&&o){var u=xt.diff(i,o,a,!0);s=xt.add(e,-u,a)}r.setTimeSpan(s,e)}}else n._tempEndDate=e}},{key:"onLocaleChange",value:function(){ce()(Q()(n.prototype),"onLocaleChange",this).call(this),this.timeAxisColumn.refreshHeader()}},{key:"onInternalResize",value:function(e,t,r,i,o){var a=this._bodyRectangle;ce()(Q()(n.prototype),"onInternalResize",this).call(this,e,t,r,i,o),a&&r!==o&&this.onSchedulerViewportResize(a.width,this.bodyContainer.offsetHeight,a.width,a.height)}},{key:"onTimeAxisSubGridResize",value:function(e){var t=e.width,n=(e.height,e.oldWidth);e.oldHeight;if(this.isPainted&&t!==n){var r=this._bodyRectangle;this.onSchedulerViewportResize(t,r.height,n,r.height)}}},{key:"onSchedulerViewportResize",value:function(e,t,n,r){if(this.isPainted){var i=this,o=i.timeAxisSubGrid;i.currentOrientation.onViewportResize(e,t,n,r),null!=i._lastOverflow&&i._lastOverflow!==o.overflowingHorizontally||(i.setTimeout(function(){i.timeAxisViewModel.availableSpace=i.isHorizontal?o.width:o.height},0),i.partneredWith&&!i.isSyncingFromPartner&&i.partneredWith.forEach(function(e){e.isSyncingFromPartner||(e.isSyncingFromPartner=!0,i.eachSubGrid(function(t){var n=e.subGrids[t.region];n.width!==t.width&&(t.collapsed?n.collapse():(n.collapsed&&n.expand(),t.flex?t.flex!==n.flex&&(n.flex=t.flex):n.width=t.width))}),e.isSyncingFromPartner=!1)})),i.trigger("timelineViewportResize",{width:e,height:t,oldWidth:n,oldHeight:r}),i._lastOverflow=o.overflowingHorizontally}}},{key:"onTimeAxisViewModelUpdate",value:function(){this.updateCanvasSize(),this.isHorizontal&&(this.callEachSubGrid("refreshFakeScroll"),this.refreshVirtualScrollbars()),this.currentOrientation.onTimeAxisViewModelUpdate()}},{key:"updateCanvasSize",value:function(){var e=this;e.isHorizontal?(e.backgroundCanvas&&(e.backgroundCanvas.style.width="".concat(e.timeAxisViewModel.totalSize,"px")),e.foregroundCanvas.style.width="".concat(e.timeAxisViewModel.totalSize,"px")):(e.backgroundCanvas&&(e.backgroundCanvas.style.width=yn.setLength(e.timeAxisColumn.width)),e.foregroundCanvas.style.width=yn.setLength(e.timeAxisColumn.width))}},{key:"getHeaderDomConfigs",value:function(e){}},{key:"getForegroundDomConfigs",value:function(e){}},{key:"refresh",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this;n.isPainted&&!n.refreshSuspended&&(n.hasVisibleEvents?(n.refreshRows(!1,e),t&&t()):n.rowManager.trigger("refresh"))}},{key:"render",value:function(){var e=this,t=e.timeAxisSubGridElement;e.useBackgroundCanvas&&(e._backgroundCanvas=yn.createElement({className:"b-sch-background-canvas",parent:t,nextSibling:t.firstElementChild}));var r=e._foregroundCanvas=yn.createElement({className:"b-sch-foreground-canvas",style:"font-size:".concat(e.rowHeight-2*e.resourceMargin,"px"),parent:t});e.timeAxisSubGrid.insertRowsBefore=r,ce()(Q()(n.prototype),"render",this).apply(this,arguments)}},{key:"refreshRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;r.isConfiguring||(r.currentOrientation.refreshRows(t),ce()(Q()(n.prototype),"refreshRows",this).call(this,e))}},{key:"getDateConstraints",value:function(){}},{key:"runWithTransition",value:function(e,t){var n=this;n.isVisible&&(null!=t&&!0!==t||(t=n.transitionDuration),t&&n.enableEventAnimations&&(n.isAnimating=!0,Tm.delay=t,n.setTimeout(Tm))),e()}},{key:"exitTransition",value:function(){this.isAnimating=!1,this.trigger("transitionend")}},{key:"refreshWithTransition",value:function(e){var t=this;this.runWithTransition(function(){return t.refresh(e)})}},{key:"getVisibleDateRange",value:function(){return this.currentOrientation.getVisibleDateRange()}},{key:"hasVisibleEvents",get:function(){var e=this;return!this.noFeatureElementsInAxis()||this.eventStore.storage.values.some(function(t){return e.timeAxis.isTimeSpanInAxis(t)})}},{key:"capitalizedEventName",get:function(){return this._capitalizedEventName||(this._capitalizedEventName=_.capitalizeFirstLetter(this.scheduledEventName)),this._capitalizedEventName}},{key:"partner",set:function(e){var t=this,n=t.partneredWith||(t.partneredWith=new Lr);t._partner=e,n.includes(e)||(n.add(e),(e.partneredWith||(e.partneredWith=new Lr)).add(t),e.on({presetchange:"onPartnerPresetChange",thisObj:t}),t.on({presetchange:"onPartnerPresetChange",thisObj:e}),t.setConfig({viewPreset:e.viewPreset,timeAxis:e.timeAxis,timeAxisViewModel:e.timeAxisViewModel}),t.initScroll=Yn.createSequence(t.initScroll,function(){t.scrollable.addPartner(e.scrollable,"x")},t))},get:function(){return this._partner}},{key:"timeAxisColumn",get:function(){return this.columns&&this._timeAxisColumn}},{key:"columns",get:function(){return ce()(Q()(n.prototype),"columns",this)},set:function(e){var t,r,i,o,a=this;if(e){var s=Array.isArray(e),u=e;s||(u=e.data),t=u&&u.length,u.forEach(function(e,n){"timeAxis"===e.type&&(t=n,r=e)}),a.isVertical?(a._horizontalColumns=e,u=[{type:"verticalTimeAxis",locked:!0,timeline:a},u[t]],t=1):u=u.slice(),r=u[t]=Object.assign({type:"timeAxis",locked:!1,timeline:a,cellCls:a.timeCellCls,mode:a.mode},r),Em.forEach(function(e){null!=(o=a[e])&&(r[e]=o)}),s?e=u:e.data=u}di()(Q()(n.prototype),"columns",e,this,!0),e&&(i=a._timeAxisColumn=a.columns.getAt(t),a.isVertical&&(a.verticalTimeAxisColumn=a.columns.getAt(t-1)),i.relayAll(a))}},{key:"timeView",get:function(){var e=this;return e.columns&&e.isVertical?e.verticalTimeAxisColumn&&e.verticalTimeAxisColumn.view:e.timeAxisColumn&&e.timeAxisColumn.timeAxisView}},{key:"eventCls",set:function(e){var t=this;t._eventCls=e,t.eventSelector||(t.eventSelector=".".concat(e,"-wrap"),t.unreleasedEventSelector="".concat(t.eventSelector,":not(.b-sch-released)")),t.eventInnerSelector||(t.eventInnerSelector="."+e)},get:function(){return this._eventCls}},{key:"timeAxisViewModel",set:function(e){var t=this,n={update:"onTimeAxisViewModelUpdate",prio:100,thisObj:t};t.partner&&!e||(e&&e.isTimeAxisViewModel?e.on(n):(e=Object.assign({mode:t._mode,snap:t.snap,forceFit:t.forceFit,timeAxis:t.timeAxis,suppressFit:t.suppressFit,listeners:n},e),e=new ym(e)),t._timeAxisViewModel=e)},get:function(){return this._timeAxisViewModel||(this.timeAxisViewModel=null),this._timeAxisViewModel}},{key:"timeAxis",set:function(e){var t=this;t.partner&&!e||(t.timeAxisDetacher&&t.timeAxisDetacher(),e&&e.isTimeAxis||(e=It.assign({viewPreset:t.viewPreset,autoAdjust:t.autoAdjustTimeAxis,mode:"plain",weekStartDay:t.weekStartDay},e),t.startDate&&(e.startDate=t.startDate),t.endDate&&(e.endDate=t.endDate),t.workingTime&&t.applyWorkingTime(e),e=new Wv(e)),t.timeAxisDetacher=e.on({thisObj:t,reconfigure:function(e){var n=e.config;t.trigger("timeAxisChange",{config:n})}}),t._timeAxis=e)},get:function(){return this._timeAxis||(this.timeAxis=null),this._timeAxis}},{key:"workingTime",set:function(e){this._workingTime=e,this.isConfiguring||this.applyWorkingTime(this.timeAxis)},get:function(){return this._workingTime}},{key:"startDate",set:function(e){this.setStartDate(e)},get:function(){return this._timeAxis?this._timeAxis.startDate:this._tempStartDate||new Date}},{key:"endDate",set:function(e){this.setEndDate(e)},get:function(){var e=this;return e._timeAxis?e._timeAxis.endDate:e._tempEndDate||xt.add(e.startDate,e.viewPreset.defaultSpan,e.viewPreset.mainHeader.unit)}},{key:"features",get:function(){return ce()(Q()(n.prototype),"features",this)},set:function(e){"regionResize"in(e=!0===e?{}:e)||(e.regionResize=!0),di()(Q()(n.prototype),"features",e,this,!0)}},{key:"eventStyle",get:function(){return this._eventStyle},set:function(e){this._eventStyle=e,this.isPainted&&this.refreshWithTransition()}},{key:"eventColor",get:function(){return this._eventColor},set:function(e){this._eventColor=e,this.isPainted&&this.refreshWithTransition()}},{key:"currentOrientation",get:function(){throw new Error("Implement in subclass")}},{key:"isHorizontal",get:function(){return!0}},{key:"backgroundCanvas",get:function(){return this._backgroundCanvas}},{key:"foregroundCanvas",get:function(){return this._foregroundCanvas}},{key:"svgCanvas",get:function(){var e=this;if(!e._svgCanvas){var t=e._svgCanvas=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("id",De.generateId("svg")),t.retainElement=!0,e.foregroundCanvas.appendChild(t),e.trigger("svgCanvasCreated")}return e._svgCanvas}},{key:"timeAxisSubGridElement",get:function(){return this.timeAxisColumn&&this.timeAxisColumn.subGridElement}}],[{key:"$name",get:function(){return"TimelineBase"}},{key:"defaultConfig",get:function(){return{workingTime:null,timeAxis:null,timeAxisViewModel:null,autoAdjustTimeAxis:!0,startDate:null,endDate:null,snap:!1,snapRelativeToEventStartDate:!1,forceFit:!1,suppressFit:!1,eventCls:null,getDateConstraints:null,timeCellCls:null,timeCellSelector:null,scheduledEventName:null,createEventOnDblClick:!0,overScheduledEventClass:null,preventOverCls:!1,hoveredEventNode:null,useBackgroundCanvas:!1,enableEventAnimations:!N.isIE11,disableGridRowModelWarning:!0,animateRemovingRows:!1,partner:null,schedulerRegion:"normal",transitionDuration:200,animationTimeout:null,milestoneLayoutMode:"default",defaultRegion:"locked"}}}]),n}(Uo(Cp).mixes(function(e){return function(e){X()(n,e);var t=mm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getDateFromCoordinate",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n||(e=this.currentOrientation.translateToScheduleCoordinate(e)),this.timeAxisViewModel.getDateFromPosition(e,t,r)}},{key:"getDateFromX",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.getDateFromCoordinate(e,t,n)}},{key:"getDateFromXY",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.currentOrientation.getDateFromXY(e,t,n,r)}},{key:"getDateFromDomEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.getDateFromXY([e.clientX,e.clientY],t,!1,n)}},{key:"getStartEndDatesFromRectangle",value:function(e,t,n){var r,i,o=this,a=o.isHorizontal,s=a?o.timeAxisSubGrid.width:o.timeAxisSubGrid.height,u=a?e.x:e.top,c=a?e.right:e.bottom;return u>=0&&c<s?(r=o.getDateFromCoordinate(u,null,!0),i=o.getDateFromCoordinate(c,null,!0)):u<0?r=(i=o.getDateFromCoordinate(c,t,!0))&&xt.add(i,-n,"ms"):i=(r=o.getDateFromCoordinate(u,t,!0))&&xt.add(r,n,"ms"),{start:r,end:i}}},{key:"getFormattedDate",value:function(e){return xt.format(e,this.displayDateFormat)}},{key:"getDisplayEndDate",value:function(e,t){return 0!==e.getHours()||0!==e.getMinutes()||t&&e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()||xt.formatContainsHourInfo(this.displayDateFormat)||(e=xt.add(e,-1,"day")),e}},{key:"getFormattedEndDate",value:function(e,t){return this.getFormattedDate(this.getDisplayEndDate(e,t))}},{key:"getCoordinateFromDate",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this,i=r.timeAxisViewModel,o=r.timeAxis,a=o.isContinuous,s=o.startMS,u=o.endMS,c=o.startDate,l=o.unit,f=e.valueOf();if(!0===n?n={local:!0}:n?"local"in n||(n.local=!0):n={local:!1},e instanceof Date||(km.setTime(e),e=km),a&&e.getTimezoneOffset()===c.getTimezoneOffset()&&-1!==xt.getUnitToBaseUnitRatio(l,"day")){if(f<s||f>u)return-1;t=Math.round((f-s)/(u-s)*i.totalSize)}else t=i.getPositionFromDate(e,n);return n.local||(t=r.currentOrientation.translateToPageCoordinate(t)),t}},{key:"getTimeSpanDistance",value:function(e,t){return this.timeAxisViewModel.getDistanceBetweenDates(e,t)}},{key:"onSchedulerHorizontalScroll",value:function(e){e.subGrid,e.scrollLeft;this.scrollingToCenter||(this.cachedCenterDate=null)}},{key:"displayDateFormat",get:function(){return this._displayDateFormat},set:function(e){this._displayDateFormat=e,this.trigger("displayDateFormatChange",{format:e})}},{key:"viewportCenterDate",get:function(){var e=this,t=e.timeAxis,n=e.timeAxisSubGrid,r=n.scrollable,i=r.x+n.width/2,o=r.y+n.height/2;if(t.isContinuous){var a=e.isHorizontal?i/r.scrollWidth:o/r.scrollHeight,s=t.startMS+(t.endMS-t.startMS)*a;return new Date(s)}var u=e.isHorizontal?[i,0]:[0,o];return e.getDateFromXY(u,null,!0)}},{key:"viewportCenterDateCached",get:function(){return this.cachedCenterDate||(this.cachedCenterDate=this.viewportCenterDate)}},{key:"timeResolution",get:function(){return this.timeAxis.resolution},set:function(e){this.timeAxis.resolution="number"==typeof e?{increment:e,unit:this.timeAxis.resolution.unit}:e}},{key:"snap",set:function(e){this.isConfiguring?this._snap=e:this.timeAxisViewModel.snap=e},get:function(){return this.isConfiguring?this._snap:this.timeAxisViewModel.snap}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=bm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"initDomEvents",value:function(){var e=this;e.scheduledBarEvents.element=e.schedulerEvents.element=e.timeAxisSubGridElement,e.scheduledBarEvents.thisObj=e.schedulerEvents.thisObj=e,ur.on(e.scheduledBarEvents),ur.on(e.schedulerEvents)}},{key:"getTimeSpanMouseEventParams",value:function(e,t){throw new Error("Implement in subclass")}},{key:"getScheduleMouseEventParams",value:function(e,t){throw new Error("Implement in subclass")}},{key:"handleScheduledBarEvent",value:function(e){var t=yn.up(e.target,this.eventInnerSelector),n=wm[e.type]||_.capitalizeFirstLetter(e.type);t&&this.trigger(this.scheduledEventName+n,this.getTimeSpanMouseEventParams(t,e))}},{key:"handleScheduleEvent",value:function(e){var t=this,n=!yn.up(e.target,t.eventSelector)&&yn.up(e.target,"."+t.timeCellCls),r=wm[e.type]||_.capitalizeFirstLetter(e.type);if(n){var i=t.getDateFromDomEvent(e,"floor"),o=Ns.get(n),a=o.row.dataIndex,s=t.timeAxis.getTickFromDate(i),u=t.timeAxis.getAt(Math.floor(s));u&&t.trigger("schedule"+r,Object.assign({date:i,tickStartDate:u.startDate,tickEndDate:u.endDate,row:o.row,index:a,event:e},t.getScheduleMouseEventParams(o,e)))}}},{key:"onElementMouseOver",value:function(e){ce()(Q()(n.prototype),"onElementMouseOver",this).call(this,e);var t=this,r=e.target;if(r.closest(t.eventInnerSelector)){var i=r.closest(t.eventSelector);if(i.classList.add(t.overScheduledEventClass),i!==t.hoveredEventNode&&!t.preventOverCls){t.hoveredEventNode=i;var o=t.getTimeSpanMouseEventParams(i,e);o&&t.trigger(t.scheduledEventName+"MouseEnter",o)}}else t.hoveredEventNode=null}},{key:"onElementMouseOut",value:function(e){ce()(Q()(n.prototype),"onElementMouseOut",this).call(this,e);var t=this;if(e.target.closest(t.eventInnerSelector)&&t.resolveTimeSpanRecord(e.target)&&t.hoveredEventNode){if(e.relatedTarget&&yn.isDescendant(e.target.closest(t.eventInnerSelector),e.relatedTarget))return;t.unhover(e)}}},{key:"unhover",value:function(e){var t=this,n=t.hoveredEventNode;n&&(n.classList.remove(t.overScheduledEventClass),t.trigger(t.scheduledEventName+"MouseLeave",t.getTimeSpanMouseEventParams(n,e)),t.hoveredEventNode=null)}},{key:"widgetClass",get:function(){}}],[{key:"defaultConfig",get:function(){return{scheduledBarEvents:{mousedown:"handleScheduledBarEvent",mouseup:"handleScheduledBarEvent",click:"handleScheduledBarEvent",dblclick:"handleScheduledBarEvent",contextmenu:"handleScheduledBarEvent",mouseover:"handleScheduledBarEvent",mouseout:"handleScheduledBarEvent"},schedulerEvents:{click:"handleScheduleEvent",dblclick:"handleScheduleEvent",contextmenu:"handleScheduleEvent",mousemove:"handleScheduleEvent"}}}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Rm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"barMargin",get:function(){return this._barMargin},set:function(e){var t=this;It.assertNumber(e,"barMargin"),t.isHorizontal&&t.rowHeight&&(e=Math.min(Math.ceil(t.rowHeight/2),e)),t._barMargin!==e&&(t._barMargin=e,t.rendered&&(t.currentOrientation.onBeforeRowHeightChange(),t.refreshWithTransition()))}},{key:"resourceMargin",get:function(){return null==this._resourceMargin?this.barMargin:this._resourceMargin},set:function(e){var t=this;It.assertNumber(e,"resourceMargin"),t.isHorizontal&&t.rowHeight&&(e=Math.min(Math.ceil(t.rowHeight/2),e)),t._resourceMargin!==e&&(t._resourceMargin=e,t.rendered&&(t.currentOrientation.onBeforeRowHeightChange(),t.refreshWithTransition()))}},{key:"tickWidth",set:function(e){this.tickSize=e},get:function(){return this.tickSize}},{key:"tickSize",set:function(e){It.assertNumber(e,"tickSize"),this.timeAxisViewModel.tickSize=e},get:function(){return this.timeAxisViewModel.tickSize}},{key:"widgetClass",get:function(){}}],[{key:"defaultConfig",get:function(){return{barMargin:10,resourceMargin:null,managedEventSizing:!0,generatedIdCls:"b-sch-dirty-new",dirtyCls:"b-sch-dirty",committingCls:"b-sch-committing",endsOutsideViewCls:"b-sch-event-endsoutside",startsOutsideViewCls:"b-sch-event-startsoutside",fixedEventCls:"b-sch-event-fixed",eventStyle:"plain",eventColor:"green"}}},{key:"eventColors",get:function(){return["red","pink","purple","violet","indigo","blue","cyan","teal","green","lime","yellow","orange","gray"]}},{key:"eventStyles",get:function(){return["plain","border","hollow","colored","line","dashed","minimal"]}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Cm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"scrollToDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this,r=n.timeAxisSubGrid.scrollable,i=r.viewport,o=n.getCoordinateFromDate(e,!0),a=n.isHorizontal?new Wn(n.getCoordinateFromDate(e,!1),i.y,n.timeAxisViewModel.tickSize,i.height):new Wn(i.x,n.getCoordinateFromDate(e,!1),i.width,n.timeAxisViewModel.tickSize);return n.scrollToCoordinate(o,a,e,t)}},{key:"scrollToNow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.scrollToDate(new Date,e)}},{key:"scrollToCoordinate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this;if(e<0){var o=(i.timeAxis.endDate-i.timeAxis.startDate)/2,a=new Date(n.getTime()-o),s=new Date(n.getTime()+o);return a-i.startDate!=0&&s-i.endDate!=0?(i.setTimeSpan(a,s),i.scrollToDate(n,r)):void 0}return i.timeAxisSubGrid.scrollable.scrollIntoView(t,r)}},{key:"scrollHorizontallyTo",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.timeAxisSubGrid.scrollable.scrollTo(e,null,t)}},{key:"scrollVerticallyTo",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.scrollable.scrollTo(null,e,t)}},{key:"scrollTo",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.timeAxisSubGrid.scrollable.scrollTo(e,null,t)}},{key:"scrollLeft",set:function(e){this.timeAxisSubGrid.scrollable.x=e},get:function(){return this.timeAxisSubGrid.scrollable.x}},{key:"scrollTop",set:function(e){this.scrollable.y=e},get:function(){return this.scrollable.y}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Sm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"normalizePreset",value:function(e){var t=e,n=this.presets;if(!(e instanceof jv)){if("object"===oe()(e)){if(e.base){var r=n.getById(e.base)||zv.getById(e.base);if(!r)throw new Error("ViewPreset base '".concat(e.base,"' does not exist"));e=It.merge(It.clone(r.data),zv.createRecord(e).data)}e.id?e=n.createRecord(e):(e=n.createRecord(It.assign({},e))).id=e.generateId(n)}else e="number"==typeof e?n.getAt(e):n.getById(e)||zv.getById(e);if(!e)throw new Error("Invalid ViewPreset requested: ".concat(t))}return n.add(e)[0]}},{key:"setViewPreset",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=this,a=o.isHorizontal,s=o._timeAxis,u={startDate:t,endDate:n,from:o.viewPreset};if(e=u.to=u.preset=o.normalizePreset(e),Object.keys(i).length||!o._viewPreset||o._viewPreset!==e&&!o._viewPreset.equals(e)){r=r||o.isConfiguring;var c=i.centerDate;if(r||!1!==o.trigger("beforePresetChange",u)&&!1!==o.trigger("beforeZoomChange",u)){if(o._viewPreset=e,o._viewPresetChanging=!0,o.displayDateFormat=o.config.displayDateFormat||e.displayDateFormat,s){if(o.suspendRefresh(),!r||!s.isConfigured){var l={weekStartDay:o.weekStartDay,startTime:o.startTime,endTime:o.endTime};r?(0===s.count||t)&&(l.startDate=t||new Date,l.endDate=n):t?(l.startDate=t,l.endDate=n,!c&&n&&(c=new Date((t.getTime()+n.getTime())/2))):(l.startDate=s.startDate,l.endDate=n||s.endDate,c||(c=o.viewportCenterDate)),s.isConfigured=!1,s.viewPreset=e,s.reconfigure(l,!0),o.timeAxisViewModel.reconfigure({viewPreset:o.viewPreset,headers:e.headers,columnLinesFor:null!=e.columnLinesFor?e.columnLinesFor:e.headers.length-1,rowHeightHorizontal:o.readRowHeightFromPreset?e.rowHeight:o.rowHeight,tickSize:a?e.tickWidth:e.tickHeight||e.tickWidth||60}),o.resumeRefresh()}if(o.refresh(),!i.notScroll&&o.isPainted)if(c){o.cachedCenterDate=c,u.centerDate=c;var f=null;f=Math.max(Math.floor(o.getCoordinateFromDate(c,!0)-o.timeAxisSubGrid.width/2),0),o.viewPresetActiveScroll={left:f},o.scrollingToCenter=!0,o.scrollHorizontallyTo(f,!1),o.setTimeout(function(){o.scrollingToCenter=!1},100)}else o.scrollHorizontallyTo(0,!1)}o.trigger("presetChange",u),o.trigger("zoomChange",u)}o._viewPresetChanging=!1}}},{key:"presets",set:function(e){!0===e&&(e=zv.allRecords),this._presets=new Nv({data:e})},get:function(){return this._presets}},{key:"viewPreset",get:function(){return this._viewPreset},set:function(e){e instanceof jv||!e.name||e.base||(H.deprecate("Scheduler","4.0.0","ViewPreset name config replaced by base config. See https://www.bryntum.com/docs/scheduler/#guides/upgrades/3.0.md"),e.base=e.name),this._viewPreset&&this._viewPreset.equals(e)||this.setViewPreset(e)}},{key:"widgetClass",get:function(){}}],[{key:"defaultConfig",get:function(){return{viewPreset:"weekAndDayLetter",displayDateFormat:null,presets:!0}}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Dm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;ce()(Q()(n.prototype),"construct",this).call(this,e),t.zoomOnMouseWheel&&ur.on({element:t.timeAxisSubGridElement,wheel:"onWheel",thisObj:t,capture:!0,passive:!1}),t.zoomOnTimeAxisDoubleClick&&t.on("timeaxisheaderdblclick",function(e){var n=e.startDate,r=e.endDate;t.isVertical||t.zoomToSpan({startDate:n,endDate:r})})}},{key:"getMilliSecondsPerPixelForZoomLevel",value:function(e,t){var n=e.bottomHeader,r=this.isHorizontal?e.tickWidth:e.tickHeight;return Math.round((xt.add(new Date(1,0,1),n.increment||1,n.unit)-new Date(1,0,1))/(t?r:e.actualWidth||r))}},{key:"zoomTo",value:function(e){"object"===oe()(e)?e.preset?this.zoomToLevel(e.preset,e):null!=e.level?this.zoomToLevel(e.level,e):this.zoomToSpan(e):this.zoomToLevel(e)}},{key:"zoomToLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"number"==typeof e&&(e=Math.min(Math.max(e,this.minZoomLevel),this.maxZoomLevel));var n=this,r=n.config,i=n.isVertical?"tickHeight":"tickWidth",o=n.normalizePreset(e),a=o[i],s=t.startDate?new Date(t.startDate):null,u=t.endDate?new Date(t.endDate):null,c=s&&u?{startDate:s,endDate:u}:null,l=t.centerDate||(c?new Date((s.getTime()+u.getTime())/2):n.viewportCenterDateCached),f=n.timeAxisSubGrid.width;if(0===f)return null;c||(c=r.startDate&&r.endDate&&r.viewPreset&&o.equals(n.normalizePreset(r.viewPreset))?{startDate:r.startDate,endDate:r.endDate}:n.calculateOptimalDateRange(l,f,o)),"width"in t&&o.setData(i,t.width),n.isZooming=!0,n.setViewPreset(o,c.startDate||n.startDate,c.endDate||n.endDate,!1,{centerDate:l}),o.actualWidth=n.timeAxisViewModel.tickSize,n.isZooming=!1,o.setData(i,a)}},{key:"zoomToFit",value:function(e){var t=this.eventStore.getTotalTimeSpan();(e=Object.assign({leftMargin:0,rightMargin:0},e,t)).startDate&&e.endDate&&this.zoomToSpan(e)}},{key:"zoomToSpan",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((e.leftMargin||e.rightMargin)&&(e.adjustStart=0,e.adjustEnd=0),e.leftMargin||(e.leftMargin=0),e.rightMargin||(e.rightMargin=0),!e.startDate||!e.endDate)throw new Error("zoomToSpan: must provide startDate + endDate dates");var t=this,n=e.adjustStart>=0||e.adjustEnd>=0,r=e.startDate,i=e.endDate;if(n&&(r=xt.add(r,-e.adjustStart,t.timeAxis.mainUnit),i=xt.add(i,e.adjustEnd,t.timeAxis.mainUnit)),r<=i){var o,a,s=t.timeAxisViewModel.availableSpace,u=t.presets.allRecords,c=i-r||1,l=Math.floor(t.zoomLevel);-1===l&&(l=0);for(var f,d=t.getMilliSecondsPerPixelForZoomLevel(u[l],!0),h=l+(o=c/d+e.leftMargin+e.rightMargin>s?-1:1),p=null;h>=0&&h<=u.length-1;){f=u[h];var v=c/(d=t.getMilliSecondsPerPixelForZoomLevel(f,!0))+e.leftMargin+e.rightMargin;if(-1===o){if(v<=s){p=h;break}}else{if(!(v<=s))break;l!==h-o&&(p=h)}h+=o}var g=(f=u[p=null!=p?p:h-o]).bottomHeader.unit;(e.leftMargin||e.rightMargin)&&(r=new Date(r.getTime()-d*e.leftMargin),i=new Date(i.getTime()+d*e.rightMargin));var y=xt.getDurationInUnit(r,i,g,!0)/f.bottomHeader.increment;if(0===y)return null;var m=Math.floor(s/y),k=e.centerDate||new Date((r.getTime()+i.getTime())/2);return a=n?{startDate:r,endDate:i}:t.calculateOptimalDateRange(k,s,f),t.zoomToLevel(p,Object.assign(a,{width:m,centerDate:k}))}return null}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.zoomLevel;return t>=this.presets.count-1?null:this.zoomToLevel(Math.floor(t)+e)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.zoomLevel;return t<=0?null:this.zoomToLevel(Math.ceil(t)-e)}},{key:"zoomInFull",value:function(){return this.zoomToLevel(this.maxZoomLevel)}},{key:"zoomOutFull",value:function(){return this.zoomToLevel(this.minZoomLevel)}},{key:"calculateOptimalDateRange",value:function(e,t,n,r){if(r)return r;var i=this.timeAxis,o=n.bottomHeader,a=this.isHorizontal?n.tickWidth:n.tickHeight;if(this.zoomKeepsOriginalTimespan)return{startDate:i.startDate,endDate:i.endDate};var s=o.unit,u=Math.ceil(t/a*o.increment*this.visibleZoomFactor/2),c=xt.add(e,-u,s),l=xt.add(e,u,s);return{startDate:i.floorDate(c,!1,s,o.increment),endDate:i.ceilDate(l,!1,s,o.increment)}}},{key:"onWheel",value:function(e){var t=this;e.ctrlKey&&(e.preventDefault(),t.preventScrollZoom||(e.deltaY>0?t.zoomOut():e.deltaY<0&&t.zoomIn(),t.preventScrollZoom=!0,t.setTimeout(function(){return t.preventScrollZoom=!1},30)))}},{key:"setTimeSpan",value:function(e,t){this.timeAxis.setTimeSpan(e,t)}},{key:"shift",value:function(e,t){this.timeAxis.shift(e,t)}},{key:"shiftNext",value:function(e){this.timeAxis.shiftNext(e)}},{key:"shiftPrevious",value:function(e){this.timeAxis.shiftPrevious(e)}},{key:"maxZoomLevel",get:function(){return this._maxZoomLevel||this.presets.count-1},set:function(e){if("number"!=typeof e&&(e=this.presets.count-1),e<0||e>=this.presets.count)throw new Error("Invalid range for `setMinZoomLevel`");this._maxZoomLevel=e}},{key:"minZoomLevel",get:function(){return this._minZoomLevel||0},set:function(e){if("number"!=typeof e&&(e=0),e<0||e>=this.presets.count)throw new Error("Invalid range for `minZoomLevel`");this._minZoomLevel=e}},{key:"zoomLevel",get:function(){return this.presets.indexOf(this.viewPreset)},set:function(e){this.zoomToLevel(e)}},{key:"widgetClass",get:function(){}}],[{key:"defaultConfig",get:function(){return{zoomOnMouseWheel:!0,zoomOnTimeAxisDoubleClick:!0,preventScrollZoom:null,minZoomLevel:null,maxZoomLevel:null,visibleZoomFactor:5,zoomKeepsOriginalTimespan:null}}}]),n}(e||U)}));H.setVersion("scheduler","3.1.8"),Mm._$name="TimelineBase";var Pm=Le.mergeLocales(yp,{ResourceInfoColumn:{eventCountText:function(e){return e+" event"+(1!==e?"s":"")}},Dependencies:{from:"From",to:"To",valid:"Valid",invalid:"Invalid",Checking:"Checkingâ€¦"},DependencyEdit:{From:"From",To:"To",Type:"Type",Lag:"Lag","Edit dependency":"Edit dependency",Save:"Save",Delete:"Delete",Cancel:"Cancel",StartToStart:"Start to Start",StartToEnd:"Start to End",EndToStart:"End to Start",EndToEnd:"End to End"},EventEdit:{Name:"Name",Resource:"Resource",Start:"Start",End:"End",Save:"Save",Delete:"Delete",Cancel:"Cancel","Edit Event":"Edit event",Repeat:"Repeat"},EventDrag:{eventOverlapsExisting:"Event overlaps existing event for this resource",noDropOutsideTimeline:"Event may not be dropped completely outside the timeline"},Scheduler:{"Add event":"Add event","Delete event":"Delete event","Unassign event":"Unassign event"},HeaderContextMenu:{pickZoomLevel:"Zoom",activeDateRange:"Date range",startText:"Start date",endText:"End date",todayText:"Today"},EventFilter:{filterEvents:"Filter tasks",byName:"By name"},TimeRanges:{showCurrentTimeLine:"Show current timeline"},PresetManager:{secondAndMinute:{displayDateFormat:"ll LTS"},minuteAndHour:{topDateFormat:"ddd MM/DD, hA"},hourAndDay:{topDateFormat:"ddd MM/DD"},weekAndDay:{displayDateFormat:"hh:mm A"}},RecurrenceConfirmationPopup:{"delete-title":"You are deleting an event","delete-all-message":"Do you want to delete all occurrences of this event?","delete-further-message":"Do you want to delete this and all future occurrences of this event, or only the selected occurrence?","delete-further-btn-text":"Delete All Future Events","delete-only-this-btn-text":"Delete Only This Event","update-title":"You are changing a repeating event","update-all-message":"Do you want to change all occurrences of this event?","update-further-message":"Do you want to change only this occurrence of the event, or this and all future occurrences?","update-further-btn-text":"All Future Events","update-only-this-btn-text":"Only This Event",Yes:"Yes",Cancel:"Cancel",width:600},RecurrenceLegend:{" and ":" and ",Daily:"Daily","Weekly on {1}":function(e){var t=e.days;return"Weekly on ".concat(t)},"Monthly on {1}":function(e){var t=e.days;return"Monthly on ".concat(t)},"Yearly on {1} of {2}":function(e){var t=e.days,n=e.months;return"Yearly on ".concat(t," of ").concat(n)},"Every {0} days":function(e){var t=e.interval;return"Every ".concat(t," days")},"Every {0} weeks on {1}":function(e){var t=e.interval,n=e.days;return"Every ".concat(t," weeks on ").concat(n)},"Every {0} months on {1}":function(e){var t=e.interval,n=e.days;return"Every ".concat(t," months on ").concat(n)},"Every {0} years on {1} of {2}":function(e){var t=e.interval,n=e.days,r=e.months;return"Every ".concat(t," years on ").concat(n," of ").concat(r)},position1:"the first",position2:"the second",position3:"the third",position4:"the fourth",position5:"the fifth","position-1":"the last",day:"day",weekday:"weekday","weekend day":"weekend day",daysFormat:function(e){var t=e.position,n=e.days;return"".concat(t," ").concat(n)}},RecurrenceEditor:{"Repeat event":"Repeat event",Cancel:"Cancel",Save:"Save",Frequency:"Frequency",Every:"Every",DAILYintervalUnit:"day(s)",WEEKLYintervalUnit:"week(s) on:",MONTHLYintervalUnit:"month(s)",YEARLYintervalUnit:"year(s) in:",Each:"Each","On the":"On the","End repeat":"End repeat","time(s)":"time(s)"},RecurrenceDaysCombo:{day:"day",weekday:"weekday","weekend day":"weekend day"},RecurrencePositionsCombo:{position1:"first",position2:"second",position3:"third",position4:"fourth",position5:"fifth","position-1":"last"},RecurrenceStopConditionCombo:{Never:"Never",After:"After","On date":"On date"},RecurrenceFrequencyCombo:{Daily:"Daily",Weekly:"Weekly",Monthly:"Monthly",Yearly:"Yearly"},RecurrenceCombo:{None:"None",Custom:"Custom..."},Summary:{"Summary for":function(e){return"Summary for ".concat(e)}},ScheduleRangeCombo:{completeview:"Complete schedule",currentview:"Visible schedule",daterange:"Date range",completedata:"Complete schedule (for all events)"},SchedulerExportDialog:{"Schedule range":"Schedule range","Export from":"From","Export to":"To"},ExcelExporter:{"No resource assigned":"No resource assigned"},CrudManagerView:{serverResponseLabel:"Server response:"}}),Am=Pm;function Im(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}_e.registerLocale("En",{desc:"English",locale:Pm});function Fm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function Lm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function Om(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var _m=function(e){X()(n,e);var t=Om(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"clearCache",value:function(e){e?delete this.nbrOfBandsByResource[e.id]:this.nbrOfBandsByResource={}}},{key:"getNumberOfBands",value:function(e,t){var n=this.nbrOfBandsByResource;if(n.hasOwnProperty(e.id))return n[e.id];var r=("function"==typeof t?t():t).map(function(e){return{start:e.startDate,end:e.endDate,event:e}});return this.applyLayout(r,e)}},{key:"applyLayout",value:function(e,t){var n=e.slice(),r=this.layoutEventsInBands(n);return this.nbrOfBandsByResource[t.id]=r}}],[{key:"defaultConfig",get:function(){return{nbrOfBandsByResource:{},bandIndexToPxConvertFn:null,bandIndexToPxConvertThisObj:null}}}]),n}(U);function jm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}_m._$name="HorizontalLayout";var Hm=function(e){X()(n,e);var t=jm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"layoutEventsInBands",value:function(e){var t=0;do{for(var n=0,r=e[0];r;)r.top=this.bandIndexToPxConvertFn.call(this.bandIndexToPxConvertThisObj||this,t,r.event),e.splice(n,1),r=e[n=this.findClosestSuccessor(r,e)];t++}while(e.length>0);return t}},{key:"findClosestSuccessor",value:function(e,t){for(var n,r,i,o=1/0,a=e.endMs,s=0===e.event.duration,u=0,c=t.length;u<c;u++)(r=(i=t[u]).startMs-a)>=0&&r<o&&(r>0||i.endMs-i.startMs>0||!s)&&(n=u,o=r);return n}}]),n}(_m);function Nm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Hm._$name="HorizontalLayoutStack";var Bm=function(e){return function(e){X()(n,e);var t=Nm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"applyLayout",value:function(e,t){for(var n,r,i,o,a=this,s=a.coordProp,u=a.sizeProp,c=0,l=e.length;c<l;c++){if(r=e[c],n=a.findStartSlot(e,r),(i=a.getCluster(e,c)).length>1){for(r[s]=n.start,r[u]=n.end-n.start,o=1;o<i.length-1&&i[o+1].start-r.start==0;)o++;var f=a.findStartSlot(e,i[o]);f&&f.start<.8&&(i.length=o)}var d=i.length,h=(n.end-n.start)/d;for(o=0;o<d;o++)t(i[o],o,n,h);c+=d-1}}},{key:"findStartSlot",value:function(e,t){var n,r=this.sizeProp,i=this.coordProp,o=this.getPriorOverlappingEvents(e,t);if(0===o.length)return{start:0,end:1};for(n=0;n<o.length;n++){if(0===n&&o[0][i]>0)return{start:0,end:o[0][i]};if(o[n][i]+o[n][r]<(n<o.length-1?o[n+1][i]:1))return{start:o[n][i]+o[n][r],end:n<o.length-1?o[n+1][i]:1}}return!1}},{key:"getPriorOverlappingEvents",value:function(e,t){for(var n=t.start,r=t.end,i=[],o=0,a=e.indexOf(t);o<a;o++)xt.intersectSpans(n,r,e[o].start,e[o].end)&&i.push(e[o]);return i.sort(this.sortOverlappers.bind(this)),i}},{key:"sortOverlappers",value:function(e,t){return e[this.coordProp]<t[this.coordProp]?-1:1}},{key:"getCluster",value:function(e,t){var n=e[t];if(t>=e.length-1)return[n];for(var r=[n],i=e.length,o=n.start,a=n.end,s=t+1;s<i&&xt.intersectSpans(o,a,e[s].start,e[s].end);)r.push(e[s]),o=xt.max(o,e[s].start),a=xt.min(e[s].end,a),s++;return r}}],[{key:"defaultConfig",get:function(){return{coordProp:"top",sizeProp:"height"}}}]),n}(e||U)};function zm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Vm=function(e){X()(n,e);var t=zm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"applyLayout",value:function(e){var t=this;ce()(Q()(n.prototype),"applyLayout",this).call(this,e,function(e,t,n,r){e.height=r,e.top=n.start+t*r}),e.forEach(function(e){Object.assign(e,t.bandIndexToPxConvertFn.call(t.bandIndexToPxConvertThisObj||t,e.top,e.height,null,e.event))})}}]),n}(Bm(_m));function Wm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Vm._$name="HorizontalLayoutPack";var $m=/-/g,Gm=/dashed|colored|line/;function Ym(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Um=Math.MAX_SAFE_INTEGER||Math.pow(2,53)-1,qm={add:1,update:1,remove:1,filter:1};function Xm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Km=new Promise(function(e){return e()}),Zm={block:"nearest",edgeOffset:20},Jm={highlight:!1,focus:!1};function Qm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function ek(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var tk=["eventLayout","barMargin","mode","eventColor","eventStyle","fillTicks"];function nk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function rk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ik=function(e,t){return e.startDate-t.startDate},ok=function(e){return e.preventDefault()},ak=function(e){return function(e){X()(n,e);var t=rk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;t.isInTimeAxis=t.isInTimeAxis.bind(t),ce()(Q()(n.prototype),"construct",this).call(this,e);var r=t.onDeleteKey=t.throttle(t.onDeleteKey,t.onDeleteKeyBuffer,t),i=It.merge({ownerCmp:t,target:t.timeAxisSubGridElement,processEvent:t.processEvent,itemSelector:".".concat(t.eventCls,"-wrap"),focusCls:t.focusCls,navigatePrevious:t.throttle(t.navigatePrevious,t.navigatePreviousBuffer,t,null,ok),navigateNext:t.throttle(t.navigateNext,t.navigateNextBuffer,t,null,ok),allowCtrlKey:!0,scrollSilently:!0,keys:{Space:"onEventSpaceKey",Enter:"onEventEnterKey",Delete:r,Backspace:r}},t.navigator);t.navigator=new ja(i)}},{key:"doDestroy",value:function(){this.navigator.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"isInTimeAxis",value:function(e){return!e.instanceMeta(this).excluded&&this.timeAxis.isTimeSpanInAxis(e)}},{key:"accessibleFocusCell",value:function(e,t){if((e=this.normalizeCellContext(e)).columnId!==this.timeAxisColumn.id)return ce()(Q()(n.prototype),"focusCell",this).call(this,e,t)}},{key:"getPrevious",value:function(e,t){var n=this,r=n.resourceStore,i=e.isAssignment;if(e.isTask)return n.eventStore.getAt(n.eventStore.indexOf(e)-1);var o=e.resource||n.eventStore.getResourcesForEvent(e)[0],a=o.getEvents().filter(n.isInTimeAxis).sort(ik),s=i?e.event:e,u=a[a.indexOf(s)-1];if(!u)for(var c=r.indexOf(o)-1;(!u||t&&u===s)&&c>=0;c--){var l=(o=r.getAt(c)).getEvents().filter(n.isInTimeAxis).sort(ik);u=l.length&&l[l.length-1]}return i?n.assignmentStore.getAssignmentForEventAndResource(u,o):u}},{key:"navigatePrevious",value:function(e){var t=this.getPrevious(e.assignmentRecord||e.eventRecord);e.preventDefault(),t&&(e.ctrlKey||this.clearEventSelection(),this.navigateTo(t,e))}},{key:"getNext",value:function(e,t){var n=this,r=n.resourceStore,i=e.isAssignment;if(e.isTask)return n.eventStore.getAt(n.eventStore.indexOf(e)+1);var o=i?e.resource:e.resources[0],a=o.getEvents().filter(n.isInTimeAxis).sort(ik),s=i?e.event:e,u=a[a.indexOf(s)+1];if(!u)for(var c=r.indexOf(o)+1;(!u||t&&u===s)&&c<r.count;c++)u=(o=r.getAt(c)).getEvents().filter(n.isInTimeAxis).sort(ik)[0];return i?n.assignmentStore.getAssignmentForEventAndResource(u,o):u}},{key:"navigateNext",value:function(e){var t=this.getNext(e.assignmentRecord||e.eventRecord);e.preventDefault(),t&&(e.ctrlKey||this.clearEventSelection(),this.navigateTo(t,e))}},{key:"navigateTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;if(e){n.navigator.disabled=!0;var r=e.resource;n.scrollResourceEventIntoView(r,e.isAssignment?e.event:e,null,{animate:100}).then(function(){n.isDestroyed||(n.navigator.disabled=!1,n.activeEvent=e,n.navigator.trigger("navigate",{event:t,item:yn.up(n.getElementFromEventRecord(e,r),n.navigator.itemSelector)}))})}}},{key:"processEvent",value:function(e){var t=this,n=yn.up(e.target,t.eventSelector);return!t.navigator.disabled&&n&&(e.assignmentRecord=t.resolveAssignmentRecord(n),e.eventRecord=t.resolveEventRecord(n),e.resourceRecord=t.resolveResourceRecord(n)),e}},{key:"onDeleteKey",value:function(e){var t=e.assignmentRecord||e.eventRecord;!this.readOnly&&this.enableDeleteKey&&t&&this.removeRecords([t])}},{key:"removeRecords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.readOnly&&e.length){var n={finalize:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&t(n),!1!==n&&e.forEach(function(e){return e.remove()})}};if(!1!==this.trigger("beforeEventDelete",{eventRecords:e,context:n}))return n.finalize(),!0}return!1}},{key:"onEventSpaceKey",value:function(e){}},{key:"onEventEnterKey",value:function(e){}},{key:"activeEvent",set:function(e){var t=this.getElementFromEventRecord(e.isAssignment?e.event:e,e.resource);this.navigator.activeItem=t.parentNode},get:function(){var e=this.navigator.activeItem;if(e)return this.resolveEventRecord(e)}},{key:"previousActiveEvent",get:function(){var e=this.navigator.previousActiveItem;if(e)return this.resolveEventRecord(e)}},{key:"isActionableLocation",get:function(){if(!this.navigator.activeItem)return ce()(Q()(n.prototype),"isActionableLocation",this)}},{key:"widgetClass",get:function(){}}],[{key:"defaultConfig",get:function(){return{navigator:null,focusCls:"b-active",enableDeleteKey:!0,onDeleteKeyBuffer:500,navigatePreviousBuffer:200,navigateNextBuffer:200,testConfig:{onDeleteKeyBuffer:1}}}}]),n}(yr(e||U))};function sk(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return uk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uk(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function uk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ck(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var lk={},fk=document.createRange();function dk(e){return!(e.classList.contains("b-dragging")||e.classList.contains("b-resizing"))}var hk=function(e){X()(n,e);var t=ck(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;t.view=e,t.innerElCls="".concat(e.eventCls),t.availableDivs=new Ri,t.reservedIds={},t.divCount=0}},{key:"init",value:function(){var e=this;e.view.rowManager.on({beforetranslaterow:e.onBeforeTranslateRow,translaterow:e.onTranslateRow,beforerowheight:e.onBeforeRowHeightChange,thisObj:e}),e.view.on({beforetogglenode:e.onBeforeToggleNode,beforetoggleallnodes:e.onBeforeToggleAllNodes,thisObj:e})}},{key:"translateToPageCoordinate",value:function(e){var t=this.column.subGridElement;return e+t.getBoundingClientRect().left-t.scrollLeft}},{key:"refreshRows",value:function(e){e&&(this.cache.clear(this.refreshFromRerender),this.view.refreshFromRerender=!1)}},{key:"onDragAbort",value:function(e){this.view.currentOrientation.availableDivs.includes(e.element)&&e.element.classList.add("b-sch-released")}},{key:"onLocaleChange",value:function(){this.cache.clear()}},{key:"calculateMS",value:function(e){throw new Error("Implement in subclass")}},{key:"getTimeSpanRenderData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.timeAxis,o=!0===n||n.timeAxis,a=!0===n||n.viewport;if(o||i.isTimeSpanInAxis(e)){var s=r.view,u=s.getRowById(t);if(u||a){var c=s.scrollable.y,l=Math.max(c-50,0),f=Math.min(c+s._bodyRectangle.height+50,s.virtualScrollHeight);if(a||u.top<f&&u.top+(u.height||u.lastHeight)>=l){var d,h,p=r.timeAxisViewModel.getSingleUnitInPixels("minute"),v=e.startDate,g=e.endDate||v,y=i.startMS,m=i.endMS,k=r.calculateMS(e),b=k.startMS,w=k.endMS,S=k.durationMS,D=b<y|(b>m)<<1,R=w>m|(w<=y)<<1,C=S/6e4,x=R?p*C:null,E=s.getCoordinateFromDate(w,{local:!0,respectExclusion:!0,isEnd:!0}),T=!1,M=!1;if(D?h=(b-y)/6e4*p:T=-1===(h=s.getCoordinateFromDate(b,{local:!0,respectExclusion:!0,isEnd:!1,snapToNextIncluded:-1!==E})),R?E=h+x:M=-1===E,M&&!T&&(E=s.getCoordinateFromDate(w,{local:!0,respectExclusion:!0,isEnd:!0,snapToNextIncluded:!0})),x>9999999&&(1===D?1===R?(h=-100,E=s.timeAxisColumn.width+100):h=E-9999999:1===R&&(E=h+9999999)),T&&M&&(h=s.getCoordinateFromDate(b,{local:!0,respectExclusion:!0,isEnd:!1,snapToNextIncluded:!0,max:w}))===(E=s.getCoordinateFromDate(w,{local:!0,respectExclusion:!0,isEnd:!0,snapToNextIncluded:!0,min:b})))return e.instanceMeta(s).excluded=!0,null;var P=(d={},se()(d,r.view.scheduledEventName,e),se()(d,"left",Math.min(h,E)),se()(d,"width",Math.abs(E-h)),se()(d,"start",v),se()(d,"end",g),se()(d,"startMs",b),se()(d,"endMs",w),se()(d,"rowId",t.id),se()(d,"startsOutsideView",D),se()(d,"endsOutsideView",R),se()(d,"clippedStart",T),se()(d,"clippedEnd",M),se()(d,"row",u),d);return r.view.fillTicks&&(P.dataStartMs=P.start.getTime(),P.dataEndMs=P.end.getTime()),P.top=Math.max(0,s.resourceMargin),s.managedEventSizing&&(P.height=Math.max(s.rowManager.rowHeight-2*s.resourceMargin,1)),P}}}}},{key:"onTranslateRow",value:function(e){e.source}},{key:"onBeforeRowHeightChange",value:function(e){var t=this.view,n=e?e.height:t.rowHeight;this.cache.clear(),t.foregroundCanvas&&(t.element.classList.add("b-notransition"),t.foregroundCanvas.style.fontSize="".concat(n-2*t.resourceMargin,"px"),this._thisIsAUsedExpression(window.getComputedStyle(t.foregroundCanvas).fontSize),t.element.classList.remove("b-notransition")),t.milestoneWidth=null}},{key:"onBeforeTranslateRow",value:function(e){var t=e.row;this.cache.clearRow(t.id)}},{key:"onViewportResize",value:function(){this.lastUpdateScrollPos=null,this.update()}},{key:"positionTimeSpan",value:function(e,t,n){switch(this.view.eventPositionMode||"translate"){case"position":return e.style.left="".concat(t,"px"),void(e.style.top="".concat(n,"px"));case"translate":return void(e.style.transform="translate(".concat(t,"px,").concat(n,"px)"));case"translate3d":e.style.transform="translate3d(".concat(t,"px,").concat(n,"px,0)")}}},{key:"getTimeSpanDiv",value:function(e){var t,n=this.availableDivs,r=e.id,i=e.oldId;return"move"===this.view.eventScrollMode?(r&&(t=n.get(r)||n.get(i)),t&&!dk(t)&&(t=null),t||(t=n.find(dk)),t&&(n.remove(t),t.classList.remove("b-sch-released")),t):null}},{key:"releaseTimeSpanDiv",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this,r=e.style;t||e!==document.activeElement||n.view.focusElement.focus(),"move"===n.view.eventScrollMode?(n.availableDivs.add(e),!t&&dk(e)&&e.classList.add("b-sch-released")):t||(r.opacity=0,r.pointerEvents="none",n.setTimeout(function(){e.remove(),r.opacity=1,r.pointerEvents=""},200))}},{key:"updateElementId",value:function(e,t){var n=this.availableDivs;n.includes(e)&&(n.changeId(e,t),n.items.delete(e),n.items.add(e))}},{key:"triggerPaint",value:function(e,t){throw new Error("Implement in subclass")}},{key:"addTemporaryDragElement",value:function(e){var t=this.scheduler,n=t.generateTplData(e,e.resource,{timeAxis:!0,viewport:!0});n.top=n.row?n.top+n.row.top:t.getResourceEventBox(e,e.resource,!0).top;var r=this.renderTimeSpan(n,{},null,!0);return this.scheduler.currentOrientation.availableDivs.add(r),r}},{key:"renderTimeSpan",value:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this,a=o.view,s=e.cls,u=e.id,c=t&&t.div,l=!1,f=!1,d=!1;i||c||!(c=o.getTimeSpanDiv(e))||(l=c.id!==u);var h=c&&c.classList.contains("b-sch-dragcreator-proxy");if(!c||l){if(l)(r=c.innerElement||c.firstElementChild).innerHTML="",r.style.cssText="",r.nextSibling&&(fk.setStartAfter(r),fk.setEndAfter(c.lastChild),fk.deleteContents());else{var p=yn.createElement({tabIndex:0,children:[{className:"".concat(o.innerElCls)}]},!0),v=re()(p,2);c=v[0],r=v[1],c.innerElement=r}c.id=u,e[a.scheduledEventName+"Id"]&&(c.dataset[a.scheduledEventName+"Id"]=e[a.scheduledEventName+"Id"]),yn.syncClassList(c,e.wrapperCls),c.parentNode!==a.foregroundCanvas&&a.foregroundCanvas.appendChild(c),yn.syncClassList(r,s),(e.style||e.internalStyle)&&(r.style.cssText=(e.internalStyle||"")+(e.style||"")),e.body&&r.appendChild(e.body.cloneNode(!0)),c.style.cssText="width:".concat(e.width,"px;height:").concat(e.height,"px;").concat(e.wrapperStyle||""),o.positionTimeSpan(c,e.left,e.top),f=!0}else{var g=n&&t.div?n:lk;if(r=c.querySelector(".".concat(o.innerElCls))||c.firstElementChild,yn.syncClassList(c,e.wrapperCls),yn.syncClassList(r,e.cls),e.style?r.style.cssText=e.style:r.style.cssText="",e.body){var y=r.innerHTML,m=r.featureEls;m&&m.forEach(function(t){return e.body.appendChild(t)}),r.innerHTML="",r.appendChild(e.body.cloneNode(!0)),f=r.innerHTML!==y}document.activeElement&&document.activeElement.id===e.id&&c.classList.add(a.focusCls),d=!0,e.wrapperStyle&&(c.style.cssText+=e.wrapperStyle),(g.left!==e.left||g.top!==e.top||e.style)&&(o.positionTimeSpan(c,e.left,e.top),f=!0),(g.width!==e.width||e.style)&&(c.style.width="".concat(e.width,"px"),f=!0),(g.height!==e.height||e.style)&&(c.style.height="".concat(e.height,"px"),f=!0)}return t.div=c,t.eventEl=r,f&&(d&&h&&(d=!1,c.classList.remove("b-sch-dragcreator-proxy")),o.triggerPaint(e,c,d)),c}},{key:"cacheTimeSpanElement",value:function(e,t,n){var r=this.availableDivs,i=this.view,o=i.getEventRenderId(e,t);r.includes(o)||(n?(n.id=o,i.foregroundCanvas.appendChild(n)):n=yn.createElement({id:o,tabIndex:0,children:[{className:"".concat(this.innerElCls)}]}),r.add(n))}},{key:"updateRowTimeSpans",value:function(e,t){}},{key:"renderer",value:function(e){}},{key:"updateFromHorizontalScroll",value:function(e){var t=this,n=t.view,r=n.timeAxisSubGrid.width,i=n.getDateFromX(Math.max(0,e-100)),o=n.getDateFromX(e+r+100)||n.timeAxis.endDate,a=t.view.timeAxisSubGrid.scrollable.x,s=t.lastUpdateScrollPos;t.viewportStart=i&&i.getTime(),t.viewportEnd=o&&o.getTime(),(!s||Math.abs(a-s.x)>50)&&t.update(),n.timeView.range={startDate:i,endDate:o}}},{key:"update",value:function(){var e=this.view;this.lastUpdateScrollPos={x:e.timeAxisSubGrid.scrollable.x,y:e.scrollable.y};var t,n=sk(e.rowManager);try{for(n.s();!(t=n.n()).done;){var r=t.value.getCell(e.timeAxisColumn.id),i=Ns.get(r),o=e.store.getById(i.id);o&&this.updateRowTimeSpans(i.row,o,!1,!0)}}catch(e){n.e(e)}finally{n.f()}}},{key:"getDateFromXY",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e[0];return n||(i=this.translateToScheduleCoordinate(i)),this.timeAxisViewModel.getDateFromPosition(i,t,r)}},{key:"translateToScheduleCoordinate",value:function(e){return e-this.column.subGridElement.getBoundingClientRect().left+this.view.scrollLeft}},{key:"onBeforeToggleNode",value:function(e){var t=e.record;if(t.children&&t.children.length)for(var n=this.view.store.getNext(t);n&&this.view.getRowFor(n);)this.cache.clearRow(n.id),n=this.view.store.getNext(n.id)}},{key:"onBeforeToggleAllNodes",value:function(){this.cache.clear()}},{key:"onRowRecordUpdate",value:function(e){var t=e.record,n=e.changes,r=void 0===n?{}:n;"id"in r&&this.cache.clearRow(r.id.oldValue,!1,!0),this.cache.clearRow(t.id,!1,!0)}},{key:"onRowRecordRemove",value:function(e){var t=this;e.records.forEach(function(e){return e.traverse(function(e){return t.cache.clearRow(e.id)})})}},{key:"getRowRegion",value:function(e,t,n){var r=this.view,i=this.column,o=r.getRowById(e.id);if(!o)return null;var a=o.getElement(i.region),s=this.timeAxis.startDate,u=this.timeAxis.endDate,c=t?xt.max(s,t):s,l=n?xt.min(u,n):u,f=r.getCoordinateFromDate(c),d=r.getCoordinateFromDate(l,!0,!0),h=o.top+r.verticalScroller.scrollTop,p=Math.min(f,d),v=h+a.offsetHeight;return new Wn(p,h,Math.max(f,d)-p,v-h)}},{key:"getVisibleDateRange",value:function(){var e=this.view,t=e.timeAxisSubGrid.scrollable.x,n=e.timeAxisSubGrid.width;return{startDate:e.getDateFromX(t),endDate:e.getDateFromX(t+n)||e.timeAxis.endDate}}},{key:"getConnectorStartSide",value:function(e){}},{key:"getConnectorEndSide",value:function(e){}},{key:"column",get:function(){return this.view.timeAxisColumn}},{key:"timeAxis",get:function(){return this.view.timeAxis}},{key:"timeAxisViewModel",get:function(){return this.view.timeAxisViewModel}}]),n}(yr(U));hk._$name="BaseHorizontalMapper";var pk=function(){function e(t){E()(this,e);this.mapper=t,this.renderedEventsMap={},this.rowLayoutCache={}}return M()(e,[{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;t.renderedEventsMap={},Object.keys(t.rowLayoutCache).forEach(function(n){return t.clearRow(n,!!e&&"immediate")})}},{key:"addRenderedEvents",value:function(e,t){this.renderedEventsMap[e]=t}},{key:"addRenderedEvent",value:function(e){e.resourceId in this.renderedEventsMap&&((this.renderedEventsMap[e.resourceId]||(this.renderedEventsMap[e.resourceId]={}))[e.id]=e)}},{key:"getRenderedTimeSpan",value:function(e,t){var n=this.renderedEventsMap[e];return n&&n[t]}},{key:"clearRenderedTimeSpan",value:function(e,t){if(this.renderedEventsMap[e]){var n=this.renderedEventsMap[e][t];return delete this.renderedEventsMap[e][t],n}}},{key:"getRenderedEvents",value:function(e){return this.renderedEventsMap[e]}},{key:"clearRenderedEvents",value:function(e){this.renderedEventsMap[e]=null}},{key:"getTimeSpan",value:function(e,t){var n=this.getTimeSpanCache(e,t);return n?n.layoutCache:null}},{key:"getTimeSpanCache",value:function(e,t){var n=this.rowLayoutCache[t];return n&&n[e]}},{key:"clearEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this,o=i.getTimeSpan(e,t);if(!o)return null;o.div&&i.mapper.clearDiv(o.div,n,r),i.rowLayoutCache[t][e].layoutCache=null}},{key:"getRow",value:function(e){return this.rowLayoutCache[e]}},{key:"addRow",value:function(e,t){this.rowLayoutCache[e]=t}},{key:"clearRow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.rowLayoutCache[e];i&&(r.renderedEventsMap[e]&&delete r.renderedEventsMap[e],Object.keys(i).forEach(function(i){"_allEvents"!==i&&"_rowHeight"!==i&&r.clearEvent(i,e,t,n)}),delete r.rowLayoutCache[e])}}]),e}();function vk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}pk._$name="HorizontalEventMapperCache";var gk=function(e,t,n,r,i){if(e.fillTicks){var o=t.getTickFromDate(n);if(o>=0){i&&o===Math.round(o)&&o>0&&o--;var a=Math.floor(o);return t.getAt(a)[i?"endDate":"startDate"].getTime()}}return r},yk=function(e,t){return e.startDateMS-t.startDateMS},mk=function(e){X()(n,e);var t=vk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){this.scheduler=e,ce()(Q()(n.prototype),"construct",this).call(this,e),this.cache=new pk(this)}},{key:"init",value:function(){ce()(Q()(n.prototype),"init",this).call(this),this.scheduler.on({togglegroup:this.onToggleGroup,rowremove:this.onRowRemove,prio:2,thisObj:this})}},{key:"clearDiv",value:function(e,t,n){var r=e.style;!t||n?this.releaseTimeSpanDiv(e,n):"immediate"!==t&&this.scheduler.enableEventAnimations?(e.id=De.generateId("obsolete-event"),r.opacity=0,r.pointerEvents="none",this.setTimeout(function(){e.remove(),r.opacity=1,r.pointerEvents=""},200)):e.remove()}},{key:"clearAllDivs",value:function(){this.availableDivs.forEach(function(e){return e.remove()}),this.availableDivs.clear()}},{key:"clearEvents",value:function(){this.cache.clear(!0)}},{key:"releaseEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.cache.getRenderedTimeSpan(e,t),o=i&&r.cache.getTimeSpan(i.eventId,e);return o&&o.div&&(r.releaseTimeSpanDiv(o.div,n),o.div=o.eventEl=null),r.cache.clearRenderedTimeSpan(e,t)}},{key:"getElementFromEventRecord",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scheduler.eventStore.getResourcesForEvent(e)[0];if(t){var n=this.cache.getRenderedEvents(t.id);if(n){var r=this.scheduler.getEventRenderId(e,t),i=n[r],o=i&&i.layoutCache;return o&&o.eventEl}}}},{key:"getElementsFromEventRecord",value:function(e,t){var n=this;return t?[n.getElementFromEventRecord(e,t)]:n.scheduler.eventStore.getResourcesForEvent(e).reduce(function(t,r){var i=n.getElementFromEventRecord(e,r);return i&&t.push(i),t},[])}},{key:"resolveRowRecord",value:function(e){var t=this.view,n=e instanceof Event?e.target:e,r=3===n.nodeType?n.parentElement:n,i=r.matches(t.eventSelector)&&r||yn.up(r,t.eventSelector);return i?t.getResourceRecordFromDomId(i.id):t.getRecordFromElement(r)}},{key:"toggleCls",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t){var i=this.cache.getTimeSpanCache(e.id,t.id),o=this.getElementFromEventRecord(e,t);i&&(i.cls[n]=r?1:0),o&&o.classList[r?"add":"remove"](n)}}},{key:"getResourceEventBox",value:function(e,t){var n=this.cache.getTimeSpan(e,t);if(n)return n}},{key:"getScheduleRegion",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this,o=i.view,a=i.column;if(e){var s=t&&i.getElementsFromEventRecord(t,e)[0];if(n=Wn.from(o.getRowById(e.id).getElement("locked")),s){var u=Wn.from(s,a.subGridElement);n.y=u.y,n.bottom=u.bottom}else n.y=n.y+o.resourceMargin,n.bottom=n.bottom-o.resourceMargin}else(n=Wn.from(a.subGridElement).moveTo(null,0)).width=a.subGridElement.scrollWidth,n.y=n.y+o.resourceMargin,n.bottom=n.bottom-o.resourceMargin;var c=i.timeAxis.startDate,l=i.timeAxis.endDate,f=o.getDateConstraints(e,t)||{start:c,end:l},d=n.y,h=n.bottom,p=o.getCoordinateFromDate(xt.max(c,f.start)),v=o.getCoordinateFromDate(xt.min(l,f.end));return r||(p=i.translateToPageCoordinate(p),v=i.translateToPageCoordinate(v)),{top:d,right:Math.max(p,v),bottom:h,left:Math.min(p,v)}}},{key:"getResoureEventBox",value:function(e,t){return this.cache.getTimeSpan(e,t)}},{key:"layoutEventVerticallyStack",value:function(e){var t=this.scheduler,n=t.resourceMargin,r=t.rowHeight,i=t.barMargin;return 0===e?n:n+e*(r-2*n)+e*i}},{key:"layoutEventVerticallyPack",value:function(e,t){var n=this.scheduler,r=n.resourceMargin,i=n.rowHeight,o=n.barMargin,a=1/t,s=e*a,u=(i-2*r-(a-1)*o)*t;return{top:r+s*u+s*o,height:u}}},{key:"calculateRowHeight",value:function(e){var t=this.scheduler;if("stack"===t.eventLayout&&t.eventStore.count){var n=t.eventStore,r=t.timeAxis,i=t.resourceMargin,o=t.barMargin,a=t.rowHeight-2*i,s=n.getEventsForResource(e).filter(function(e){return n.storage.filterFunction(e)&&r.isTimeSpanInAxis(e)}).sort(yk).map(function(e){return{event:e,startMs:e.startDateMS,endMs:e.endDate?e.endDateMS:e.startDateMS}}),u=t.currentEventLayout.layoutEventsInBands(s);return u*a+(u-1)*o+2*i}return t.rowHeight}},{key:"calculateMS",value:function(e){var t=this.view,n=gk(t,this.timeAxis,e.startDate,e.startDateMS,!1),r=gk(t,this.timeAxis,e.endDate,e.endDateMS,!0),i=r-n;if("default"!==t.milestoneLayoutMode&&0===i){var o=this.timeAxisViewModel.getSingleUnitInPixels("minute");switch(i=60*(t.getMilestoneLabelWidth(e)*(1/o))*1e3,t.milestoneAlign){case"start":case"left":r=n+i;break;case"end":case"right":n=(r=n)-i;break;default:n=(r=n+i/2)-i}}return{startMS:n,endMS:r,durationMS:i}}},{key:"layoutEvents",value:function(e,t,n){var r=this,i=r.timeAxis,o=e.eventStore,a=t.id,s=o.getEventsForResource(a),u=o.isFiltered?s.filter(function(e){return o.indexOf(e)>-1}):s,c=(e.getEventsToRender(t,u)||[]).filter(function(e){return i.isTimeSpanInAxis(e)}).reduce(function(n,i){var o=e.generateTplData(i,t);return o?n.push(o):r.cache.getRenderedEvents(a)&&r.releaseEvent(a,e.getEventRenderId(i,t)),n},[]);if(!c.length)return r.cache.clearRenderedEvents(a),!1;c.sort(e.horizontalEventSorterFn||r.eventSorter);var l=e.rowHeight,f=e.currentEventLayout,d=c.filter(function(e){return e.event.isEvent||e.event.isTask});if("stack"===e.eventLayout){var h=f.applyLayout(d,t),p=e.rowHeight-2*e.resourceMargin;l=h*p+(h-1)*e.barMargin+2*e.resourceMargin}else"pack"===e.eventLayout&&f.applyLayout(d,t);var v=n.top;l!==n.height&&n.estimatedTop&&(v=n.top+n.height-l);var g={_allEvents:c,_rowHeight:l};return c.forEach(function(e){var t=r.cache.getTimeSpan(e.eventId,a),n=e.top;e.top+=v,e.rowTop=v,e.fillSize&&(e.height=l),e.layoutCache={layout:!0,div:t&&t.div,eventEl:t&&t.eventEl,width:e.width,height:e.height,start:e.left,end:e.left+e.width,relativeTop:n,top:e.top,relativeBottom:n+e.height,bottom:e.top+e.height},g[e.eventId]=e}),r.cache.addRow(a,g),!0}},{key:"eventSorter",value:function(e,t){var n=e.dataStartMs||e.startMs,r=e.dataEndMs||e.endMs,i=t.dataStartMs||t.startMs,o=t.dataEndMs||t.endMs;return n===i?r-o==0?e.event.name<t.event.name?-1:1:r>o?-1:1:n<i?-1:1}},{key:"onTranslateRow",value:function(e){var t=e.row;this.matchRowTranslation(t)}},{key:"renderEvent",value:function(e){var t=this,n=t.view.scheduledEventName+"Id",r=e[n],i=t.cache.getTimeSpan(r,e.resourceId),o=t.cache.getRenderedEvents(e.resourceId),a=e.event.instanceMeta(t.scheduler),s=t.renderTimeSpan(e,i,o[e.id],a.requireElement&&!a.fromDragProxy);e.assignment&&(s.dataset.assignmentId=e.assignment.id),r&&(s.dataset[n]=r),o[e.id]=e,a.requireElement&&(delete a.requireElement,delete a.fromDragProxy),t.scheduler.trigger("renderEvent",{eventRecord:e.event,resourceRecord:e.resource,assignmentRecord:e.assignment,element:s,tplData:e})}},{key:"triggerPaint",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.scheduler;r.trigger(n?"eventRepaint":"eventPaint",{scheduler:r,eventRecord:e.event,resourceRecord:e.resource,element:t})}},{key:"isEventInView",value:function(e){return e.startMs===e.endMs?e.startMs<=this.viewportEnd&&e.endMs>this.viewportStart:e.startMs<this.viewportEnd&&e.endMs>this.viewportStart}},{key:"updateRowTimeSpans",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this,o=i.scheduler,a=i.cache,s=t.id,u=a.getRenderedEvents(s),c=a.getRow(s);if((o.forceLayout||n||!c)&&!i.layoutEvents(o,t,e))return c&&c._rowHeight;if(!(c=a.getRow(s)))return null;var l=c._allEvents.filter(function(e){return e.event.instanceMeta(o).retainElement||e.assignment&&e.assignment.instanceMeta(o).retainElement||i.isEventInView(e)});u||(u={},a.addRenderedEvents(s,u));for(var f=0;f<l.length;f++){var d=l[f];if(o._firstRenderDone&&o._firstRenderDone(),!r&&!d.event.instanceMeta(o).retainElement||r&&!d.layoutCache.div){var h=o.isFirstRender&&d.top<o.bodyHeight&&o.useInitialAnimation;h&&(d.wrapperCls.add("b-first-render"),d.internalStyle="animation-delay: ".concat(d.row.index/20,"s;")),i.renderEvent(d),d.wrapperCls["b-first-render"]=null}}for(var p=Object.keys(u),v=function(e){var t=p[e];l.some(function(e){return e.id===t})||i.releaseEvent(s,t)},g=0;g<p.length;g++)v(g);return c._rowHeight}},{key:"renderer",value:function(e){e.size.height=this.updateRowTimeSpans(e.row,e.record)}},{key:"matchRowTranslation",value:function(e){var t=this,n=t.scheduler.store.getAt(e.dataIndex).id,r=t.cache.getRow(n),i=r&&r._allEvents.length>0&&r._allEvents[0];if(i&&i.rowTop!==e.top){var o=e.top-i.rowTop;r._allEvents.forEach(function(n){var r=n.layoutCache;r.top+=o,r.bottom+=o,r.div&&t.positionTimeSpan(r.div,r.start,r.top),n.top+=o,n.rowTop=e.top})}}},{key:"onTimeAxisViewModelUpdate",value:function(){this.cache.clear(),this.updateFromHorizontalScroll(this.scheduler.timeAxisSubGrid.scrollable.x)}},{key:"onRowRemove",value:function(e){var t=this,n=e.isCollapse,r=this.scheduler;n||r.runWithTransition(function(){r.rowManager.forEach(function(e){return t.matchRowTranslation(e)})})}},{key:"onToggleGroup",value:function(e){var t=this,n=e.groupRecord,r=e.collapse,i=this.scheduler.store,o=i.indexOf(n)+(r?1:n.groupChildren.length);for(r&&n.groupChildren.forEach(function(e){t.cache.clearRow(e.id)});o<i.count;o++)this.cache.clearRow(i.getAt(o).id)}},{key:"onEventDataset",value:function(){this.cache.clear(!0),this.scheduler.calculateAllRowHeights()}},{key:"onEventAdd",value:function(e){var t=e.records,n=e.resources,r=this,i=r.scheduler,o=new Set;t.forEach(function(e){var t=e.startDate,a=e.endDate;if(t&&a&&r.timeAxis.timeSpanInAxis(t,a)){var s=e.resources;s&&s.some(function(e){return i.getRowFor(e)})&&(e.instanceMeta(i).requireElement=!0),n.forEach(function(e){r.cache.clearRow(e.id,!1,!0),o.add(e)})}}),i.calculateRowHeights(te()(o))}},{key:"onEventRemove",value:function(e){var t=this,n=e.resources;n.forEach(function(e){return t.cache.clearRow(e.id,!0)}),this.scheduler.calculateRowHeights(n)}},{key:"onEventUpdate",value:function(e){var t=e.source,n=e.record,r=e.changes,i=void 0===r?{}:r,o=e.resources,a=this,s=a.cache,u=a.scheduler,c="resourceId"in i;if(c||o.length){if(c){var l=t.resourceStore.getById(i.resourceId.oldValue),f=n.resource,d=f&&t.resourceStore.isAvailable(f),h=n.resource&&Boolean(a.getTimeSpanRenderData(n,n.resource));if(u.calculateRowHeights([l,f]),l){var p=s.getTimeSpan(n.id,l.id);p&&(d?(p.div&&f&&(p.div.id=u.getEventRenderId(n,f)),s.clearRow(l.id,!1,d)):s.clearEvent(n.id,i.resourceId.oldValue,!0))}else d&&(n.instanceMeta(u).requireElement=!0);d&&s.clearRow(f.id,!1,h)}else("startDate"in i||"endDate"in i)&&u.calculateRowHeights(o);o.forEach(function(e){var t=a.getTimeSpanRenderData(n,e),r=Boolean(t&&a.isEventInView(t));s.clearRow(e.id,!1,r)})}}},{key:"onEventStoreIdChange",value:function(e){var t=e.oldValue,n=e.value,r=this.view;yn.forEachSelector(r.element,'[data-event-id="'.concat(t,'"]'),function(e){e.id=r.getEventRenderId(n,r.getResourceIdFromDomNodeId(e.id))})}},{key:"onEventClearChanges",value:function(){this.cache.clear()}},{key:"onEventFilter",value:function(){this.cache.clear(),this.scheduler.calculateAllRowHeights()}},{key:"onEventRemoveAll",value:function(){this.cache.clear(!0),this.scheduler.calculateAllRowHeights()}},{key:"getConnectorStartSide",value:function(e){return"left"}},{key:"getConnectorEndSide",value:function(e){return"right"}}]),n}(hk);function kk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}mk._$name="HorizontalEventMapper";var bk=function(e){X()(n,e);var t=kk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"applyLayout",value:function(e,t,r,i,o){var a=this;ce()(Q()(n.prototype),"applyLayout",this).call(this,e,function(e,n,o,s){if("none"===a.scheduler.eventLayout)e.width=t-2*r,e.left+=r;else{e.widthFactor=s;var u=e.leftFactor=o.start+n*s,c=Math.round(1/s),l=u/s,f=t-2*r-i*(c-1);"mixed"===a.scheduler.eventLayout&&2===c?(e.left+=u*t/5+i,e.width=t-u*t/5-2*i,e.zIndex=5+l):(e.width=s*f,e.left+=u*f+r+i*l)}})}}],[{key:"defaultConfig",get:function(){return{coordProp:"leftFactor",sizeProp:"widthFactor"}}}]),n}(Bm());function wk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}bk._$name="VerticalLayout";var Sk={releaseElement:1,reuseElement:1},Dk={newElement:1,reuseOwnElement:1,reuseElement:1},Rk=function(e){X()(n,e);var t=wk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){this.scheduler=e,this.timeAxisViewModel=e.timeAxisViewModel,this.verticalLayout=new bk({scheduler:e}),ce()(Q()(n.prototype),"construct",this).call(this,{})}},{key:"init",value:function(){var e=this,t=e.scheduler;e.resourceColumns=t.timeAxisColumn.resourceColumns,t.element.classList.add("b-sch-vertical"),t.on({assignmentstorechange:e.onChangeAssignmentStore,resourcestorechange:e.onChangeResourceStore,thisObj:e}),e.resourceColumns.on({columnWidthChange:e.onResourceColumnWidthChange,thisObj:e}),e.resourceStore=t.resourceStore,e.assignmentStore=t.assignmentStore,e.initialized=!0,t.isPainted&&e.renderer(),e.resourceColumns.availableWidth=t.timeAxisSubGrid.width}},{key:"resolveRowRecord",value:function(e,t){var n=this.scheduler,r=e instanceof Event?e:null,i=r?r.target:e,o=r?[r.offsetX,r.offsetY]:t,a=3===i.nodeType?i.parentElement:i,s=yn.up(a,n.eventSelector);if(s)return n.resourceStore.getById(s.dataset.resourceId);if(!yn.up(i,".b-sch-timeaxis-cell"))return null;if(!o)throw new Error("Vertical mode needs coordinates to resolve this element. Can also be called with a browser \n                event instead of element to extract element and coordinates from");var u=Math.floor(o[0]/this.resourceColumns.columnWidth);return n.resourceStore.getAt(u)}},{key:"getElementFromEventRecord",value:function(e,t){var n=this.getElementsFromEventRecord(e,t);return n.length?n[0]:null}},{key:"getElementsFromEventRecord",value:function(e){var t=this.scheduler.foregroundCanvas.syncIdMap,n=this.scheduler.eventInnerSelector,r=e.assignments||[e],i=[];return r.forEach(function(e){t[e.id]&&i.push(t[e.id].querySelector(n))}),i}},{key:"toggleCls",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=It.getPath(this.eventMap,"".concat(e.id,".").concat(t.id));if(i){i.tplData.cls[n]=r?1:0;var o=this.getElementFromEventRecord(e,t);o&&o.classList[r?"add":"remove"](n)}}},{key:"getDateFromXY",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e[1];return n||(i=this.translateToScheduleCoordinate(i)),this.timeAxisViewModel.getDateFromPosition(i,t,r)}},{key:"translateToScheduleCoordinate",value:function(e){return e-this.scheduler._bodyRectangle.y+this.scheduler.scrollTop}},{key:"translateToPageCoordinate",value:function(e){return e+this.scheduler._bodyRectangle.y-this.scheduler.scrollTop}},{key:"getResourceEventBox",value:function(e,t){var n=(It.getPath(this.eventMap,"".concat(e,".").concat(t))||{}).tplData;return n||(this.layoutResource(this.scheduler.resourceStore.getById(t)),n=It.getPath(this.eventMap,"".concat(e,".").concat(t)).tplData),n?{start:n.left,end:n.left+n.width,top:n.top,bottom:n.bottom}:null}},{key:"getScheduleRegion",value:function(e,t,n){var r=this.scheduler,i=Wn.from(r.timeAxisSubGridElement);e&&(i.left=this.resourceStore.indexOf(e)*r.resourceColumnWidth,i.right=i.left+r.resourceColumnWidth);var o=r.timeAxis.startDate,a=r.timeAxis.endDate,s=r.getDateConstraints(e,t)||{start:o,end:a},u=r.getCoordinateFromDate(xt.max(o,s.start)),c=r.getCoordinateFromDate(xt.min(a,s.end));return n?(i.top=u,i.bottom=c):(i.top=this.translateToPageCoordinate(u),i.bottom=this.translateToPageCoordinate(c)),i}},{key:"getRowRegion",value:function(e,t,n){var r=this.scheduler,i=this.resourceStore.indexOf(e)*r.resourceColumnWidth,o=r.timeAxis.startDate,a=r.timeAxis.endDate,s=t?xt.max(o,t):o,u=n?xt.min(a,n):a,c=r.getCoordinateFromDate(s),l=r.getCoordinateFromDate(u,!0,!0),f=Math.min(c,l),d=Math.abs(c-l);return new Wn(i,f,r.resourceColumnWidth,d)}},{key:"getVisibleDateRange",value:function(){var e=this.scheduler,t=e.scrollable.y,n=e.scrollable.clientHeight;return{startDate:e.getDateFromCoordinate(t),endDate:e.getDateFromCoordinate(t+n)||e.timeAxis.endDate}}},{key:"onResourceColumnWidthChange",value:function(e){var t=e.width,n=e.oldWidth,r=this,i=r.scheduler;r.resourceColumns.width=i.timeAxisColumn.width=r.resourceStore.count*t,r.clearAll(),i.runWithTransition(function(){return r.renderer()},Math.abs(t-n)>30)}},{key:"onEventStoreChange",value:function(e){var t=e.action,n=e.records,r=e.record,i=e.replaced,o=e.changes,a=e.fromRelationUpdate,s=this,u=n||(r?[r]:[]),c=new Set,l=!0;switch(u.forEach(function(e){e.resources.forEach(function(e){return c.add(e.id)})}),t){case"sort":case"group":case"move":return;case"dataset":s.clearAll(),l=!1;break;case"add":case"remove":case"updateMultiple":s.clearResources(c);break;case"replace":i.forEach(function(e){var t=re()(e,2),n=t[0],r=t[1];n.resources.map(function(e){return c.add(e.id)}),r.resources.map(function(e){return c.add(e.id)})}),s.clearResources(c);break;case"removeall":case"filter":s.clearAll();break;case"update":if(r.meta.removingResource)return;var f=!1;if(("startDate"in o||"endDate"in o||"duration"in o||"id"in o)&&(s.clearResources(c),f=!0),"resourceId"in o){if(a)return;c.add(o.resourceId.oldValue),s.clearResources(c),f=!0}if(!f)Object.values(s.eventMap[r.id]).forEach(function(e){var t=e.tplData;e.tplData=s.scheduler.generateTplData(t.eventRecord,t.resourceRecord),e.tplData.left=t.left,e.tplData.width=t.width})}s.scheduler.runWithTransition(function(){return s.renderer()},l)}},{key:"onChangeResourceStore",value:function(e){var t=e.newResourceStore,n=this;n.firstResource=n.lastResource=null,n.clearAll(),n.resourceStore=t,n.renderer()}},{key:"onResourceStoreChange",value:function(e){var t=e.source,n=e.action,r=e.records,i=e.record,o=this,a=r||(i?[i]:[]);switch(o.firstResource=o.lastResource=null,n){case"add":for(var s=a.reduce(function(e,n){return Math.min(e,t.indexOf(n))},t.count);s<t.count;s++)o.clearResources([t.getAt(s).id]);return;case"remove":case"removeall":return void o.clearAll();case"replace":case"update":break;case"filter":o.clearAll()}o.scheduler.runWithTransition(function(){return o.renderer()})}},{key:"onResourceStoreRefresh",value:function(e){var t=e.action,n=this;if("group"===t)throw new Error("Grouping of resources not supported in vertical mode");"sort"===t&&(n.firstResource=n.lastResource=null,n.clearAll(),n.scheduler.runWithTransition(function(){return n.renderer()}))}},{key:"onChangeAssignmentStore",value:function(e){var t=e.newAssignmentStore;this.assignmentStore=t}},{key:"onAssignmentStoreChange",value:function(e){var t=e.action,n=e.records,r=e.replaced,i=e.record,o=e.changes,a=this,s=new Set((n||(i?[i]:[])).map(function(e){return e.resourceId}));switch(t){case"add":case"remove":case"updateMultiple":a.clearResources(s);break;case"filter":case"removeall":a.clearAll();break;case"replace":r.forEach(function(e){var t=re()(e,2),n=t[0],r=t[1];s.add(n.resourceId),s.add(r.resourceId)}),a.clearResources(s);break;case"update":"resourceId"in o&&s.add(o.resourceId.oldValue),a.clearResources(s)}a.scheduler.runWithTransition(function(){return a.renderer()})}},{key:"refreshRows",value:function(e){e&&(this.clearAll(),this.scheduler.refreshFromRerender=!1)}},{key:"updateFromHorizontalScroll",value:function(e){e!==this.prevScrollLeft&&(this.renderer(),this.prevScrollLeft=e)}},{key:"updateFromVerticalScroll",value:function(){this.renderer()}},{key:"scrollResourceIntoView",value:function(e,t){var n=this.scheduler,r=n.resourceStore.indexOf(e)*n.resourceColumnWidth;return n.scrollHorizontallyTo(r,t)}},{key:"onViewportResize",value:function(e){this.resourceColumns.availableWidth=e,this.renderer()}},{key:"onLocaleChange",value:function(){this.clearAll()}},{key:"onDragAbort",value:function(){}},{key:"onBeforeRowHeightChange",value:function(){}},{key:"onTimeAxisViewModelUpdate",value:function(){}},{key:"clearEvents",value:function(){}},{key:"updateElementId",value:function(){}},{key:"releaseTimeSpanDiv",value:function(){}},{key:"getTimeSpanRenderData",value:function(e,t){var n=this,r=n.scheduler,i=e.startDate,o=e.endDate,a=r.getCoordinateFromDate(i),s=n.resourceStore.indexOf(t)*r.resourceColumnWidth,u=r.resourceColumnWidth-2*r.resourceMargin,c=i.getTime(),l=o.getTime(),f=r.getCoordinateFromDate(o),d=f-a;return-1===f&&(f=a+(d=Math.round((l-c)*r.timeAxisViewModel.getSingleUnitInPixels("ms")))),{eventRecord:e,resourceRecord:t,left:s,top:a,bottom:f,width:u,height:d,startDate:i,endDate:o,startDateMS:c,endDateMS:l,start:i,end:o,startMs:c,endMs:l}}},{key:"eventSorter",value:function(e,t){var n=e.dataStartMs||e.startDateMS,r=e.dataEndMs||e.endDateMS,i=t.dataStartMs||t.startDateMS,o=t.dataEndMs||t.endDateMS;return n===i?r-o==0?e.eventRecord.name<t.eventRecord.name?-1:1:r>o?-1:1:n<i?-1:1}},{key:"layoutResource",value:function(e){var t=this,n=t.scheduler,r=t.resourceMap[e.id]={},i=n.resourceStore.indexOf(e),o=n.eventStore.getEventsForResource(e),a=(o=n.getEventsToRender(e,o)).reduce(function(o,a){var s=n.generateTplData(a,e),u={tplData:s};return It.setPath(t.eventMap,"".concat(s.eventId,".").concat(e.id),u),r[s.eventId]=u,s.fillSize?(s.left=i*n.resourceColumnWidth,s.width=n.resourceColumnWidth):o.push(s),o},[]);return a.sort(t.eventSorter),t.verticalLayout.applyLayout(a,n.resourceColumnWidth,n.resourceMargin,n.barMargin,i),r}},{key:"addTemporaryDragElement",value:function(e){var t=this.scheduler,n=t.generateTplData(e,e.resource,{timeAxis:!0,viewport:!0});n.top=n.row?n.top+n.row.top:t.getResourceEventBox(e,e.resource,!0).top;var r=this.renderEvent({tplData:n}),i=r.dataset;delete r.tabIndex,delete i.eventId,delete i.resourceId,delete i.syncId,i.transient=!0,r.parent=this.scheduler.foregroundCanvas,r.retainElement=!0;var o=yn.createElement(r);return o.innerElement=o.firstChild,e.instanceMeta(t).hasTemporaryDragElement=!0,o}},{key:"renderEvent",value:function(e){var t=e.tplData,n=t.resourceRecord,r=t.eventRecord,i={className:t.wrapperCls,tabIndex:"0",children:[{className:t.cls,style:(t.internalStyle||"")+(t.style||""),html:t.body.cloneNode(!0),compareHtml:t.eventContent}],style:{transform:"translate(".concat(t.left,"px, ").concat(t.top,"px)"),height:t.height,width:t.width,zIndex:t.zIndex},dataset:{resourceId:n.id,eventId:t.eventId,syncId:t.assignment?t.assignment.id:t.eventId},elementData:e,retainElement:r.instanceMeta(this.scheduler).retainElement};return t.assignment&&(i.dataset.assignmentId=t.assignment.id),i}},{key:"renderResource",value:function(e){var t=this,n=t.topDateMS,r=t.bottomDateMS,i=[],o=t.resourceMap[e.id];for(var a in o||(o=t.layoutResource(e)),o){var s=o[a],u=s.tplData,c=u.endDateMS,l=u.startDateMS,f=u.eventRecord;c>=n&&l<=r&&!f.instanceMeta(t.scheduler).hasTemporaryDragElement&&i.push(t.renderEvent(s))}return i}},{key:"renderer",value:function(){var e=this,t=e.scheduler,n=t.resourceStore,r=e.resourceRange,i=r.firstResource,o=r.lastResource,a=e.dateRange,s=a.topDate,u=a.bottomDate,c=[],l=[];if(e.initialized){if(xt.isEqual(s,e.topDate)&&xt.isEqual(u,e.bottomDate)||(e.topDate=s,e.bottomDate=u,e.topDateMS=s.getTime(),e.bottomDateMS=u.getTime(),e.timeView.range={startDate:s,endDate:u}),-1!==i&&-1!==o)for(var f=i;f<=o;f++)c.push.apply(c,e.renderResource(n.getAt(f)));t.getForegroundDomConfigs(l),c.push.apply(c,l),Cc.sync({domConfig:{onlyChildren:!0,children:c},targetElement:t.foregroundCanvas,syncIdField:"syncId",callback:function(e){var n=e.action,r=e.domConfig,i=e.lastDomConfig,o=e.targetElement;if(r&&r.className&&r.className[t.eventCls+"-wrap"]){var a=Dk[n];if(Sk[n]&&i&&!i.isReleased){var s=i.elementData.tplData,u={tplData:s,assignmentRecord:s.assignment,eventRecord:s.eventRecord,resourceRecord:s.resourceRecord,targetElement:o};t.trigger("releaseEvent",u)}if(a){var c=r.elementData.tplData,l={tplData:c,assignmentRecord:c.assignment,eventRecord:c.eventRecord,resourceRecord:c.resourceRecord,targetElement:o};o.elementData.element=o,l.reusingElement="reuseElement"===n,t.trigger("renderEvent",l)}"none"===n&&(r.elementData.element=o)}}}),e.firstResource===i&&e.lastResource===o||(e.resourceColumns.range={firstResource:i,lastResource:o},e.firstResource=i,e.lastResource=o)}}},{key:"clearResources",value:function(e){var t=this;e.forEach(function(e){t.resourceMap[e]&&(Object.keys(t.resourceMap[e]).forEach(function(n){delete t.eventMap[n][e]}),delete t.resourceMap[e])})}},{key:"clearAll",value:function(){this.resourceMap={},this.eventMap={}}},{key:"resourceStore",set:function(e){var t=this;t.resourceStoreDetacher&&t.resourceStoreDetacher(),t.resourceColumns.resourceStore=t._resourceStore=e,t.resourceStoreDetacher=e.on({change:t.onResourceStoreChange,refresh:t.onResourceStoreRefresh,thisObj:t,prio:1})},get:function(){return this._resourceStore}},{key:"timeView",get:function(){return this.scheduler.timeView}},{key:"assignmentStore",set:function(e){var t=this;t.assignmentStoreDetacher&&t.assignmentStoreDetacher(),t._assignmentStore=e,e&&(t.assignmentStoreDetacher=e.on({change:t.onAssignmentStoreChange,thisObj:t}))},get:function(){return this._assignmentStore}},{key:"resourceRange",get:function(){var e=this.scheduler,t=this.resourceStore;return t&&t.count?{firstResource:Math.max(Math.floor(e.scrollLeft/e.resourceColumnWidth)-1,0),lastResource:Math.min(Math.floor((e.scrollLeft+e.timeAxisSubGrid.width)/e.resourceColumnWidth)+1,t.count-1)}:{firstResource:-1,lastResource:-1}}},{key:"dateRange",get:function(){var e=this.scheduler,t=e.getDateFromCoordinate(Math.min(e.scrollTop+e.bodyHeight+e.tickSize-1,(e.virtualScrollHeight||e.scrollable.scrollHeight)-1));return t||(t=e.timeAxis.last.endDate),{topDate:e.getDateFromCoordinate(Math.max(e.scrollTop-e.tickSize,0)),bottomDate:t}}}],[{key:"properties",get:function(){return{eventMap:{},resourceMap:{},releasedElements:{}}}}]),n}(yr(U));function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(t){se()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ek(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Rk._$name="VerticalEventMapper";function Tk(e,t){return e===t.length-1}function Mk(e,t){return t===e.cells[e.cells.length-1]}var Pk=function(e){X()(n,e);var t=Ek(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"buildCells",value:function(){var e=this,t=e.sizeProperty,n=[],r=e.levels.map(function(n,r){var i;return{className:(i={"b-sch-header-row":1},se()(i,"b-sch-header-row-".concat(n.position),1),se()(i,"b-sch-header-row-main",r===e.model.viewPreset.mainHeaderLevel),se()(i,"b-lowest",Tk(r,e.levels)),i),syncOptions:{releaseThreshold:5,syncIdField:"tickIndex"},dataset:{headerFeature:"headerRow".concat(r),headerPosition:n.position},children:n.cells.filter(function(t){return t.start<e.endDate&&t.end>e.startDate}).map(function(r){var i,o;return{className:(i={"b-sch-header-timeaxis-cell":1},se()(i,r.headerCellCls,r.headerCellCls),se()(i,"b-align-".concat(r.align),r.align),se()(i,"b-last",Mk(n,r)),i),dataset:xk({tickIndex:r.index},window.DEBUG&&{date:r.start.getTime()}),style:(o={},se()(o,e.positionProperty,r.coord),se()(o,t,r.width),se()(o,"min-".concat(t),r.width),o),children:e.wrapText?[{className:"b-sch-header-text",html:r.value}]:null,html:e.wrapText?null:r.value}})}});return e.client&&e.client.getHeaderDomConfigs(n),r.push.apply(r,n),{className:"b-widget ".concat(e.cls),syncOptions:{releaseThreshold:0},style:se()({},t,e.size),children:r}}},{key:"render",value:function(e){ce()(Q()(n.prototype),"render",this).call(this,e),this.refresh(!0)}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.levels.length,t=this,n=t.model.columnConfig,r=t.levels,i=r.length;if(e){r.length=0,n.forEach(function(e,t){return r[t]={position:t,cells:e}}),t.size=r[0].cells.reduce(function(e,t){return e+t.width},0);var o=t.element.parentElement;o&&(o.classList.remove("b-sch-timeaxiscolumn-levels-".concat(i)),o.classList.add("b-sch-timeaxiscolumn-levels-".concat(r.length)))}t.startDate&&t.endDate&&(Cc.sync({domConfig:t.buildCells(),targetElement:t.element,syncIdField:"headerFeature"}),t.trigger("refresh"))}},{key:"range",set:function(e){this.startDate=e.startDate,this.endDate=e.endDate,this.refresh(),this.trigger("rangeChange",{startDate:e.startDate,endDate:e.endDate})}},{key:"widgetClass",get:function(){}}],[{key:"defaultConfig",get:function(){return{compactCellWidthThreshold:15,model:null,cls:null,sizeProperty:null,positionProperty:null,wrapText:null}}},{key:"properties",get:function(){return{startDate:null,endDate:null,levels:[],size:null}}}]),n}(Jr);function Ak(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Pk._$name="TimeAxisBase";var Ik=function(e){X()(n,e);var t=Ak(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){ce()(Q()(n.prototype),"construct",this).apply(this,arguments),this.model.on({update:this.onModelUpdate,thisObj:this})}},{key:"onModelUpdate",value:function(){this.model.availableSpace!==this.width&&this.refresh(!0)}},{key:"width",get:function(){return this.size}}],[{key:"$name",get:function(){return"HorizontalTimeAxis"}},{key:"defaultConfig",get:function(){return{cls:"b-horizontaltimeaxis",sizeProperty:"width",positionProperty:"left",wrapText:!1}}}]),n}(Pk);function Fk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ik._$name="HorizontalTimeAxis";var Lk=function(e){X()(n,e);var t=Fk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).call(this,e);var t=this;null!=t.imagePath&&(ur.on({element:t.element,delegate:".b-resource-image",capture:!0,error:function(e){return t.setDefaultResourceImage(e.target)},thisObj:t}),t.element.classList.add("b-has-images")),ur.on({element:t.element,delegate:".b-resourceheader-cell",capture:!0,click:"onResourceMouseEvent",dblclick:"onResourceMouseEvent",contextmenu:"onResourceMouseEvent",thisObj:t})}},{key:"onResourceStoreDataChange",value:function(e){var t=e.action,n=this,r=n.resourceStore.count*n.columnWidth;r!==n.width&&(n.element.style.width=r+"px",n.column.set("width",r,n.column.grid.isConfiguring)),"removeall"===t&&(n.element.innerHTML=""),"remove"!==t&&"add"!==t&&"filter"!==t||n.refreshWidths()}},{key:"setDefaultResourceImage",value:function(e){if(this.defaultImageName){var t=this.getImageURL(this.defaultImageName);e.src&&!e.src.endsWith(t.replace(/^[./]*/gm,""))&&(e.src=t)}}},{key:"getImageURL",value:function(e){return _.joinPaths([this.imagePath||"",e||""])}},{key:"refreshWidths",value:function(){var e=this,t=e.availableWidth,n=e._originalColumnWidth,r=e.resourceStore&&e.resourceStore.count;if(t&&r){e.refreshingWidths=!0;var i=e.fitWidth||e.fillWidth&&n*r<t?Math.floor(t/r):n,o=e.column.grid.enableEventAnimations&&Math.abs(e._columnWidth-i)>30;yn.addTemporaryClass(e.element,"b-animating",o?300:0,e),e.columnWidth=i,e.refreshingWidths=!1}}},{key:"refresh",value:function(){var e=this,t=e.firstResource,n=e.lastResource;if(!(e.column.grid.isConfiguring||-1===t||-1===n||n>=e.resourceStore.count)){for(var r=[],i=t;i<=n;i++){var o=e.resourceStore.getAt(i),a={className:new Ft({"b-resourceheader-cell":1}),dataset:{resourceId:o.id},style:{left:i*e.columnWidth,width:e.columnWidth},children:[]};if(e.headerRenderer){var s=e.headerRenderer({elementConfig:a,resourceRecord:o});null!=s&&(a.html=s)}else{var u=void 0;if(o.imageUrl)u=o.imageUrl;else if(null!=e.imagePath){var c=o.image||o.name&&o.name.toLowerCase()+e.imageExtension||e.defaultImageName;u=e.getImageURL(c)}null!=u&&a.children.push({tag:"img",className:"b-resource-image",src:u}),o.iconCls&&a.children.push({tag:"i",className:o.iconCls}),a.children.push({tag:"span",className:"b-resource-name",html:o.name})}r.push(a)}Cc.sync({domConfig:{onlyChildren:!0,children:r},targetElement:e.element,syncIdField:"resourceId"})}}},{key:"onResourceMouseEvent",value:function(e){var t=e.target.closest(".b-resourceheader-cell"),n=this.resourceStore.getById(t.dataset.resourceId);this.trigger("resourceHeader"+_.capitalizeFirstLetter(e.type),{resourceRecord:n,event:e})}},{key:"resourceStore",set:function(e){var t=this;e!==t._resourceStore&&(t.resourceStoreDetacher&&t.resourceStoreDetacher(),t._resourceStore=e,t.resourceStoreDetacher=e.on({change:"onResourceStoreDataChange",thisObj:t}),e.count&&t.onResourceStoreDataChange({}))},get:function(){return this._resourceStore}},{key:"columnWidth",get:function(){return this._columnWidth},set:function(e){var t=this;if(e!==t._columnWidth){var n=t._columnWidth;t._columnWidth=e,t.refreshingWidths||(t._originalColumnWidth=e,t.refreshWidths()),t.isConfiguring||(t.refresh(),t.trigger("columnWidthChange",{width:t._columnWidth,oldWidth:n}))}}},{key:"fillWidth",get:function(){return this._fillWidth},set:function(e){this._fillWidth=e,this.refreshWidths()}},{key:"fitWidth",get:function(){return this._fitWidth},set:function(e){this._fitWidth=e,this.refreshWidths()}},{key:"imagePath",get:function(){return this._imagePath},set:function(e){this._imagePath=e,this.refresh()}},{key:"availableWidth",get:function(){return this._availableWidth},set:function(e){this._availableWidth=e,this.refreshWidths()}},{key:"range",set:function(e){this.firstResource=e.firstResource,this.lastResource=e.lastResource,this.refresh()}}],[{key:"$name",get:function(){return"ResourceHeader"}},{key:"defaultConfig",get:function(){return{resourceStore:null,columnWidth:150,headerRenderer:null,fillWidth:!0,fitWidth:!1,imagePath:null,imageExtension:null,defaultImageName:null}}},{key:"properties",get:function(){return{firstResource:-1,lastResource:-1}}}]),n}(Jr);function Ok(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Lk._$name="ResourceHeader";var _k=function(e){X()(n,e);var t=Ok(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=this;ce()(Q()(n.prototype),"construct",this).apply(this,arguments),e.initialRender=!0,e.thisObj=e,e.timeAxisViewModel=e.timeline.timeAxisViewModel,e.mode=e.mode,e.grid.on({paint:"onTimelinePaint",thisObj:e,once:!0}),e.timeAxisViewModel.on({update:e.onViewModelUpdate,thisObj:e})}},{key:"doDestroy",value:function(){this.resourceColumns&&this.resourceColumns.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"onViewModelUpdate",value:function(e){var t=e.source,n=this;"horizontal"===n.mode?(n.refreshHeader(!0),n.width=t.totalSize,n.timeline.refresh()):"vertical"===n.mode&&n.timeline.refreshRows()}},{key:"onTimelinePaint",value:function(e){var t=e.firstPaint,n=this;n.subGrid.insertRowsBefore&&t&&(n.subGridElement.classList.add("b-timeline-subgrid"),n.element&&ur.on({element:n.element,thisObj:n,click:"onContainerElementClick",dblclick:"onContainerElementClick",contextmenu:"onContainerElementClick"}),"vertical"===n.mode&&n.refreshHeader())}},{key:"refreshHeader",value:function(e){var t=this,n=t.element;n&&("horizontal"===t.mode?(!e&&t.timeAxisViewModel.update(null,!0),t.timeAxisView.rendered?t.timeAxisView.refresh(!0):(n.innerHTML="",t.timeAxisView.render(n))):"vertical"===t.mode&&(t.resourceColumns.currentElement||(n.innerHTML="",t.resourceColumns.render(n))))}},{key:"renderer",value:function(e){return this.timeline.currentOrientation.renderer(e)}},{key:"onContainerElementClick",value:function(e){var t=yn.up(e.target,".b-sch-header-timeaxis-cell");if(t){var n=t.dataset.tickIndex,r=t.parentElement.dataset.headerPosition,i=this.timeAxisViewModel.columnConfig[r][n],o=this.grid.features.contextMenu;o&&e.type===o.triggerEvent||this.trigger("timeAxisHeader"+_.capitalizeFirstLetter(e.type),{startDate:i.start,endDate:i.end,event:e})}}},{key:"mode",set:function(e){var t=this,n=t.timeline;t.set("mode",e),"horizontal"===e?t.timeAxisView=new Ik({model:t.timeAxisViewModel,compactCellWidthThreshold:t.compactCellWidthThreshold,owner:t.grid,client:t.grid}):"vertical"===e&&(t.resourceColumns=new Lk(It.assign({column:t,resourceStore:n.resourceStore,imagePath:n.resourceImagePath,imageExtension:n.resourceImageExtension,defaultImageName:n.defaultResourceImageName},n.resourceColumns||{})),t.relayEvents(t.resourceColumns,["resourceheaderclick","resourceheaderdblclick","resourceheadercontextmenu"]))},get:function(){return this.get("mode")}}],[{key:"autoExposeFields",get:function(){return!0}},{key:"fields",get:function(){return["mode"]}},{key:"defaults",get:function(){return{draggable:!1,groupable:!1,hideable:!1,showColumnPicker:!1,filterable:!1,sortable:!1,resizable:!1,searchable:!1,editor:!1,enableCellContextMenu:!1,tooltipRenderer:!1,cls:"b-sch-timeaxiscolumn",needWidth:!0,mode:null,region:"normal",exportable:!1}}},{key:"type",get:function(){return"timeAxis"}}]),n}(me(Ul));function jk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(_k),_k._$name="TimeAxisColumn";var Hk=function(e){X()(n,e);var t=jk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"height",get:function(){return this.size}}],[{key:"$name",get:function(){return"VerticalTimeAxis"}},{key:"defaultConfig",get:function(){return{cls:"b-verticaltimeaxis",sizeProperty:"height",positionProperty:"top",wrapText:!0}}}]),n}(Pk);function Nk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Hk._$name="VerticalTimeAxis";var Bk=function(e){X()(n,e);var t=Nk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;ce()(Q()(n.prototype),"construct",this).apply(this,arguments),t.timeAxisViewModel=e.timeline.timeAxisViewModel,t.view=new Hk({model:t.timeAxisViewModel,client:e.timeline})}},{key:"renderer",value:function(e){var t=e.cellElement,n=e.size;this.view.render(t),n.height=this.view.height}},{key:"isFocusable",get:function(){return!1}}],[{key:"type",get:function(){return"verticalTimeAxis"}},{key:"defaults",get:function(){return{draggable:!1,groupable:!1,hideable:!1,showColumnPicker:!1,filterable:!1,sortable:!1,searchable:!1,editor:!1,enableCellContextMenu:!1,tooltipRenderer:!1,cellCls:"b-verticaltimeaxiscolumn"}}}]),n}(Ul);function zk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(Bk),Bk._$name="VerticalTimeAxisColumn";var Vk=function(e){X()(n,e);var t=zk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;ce()(Q()(n.prototype),"construct",this).call(this,e),t.createEventOnDblClick&&t.on("scheduledblclick",t.onSchedulerDblClick)}},{key:"onLocaleChange",value:function(){this.currentOrientation.onLocaleChange(),ce()(Q()(n.prototype),"onLocaleChange",this).call(this)}},{key:"onSchedulerDblClick",value:function(e){var t=e.date,n=e.resourceRecord,r=e.row;this.readOnly||n.meta.specialRow||this.internalAddEvent(t,n,r)}},{key:"onColumnsChanged",value:function(e){e.action;var t=e.changes,r=e.record;r===this.timeAxisColumn&&"width"in t&&this.updateCanvasSize(),ce()(Q()(n.prototype),"onColumnsChanged",this).apply(this,arguments)}},{key:"onVerticalScroll",value:function(e){var t=e.scrollTop;this.currentOrientation.updateFromVerticalScroll(t)}},{key:"onEventCreated",value:function(e){}},{key:"onElementKeyDown",value:function(e){ce()(Q()(n.prototype),"onElementKeyDown",this).call(this,e)}},{key:"onElementKeyUp",value:function(e){ce()(Q()(n.prototype),"onElementKeyUp",this).call(this,e)}},{key:"onElementMouseOver",value:function(e){ce()(Q()(n.prototype),"onElementMouseOver",this).call(this,e)}},{key:"onElementMouseOut",value:function(e){ce()(Q()(n.prototype),"onElementMouseOut",this).call(this,e)}},{key:"getEventMenuItems",value:function(){}},{key:"getScheduleMenuItems",value:function(){}},{key:"internalAddEvent",value:function(e,t,n){var r=this,i=[t],o=new r.eventStore.modelClass({startDate:e,endDate:xt.add(e,1,r.timeAxis.unit)});if(r.onEventCreated(o),r.eventEdit){var a=r.currentOrientation.getTimeSpanRenderData(o,t),s=yn.createElement({parent:r.foregroundCanvas,className:"b-sch-dragcreator-proxy",style:"width:".concat(a.width,"px;height:").concat(a.height,"px")});return yn.setTranslateXY(s,a.left,(n&&n.top||0)+a.top),void r.editEvent(o,t,s)}!1!==r.trigger("beforeEventAdd",{eventRecord:o,resourceRecords:i,resources:i})&&(r.eventStore.add(o),r.eventStore.assignEventToResource(o,t))}},{key:"isDateRangeAvailable",value:function(e,t,n,r){return this.eventStore.isDateRangeAvailable(e,t,n,r)}},{key:"toggleEmptyText",value:function(){var e=this;e.bodyContainer&&yn.toggleClasses(e.bodyContainer,"b-grid-empty",!(e.rowManager.rowCount||e.crudManager&&e.crudManager.isLoading))}},{key:"getRowHeight",value:function(e){if(this.currentOrientation.calculateRowHeight){var t=this.currentOrientation.calculateRowHeight(e);return this.rowManager.storeKnownHeight(e.id,t),t}}},{key:"calculateRowHeights",value:function(e){var t=this;e.forEach(function(e){return e&&t.getRowHeight(e)}),this.rowManager.estimateTotalHeight(!0)}},{key:"calculateAllRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.store,n=this.rowManager,r=Math.min(t.count,this.preCalculateHeightLimit);if(r){n.clearKnownHeights();for(var i=0;i<r;i++)this.getRowHeight(t.getAt(i));e||n.estimateTotalHeight(!0)}}},{key:"timeAxisViewModel",set:function(e){di()(Q()(n.prototype),"timeAxisViewModel",e,this,!0),this.eventStore&&(this.timeAxisViewModel.eventStore=this.eventStore)},get:function(){return ce()(Q()(n.prototype),"timeAxisViewModel",this)}},{key:"store",get:function(){return ce()(Q()(n.prototype),"store",this)},set:function(e){di()(Q()(n.prototype),"store",e,this,!0)}},{key:"isHorizontal",get:function(){return"horizontal"===this.mode}},{key:"isVertical",get:function(){return"vertical"===this.mode}},{key:"mode",get:function(){return this._mode},set:function(e){var t=this;t._mode=e,t[e]||("horizontal"===e?(t.horizontal=new mk(t),t.isPainted&&t.horizontal.init(),t.un("scroll",t.onVerticalScroll,t)):"vertical"===e&&(t.zoomOnTimeAxisDoubleClick=t.zoomOnMouseWheel=!1,t.vertical=new Rk(t),t.rendered&&t.vertical.init(),t.on("scroll",t.onVerticalScroll,t)))}},{key:"currentOrientation",get:function(){return this[this.mode]}}],[{key:"$name",get:function(){return"SchedulerBase"}},{key:"defaultConfig",get:function(){return{mode:"horizontal",eventCls:"b-sch-event",timeCellCls:"b-sch-timeaxis-cell",timeCellSelector:".b-sch-timeaxis-cell",scheduledEventName:"event",overScheduledEventClass:"b-sch-event-hover",allowOverlap:!0,rowHeight:60,milestoneCharWidth:10,milestoneAlign:"center",preCalculateHeightLimit:1e4,milestoneMinWidth:40,crudManagerClass:hg,testConfig:{loadMaskHideTimeout:10}}}}]),n}(Uo(Mm).mixes(Up,function(e){return function(e){X()(n,e);var t=Im(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getElementFromAssignmentRecord",value:function(e){return this.currentOrientation.getElementFromEventRecord(e.event,e.resource)}},{key:"getElementFromEventRecord",value:function(e,t){return this.currentOrientation.getElementFromEventRecord(e,t)}},{key:"getElementsFromEventRecord",value:function(e,t){return this.currentOrientation.getElementsFromEventRecord(e,t)}},{key:"getEventIdFromDomNodeId",value:function(e){var t=e.substring(this.eventPrefix.length).split("-")[0];return t&&t.replace(/\._\./g,"-")}},{key:"getEventRecordFromDomId",value:function(e){return e=this.getEventIdFromDomNodeId(e),this.eventStore.getById(e)}},{key:"getResourceIdFromDomNodeId",value:function(e){var t=e.substring(this.eventPrefix.length).split("-")[1];return t&&t.replace(/\._\./g,"-")}},{key:"getResourceRecordFromDomId",value:function(e){return e=this.getResourceIdFromDomNodeId(e),this.resourceStore.getById(e)}},{key:"resolveResourceRecord",value:function(e,t){return this.currentOrientation.resolveRowRecord(e,t)}},{key:"resolveEventRecord",value:function(e){if(e=yn.up(e,this.eventSelector)){if(e.dataset.eventId)return this.eventStore.getById(e.dataset.eventId);if(e.dataset.assignmentId)return this.assignmentStore.getById(e.dataset.assignmentId).event}return null}},{key:"resolveTimeSpanRecord",value:function(e){return this.resolveEventRecord(e)}},{key:"resolveAssignmentRecord",value:function(e){var t=this.eventStore.assignmentStore,n=null;if(t){var r=yn.up(e,this.eventSelector),i=this.resolveEventRecord(r),o=this.resolveResourceRecord(r);i&&o&&(n=t.getAssignmentForEventAndResource(i,o))}return n}},{key:"isRowVisible",value:function(e){return this.store.indexOf(e)>=0}},{key:"getMilestoneLabelWidth",value:function(e){var t=this,n=t.milestoneLayoutMode;if("measure"===n){var r=t.milestoneMeasureElement||(t.milestoneMeasureElement=yn.createElement({className:"b-sch-event-wrap b-milestone-wrap b-measure",children:[{className:"b-sch-event b-milestone",html:"<label></label>"}],parent:t.foregroundCanvas}));return r.firstElementChild.firstElementChild.innerHTML=e.name,r.offsetWidth}return"estimate"===n?Math.max(e.name.length*t.milestoneCharWidth,t.milestoneMinWidth):"data"===n?Math.max(e.milestoneWidth,t.milestoneMinWidth):0}},{key:"milestoneLayoutMode",set:function(e){this._milestoneLayoutMode=e,this.element.classList["default"!==e?"add":"remove"]("b-sch-layout-milestones"),this.refresh()},get:function(){return this._milestoneLayoutMode}},{key:"milestoneAlign",set:function(e){this._milestoneAlign=e,this.refresh()},get:function(){return this._milestoneAlign}},{key:"milestoneCharWidth",set:function(e){this._milestoneCharWidth=e,this.refresh()},get:function(){return this._milestoneCharWidth}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Fm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getTimeSpanMouseEventParams",value:function(e,t){return{eventRecord:this.resolveEventRecord(e),resourceRecord:this.resolveResourceRecord(e),assignmentRecord:this.resolveAssignmentRecord(e),eventElement:e,event:t}}},{key:"getScheduleMouseEventParams",value:function(e,t){return{resourceRecord:this.isVertical?this.resolveResourceRecord(t):this.store.getById(e.id)}}},{key:"onElementKeyDown",value:function(e){ce()(Q()(n.prototype),"onElementKeyDown",this).call(this,e);this.selectedEvents.length&&this.trigger(this.scheduledEventName+"KeyDown",{eventRecord:this.selectedEvents})}},{key:"onElementKeyUp",value:function(e){ce()(Q()(n.prototype),"onElementKeyUp",this).call(this,e);this.selectedEvents.length&&this.trigger(this.scheduledEventName+"KeyUp",{eventRecord:this.selectedEvents})}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Lm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).call(this,e),this.hasFeature("eventDragCreate")&&this.on({dragcreateend:this.internalOnDragCreateEnd,thisObj:this})}},{key:"internalOnDragCreateEnd",value:function(e){var t=e.newEventRecord,n=e.resourceRecord,r=this;if(!r.hasFeature("eventEdit")||r.features.eventEdit.disabled){var i=n?[n]:[];!1!==r.trigger("beforeEventAdd",{eventRecord:t,resources:i,resourceRecords:i})&&(r.onEventCreated(t),r.eventStore.add(t),t.assign(n))}}},{key:"eventEditor",get:function(){return this._eventEditor},set:function(e){this._eventEditor=e}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Ym(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onStoreDataChange",value:function(e){e.source;var t=e.action;this.currentOrientation.clearEvents(),ce()(Q()(n.prototype),"onStoreDataChange",this).apply(this,arguments),"dataset"===t&&this.calculateAllRowHeights()}},{key:"refreshFromRowOnStoreAdd",value:function(e,t){var r=this,i=t.isExpand,o=arguments;this.runWithTransition(function(){var t;return(t=ce()(Q()(n.prototype),"refreshFromRowOnStoreAdd",r)).call.apply(t,[r,e].concat(te()(o)))},!i)}},{key:"onStoreAdd",value:function(e){var t=e.source,r=e.records,i=e.isChild,o=e.isExpandAll,a=this,s=a.rowManager;if(!(o||i&&!r[0].ancestorsExpanded(t))){s.calculateRowCount(!1,!0,!0);var u=Math.max(s.topIndex+s.rowCount,Math.min(s.visibleRowCount,t.count));r=r.sort(function(e,n){return t.indexOf(e)-t.indexOf(n)});var c=t.indexOf(r[0]);if(c<u)for(var l=c=Math.max(c,s.topIndex);l<u;l++)a.currentOrientation.onRowRecordUpdate({record:t.getAt(l)});else s.estimateTotalHeight();ce()(Q()(n.prototype),"onStoreAdd",this).apply(this,arguments)}}},{key:"onStoreUpdateRecord",value:function(){var e;(e=this.currentOrientation).onRowRecordUpdate.apply(e,arguments),ce()(Q()(n.prototype),"onStoreUpdateRecord",this).apply(this,arguments)}},{key:"onStoreRemove",value:function(){var e;(e=this.currentOrientation).onRowRecordRemove.apply(e,arguments),ce()(Q()(n.prototype),"onStoreRemove",this).apply(this,arguments)}},{key:"onStoreRemoveAll",value:function(){this.currentOrientation.clearEvents(),ce()(Q()(n.prototype),"onStoreRemoveAll",this).call(this)}},{key:"doDestroy",value:function(){ce()(Q()(n.prototype),"doDestroy",this).call(this);var e=this;e.destroyStores&&e.constructor.destroy(e.assignmentStore,e.resourceStore,e.dependencyStore,e.eventStore)}},{key:"getResourceStoreListenerConfig",value:function(){return{}}},{key:"getEventStoreListenerConfig",value:function(){return{thisObj:this,detachable:!0,change:"onInternalEventStoreChange",clearchanges:"onEventClearChanges",beforecommit:"onEventBeforeCommit",commit:"onEventCommit",beforeRemove:"onEventStoreBeforeRemove",refresh:"onEventStoreRefresh",exception:"onEventException",idchange:"onEventIdChange"}}},{key:"getAssignmentStoreListenerConfig",value:function(){var e=this;return{thisObj:e,refresh:e.onAssignmentRefresh,update:e.onAssignmentUpdate,add:e.onAssignmentAdd,beforeRemove:{fn:e.onBeforeAssignmentRemove,prio:-1e3},remove:e.onAssignmentRemove,filter:e.onAssignmentFilter,removeall:e.onAssignmentRemoveAll}}},{key:"getDependencyStoreListenerConfig",value:function(){return{}}},{key:"onEventIdChange",value:function(e){this.currentOrientation.onEventStoreIdChange&&this.currentOrientation.onEventStoreIdChange(e)}},{key:"onInternalEventStoreChange",value:function(e){var t=this,n=this;if(n._mode)if(n.isVertical)n.currentOrientation.onEventStoreChange(e);else{var r=function(){var r,i,o=n.currentOrientation,a=e.source,s=n.rowManager,u=n.resourceStore,c=e.action,l=e.changes,f=e.isCollapse,d=e.records||(e.record?[e.record]:null),h=[],p=new Set,v=!1;if(!n.isPainted)return"dataset"===e.action&&t.calculateAllRowHeights(!0),{v:void 0};if(f||"update"===c&&d.length&&d[0].meta.removingResource)return{v:void 0};if(!("filter"===c&&n.hasFeature("resourceTimeRanges"))&&qm[c]&&d){if(l&&"resourceId"in l&&null!=l.resourceId.oldValue){var g=u.getById(l.resourceId.oldValue),y=g&&s.getRowFor(g);y&&(h.push(g),p.add(y))}for(i=0,r=d.length;i<r;i++)h.push.apply(h,te()(a.getResourcesForEvent(d[i]).filter(function(e){if(e&&n.resourceStore.isAvailable(e.id)){var t=s.getRowFor(e);if(t)return p.add(t),!0}return!1})));if(h.length){if(p.size>1)p=new Set(te()(p).sort(function(e,t){return e.dataIndex-t.dataIndex}));else if(!p.size)return{v:void 0}}else if("filter"!==c||d.length)return s.estimateTotalHeight(),{v:void 0};e.resources=h}switch(c){case"dataset":o.onEventDataset();break;case"add":o.onEventAdd(e),v=!0;break;case"update":o.onEventUpdate(e),v=!0;break;case"remove":o.onEventRemove(e),v=!0;break;case"removeall":o.onEventRemoveAll(),v=!0;break;case"filter":o.onEventFilter(e),p.clear(),v=!0;break;case"clearchanges":o.onEventClearChanges(e)}n.runWithTransition(function(){p.size?s.renderRows(p):s.renderFromRow()},v)}();if("object"===oe()(r))return r.v}}},{key:"onEventStoreRefresh",value:function(e){"batch"===e.action&&this.rowManager.rowCount&&(this.currentOrientation.onEventDataset&&this.currentOrientation.onEventDataset(),this.refresh())}},{key:"onEventStoreBeforeRemove",value:function(e){var t=e.records,n=this;if(n.activeEvent&&t.includes(n.activeEvent)){var r;if("key"===ri.lastInteractionType)for(var i=0,o=t.length;i<o&&(!r||t.includes(r));i++)if(n.eventStore.getResourcesForEvent(t[i]).length){var a=t[i],s=a.assignments&&a.assignments.length?a.assignments[0]:a;r=n.getNext(s,!0)||n.getPrevious(s,!0)}r?n.navigateTo(r):yn.focusWithoutScrolling(n.focusElement)}}},{key:"onEventCommit",value:function(e){var t=this,n=e.changes,r=[].concat(te()(n.added),te()(n.modified)).map(function(e){return t.eventStore.getResourcesForEvent(e)});r=Array.prototype.concat.apply([],r),new Set(r).forEach(function(e){return t.repaintEventsForResource(e)})}},{key:"onEventBeforeCommit",value:function(e){var t=this,n=e.changes;[].concat(te()(n.added),te()(n.modified)).forEach(function(e){return t.getElementsFromEventRecord(e).forEach(function(e){return e.classList.add(t.committingCls)})})}},{key:"onEventException",value:function(e){var t=this;if("commit"===e.action){var n=this.eventStore.changes;[].concat(te()(n.added),te()(n.modified),te()(n.removed)).forEach(function(e){return t.repaintEvent(e)})}}},{key:"onEventClearChanges",value:function(){this.refresh()}},{key:"onAssignmentRefresh",value:function(e){!this.isHorizontal||"dataset"!==e.action&&"batch"!==e.action||this.refresh()}},{key:"onAssignmentAdd",value:function(e){var t=this,n=e.records;this.isHorizontal&&n.forEach(function(e){var n=e.resource;n&&t.repaintEventsForResource(n)})}},{key:"onAssignmentUpdate",value:function(e){var t=e.record,n=e.changes;if(this.isHorizontal){var r,i=this.rowManager,o=this.currentOrientation.cache,a="resourceId"in n&&n.resourceId.oldValue,s=t.resourceId,u=Um;null!=a&&(r=i.getRowFor(a))&&(o.clearRow(a),u=Math.min(u,r.index)),s&&(r=i.getRowFor(s))&&(o.clearRow(s),u=Math.min(u,r.index)),u!==Um&&i.renderFromRow(i.rows[u])}}},{key:"onBeforeAssignmentRemove",value:function(e){var t=e.source,n=e.records,r=e.doRemoveLastEvent;if(!t.isRemovingEvent){var i,o=this,a=n.reduce(function(e,t){var n=t.event;return!n||n.placeHolder||e.includes(n)||e.push(n),e},[]);if(o.activeEvent&&a.includes(o.activeEvent)){if("key"===ri.lastInteractionType)for(var s=0,u=n.length;s<u&&(!i||n.includes(i));s++)if(o.eventStore.getResourcesForEvent(n[s].event).length){var c=n[s],l=c.assignments&&c.assignments.length?c.assignments[0]:c;i=o.getNext(l)||o.getPrevious(l)}i?o.navigateTo(i):yn.focusWithoutScrolling(o.focusElement)}if(o.removeUnassignedEvent&&!o.isRemoving&&!1!==r&&(!t.stm||!t.stm.isRestoring)){var f=a.reduce(function(e,t){var r=t.assignments?t.assignments.length:0;return(r-=n.filter(function(e){return e.event===t}).length)||e.push(t),e},[]);o.eventStore.remove(f)}}}},{key:"onAssignmentRemove",value:function(e){var t=this,n=e.records;this.isHorizontal&&n.forEach(function(e){var n=e.resource;n&&t.repaintEventsForResource(n)})}},{key:"onAssignmentRemoveAll",value:function(){this.isHorizontal&&this.refresh()}},{key:"onAssignmentFilter",value:function(){this.isHorizontal&&this.refresh()}},{key:"applyStartEndParameters",value:function(e){var t=e.source,n=e.params,r=t.modelClass.fieldMap.startDate.dateFormat;n[this.startParamName]=xt.format(this.startDate,r),n[this.endParamName]=xt.format(this.endDate,r)}},{key:"store",get:function(){var e=this;return e._thisIsAUsedExpression(e.resources),!e._store&&e.isVertical&&(e._store=new Ra({data:[{id:"verticalTimeAxisRow"}]})),ce()(Q()(n.prototype),"store",this)},set:function(e){di()(Q()(n.prototype),"store",e,this,!0)}},{key:"resources",get:function(){var e=this.resourceStore;return e&&e.records},set:function(e){this.resourceStore.data=e}},{key:"resourceStore",get:function(){var e=this;return e._resourceStore||e.crudManager&&e.crudManager.resourceStore||(e.resourceStore=new ig),e._resourceStore},set:function(e){var t=this,n=t._resourceStore;if(e!==n){if(e instanceof ig||(e=new ig(e)),n){var r=n===t.store;t._resourceStore=e,e&&t.isHorizontal&&(r?(t.store=t.resourceStore,t.store.metaMapId=t.id):t.refresh())}else t._resourceStore=e;e&&(t.isVertical&&e.on({load:function(){return t.unmaskBody()},thisObj:t}),t.trigger("resourceStoreChange",{newResourceStore:e,oldResourceStore:n})),t.isHorizontal&&!t._store&&(t.store=e)}}},{key:"events",get:function(){return this._eventStore.records},set:function(e){this.eventStore.data=e}},{key:"eventStore",get:function(){var e=this;return e._eventStore||e.crudManager&&e.crudManager.eventStore||(e.eventStore=new Fv({resourceStore:e.resourceStore})),this._eventStore},set:function(e){var t=this,n=t._eventStore,r=!1;if(e!==n){var i=t.resourceStore;if(n){var o=t.eventStore,a=t.assignmentStore,s=t.dependencyStore;if(e===o)return;t.eventStoreDetacher&&t.eventStoreDetacher(),t._eventStore=e,t.timeAxisViewModel.eventStore=e,e&&(i&&!e.resourceStore&&(e.resourceStore=i),a&&!e.assignmentStore&&(e.assignmentStore=a),s&&!e.dependencyStore&&(e.dependencyStore=s),t.trigger("eventStoreChange",{newEventStore:e,oldEventStore:o}),t.refresh())}else{if(e.isEventStore){if(i&&e.resourceStore!==i){if(e.resourceStore)throw new Error("eventStore ".concat(e.id," is already linked to resourceStore ").concat(e.resourceStore.id));e.resourceStore=i}}else r=e.autoLoad,e.autoLoad=!1,e=new Fv(Object.assign({resourceStore:t.resourceStore},e));t._eventStore=e}if(e){var u=this.getEventStoreListenerConfig();t.passStartEndParameters&&(u.beforeload=t.applyStartEndParameters),t.eventStoreDetacher&&t.eventStoreDetacher(),t.eventStoreDetacher=e.on(u),e.assignmentStore&&(t.assignmentStore=e.assignmentStore),r&&e.load().catch(function(){})}t.eventStore.count>0&&(t.eventsRendered=!0)}}},{key:"assignments",get:function(){return this.assignmentStore&&this.assignmentStore.records},set:function(e){this.assignmentStore||(this.eventStore.assignmentStore=this.assignmentStore=new Gv),this.assignmentStore.data=e}},{key:"assignmentStore",get:function(){var e=this.eventStore,t=this.crudManager;return t&&t.assignmentStore||e&&e.assignmentStore},set:function(e){var t=this,n=t.assignmentStore;t.eventStore.assignmentStore!==e&&(t.eventStore.assignmentStore=e),t.assignmentStoreDetacher&&t.assignmentStoreDetacher(),e&&(t.assignmentStoreDetacher=e.on(t.getAssignmentStoreListenerConfig()),t.trigger("assignmentStoreChange",{newAssignmentStore:e,oldAssignmentStore:n}),t.refresh())}},{key:"dependencyStore",get:function(){var e=this.eventStore,t=this.crudManager;return t&&t.dependencyStore||e&&e.dependencyStore||this._dependencyStore},set:function(e){var t=this;if(t.isConfigured){var n=t.dependencyStore;t.eventStore.dependencyStore=e,e&&(t.trigger("dependencyStoreChange",{newDependencyStore:e,oldDependencyStore:n}),t.refresh())}else t._dependencyStore=e}},{key:"widgetClass",get:function(){}}],[{key:"defaultConfig",get:function(){return{events:null,eventStore:null,resources:null,resourceStore:null,assignments:null,assignmentStore:null,dependencies:null,dependencyStore:null,timeRanges:null,resourceTimeRanges:null,store:null,startParamName:"startDate",endParamName:"endDate",passStartEndParameters:!1,removeUnassignedEvent:!0}}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Xm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"scrollEventIntoView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zm,n=this,r=e.resources||[e];if(r.length>1)throw new Error("scrollEventIntoView() is not applicable for events with multiple assignments, please use scrollResourceEventIntoView() instead.");return r.length?n.scrollResourceEventIntoView(r[0],e,null,t):(console.warn("You have asked to scroll to an event which is not assigned to a resource"),Km)}},{key:"scrollResourceEventIntoView",value:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Zm,o=this,a=t.startDate,s=t.endDate,u=a<o.timeAxis.startDate|(s>o.timeAxis.endDate)<<1;if(null==i.edgeOffset&&(i.edgeOffset=20),u&&!1!==i.extendTimeAxis){var c,l,f=o.timeAxis.endDate-o.timeAxis.startDate;3===u?o.timeAxis.setTimeSpan(new Date(a.valueOf()-f/2),new Date(s.getTime()+f/2)):(c=1&u?o.getCoordinateFromDate(t.endDate):o.getCoordinateFromDate(t.startDate),1&u?o.timeAxis.setTimeSpan(new Date(a),new Date(a.valueOf()+f)):o.timeAxis.setTimeSpan(new Date(s.valueOf()-f),new Date(s)),l=1&u?o.getCoordinateFromDate(t.endDate):o.getCoordinateFromDate(t.startDate),o.timeAxisSubGrid.scrollable.scrollBy(l-c))}if(r=o.getElementFromEventRecord(t,e)){yn.isFocusable(r)||(r=r.parentNode);var d=o.timeAxisSubGrid.scrollable;return o.timeAxisSubGrid.forceScrollUpdate=!0,d.scrollIntoView(r,i)}return u&&!1===i.extendTimeAxis?(console.warn("You have asked to scroll to an event which is outside the current view and extending timeaxis is disabled"),Km):o.eventStore.isAvailable(t)?o.scrollUnrenderedEventIntoView(e,t,i):(console.warn("You have asked to scroll to an event which is not available"),Km)}},{key:"scrollUnrenderedEventIntoView",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zm;return new Promise(function(i){var o=n,a=Object.assign({edgeOffset:20},r,Jm),s=o.timeAxisSubGrid.scrollable,u=o.getResourceEventBox(t,e),c=s.viewport;if(c)var l=new Wn(u.start,u.top,u.end-u.start,u.bottom-u.top).translate(c.x-s.x,c.y-s.y),f=s.getDeltaTo(l,a)[o.isHorizontal?"xDelta":"yDelta"],d=function(e){e.scheduler;var n=e.eventRecord,o=(e.resourceRecord,e.element),a=e.targetElement;if(n===t){var u=o||a;h(),p.then(function(){f>0&&s.scrollIntoView(u,{edgeOffset:r.edgeOffset}),r.highlight&&yn.highlight(u),r.focus&&u.focus(),i()})}},h=o.on({renderEvent:d,eventrepaint:d,eventpaint:d}),p=s.scrollIntoView(l,a);else i()})}},{key:"scrollResourceIntoView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zm;return this.isVertical?this.currentOrientation.scrollResourceIntoView(e,t):this.scrollRowIntoView(e,t)}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=ek(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getState",value:function(){var e=It.copyProperties(ce()(Q()(n.prototype),"getState",this).call(this),this,tk);return e.zoomLevel=this.zoomLevel,e.zoomLevelOptions={startDate:this.startDate,endDate:this.endDate,viewportCenterDate:this.viewportCenterDate,width:this.tickSize},e}},{key:"applyState",value:function(e){e.zoomLevel&&this.zoomToLevel(e.zoomLevel,e.zoomLevelOptions),It.copyProperties(this,e,tk),ce()(Q()(n.prototype),"applyState",this).call(this,e)}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Wm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getEventsToRender",value:function(e,t){return t}},{key:"repaintEventsForResource",value:function(e){if(this.isHorizontal){this.currentOrientation.cache.clearRow(e.id);var t=this.getRowFor(e);t&&t.render()}}},{key:"repaintEvent",value:function(e){var t=this;this.eventStore.getResourcesForEvent(e).forEach(function(e){return t.repaintEventsForResource(e)})}},{key:"generateTplData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{viewport:!0},r=this,i=r.currentOrientation.getTimeSpanRenderData(e,t,n),o="";if(i){var a,s=e.isResizable;i.startsOutsideView&&(!0===s?s="end":"start"===s&&(s=!1)),i.endsOutsideView&&(!0===s?s="start":"end"===s&&(s=!1));var u=e.isResourceTimeRange?new Ft:e.cls.clone(),c=e.isResourceTimeRange?e.cls.clone():new Ft;if(Object.assign(u,(a={},se()(a,t.cls,t.cls),se()(a,r.generatedIdCls,e.hasGeneratedId),se()(a,r.dirtyCls,e.isPersistable&&e.modifications),se()(a,r.committingCls,e.isCommitting),se()(a,r.endsOutsideViewCls,i.endsOutsideView),se()(a,r.startsOutsideViewCls,i.startsOutsideView),se()(a,"b-clipped-start",i.clippedStart),se()(a,"b-clipped-end",i.clippedEnd),a)),Object.assign(c,se()({},"".concat(r.eventCls,"-parent"),t.isParent)),e.isEvent||e.isTask){var l,f;Object.assign(u,(l={},se()(l,r.eventCls,1),se()(l,"b-milestone",e.isMilestone),se()(l,"b-sch-event-narrow",i.width<10),se()(l,r.fixedEventCls,!1===e.isDraggable),se()(l,"b-sch-event-resizable-".concat(s),Boolean(r.features.eventResize)),se()(l,r.eventSelectedCls,r.isEventSelected(e)),se()(l,"b-recurring",e.isRecurring),se()(l,"b-occurrence",e.isOccurrence),l)),i.eventId=e.id,i.id=r.getEventRenderId(e,t),"id"in e.meta.modified&&(i.oldId=r.getEventRenderId(e.meta.modified.id,t)),Object.assign(c,(f={},se()(f,"".concat(r.eventCls,"-wrap"),1),se()(f,"b-milestone-wrap",e.isMilestone),f));var d=e.eventStyle||t.eventStyle||r.eventStyle,h=e.eventColor||t.eventColor||r.eventColor;i.eventColor=h,i.eventStyle=d,r.assignmentStore&&e.assignments&&(i.assignment=e.assignments.find(function(e){return e.resourceId===t.id}))}if(i.wrapperCls=c,i.cls=u,i.iconCls=new Ft(e.get(r.eventBarIconClsField)||e.iconCls),e.isResourceTimeRange?(i.style="",i.wrapperStyle=e.style||""):i.style=e.style||"",i.resource=t,i.resourceId=i.rowId,e.isEvent||e.isTask){if(r.eventRenderer){var p=r.eventRenderer.call(r.eventRendererThisObj||r,{eventRecord:e,resourceRecord:t,assignmentRecord:i.assignment,tplData:i});"string"==typeof i.cls&&(i.cls=new Ft(i.cls)),"string"==typeof i.wrapperCls&&(i.wrapperCls=new Ft(i.wrapperCls)),"string"==typeof i.iconCls&&(i.iconCls=new Ft(i.iconCls)),o=r.eventBodyTemplate&&r.eventBodyTemplate(p)||(null==p?"":String(p))}else r.eventBodyTemplate?o=r.eventBodyTemplate(e):r.eventBarTextField&&(o=e.data[r.eventBarTextField]||"");if(r.eventBodyTemplate||(e.isMilestone&&o&&(o="<label>".concat(o,"</label>")),i.iconCls&&i.iconCls.length&&(o='<i class="'.concat(i.iconCls,'"></i>').concat(o))),i.wrapperCls["b-sch-style-".concat(i.eventStyle)]=i.eventStyle,i.eventColor&&i.eventColor.startsWith("#")){var v=Gm.test(i.eventStyle)?"border-color":"background-color";if(i.style="".concat(v,":").concat(i.eventColor,";")+i.style,"colored"===i.eventStyle){var g=i.eventColor+(4===i.eventColor.length?"4":"44");i.style="background-color:".concat(g,";")+i.style}}else i.wrapperCls["b-sch-color-".concat(i.eventColor)]=i.eventColor}i.cls["b-sch-event-withicon"]=i.iconCls.length,o.includes("<")?i.body=yn.createElementFromTemplate(o,{fragment:!0}):(i.body=document.createDocumentFragment(),i.body.textContent=o),i.eventContent=o,r.onEventDataGenerated(i)}return i}},{key:"onEventDataGenerated",value:function(e){}},{key:"getEventRenderId",value:function(e,t){var n=(e instanceof kv?e.id:e).toString().replace($m,"._."),r=(t instanceof eg?t.id:t).toString().replace($m,"._.");return this.eventPrefix+"".concat(n,"-").concat(r,"-x")}},{key:"restartInitialAnimation",value:function(e){this.useInitialAnimation=e,this._firstRenderDone=null,this.isFirstRender=!0,this.refresh()}},{key:"eventPrefix",get:function(){return this._eventPrefix},set:function(e){this._eventPrefix=e||this.id+"-"}},{key:"layouts",get:function(){var e=this;return e._eventLayout||(e._eventLayout={},e.horizontalLayoutPackClass&&(e._eventLayout.horizontalPack=new e.horizontalLayoutPackClass(Object.assign({scheduler:e,timeAxisViewModel:e.timeAxisViewModel,bandIndexToPxConvertFn:e.horizontal.layoutEventVerticallyPack,bandIndexToPxConvertThisObj:e.horizontal}))),e.horizontalLayoutStackClass&&(e._eventLayout.horizontalStack=new e.horizontalLayoutStackClass(Object.assign({scheduler:e,timeAxisViewModel:e.timeAxisViewModel,bandIndexToPxConvertFn:e.horizontal.layoutEventVerticallyStack,bandIndexToPxConvertThisObj:e.horizontal})))),e._eventLayout}},{key:"eventLayout",get:function(){return this._overlapMode},set:function(e){var t=this;e!=t._overlapMode&&(t.element.classList.remove("b-eventlayout-".concat(t._overlapMode)),t._overlapMode=e,t.runWithTransition(function(){t.element.classList.add("b-eventlayout-".concat(t._overlapMode)),t.refresh()}))}},{key:"fillTicks",get:function(){return this._fillTicks},set:function(e){e!=this._fillTicks&&(this._fillTicks=e,this.refreshWithTransition())}},{key:"currentEventLayout",get:function(){if(!this.isHorizontal)return null;switch(this.eventLayout){case"stack":return this.layouts.horizontalStack;case"pack":return this.layouts.horizontalPack;default:return null}}},{key:"useInitialAnimation",get:function(){return this._useInitialAnimation},set:function(e){var t=this;t._useInitialAnimation&&t.element.classList.remove("b-initial-".concat(t._useInitialAnimation)),t._useInitialAnimation=!0===e?"fade-in":e,e&&t.element.classList.add("b-initial-".concat(t._useInitialAnimation))}},{key:"isFirstRender",set:function(e){var t=this;t._isFirstRender=e,!t._firstRenderDone&&e&&(t._firstRenderDone=t.createOnFrame(function(){t._isFirstRender=!1,t._firstRenderDone=null}))},get:function(){return this._isFirstRender}},{key:"horizontalEventSorterFn",set:function(e){this._horizontalEventSorterFn=e?function(t,n){return e(t.event,n.event)}:e,this.rendered&&this.refreshWithTransition()},get:function(){return this._horizontalEventSorterFn}},{key:"resourceColumns",set:function(e){this._resourceColumns=e},get:function(){return this.timeAxisColumn&&this.timeAxisColumn.resourceColumns||this._resourceColumns}},{key:"resourceColumnWidth",get:function(){return this.resourceColumns?this.resourceColumns.columnWidth:null}},{key:"widgetClass",get:function(){}}],[{key:"defaultConfig",get:function(){return{eventRenderer:null,eventRendererThisObj:null,eventPrefix:"",eventLayout:"stack",horizontalLayoutPackClass:Vm,horizontalLayoutStackClass:Hm,horizontalEventSorterFn:null,eventBarTextField:"name",eventBodyTemplate:null,eventPositionMode:"translate",eventScrollMode:"move",fillTicks:!1,useInitialAnimation:!0,resourceColumns:null,resourceImagePath:null,defaultResourceImageName:"none.png",resourceImageExtension:".jpg",resourceMargin:null,isFirstRender:!0}}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=Qm(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getScheduleRegion",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.currentOrientation.getScheduleRegion(e,t,n)}},{key:"getResourceRegion",value:function(e,t,n){return this.currentOrientation.getRowRegion(e,t,n)}},{key:"getResourceEventBox",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=r.currentOrientation.getResourceEventBox(e.id,t.id);if(i)return i;var o,a,s,u,c,l,f,d,h=r.timeAxis.startDate,p=r.timeAxis.endDate,v=e.startDate,g=e.endDate,y=null;if(v&&g&&(n||xt.intersectSpans(v,g,h,p))&&this.isRowVisible(t)){if(r.getRowFor(t))r.managedEventSizing?(o=r.currentEventLayout,a=r.eventStore.getEventsForResource(t).reduce(function(e,i){var o=r[r.mode].getTimeSpanRenderData(i,t,n);return o&&e.push(o),e},[]),o&&o.applyLayout(a,t),(s=a.find(function(t){return t.event==e}))&&(u=r.getRecordCoords(t,!0).y,y={layout:!0,start:s.hasOwnProperty("left")?s.left:s.right,end:(s.hasOwnProperty("left")?s.left:s.right)+s.width,top:u+s.top,bottom:u+s.top+s.height})):(c=r.getElementsFromEventRecord(e,e!==t&&t)).length&&(f=(l=c[0]).getOffsetsTo(r.getEl()),d=l.getBox(),y={layout:!0,start:f[0],end:f[0]+d.width,top:f[1],bottom:f[1]+d.height});else{y={layout:!1,start:r.getCoordinateFromDate(Math.max(e.startDateMS,r.timeAxis.startMS)),end:r.getCoordinateFromDate(Math.min(e.endDateMS,r.timeAxis.endMS))};var m=r.rowManager.getRecordCoords(t,!0);y.top=m.y+r.barMargin,y.height=Math.max(r.rowManager.rowHeight-2*r.barMargin,1),y.bottom=y.top+y.height}y&&(y=r.adjustItemBox(e,y))}return y}},{key:"getItemBox",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.resources.map(function(r){return t.getResourceEventBox(e,r,n)})}},{key:"adjustItemBox",value:function(e,t){var n=this.timeAxis.startMS,r=this.timeAxis.endMS,i=e.startDateMS,o=e.endDateMS,a=this.timeAxisViewModel.totalSize;return n>i&&(t.start=-40),n>o&&(t.end=-40),r<i&&(t.start=a+40),r<o&&(t.end=a+40),t}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=nk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"afterConstruct",value:function(){ce()(Q()(n.prototype),"afterConstruct",this).call(this),this.navigator.on({navigate:"onEventNavigate",thisObj:this})}},{key:"isEventSelected",value:function(e){return this.selectedCollection.includes(e)}},{key:"selectEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isEventSelected(e)||(t?this.selectedCollection.add(e):this.selectedEvents=e)}},{key:"deselectEvent",value:function(e){this.isEventSelected(e)&&this.selectedCollection.remove(e)}},{key:"selectEvents",value:function(e){this.selectedCollection.add(e)}},{key:"deselectEvents",value:function(e){this.selectedCollection.remove(e)}},{key:"clearEventSelection",value:function(){this.selectedEvents=[]}},{key:"onSelectedCollectionChange",value:function(e){var t=e.added,n=e.removed,r=this,i=r.selectedEvents,o=t||[],a=n||[];function s(e,t){var n=e.isTask?e:e.resource,i=e.isAssignment?e.event:e;if(i){var o=r.getElementFromEventRecord(i,n);r.currentOrientation.toggleCls(i,n,r.eventSelectedCls,t),e.isAssignment&&r.getElementsFromEventRecord(i).forEach(function(e){e!==o&&e.classList[t?"add":"remove"](r.eventAssignHighlightCls)})}}o.forEach(function(e){return s(e,!0)}),a.forEach(function(e){return s(e,!1)}),r.silent||r.trigger("eventSelectionChange",{action:i.length>0?o.length>0&&a.length>0?"update":o.length>0?"select":"deselect":"clear",selection:i,selected:o,deselected:a})}},{key:"onInternalEventStoreChange",value:function(e){var t=e.action,r=e.records,i=e.source;ce()(Q()(n.prototype),"onInternalEventStoreChange",this).apply(this,arguments);var o=this;o.silent=!o.triggerSelectionChangeOnRemove,"remove"===t?o.deselectEvents(r):"dataset"===t&&(o.maintainSelectionOnDatasetChange?o.selectedEvents=o.selectedEvents.filter(function(e){return i.includes(e)}):o.clearEventSelection()),o.silent=!1}},{key:"onAssignmentRemove",value:function(e){var t=e.records;ce()(Q()(n.prototype),"onAssignmentRemove",this).apply(this,arguments);var r=this;r.silent=!r.triggerSelectionChangeOnRemove,r.deselectEvents(t),r.silent=!1}},{key:"onEventSelectionClick",value:function(e,t){var n=this;n.isEventSelected(t)?e.ctrlKey&&n.deselectEvent(t,n.multiEventSelect):n.selectEvent(t,e.ctrlKey&&n.multiEventSelect)}},{key:"onEventNavigate",value:function(e){var t=e.event,n=e.item;if(!this.eventSelectionDisabled){var r=this,i=n&&(1===n.nodeType?r.assignmentStore?r.resolveAssignmentRecord(n):r.resolveEventRecord(n):n);i?r.onEventSelectionClick(t,i):r.clearEventSelection()}}},{key:"selectedCollection",set:function(e){e instanceof Lr||(e=new Lr(e)),this._selectedCollection=e,e.on({change:"onSelectedCollectionChange",thisObj:this})},get:function(){return this._selectedCollection}},{key:"selectedEvents",get:function(){return this.selectedCollection.values},set:function(e){this.selectedCollection.splice(0,this.selectedCollection.count,e||[])}},{key:"widgetClass",get:function(){}}],[{key:"defaultConfig",get:function(){return{multiEventSelect:!1,eventSelectionDisabled:!1,eventSelectedCls:"b-sch-event-selected",triggerSelectionChangeOnRemove:!1,maintainSelectionOnDatasetChange:!0,eventAssignHighlightCls:"b-sch-event-assign-selected",selectedCollection:{}}}}]),n}(e||U)},ak));function Wk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Vk.localeClass="Scheduler",Vk._$name="SchedulerBase",ke.register("schedulerbase",Vk);var $k=function(e){X()(n,e);var t=Wk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"render",value:function(){var e,t=this,n=t.client;t.hoverTip&&t.hoverTip.destroy();var r=t.hoverTip=new ao({id:"".concat(n.id,"-schedule-tip"),cls:"b-sch-scheduletip",allowOver:!0,hoverDelay:0,hideDelay:100,showOnHover:!0,forElement:n.timeAxisSubGridElement,anchorToTarget:!1,trackMouse:!0,updateContentOnMouseMove:!0,forSelector:".b-schedulerbase:not(.b-animating):not(.b-dragging-event):not(.b-dragcreating) .b-grid-body-container:not(.b-scrolling) .b-timeline-subgrid:not(.b-scrolling) > :not(.b-sch-foreground-canvas):not(.b-group-footer):not(.b-group-row) *",constrainTo:null,getHtml:t.getHoverTipHtml.bind(t),onDocumentMouseDown:function(t){r.forElement.contains(t.event.target)&&(e=ur.on({element:n.timeAxisSubGridElement,mousemove:function(e){return r.internalOnPointerOver(e)},capture:!0}));var i=r.hideAnimation;r.hideAnimation=!1,r.constructor.prototype.onDocumentMouseDown.call(r,t),r.hideAnimation=i},listeners:{pointerover:function(n){var r=n.event,i="buttons"in r?r.buttons>0:r.which>0;return!i&&e&&e(),!t.disabled&&!i}}});t.clockTemplate=new yg({scheduler:n})}},{key:"doDestroy",value:function(){this.destroyProperties("clockTemplate","hoverTip"),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"getHoverTipHtml",value:function(e){var t=e.tip,n=e.event,r=this,i=r.client,o=n&&i.getDateFromDomEvent(n,"floor",!0),a=r.lastHtml;if(o){var s=i.resolveResourceRecord(n);o-r.lastTime==0&&s===r.lastResource||(r.lastResource=s,a=r.lastHtml=r.generateTipContent({date:o,event:n,resourceRecord:s}))}else t.hide(),r.lastTime=null,r.lastResource=null;return a}},{key:"generateTipContent",value:function(e){var t=e.date,n=e.event,r=e.resourceRecord,i=this,o=i.clockTemplate.generateContent({date:t,text:i.client.getFormattedDate(t)}),a=i.messageTemplate({message:i.getText(t,n,r)||""});return i.lastTime=t,o+a}},{key:"getText",value:function(e,t,n){}}],[{key:"$name",get:function(){return"ScheduleTooltip"}},{key:"defaultConfig",get:function(){return{messageTemplate:function(e){return'<div class="b-sch-hovertip-msg">'.concat(e.message,"</div>")}}}},{key:"pluginConfig",get:function(){return{chain:["render"]}}}]),n}(To);function Gk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}$k.featureClass="b-scheduletip",$k._$name="ScheduleTooltip",Ff.registerFeature($k,!0,"Scheduler");var Yk=function(e){X()(n,e);var t=Gk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"Scheduler"}}]),n}(Vk);function Uk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Yk._$name="Scheduler",ke.register("scheduler",Yk);var qk=function(e){X()(n,e);var t=Uk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;if(e.isVertical)throw new Error("Summary feature is not supported in vertical mode");r.scheduler=e,ce()(Q()(n.prototype),"construct",this).call(this,e,t),r.summaries||(r.summaries=[{renderer:r.renderer}]),e instanceof Yk&&(e.eventStore.on({change:r.updateScheduleSummaries,thisObj:r}),e.resourceStore.on({change:r.updateScheduleSummaries,thisObj:r}),e.timeAxisViewModel.on({update:r.renderRows,thisObj:r}))}},{key:"renderRows",value:function(){ce()(Q()(n.prototype),"renderRows",this).call(this),this.render()}},{key:"updateScheduleSummaries",value:function(){var e=this,t=e.scheduler,n=t.element.querySelector(".b-grid-footer.b-sch-timeaxiscolumn");n&&yn.forEachSelector(n,".b-timeaxis-tick",function(n,r){var i=t.timeAxis.getAt(r),o=t.eventStore.getEventsInTimeSpan(i.startDate,i.endDate,!0,!0),a="",s="<header>".concat(e.L("L{Summary for}",t.getFormattedDate(i.startDate)),"</header>");e.summaries.forEach(function(r){var u=r.renderer({startDate:i.startDate,endDate:i.endDate,eventStore:t.eventStore,resourceStore:t.resourceStore,events:o,element:n}),c='<div class="b-timeaxis-summary-value">'.concat(u,"</div>");(e.summaries.length>1||""!==u)&&(a+=c),s+="<label>".concat(r.label||"","</label>")+c}),n.innerHTML=a,n._tipHtml=s})}},{key:"render",value:function(){var e=this,t=e.scheduler,n=t.element.querySelector(".b-grid-footer.b-sch-timeaxiscolumn");n&&(e.summaries.some(function(e){return e.label})&&e.showTooltip&&!e._tip&&(e._tip=new ao({id:"".concat(t.id,"-summary-tip"),cls:"b-timeaxis-summary-tip",hoverDelay:0,hideDelay:100,forElement:n,anchorToTarget:!0,trackMouse:!1,forSelector:".b-timeaxis-tick",getHtml:function(e){return e.activeTarget._tipHtml}})),n.innerHTML='<div class="b-timeaxis-tick" style="width: '.concat(t.tickSize,'px"></div>').repeat(t.timeAxis.count),e.updateScheduleSummaries())}}],[{key:"$name",get:function(){return"Summary"}},{key:"defaultConfig",get:function(){return{showTooltip:!0,summaries:null,renderer:null}}}]),n}(_d);function Xk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}qk._$name="Summary",qk._$name="Summary",Ff.registerFeature(qk,!1,"Scheduler");var Kk=function(e){X()(n,e);var t=Xk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r,i=this;i.scheduler=e,i.eventStore=e.eventStore,e.eventEdit=i,ce()(Q()(n.prototype),"construct",this).call(this,e,t),i.clientListenersDetacher=e.on((r={},se()(r,i.triggerEvent,function(e){var t=e.eventRecord,n=e.eventElement;return i.editEvent(t,t.resource,n)}),se()(r,"dragcreateend",i.onDragCreateEnd),se()(r,"thisObj",i),r))}},{key:"doDestroy",value:function(){this.clientListenersDetacher(),this.editor&&this.editor.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"editEvent",value:function(e,t,n){var r=this,i=r.scheduler;i.readOnly||r.disabled||(n=yn.down(n,i.eventInnerSelector)||n,e=e instanceof Zp?e.event:e,r.resource=t,r.event=e,r.element=n,i.element.classList.add("b-eventeditor-editing"),r.editor||(r.editor=new fs(Object.assign({owner:r.scheduler.timeAxisSubGrid,appendTo:r.scheduler.timeAxisSubGridElement,scrollAction:"realign",cls:"b-simpleeventeditor",listeners:{complete:r.onEditorComplete,cancel:r.onEditorCancel,thisObj:r}},r.editorConfig)),r.relayEvents(r.editor,["beforestart","start","beforecomplete","complete","beforecancel","cancel"])),r.editor.startEdit({target:n,record:e,field:r.field}),r.scheduler.navigator.disabled=!0)}},{key:"onEditorComplete",value:function(){var e=this;0===e.event.stores.length&&(e.eventStore.add(e.editor.record),e.event.assign(e.resource)),e.element&&e.element.classList.contains("b-sch-dragcreator-proxy")&&e.element.remove(),e.reset()}},{key:"onEditorCancel",value:function(){0===this.event.stores.length&&this.element.remove(),this.reset()}},{key:"reset",value:function(){this.scheduler.element.classList.remove("b-eventeditor-editing"),this.scheduler.navigator.disabled=!1}},{key:"onEventEnterKey",value:function(e){var t=e.assignmentRecord,n=e.eventRecord,r=t?this.scheduler.getElementFromAssignmentRecord(t):this.scheduler.getElementFromEventRecord(n),i=(t||n).resource;this.editEvent(n,i,r)}},{key:"onDragCreateEnd",value:function(e){var t=e.newEventRecord,n=e.resourceRecord,r=e.proxyElement;this.scheduler.onEventCreated(t);var i=r.cloneNode(!0);i.removeAttribute("id"),r.parentElement.appendChild(i),this.element=i,this.editEvent(t,n,i)}}],[{key:"$name",get:function(){return"SimpleEventEdit"}},{key:"defaultConfig",get:function(){return{triggerEvent:"eventdblclick",eventRecord:null,field:"name",editorConfig:null}}},{key:"pluginConfig",get:function(){return{chain:["onEventEnterKey"],assign:["editEvent"]}}}]),n}(To);function Zk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Kk._$name="SimpleEventEdit",Ff.registerFeature(Kk,!1,"Scheduler");var Jk=function(e){X()(n,e);var t=Zk(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;ce()(Q()(n.prototype),"construct",this).call(this,e,t),e._timeRangesExposed||(Object.defineProperty(e,"timeRanges",{get:function(){return r.store.records},set:function(e){return r.store.data=e}}),e._timeRangesExposed=!0)}},{key:"startConfigure",value:function(e){var t=this.client;if(t.project){var n=t.project.timeRangeStore;n&&(e.store=n)}}},{key:"initCurrentTimeLine",value:function(){var e=this,t=new Date;!e.currentTimeLine&&e.showCurrentTimeLine&&(e.currentTimeLine=new e.store.modelClass({id:"currentTime",cls:"b-sch-current-time",startDate:t,name:xt.format(t,e.currentDateFormat)}),e.updateCurrentTimeLine=e.updateCurrentTimeLine.bind(e),e.currentTimeInterval=e.setInterval(e.updateCurrentTimeLine,e.updateCurrentTimeLineInterval),e.client.isPainted&&e.renderRanges())}},{key:"updateCurrentTimeLine",value:function(){var e=this;e.currentTimeLine.startDate=new Date,e.currentTimeLine.name=xt.format(e.currentTimeLine.startDate,e.currentDateFormat),e.onStoreChanged({action:"update",record:e.currentTimeLine,changes:{}})}},{key:"hideCurrentTimeLine",value:function(){var e=this;e.currentTimeLine&&(e.clearInterval(e.currentTimeInterval),e.currentTimeLine=null,e.client.isPainted&&e.renderRanges())}},{key:"renderRanges",value:function(){ce()(Q()(n.prototype),"renderRanges",this).call(this),this.showCurrentTimeLine&&!this.disabled&&this.renderRange(this.currentTimeLine,!0)}},{key:"getHeaderMenuItems",value:function(e,t){var n=this;t.some(function(e){return e.isCurrentTimeline})||"timeAxis"!==e.type||t.push({isCurrentTimeline:!0,text:"L{showCurrentTimeLine}",localeClass:this,checked:n.showCurrentTimeLine,onToggle:function(e){var t=e.checked;n.showCurrentTimeLine=t}})}},{key:"showCurrentTimeLine",get:function(){return this._showCurrentTimeLine},set:function(e){this._showCurrentTimeLine=e,e?this.initCurrentTimeLine():this.hideCurrentTimeLine()}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e,this.client.isPainted&&this.renderRanges()}},{key:"store",get:function(){return this._store},set:function(e){var t=this,r=t.client;e.storeId||(e.storeId="timeRanges"),di()(Q()(n.prototype),"store",e,this,!0),r.timeRanges&&!r._timeRangesExposed&&(t._store.add(r.timeRanges),delete r.timeRanges),t.timeRanges&&(t._store.add(t.timeRanges),delete t.timeRanges)}}],[{key:"$name",get:function(){return"TimeRanges"}},{key:"defaultConfig",get:function(){return{store:{modelClass:kv,storeId:"timeRanges"},updateCurrentTimeLineInterval:1e4,currentDateFormat:"HH:mm",timeRanges:null,showCurrentTimeLine:!1}}}]),n}(Vy);Jk._$name="TimeRanges",Ff.registerFeature(Jk,!1,["Scheduler","Gantt"]);var Qk={completeview:"completeview",currentview:"currentview",daterange:"daterange"};function eb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var tb=function(e){X()(n,e);var t=eb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"buildLocalizedItems",value:function(){var e=this;return Object.entries(Qk).map(function(t){var n=re()(t,2),r=n[0],i=n[1];return{id:r,text:e.L("L{".concat(i,"}"))}})}}],[{key:"$name",get:function(){return"ScheduleRangeCombo"}},{key:"defaultConfig",get:function(){return{editable:!1}}}]),n}(Ud);function nb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}tb._$name="ScheduleRangeCombo",ke.register(tb.$name.toLowerCase(),tb);var rb=function(e){X()(n,e);var t=nb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onLocaleChange",value:function(){var e=this.L("labelWidth");this.width=this.L("L{width}"),this.items.forEach(function(t){t instanceof Do?t.labelWidth=e:"rangeFieldsContainer"===t.ref&&(t.items[0].width=e)})}},{key:"buildDialogItems",value:function(e){var t=this,r=e.client,i=t.getDefaultFieldValues(e).scheduleRange,o=ce()(Q()(n.prototype),"buildDialogItems",this).call(this,e),a=t.L("labelWidth");t.columnsStore=r.columns.chain(function(e){return e.isLeaf&&!(e instanceof _k)});var s=o.find(function(e){return"columnsField"===e.ref});return s.store=t.columnsStore,s.value=t.columnsStore.allRecords,o.splice(1,0,{labelWidth:a,type:"schedulerangecombo",ref:"scheduleRangeField",label:"L{Schedule range}",localeClass:t,value:i,onChange:function(e){var t=e.value!==Qk.daterange,n=this.owner.widgetMap;n.rangeStartField.hidden=n.rangeEndField.hidden=t}},{type:"container",ref:"rangeFieldsContainer",flex:"1 0 100%",items:[{type:"widget",width:a},{type:"datefield",ref:"rangeStartField",label:"L{Export from}",hidden:!0,flex:"1 0 25%",localeClass:t,value:r.startDate,max:xt.max(r.startDate,xt.add(r.endDate,-1,"d")),onChange:function(e){var t=e.value;this.owner.widgetMap.rangeEndField.min=xt.add(t,1,"d")}},{type:"datefield",ref:"rangeEndField",label:"L{Export to}",hidden:!0,flex:"1 0 25%",localeClass:t,value:r.endDate,min:xt.min(r.endDate,xt.add(r.startDate,1,"d")),onChange:function(e){var t=e.value;this.owner.widgetMap.rangeStartField.max=xt.add(t,-1,"d")}}]}),o}},{key:"fieldProperties",get:function(){return["scheduleRange"].concat(te()(ce()(Q()(n.prototype),"fieldProperties",this)))}}],[{key:"$name",get:function(){return"SchedulerExportDialog"}},{key:"defaultConfig",get:function(){return{scheduleRange:"completeview"}}}]),n}(Qd);function ib(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}rb._$name="SchedulerExportDialog";var ob=Promise.resolve(),ab=function(e){return function(e){X()(s,e);var t,n,r,i,o,a=ib(s);function s(){return E()(this,s),a.apply(this,arguments)}return M()(s,[{key:"scrollRowIntoView",value:(o=ro()(to.a.mark(function e(t,n){var r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.rowManager,i=t.scrollable,o=i.y,!(n<t.store.count)){e.next=5;break}if(i.scrollTo(null,r.calculateTop(n)),i.y===o){e.next=5;break}return e.abrupt("return",new Promise(function(e){var i=t.on({scroll:function(t){null!=t.scrollTop&&r.getRow(n)&&(i(),e())}})}));case 5:return e.abrupt("return",ob);case 6:case"end":return e.stop()}},e)})),function(e,t){return o.apply(this,arguments)})},{key:"scrollToDate",value:(i=ro()(to.a.mark(function e(t,n){var r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,i=[],o=t.timeAxisSubGrid.scrollable.on({scrollstart:function(e){null!=e.x&&(r=!0)}}),i.push(t.scrollToDate(n,{block:"start"})),o(),r&&(i.push(t.timeView.await("refresh",{checkLog:!1})),i.push(t.timeAxisSubGrid.header.scrollable.await("scrollEnd",{checkLog:!1}))),e.next=8,Promise.all(i);case 8:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})},{key:"prepareComponent",value:(r=ro()(to.a.mark(function e(t){var n,r,i,o,a,u,c,l,f,d,h,p;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this,r=t.client,i=r.timeAxisSubGrid.width>0,e.t0=t.scheduleRange,e.next=e.t0===Qk.completeview?4:e.t0===Qk.currentview?7:11;break;case 4:return t.rangeStart=r.startDate,t.rangeEnd=r.endDate,e.abrupt("break",11);case 7:return o=r.getVisibleDateRange(),a=o.startDate,u=o.endDate,t.rangeStart=a,t.rangeEnd=u,e.abrupt("break",11);case 11:return i&&(r.setTimeSpan(t.rangeStart,t.rangeEnd),r.svgCanvas),e.next=14,ce()(Q()(s.prototype),"prepareComponent",this).call(this,t);case 14:if(c=n.exportMeta,l=n.element.querySelector(".b-sch-foreground-canvas"),f=n.element.querySelector(".b-horizontaltimeaxis"),c.includeTimeline=i,i&&t.scheduleRange!==Qk.completeview&&(c.totalWidth-=c.subGrids.normal.width,c.totalWidth+=c.subGrids.normal.width=r.timeAxisViewModel.getDistanceBetweenDates(t.rangeStart,t.rangeEnd),d=Math.ceil(c.totalWidth/c.pageWidth),h=d*c.verticalPages,c.horizontalPages=d,c.totalPages=h,c.subGrids.normal.scrollLeft=r.getCoordinateFromDate(t.rangeStart)),c.timeAxisHeaders=[],c.timeAxisPlaceholders=[],c.headersColleted=!1,yn.forEachSelector(f,".b-sch-header-row",function(e){c.timeAxisPlaceholders.push(n.createPlaceholder(e)),c.timeAxisHeaders.push(new Map)}),c.subGrids.normal.eventsPlaceholder=n.createPlaceholder(l,!1),yn.removeEachSelector(l,".b-sch-event-wrap"),yn.removeEachSelector(l,".b-released"),c.eventsBoxes=new Map,c.client=r,r.features.dependencies&&!r.features.dependencies.disabled&&(p=n.element.querySelector('[id="'.concat(r.svgCanvas.getAttribute("id"),'"]')),(c.dependenciesPlaceholder=p)&&yn.removeEachSelector(p,".b-sch-dependency")),!i||xt.betweenLesser(t.rangeStart,r.startDate,r.endDate)){e.next=30;break}return e.next=30,n.scrollToDate(r,t.rangeStart);case 30:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"restoreState",value:(n=ro()(to.a.mark(function e(t){var n,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,r=t.client,i=[],o=r.timeAxisSubGrid.scrollable.on({scrollStart:function(e){var t=e.x;this.element.scrollLeft!==t&&(n=!0)}}),i.push(ce()(Q()(s.prototype),"restoreState",this).call(this,t)),o(),n&&i.push(r.timeAxisSubGrid.header.scrollable.await("scrollEnd",{checkLog:!1})),e.next=8,Promise.all(i);case 8:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"onRowsCollected",value:(t=ro()(to.a.mark(function e(t,n){var r,i,o,a,u,c,l,f;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.next=3,ce()(Q()(s.prototype),"onRowsCollected",this).call(this,t);case 3:if(!r.exportMeta.includeTimeline){e.next=28;break}return i=n.client,o=i.timeView,a=r.getCurrentPageDateRange(n),u=a.pageRangeStart,c=a.pageRangeEnd,l=!1,e.next=8,r.scrollToDate(i,u);case 8:if(l){e.next=26;break}if(r.collectHeaders(n),r.collectEvents(t,n),!xt.timeSpanContains(o.startDate,o.endDate,u,c)){e.next=15;break}l=!0,e.next=24;break;case 15:if(!(o.endDate.getTime()>=c.getTime())){e.next=19;break}l=!0,e.next=24;break;case 19:return f=o.endDate,e.next=22,r.scrollToDate(i,o.endDate);case 22:if(f.getTime()!==o.endDate.getTime()){e.next=24;break}throw new Error("Could not scroll to date");case 24:e.next=8;break;case 26:return e.next=28,r.scrollToDate(i,n.rangeStart);case 28:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"getCurrentPageDateRange",value:function(e){var t,n,r=e.rangeStart,i=e.rangeEnd,o=e.client,a=this.exportMeta,s=a.horizontalPages,u=a.horizontalPosition,c=a.pageWidth,l=a.subGrids;if(s>1){var f=u*c,d=(u+1)*c,h=l.locked.width;d<=h?n=t=null:(t=o.getDateFromCoordinate(Math.max(f-h,0)),n=o.getDateFromCoordinate(1.2*(d-h))||i)}else t=r,n=i;return{pageRangeStart:t,pageRangeEnd:n}}},{key:"prepareExportElement",value:function(){var e=this.element,t=this.exportMeta,n=t.subGrids.normal,r=n.id,i=n.headerId,o=n.footerId,a=n.scrollLeft,u=e.querySelector('[id="'.concat(r,'"]'));return[".b-sch-background-canvas",".b-sch-foreground-canvas"].forEach(function(e){var n=u.querySelector(e);n&&(t.lastExportedRowBottom?n.style.height="".concat(t.lastExportedRowBottom,"px"):n.style.height="",a&&(n.style.marginLeft="-".concat(a,"px")))}),a&&[i,o].forEach(function(t){var n=e.querySelector('[id="'.concat(t,'"] .b-widget-scroller'));n&&(n.style.marginLeft="-".concat(a,"px"))}),ce()(Q()(s.prototype),"prepareExportElement",this).call(this)}},{key:"collectRow",value:function(e){var t=this.exportMeta.subGrids;Object.entries(e.elements).forEach(function(n){var r=re()(n,2),i=r[0],o=[r[1].outerHTML,e.top,e.offsetHeight];"normal"===i&&o.push(new Map),t[i].rows.push(o)})}},{key:"collectHeaders",value:function(e){var t=e.client,n=this.exportMeta;if(!n.headersCollected){var r=t.timeView.element,i=n.timeAxisHeaders;yn.forEachSelector(r,".b-sch-header-row",function(e,r,o){var a=i[r];yn.forEachSelector(e,".b-sch-header-timeaxis-cell",function(e){a.has(e.dataset.tickIndex)||a.set(e.dataset.tickIndex,e.outerHTML)}),r===o.length-1&&a.has(String(t.timeAxis.count-1))&&(n.headersCollected=!0)})}}},{key:"collectEvents",value:function(e,t){var n=e.length,r=t.client,i=this.exportMeta.subGrids.normal.rows;e.forEach(function(e,t){var o=i[i.length-n+t],a=r.store.getAt(e.dataIndex),s=o[3];a.events&&a.events.forEach(function(e){if(e.isScheduled){var t=r.getElementFromEventRecord(e,a);t&&(t=t.parentElement)&&!s.has(e.id)&&s.set(e.id,[t.outerHTML,Wn.from(t,t.offsetParent)])}})})}},{key:"buildPageHtml",value:function(){var e=this,t=e.exportMeta,n=t.subGrids,r=t.timeAxisHeaders,i=t.timeAxisPlaceholders,o=e.prepareExportElement();return Object.values(n).forEach(function(t){var n=t.placeHolder,r=t.eventsPlaceholder,i=t.rows,a=n.outerHTML,s=e.positionRows(i),u=s.resources,c=s.events;o=o.replace(a,u.join("")),r&&(o=o.replace(r.outerHTML,c.join("")))}),r.forEach(function(e,t){o=o.replace(i[t].outerHTML,Array.from(e.values()).join(""))}),o=e.buildDependenciesHtml(o)}},{key:"getDependenciesOuterHTML",value:function(){var e,t=this.exportMeta.dependenciesPlaceholder;if(N.isIE11){var n=document.createElement("div"),r=t.cloneNode(!0);n.appendChild(r),e=n.innerHTML}else e=t.outerHTML;return e}},{key:"renderDependencies",value:function(){var e=this.exportMeta,t=e.client,n=e.dependenciesPlaceholder,r=e.eventsBoxes,i=t.dependencies,o=t.features.dependencies,a=Array.from(r.keys());i.filter(function(e){return a.includes(String(e.from))||a.includes(String(e.to))}).forEach(function(e){var t=r.get(String(e.from)),i=r.get(String(e.to)),a=e.sourceEvent,s=e.targetEvent;if(!t&&a){var u=o.getBox(e,!0);u&&(t=u instanceof Wn?u:new Wn(u.start,u.top,u.end-u.start,u.bottom-u.top))}if(!i&&s){var c=o.getBox(e,!1);c&&(i=c instanceof Wn?c:new Wn(c.start,c.top,c.end-c.start,c.bottom-c.top))}var l={startRectangle:t&&t.clone(),endRectangle:i&&i.clone()};t&&i&&o.drawDependency(e,l,null,n,!1)});var s=this.getDependenciesOuterHTML();return yn.removeEachSelector(n,".b-sch-dependency"),s}},{key:"buildDependenciesHtml",value:function(e){var t=this.exportMeta,n=t.dependenciesPlaceholder,r=t.includeTimeline;if(n&&r){var i=this.getDependenciesOuterHTML();e=e.replace(i,this.renderDependencies())}return e}}]),s}(e)};function sb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ub=function(e){X()(r,e);var t,n=sb(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"stateNextPage",value:(t=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()(Q()(r.prototype),"stateNextPage",this).call(this,t);case 2:this.exportMeta.eventsBoxes.clear();case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"positionRows",value:function(e){var t=this,n=[],r=[];return e.forEach(function(e){var i=re()(e,4),o=i[0],a=(i[1],i[2],i[3]);n.push(o),a&&Array.from(a.entries()).forEach(function(e){var n=re()(e,2),i=n[0],o=re()(n[1],2),a=o[0],s=o[1];r.push(a),t.exportMeta.eventsBoxes.set(String(i),s)})}),{resources:n,events:r}}}]),r}(ab(uh));function cb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ub._$name="MultiPageExporter";var lb=function(e){X()(i,e);var t,n,r=cb(i);function i(){return E()(this,i),r.apply(this,arguments)}return M()(i,[{key:"stateNextPage",value:(n=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()(Q()(i.prototype),"stateNextPage",this).call(this,t);case 2:this.exportMeta.eventsBoxes.clear();case 3:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"prepareComponent",value:(t=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()(Q()(i.prototype),"prepareComponent",this).call(this,t);case 2:t.scheduleRange!==Qk.completeview&&this.estimateTotalPages(t);case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"positionRows",value:function(e){var t=this,n=[],r=[];return e.forEach(function(e){var i=re()(e,4),o=i[0],a=(i[1],i[2],i[3]);n.push(o),a&&Array.from(a.entries()).forEach(function(e){var n=re()(e,2),i=n[0],o=re()(n[1],2),a=o[0],s=o[1];r.push(a),t.exportMeta.eventsBoxes.set(String(i),s)})}),{resources:n,events:r}}}]),i}(ab(lh));function fb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}lb._$name="MultiPageExporter";var db=function(e){X()(n,e);var t=fb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"collectDependencies",value:function(){}},{key:"positionRows",value:function(e){var t=this,n=0,r=[],i=[],o=/translate\((\d+.?\d*)px, (\d+.?\d*)px\)/;return e.forEach(function(e){var a=re()(e,4),s=a[0],u=a[1],c=a[2],l=a[3];r.push(s.replace(o,"translate($1px, ".concat(n,"px)")));var f=n-u;l&&Array.from(l.entries()).forEach(function(e){var n=re()(e,2),r=n[0],a=re()(n[1],2),s=a[0],u=a[1];u.translate(0,f),t.exportMeta.eventsBoxes.set(String(r),u),i.push(s.replace(o,"translate($1px, ".concat(u.y,"px)")))}),n+=c}),{resources:r,events:i}}}]),n}(ab(dh));function hb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}db._$name="SinglePageExporter";var pb=function(e){X()(n,e);var t=hb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"showExportDialog",value:function(){var e=this;e.exportDialog||(e.exportDialog=new rb(Object.assign({},e.defaultExportDialogConfig,{listeners:{export:e.onExportDialogExport,thisObj:e}}))),e.exportDialog.show()}},{key:"buildExportConfig",value:function(e){e=ce()(Q()(n.prototype),"buildExportConfig",this).call(this,e);var t=this.scheduleRange,r=this.rangeStart,i=this.rangeEnd;return e.columns&&!e.columns.find(function(e){return"timeAxis"===e.type})&&e.columns.push(e.client.timeAxisColumn.id),It.assign({scheduleRange:t,rangeStart:r,rangeEnd:i},e)}},{key:"defaultExportDialogConfig",get:function(){return It.copyProperties(ce()(Q()(n.prototype),"defaultExportDialogConfig",this),this,["scheduleRange"])}}],[{key:"$name",get:function(){return"PdfExport"}},{key:"defaultConfig",get:function(){return{exporters:[db,ub,lb],scheduleRange:"completeview",rangeStart:null,rangeEnd:null}}}]),n}(ph);pb._$name="PdfExport",Ff.registerFeature(pb,!1,"Scheduler");n(277);function vb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var gb=function(e){X()(n,e);var t=vb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"normalizeColumns",value:function(e){ce()(Q()(n.prototype),"normalizeColumns",this).call(this,e),e.eventColumns=e.eventColumns.map(function(e){return"string"==typeof e?{field:e}:e})}},{key:"generateExportData",value:function(e){var t=this.target instanceof Yk,n=this.generateColumns(e),r=t?this.generateEventColumns(e):[];return{columns:n.concat(r),rows:this.generateRows(e)}}},{key:"generateEventColumns",value:function(e){var t=this;return e.eventColumns.map(function(n){return t.processEventColumn(n,e)})}},{key:"processEventColumn",value:function(e,t){var n=e.width,r=e.minWidth,i=t.defaultColumnWidth;return{field:e.field,value:e.text,width:Math.max(n||i,r||i),eventColumn:!0,type:this.getColumnType(e,this.target.eventStore)}}},{key:"generateRows",value:function(e){var t,r=this,i=r.target;if(i instanceof Yk){if(t=[],i.resourceStore.map(function(n){var i=n.events||[];i.length||i.push(""),i.forEach(function(i){return t.push(r.getRowData(e,n,i))})}),e.includeUnassigned&&e.eventColumns.length){var o=i.eventStore.query(function(e){return!e.resources.length&&!i.resourceStore.isAvailable(e)});if(o.length){var a=new Array(e.columns.length).fill("");a.push(r.L("L{ExcelExporter.No resource assigned}")),t.push(a),o.forEach(function(n){return t.push(r.getRowData(e,null,n))})}}t=t.filter(function(e){return e.length})}else t=ce()(Q()(n.prototype),"generateRows",this).call(this,e);return t}},{key:"getRowData",value:function(e,t,n){var r=e.columns,i=e.eventColumns,o=[],a=this.processRecord(t,r,e);if(a&&o.push.apply(o,te()(a)),!t||!t.meta.specialRow){var s=this.processRecord(n,i,e);s&&o.push.apply(o,te()(s))}return o}}],[{key:"defaultConfig",get:function(){return{includeUnassigned:!0,eventColumns:[{text:"Task",field:"name"},{text:"Starts",field:"startDate",width:140},{text:"Ends",field:"endDate",width:140}]}}}]),n}(We(gh));function yb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}gb._$name="ScheduleTableExporter";var mb=function(e){X()(n,e);var t=yb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"ExcelExporter"}},{key:"defaultConfig",get:function(){return{exporterClass:gb,exporterConfig:null}}}]),n}(kh);function kb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}mb._$name="ExcelExporter",Ff.registerFeature(mb,!1,"Scheduler");var bb=function(e){X()(n,e);var t=kb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=this;ce()(Q()(n.prototype),"construct",this).apply(this,arguments),e.grid.isPainted?e.addErrorListener():e.grid.on({paint:e.addErrorListener,thisObj:e,once:!0})}},{key:"getImageURL",value:function(e){return _.joinPaths([this.imagePath||"",e||""])}},{key:"addErrorListener",value:function(){var e=this;ur.on({element:this.grid.element,delegate:".b-resource-image",error:function(t){return e.setDefaultResourceImage(t.target)},capture:!0})}},{key:"setDefaultResourceImage",value:function(e){if(this.defaultImageName){var t=this.getImageURL(this.defaultImageName);e.src&&!e.src.endsWith(t.replace(/^[./]*/gm,""))&&(e.src=t)}}},{key:"template",value:function(e){var t,n=this,r=n.showImage,i=n.showRole,o=n.showEventCount,a="string"==typeof i?i:"role",s=e.events.length,u=e.get(n.field);if(r)if(e.imageUrl)t=e.imageUrl;else{var c="string"==typeof r?r:e.image||u&&u.toLowerCase()+n.grid.resourceImageExtension||n.defaultImageName;t=n.getImageURL(c),c.includes(".")||(!n.validNames||n.validNames.includes(c)?t+=n.grid.resourceImageExtension:t=n.getImageURL(n.defaultImageName))}return{class:"b-resource-info",children:[t?{tag:"img",draggable:"false",class:"b-resource-image",src:t}:null,{tag:"dl",children:[{tag:"dt",html:u},i?{tag:"dd",class:"b-resource-role",html:e[a]}:null,o?{tag:"dd",class:"b-resource-events",html:n.L("L{eventCountText}",s)}:null]}]}}},{key:"defaultRenderer",value:function(e){var t,n=e.grid,r=e.record,i=e.cellElement,o=e.value,a=e.isExport;return r.meta.specialRow?t="":a?t=o:(this.autoScaleThreshold&&n.rowHeight<this.autoScaleThreshold?i.style.fontSize=n.rowHeight/40+"em":i.style.fontSize="",t=this.template(r)),t}},{key:"imagePath",set:function(e){this.set("imagePath",e)},get:function(){return this.get("imagePath")||this.grid.resourceImagePath}},{key:"defaultImageName",set:function(e){this.set("defaultImageName",e)},get:function(){return this.get("defaultImageName")||this.grid.defaultResourceImageName}}],[{key:"type",get:function(){return"resourceInfo"}},{key:"fields",get:function(){return["showEventCount","showRole","showImage","imagePath","validNames","defaultImageName","autoScaleThreshold"]}},{key:"defaults",get:function(){return{showImage:!0,showEventCount:!0,showRole:!1,imagePath:null,validNames:["amit","angelo","arcady","arnold","celia","chang","dan","dave","emilia","george","gloria","henrik","hitomi","jong","kate","lee","linda","lisa","lola","macy","madison","malik","mark","maxim","mike","rob","steve"],defaultImageName:null,autoScaleThreshold:40,field:"name",htmlEncode:!1,width:140,cellCls:"b-resourceinfo-cell",editor:!H.isTestEnv&&"text"}}}]),n}(Ul);function wb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(bb),bb._$name="ResourceInfoColumn";var Sb=function(e){X()(n,e);var t=wb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"transformTimeValue",value:function(e){var t=this.project&&this.project.calendar;if(t){var r=xt.clearTime(e),i=xt.add(r,1,"day"),o=t.skipNonWorkingTime(i,!1);if(xt.isValidDate(o)&&xt.isEqual(o,r,"day"))return xt.copyTimeValues(r,o)}return ce()(Q()(n.prototype),"transformTimeValue",this).call(this,e)}}],[{key:"$name",get:function(){return"EndDateField"}},{key:"defaultConfig",get:function(){return{project:null}}}]),n}(gs);function Db(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Sb._$name="EndDateField",ke.register("enddatefield",Sb),ke.register("enddate",Sb);var Rb=function(e){return function(e){X()(n,e);var t=Db(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"requestReadyStateChange",value:function(){this.trigger("readystatechange",{canSave:this.canSave})}},{key:"isReadyStatePropagator",get:function(){return!0}},{key:"canSave",get:function(){return!0}},{key:"widgetClass",get:function(){}}]),n}(e||me(U))};function Cb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var xb=function(e){return function(e){X()(n,e);var t=Cb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getProject",value:function(){return this.record&&this.record.getProject()}},{key:"loadEvent",value:function(e){this.record=e}},{key:"resetData",value:function(){this.record=null}},{key:"beforeSave",value:function(){}},{key:"afterSave",value:function(){this.resetData()}},{key:"beforeCancel",value:function(){}},{key:"afterCancel",value:function(){this.resetData()}},{key:"beforeDelete",value:function(){}},{key:"afterDelete",value:function(){this.resetData()}},{key:"widgetClass",get:function(){}}]),n}(e||Mi)};function Eb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Tb=function(e){return function(e){X()(n,e);var t=Eb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"requestPropagation",value:function(){this.trigger("requestPropagation")}},{key:"isEventChangePropagator",get:function(){return!0}},{key:"widgetClass",get:function(){}}]),n}(e||me(U))};function Mb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Pb=function(e){return function(e){X()(n,e);var t=Mb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"startConfigure",value:function(e){var t;e.extraItems&&e.items&&((t=e.items).push.apply(t,te()(e.extraItems)),e.items.sort(function(e,t){return(0|e.index)-(t.index-0)}));ce()(Q()(n.prototype),"afterConfigure",this).call(this)}},{key:"widgetClass",get:function(){}}]),n}(e)};function Ab(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Ib=function(e){X()(n,e);var t=Ab(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"afterConfigure",value:function(){var e=this;ce()(Q()(n.prototype),"afterConfigure",this).call(this),Object.values(e.widgetMap).forEach(function(t){t.name&&t.on("change",e.onWidgetValueChange,e)}),_e.on({locale:e.onLocaleChange,thisObj:e})}},{key:"loadEvent",value:function(e){this._loading=!0,ce()(Q()(n.prototype),"loadEvent",this).call(this,e),this._loading=!1}},{key:"resetData",value:function(){this._loading=!0,ce()(Q()(n.prototype),"resetData",this).call(this),this._loading=!1}},{key:"onWidgetValueChange",value:function(e){var t=e.source,n=e.value,r=(e.checked,e.valid),i=this.getProject();if(r=void 0!==r?r:"function"==typeof t.isValid?t.isValid():t.isValid,!this._loading&&r&&i&&!i.isPropagating()){var o=this.record,a="set".concat(_.capitalizeFirstLetter(t.name));(a in o||t.name in o||o.$[t.name])&&(a in o?o[a](n):t.name in o?o[t.name]=n:o.$[t.name].put(n),this.requestPropagation())}}},{key:"onLocaleChange",value:function(){var e=this;Object.values(this.widgetMap).forEach(function(t){t instanceof Do&&t.parent===e&&(t.labelWidth=e.L("labelWidth"))})}}],[{key:"$name",get:function(){return"FormTab"}},{key:"defaultConfig",get:function(){return{layoutStyle:{flexFlow:"row wrap",alignItems:"flex-start",alignContent:"flex-start"},defaults:{labelWidth:"7em"}}}}]),n}(Tb(Pb(xb(Mi))));function Fb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Ib._$name="FormTab";var Lb=function(e){X()(n,e);var t=Fb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"transformTimeValue",value:function(e){var t=this.project&&this.project.calendar;if(t){var r=xt.clearTime(e),i=t.skipNonWorkingTime(r);if(xt.isValidDate(i)&&xt.isEqual(i,r,"day"))return xt.copyTimeValues(r,i)}return ce()(Q()(n.prototype),"transformTimeValue",this).call(this,e)}}],[{key:"$name",get:function(){return"StartDateField"}},{key:"defaultConfig",get:function(){return{project:null}}}]),n}(gs);function Ob(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Lb._$name="StartDateField",ke.register("startdatefield",Lb),ke.register("startdate",Lb);var _b=function(e){X()(n,e);var t=Ob(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"EffortField"}},{key:"type",get:function(){return"effort"}}]),n}(Tl);function jb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}_b._$name="EffortField",ke.register(_b.type,_b),ke.register("".concat(_b.type,"field"),_b);var Hb=function(e){X()(n,e);var t=jb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"loadEvent",value:function(e){var t={unit:e.durationUnit,magnitude:1},r=e.isParent,i=this.widgetMap,o=i.fullDurationField,a=i.percentDoneField,s=i.startDateField,u=i.endDateField,c=i.effortField;o&&(o.disabled=r),a&&(a.disabled=r),s&&(s.step=t),u&&(u.step=t,u.disabled=r),c&&(c.unit=e.effortUnit,c.disabled=r),ce()(Q()(n.prototype),"loadEvent",this).call(this,e)}}],[{key:"$name",get:function(){return"GeneralTab"}},{key:"type",get:function(){return"generaltab"}},{key:"defaultConfig",get:function(){return{localeClass:this,title:"L{General}",ref:"generaltab",defaults:{localeClass:this,labelWidth:this.L("labelWidth")},items:[{type:"text",required:!0,label:"L{Name}",clearable:!0,name:"name",ref:"nameField",cls:"b-name"},{type:"number",label:"L{% complete}",name:"renderedPercentDone",ref:"percentDoneField",cls:"b-percent-done b-inline",flex:"1 0 50%",min:0,max:100},{type:"effort",label:"L{Effort}",name:"fullEffort",ref:"effortField",flex:"1 0 50%"},{html:"",dataset:{text:this.L("L{Dates}")},cls:"b-divider",flex:"1 0 100%"},{type:"startdate",label:"L{Start}",name:"startDate",ref:"startDateField",cls:"b-start-date b-inline",flex:"1 0 50%"},{type:"enddate",label:"L{Finish}",name:"endDate",ref:"endDateField",cls:"b-end-date",flex:"1 0 50%"},{type:"durationfield",label:"L{Duration}",name:"fullDuration",ref:"fullDurationField",flex:".5 0",cls:"b-inline"}]}}}]),n}(Ib);function Nb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Hb._$name="GeneralTab",ke.register(Hb.type,Hb);var Bb=function(e){X()(n,e);var t=Nb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"value",get:function(){var e=ce()(Q()(n.prototype),"value",this);return this.store.getById(e)||e},set:function(e){di()(Q()(n.prototype),"value",e,this,!0)}}],[{key:"$name",get:function(){return"ModelCombo"}},{key:"type",get:function(){return"modelcombo"}}]),n}(Ja);function zb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Bb._$name="ModelCombo",ke.register(Bb.type,Bb);var Vb=function(e){X()(n,e);var t=zb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"value",get:function(){return ce()(Q()(n.prototype),"value",this)},set:function(e){e&&e.isDefault&&e.isDefault()&&(e=null),di()(Q()(n.prototype),"value",e,this,!0)}}],[{key:"$name",get:function(){return"CalendarField"}},{key:"type",get:function(){return"calendarfield"}},{key:"defaultConfig",get:function(){var e=this;return{valueField:"id",displayField:"name",editable:!1,listItemTpl:function(t){return t&&t.name?t.name:e.L("L{Default calendar}")},displayValueRenderer:function(t){return t?t.name:e.L("L{Default calendar}")}}}}]),n}(Bb);function Wb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Vb._$name="CalendarField",ke.register(Vb.type,Vb);var $b=function(e){X()(n,e);var t=Wb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"loadEvent",value:function(e){var t={unit:e.durationUnit,magnitude:1},r=e.isParent,i=this.widgetMap,o=i.fullDurationField,a=i.percentDoneField,s=i.startDateField,u=i.endDateField,c=i.calendarField,l=!this.record;o&&(o.disabled=r),a&&(a.disabled=r),s&&(s.step=t),u&&(u.step=t,u.disabled=r),c&&l&&(c.store=e.getProject().getCalendarManagerStore()),ce()(Q()(n.prototype),"loadEvent",this).call(this,e)}}],[{key:"$name",get:function(){return"SchedulerGeneralTab"}},{key:"type",get:function(){return"schedulergeneraltab"}},{key:"defaultConfig",get:function(){return{localeClass:this,title:"L{General}",ref:"generaltab",defaults:{localeClass:this,labelWidth:this.L("labelWidth")},items:[{type:"text",required:!0,label:"L{Name}",clearable:!0,name:"name",ref:"nameField",cls:"b-name"},{type:"number",label:"L{% complete}",name:"renderedPercentDone",ref:"percentDoneField",cls:"b-percent-done b-inline",flex:"1 0 50%",min:0,max:100},{type:"calendarfield",ref:"calendarField",name:"calendar",label:"L{Calendar}",flex:"1 0 50%"},{html:"",dataset:{text:this.L("L{Dates}")},cls:"b-divider",flex:"1 0 100%"},{type:"date",label:"L{Start}",name:"startDate",ref:"startDateField",cls:"b-start-date b-inline",flex:"1 0 50%"},{type:"date",label:"L{Finish}",name:"endDate",ref:"endDateField",cls:"b-end-date",flex:"1 0 50%"},{type:"durationfield",label:"L{Duration}",name:"fullDuration",ref:"fullDurationField",flex:"1 0 50%",cls:"b-inline"},{type:"checkbox",ref:"manuallyScheduledField",name:"manuallyScheduled",label:"L{Manually scheduled}",flex:"1 0 50%"}]}}}]),n}(Hb);$b._$name="SchedulerGeneralTab",ke.register($b.type,$b);var Gb,Yb,Ub,qb,Xb,Kb,Zb;function Jb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}!function(e){e.Millisecond="millisecond",e.Second="second",e.Minute="minute",e.Hour="hour",e.Day="day",e.Week="week",e.Month="month",e.Quarter="quarter",e.Year="year"}(Gb||(Gb={})),function(e){e.MustStartOn="muststarton",e.MustFinishOn="mustfinishon",e.StartNoEarlierThan="startnoearlierthan",e.StartNoLaterThan="startnolaterthan",e.FinishNoEarlierThan="finishnoearlierthan",e.FinishNoLaterThan="finishnolaterthan"}(Yb||(Yb={})),function(e){e.Normal="Normal",e.FixedDuration="FixedDuration",e.FixedEffort="FixedEffort",e.FixedUnits="FixedUnits"}(Ub||(Ub={})),function(e){e[e.StartToStart=0]="StartToStart",e[e.StartToEnd=1]="StartToEnd",e[e.EndToStart=2]="EndToStart",e[e.EndToEnd=3]="EndToEnd"}(qb||(qb={})),function(e){e.Project="Project",e.FromEvent="FromEvent",e.ToEvent="ToEvent"}(Xb||(Xb={})),function(e){e[e.Unknown=0]="Unknown",e[e.Gantt=1]="Gantt",e[e.Scheduler=2]="Scheduler"}(Kb||(Kb={})),function(e){e.Forward="Forward",e.Backward="Backward",e.None="None"}(Zb||(Zb={}));var Qb=function(e){return e.map(function(e,t){return[t,e]})},ew=function(e){X()(n,e);var t=Jb(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this;ce()(Q()(n.prototype),"construct",this).call(this,e),_e.on({locale:function(){t.items=Qb(t.L("L{SchedulerProCommon.dependencyTypesLong}"))},thisObj:this})}},{key:"store",get:function(){return this._items||(this.items=this._items=Qb(this.L("L{SchedulerProCommon.dependencyTypesLong}"))),ce()(Q()(n.prototype),"store",this)},set:function(e){di()(Q()(n.prototype),"store",e,this,!0)}}],[{key:"$name",get:function(){return"DependencyTypePicker"}},{key:"type",get:function(){return"dependencytypepicker"}}]),n}(Ja);function tw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ew._$name="DependencyTypePicker",ke.register(ew.type,ew);var nw=function(e){X()(n,e);var t=tw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"defaultRenderer",value:function(e){var t=e.record,n=e.isExport,r=t[this.field],i=oe()(r),o="number"===i?r:r&&r.magnitude;if("number"!=typeof o)return n?"":null;switch(i){case"number":return this.round(o)+" "+xt.getLocalizedNameOfUnit(t[this.durationUnitField],1!==r);case"object":return this.round(o)+" "+xt.getLocalizedNameOfUnit(r.unit,1!==r.magnitude)}}},{key:"round",value:function(e){var t=this.decimalPrecision;if(!1===t)return e;null==t&&(t=this.grid.durationDisplayPrecision||1);var n=Math.pow(10,t);return Math.round(e*n)/n}},{key:"canEdit",value:function(e){return e.isLeaf}},{key:"durationUnitField",get:function(){return"".concat(this.field,"Unit")}},{key:"defaultEditor",get:function(){return{type:"duration",name:this.field}}}],[{key:"type",get:function(){return"duration"}},{key:"isGanttColumn",get:function(){return!0}},{key:"fields",get:function(){return[{name:"decimalPrecision",defaultValue:null}]}},{key:"defaults",get:function(){return{field:"fullDuration",text:"L{Duration}",min:0,step:1,instantUpdate:!0,sortable:function(e,t){var n=e.isScheduled?e.calendar.calculateDuration(e.startDate,e.endDate,Gb.Millisecond):0,r=t.isScheduled?t.calendar.calculateDuration(t.startDate,t.endDate,Gb.Millisecond):0;return n===r?0:n<r?-1:1}}}}]),n}(hf);function rw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(nw),nw._$name="DurationColumn";var iw=function(e,t){e.instanceMeta(t).valid=!0},ow=function(e,t){e.instanceMeta(t).valid=!1},aw=function(e,t){return!1!==e.instanceMeta(t).valid},sw=function(e){X()(r,e);var t,n=rw(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"afterConstruct",value:function(){ce()(Q()(r.prototype),"afterConstruct",this).call(this);var e=this,t=e.addButton=e.widgetMap["".concat(e.ref,"-add")],n=e.removeButton=e.widgetMap["".concat(e.ref,"-remove")],i=e.grid=e.widgetMap["".concat(e.ref,"-grid")];t&&t.on("click",e.onAddClick,e),n&&n.on("click",e.onRemoveClick,e),i.on({selectionChange:e.onGridSelectionChange,startCellEdit:e.onGridStartCellEdit,finishCellEdit:e.onGridFinishCellEdit,cancelCellEdit:e.onGridCancelCellEdit,thisObj:e})}},{key:"loadEvent",value:function(e){var t=this,n=t.dependencyGrid,i=!n.store.isChained,o=!i&&e!==t.record;ce()(Q()(r.prototype),"loadEvent",this).call(this,e);var a=t.taskCombo,s=t.getProject().getDependencyStore(),u=t.getProject().getEventStore();i?(t.depStoreGeneration=s.storage.generation,t.eventStoreGeneration=u.storage.generation,n.store=s.makeChained(function(e){return e[t.negDirection]===t.record},null),a.store=u.makeChained(function(e){return e!==t.record},null,{doRelayToMaster:[],excludeCollapsedRecords:!1}),a.store.filterBy(function(e){return!n.store.find(function(n){return n[t.direction]===e})}),a.on({thisObj:t,change:"onGridCellEditChange"})):((o||s.storage.generation!==t.depStoreGeneration)&&(n.store.fillFromMaster(),t.depStoreGeneration=s.storage.generation),(o||u.storage.generation!==t.eventStoreGeneration)&&(a.store.fillFromMaster(),t.eventStoreGeneration=u.storage.generation)),t.requestReadyStateChange()}},{key:"unshadowAll",value:function(){var e=this;this.dependencyGrid.store.forEach(function(t){t.isShadowed&&(t.forEachFieldAtom(function(e){e.clearUserInput()}),iw(t,e.dependencyGrid),t.unshadow())})}},{key:"beforeSave",value:function(){this.unshadowAll(),ce()(Q()(r.prototype),"beforeSave",this).call(this)}},{key:"beforeCancel",value:function(){var e=this._activeCellEdit;e&&e.editor.cancelEdit(),this.unshadowAll(),ce()(Q()(r.prototype),"beforeCancel",this).call(this)}},{key:"insertNewDependency",value:(t=ro()(to.a.mark(function e(){var t,n,r,i,o,a,s;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=this).dependencyGrid,r=n.store,i=t.getProject().getDependencyStore(),o=r.insert(0,se()({type:qb.EndToStart,lag:0,lagUnit:Gb.Day},t.negDirection,t.record)),a=re()(o,1),s=a[0],t.depStoreGeneration=i.storage.generation,n.features.cellEdit.startEditing({field:t.direction,id:s.id}),ow(s,n),e.abrupt("return",s);case 6:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"onAddClick",value:function(){this.insertNewDependency()}},{key:"onRemoveClick",value:function(){var e=this,t=e.dependencyGrid.selectedRecords,n=t.some(function(e){return!e.isShadowed()});e.getProject().getDependencyStore().remove(t),e.dependencyGrid.selectedRecords=null,e.taskCombo.store.fillFromMaster(),e.removeButton.disable(),n&&e.requestPropagation()}},{key:"onGridSelectionChange",value:function(e){var t=e.selection;t&&t.length?this.removeButton.enable():this.removeButton.disable()}},{key:"clearActiveEditorErrors",value:function(){var e=this._activeCellEdit;e&&e.column.field===this.direction&&e.editor.inputField.clearError()}},{key:"onGridCellEditChange",value:function(){this.clearActiveEditorErrors()}},{key:"onGridStartCellEdit",value:function(e){var t=e.editorContext,n=this,r=n._editingDependency=t.record,i=n.dependencyGrid,o=n.direction;n._activeCellEdit=t,t.column.field===o&&(aw(r,i)?n.clearActiveEditorErrors():r[o]?t.editor.inputField.setError(n.L("L{Cyclic dependency has been detected}")):t.editor.inputField.setError(n.L("L{Invalid dependency}")),r.shadow())}},{key:"onGridFinishCellEdit",value:function(e){var t,n=e.editorContext,r=this,i=n.record,o=n.column,a=r.direction,s=r.dependencyGrid;o.field===a?i[a]?r.getProject().getDependencyStore().isValidDependency((t={},se()(t,r.direction,i[r.direction]),se()(t,r.negDirection,i[r.negDirection]),se()(t,"lag",i.lag),se()(t,"lagUnit",i.lagUnit),se()(t,"type",i.type),t)).then(function(e){e?(iw(i,r.dependencyGrid),i.unshadow(),r.taskCombo.store.fillFromMaster(),r.redrawDependencyRow(i),r.requestPropagation(),r.requestReadyStateChange()):(ow(i,s),r.redrawDependencyRow(i),Qi.show({html:r.L("L{Cyclic dependency has been detected}")}),r.requestReadyStateChange())}):(ow(i,s),r.redrawDependencyRow(i),r.requestReadyStateChange()):(r.redrawDependencyRow(i),i[a]&&aw(i,s)&&(i.unshadow(),r.requestPropagation()),r.requestReadyStateChange());r._activeCellEdit=r._editingDependency=null}},{key:"onGridCancelCellEdit",value:function(e){var t=this;if(t._editingDependency){var n=t._editingDependency,r=t.dependencyGrid;n[t.direction]?aw(n,r)&&n.unshadow():(ow(n,r),t.redrawDependencyRow(n)),t._activeCellEdit=t._editingDependency=null}t.requestReadyStateChange()}},{key:"redrawDependencyRow",value:function(e){var t=this.dependencyGrid,n=t.rowManager.getRowById(e);n&&n.render(t.store.indexOf(e),e)}},{key:"dependencyGrid",get:function(){return this.widgetMap&&this.widgetMap["".concat(this.ref,"-grid")]}},{key:"taskCombo",get:function(){var e=this.dependencyGrid,t=e&&e.columns.get(this.direction);return t&&t.editor}},{key:"canSave",get:function(){var e=this.dependencyGrid;return e.store.reduce(function(t,n){return t&&aw(n,e)},!0)}}],[{key:"makeDefaultConfig",value:function(e){var t="fromEvent"===e?"predecessorstab":"successorstab";return{direction:e,negDirection:"fromEvent"===e?"toEvent":"fromEvent",ref:t,localeClass:this,title:"fromEvent"===e?"L{Predecessors}":"L{Successors}",layoutStyle:{flexFlow:"column nowrap"},items:[{type:"container",flex:"0 0 auto",items:[{type:"button",cls:"b-add-button b-green",icon:"b-icon b-icon-add",ref:"".concat(t,"-add")},{type:"button",cls:"b-remove-button b-red",icon:"b-icon b-icon-trash",disabled:!0,ref:"".concat(t,"-remove")}]},{type:"grid",flex:"1 1 auto",ref:"".concat(t,"-grid"),emptyText:"",columns:[{localeClass:this,text:"L{ID}",flex:1,editor:!1,htmlEncode:!1,renderer:function(t){var n,r=t.record,i=t.row,o=t.grid;if(aw(r,o)){var a=r[e];n=!a||a.hasGeneratedId?"*":a.id}else i.addCls("b-invalid"),n='<div class="b-icon b-icon-warning"></div>';return n}},{localeClass:this,text:"L{Name}",field:e,flex:5,renderer:function(e){var t=e.value;return t&&t.name||""},editor:{type:"modelcombo",displayField:"name",valueField:"id",editable:!1,allowInvalid:!0}},{localeClass:this,text:"L{Type}",field:"type",flex:3,editor:"dependencytypepicker",renderer:function(e){var t=e.value;return this.L("L{SchedulerProCommon.dependencyTypesLong}")[t]}},{localeClass:this,text:"L{Lag}",type:"duration",field:"fullLag",flex:2,editor:{allowNegative:!0}}],disableGridRowModelWarning:!0}]}}},{key:"$name",get:function(){return"DependencyTab"}}]),r}(Rb(Tb(Pb(xb(yr(Mi))))));function uw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}sw._$name="DependencyTab";var cw=function(e){X()(n,e);var t=uw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"SuccessorsTab"}},{key:"type",get:function(){return"successorstab"}},{key:"defaultConfig",get:function(){return Object.assign(this.makeDefaultConfig("toEvent"),{cls:"b-successors-tab"})}}]),n}(sw);function lw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}cw._$name="SuccessorsTab",ke.register(cw.type,cw);var fw=function(e){X()(n,e);var t=lw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"PredecessorsTab"}},{key:"type",get:function(){return"predecessorstab"}},{key:"defaultConfig",get:function(){return Object.assign(this.makeDefaultConfig("fromEvent"),{cls:"b-predecessors-tab"})}}]),n}(sw);function dw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}fw._$name="PredecessorsTab",ke.register(fw.type,fw);var hw=function(e){X()(r,e);var t,n=dw(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"afterConstruct",value:function(){ce()(Q()(r.prototype),"afterConstruct",this).call(this);var e=this,t=e.addButton=e.widgetMap["resourcestab-add"],n=e.removeButton=e.widgetMap["resourcestab-remove"],i=e.grid=e.widgetMap["resourcestab-grid"];t&&t.on("click",e.onAddClick,e),n&&n.on("click",e.onRemoveClick,e),i.on({selectionChange:e.onGridSelectionChange,startCellEdit:e.onGridStartCellEdit,finishCellEdit:e.onGridFinishCellEdit,thisObj:e})}},{key:"loadEvent",value:function(e){var t=this,n=t.assignmentGrid,i=!n.store.isChained,o=!i&&e!==t.record;ce()(Q()(r.prototype),"loadEvent",this).call(this,e);var a=t.resourceCombo,s=t.getProject().getAssignmentStore(),u=t.getProject().getResourceStore();i?(t.assignmentStoreGeneration=s.storage.generation,t.resourceStoreGeneration=u.storage.generation,n.store=s.makeChained(function(e){return t.record&&e.event===t.record},["resource"]),a.store=u.makeChained(function(e){return t.record&&!t.record.isAssignedTo(e)||!t.activeAssignment||t.activeAssignment.resource===e})):((o||s.storage.generation!==t.assignmentStoreGeneration)&&n.store.fillFromMaster(),(o||u.storage.generation!==t.resourceStoreGeneration)&&a.store.fillFromMaster())}},{key:"insertNewAssignment",value:(t=ro()(to.a.mark(function e(){var t,n,r,i,o,a,s;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=this).getProject(),r=n.getAssignmentStore(),i=t.assignmentGrid,o=r.insert(0,{event:t.record,resource:null,units:100}),a=re()(o,1),s=a[0],t.assignmentStoreGeneration=r.storage.generation,i.features.cellEdit.startEditing({field:"resource",id:s.id}),e.abrupt("return",s);case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"beforeSave",value:function(){this.pruneInvalidAssignments()}},{key:"onAddClick",value:function(){this.insertNewAssignment()}},{key:"onRemoveClick",value:function(){var e=this;e.assignmentGrid.store.remove(e.assignmentGrid.selectedRecords),e.assignmentGrid.selectedRecords=null,e.removeButton.disable(),e.requestPropagation()}},{key:"onGridSelectionChange",value:function(e){var t=e.selection;t&&t.length?this.removeButton.enable():this.removeButton.disable()}},{key:"onGridStartCellEdit",value:function(e){var t=e.editorContext;"resource"===t.column.field&&(this.resourceCombo.store.fillFromMaster(),this._editingAssignment=t.record)}},{key:"onGridFinishCellEdit",value:function(){var e=this;e._editingAssignment?(e._editingAssignment.resource&&e.requestPropagation(),e._editingAssignment=null):e.requestPropagation()}},{key:"pruneInvalidAssignments",value:function(){var e=this.assignmentGrid.store;e.remove(e.query(function(e){return!e.isValid}))}},{key:"assignmentGrid",get:function(){return this.widgetMap&&this.widgetMap["resourcestab-grid"]}},{key:"resourceCombo",get:function(){var e=this.assignmentGrid,t=e&&e.columns.get("resource");return t&&t.editor}},{key:"activeAssignment",get:function(){return this.assignmentGrid.features.cellEdit.activeRecord}}],[{key:"$name",get:function(){return"ResourcesTab"}},{key:"type",get:function(){return"resourcestab"}},{key:"defaultConfig",get:function(){var e=this;return{localeClass:this,ref:"resourcestab",title:"L{Resources}",layoutStyle:{flexFlow:"column nowrap"},items:[{type:"container",flex:"0 0 auto",items:[{type:"button",cls:"b-add-button b-green",icon:"b-icon b-icon-add",ref:"resourcestab-add"},{type:"button",cls:"b-remove-button b-red",icon:"b-icon b-icon-trash",disabled:!0,ref:"resourcestab-remove"}]},{type:"grid",flex:"1 1 auto",ref:"resourcestab-grid",columns:[{localeClass:this,text:"L{Resource}",field:"resource",flex:7,renderer:function(e){var t=e.value;return t&&t.name||""},editor:{type:"modelcombo",displayField:"name",valueField:"id",editable:!1}},{localeClass:this,text:"L{Units}",field:"units",flex:3,renderer:function(t){return e.L("L{unitsTpl}",t)},editor:{type:"numberfield",min:0,max:100,step:10}}],disableGridRowModelWarning:!0}]}}}]),r}(Tb(Pb(xb(Mi))));function pw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}hw._$name="ResourcesTab",ke.register(hw.type,hw);var vw=function(e){X()(n,e);var t=pw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"updateLocalization",value:function(){ce()(Q()(n.prototype),"updateLocalization",this).call(this),this.store.data=this.buildStoreData()}},{key:"buildStoreData",value:function(){var e=this;return[{id:"none",text:e.L("L{none}")},{id:"muststarton",text:e.L("L{muststarton}")},{id:"mustfinishon",text:e.L("L{mustfinishon}")},{id:"startnoearlierthan",text:e.L("L{startnoearlierthan}")},{id:"startnolaterthan",text:e.L("L{startnolaterthan}")},{id:"finishnoearlierthan",text:e.L("L{finishnoearlierthan}")},{id:"finishnolaterthan",text:e.L("L{finishnolaterthan}")}]}},{key:"value",set:function(e){di()(Q()(n.prototype),"value",e,this,!0)},get:function(){var e=ce()(Q()(n.prototype),"value",this);return"none"===e?null:e}},{key:"store",get:function(){return this._store||(this.store=new Ra({data:this.buildStoreData(),allowNullId:!0})),this._store},set:function(e){di()(Q()(n.prototype),"store",e,this,!0)}}],[{key:"$name",get:function(){return"ConstraintTypePicker"}},{key:"type",get:function(){return"constrainttypepicker"}}]),n}(Ja);function gw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}vw._$name="ConstraintTypePicker",ke.register(vw.type,vw);var yw=function(e){X()(n,e);var t=gw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"buildStoreData",value:function(){return[{id:Ub.Normal,text:this.L("L{Normal}")},{id:Ub.FixedDuration,text:this.L("L{Fixed Duration}")},{id:Ub.FixedUnits,text:this.L("L{Fixed Units}")},{id:Ub.FixedEffort,text:this.L("L{Fixed Effort}")}]}},{key:"updateLocalization",value:function(){ce()(Q()(n.prototype),"updateLocalization",this).call(this),this.store.data=this.buildStoreData()}},{key:"store",get:function(){return this._store||(this.store=new Ra({data:this.buildStoreData()})),this._store},set:function(e){di()(Q()(n.prototype),"store",e,this,!0)}}],[{key:"$name",get:function(){return"SchedulingModePicker"}},{key:"type",get:function(){return"schedulingmodecombo"}}]),n}(Ja);function mw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}yw._$name="SchedulingModePicker",ke.register(yw.type,yw);var kw=function(e){X()(n,e);var t=mw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"loadEvent",value:function(e){var t=!this.record,r=this.calendarField;r&&t&&(r.store=e.getProject().getCalendarManagerStore()),ce()(Q()(n.prototype),"loadEvent",this).call(this,e)}},{key:"calendarField",get:function(){return this.widgetMap.calendarField}},{key:"constraintTypeField",get:function(){return this.widgetMap.constraintTypeField}},{key:"constraintDateField",get:function(){return this.widgetMap.constraintDateField}}],[{key:"$name",get:function(){return"AdvancedTab"}},{key:"type",get:function(){return"advancedtab"}},{key:"defaultConfig",get:function(){return{localeClass:this,title:"L{Advanced}",ref:"advancedtab",defaults:{localeClass:this,labelWidth:this.L("labelWidth")},items:[{type:"calendarfield",ref:"calendarField",name:"calendar",label:"L{Calendar}",flex:"1 0 50%",cls:"b-inline"},{type:"checkbox",ref:"manuallyScheduledField",name:"manuallyScheduled",label:"L{Manually scheduled}",flex:"1 0 50%"},{type:"schedulingmodecombo",ref:"schedulingModeField",name:"schedulingMode",label:"L{Scheduling mode}",flex:"1 0 50%",cls:"b-inline"},{type:"checkbox",ref:"effortDrivenField",name:"effortDriven",label:"L{Effort driven}",flex:"1 0 50%"},{html:"",dataset:{text:this.L("L{Constraint}")},cls:"b-divider",flex:"1 0 100%"},{type:"constrainttypepicker",ref:"constraintTypeField",name:"constraintType",label:"L{Constraint type}",clearable:!0,flex:"1 0 50%",cls:"b-inline"},{type:"date",ref:"constraintDateField",name:"constraintDate",label:"L{Constraint date}",flex:"1 0 50%",cls:"b-inline"},{type:"checkbox",ref:"rollupField",name:"rollup",label:"L{Rollup}",flex:"1 0 50%",cls:"b-inline"}]}}}]),n}(Ib);function bw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}kw._$name="AdvancedTab",ke.register(kw.type,kw);var ww=function(e){X()(n,e);var t=bw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"NotesTab"}},{key:"type",get:function(){return"notestab"}},{key:"defaultConfig",get:function(){return{localeClass:this,title:"L{Notes}",ref:"notestab",layoutConfig:{alignItems:"flex-start",alignContent:"stretch"},items:[{type:"textareafield",cls:"b-taskeditor-notes-field",name:"note"}]}}}]),n}(Ib);function Sw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ww._$name="NotesTab",ke.register(ww.type,ww);var Dw=function(e){X()(n,e);var t=Sw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"processWidgetConfig",value:function(e){var t,n=this;switch((null===(t=e.type)||void 0===t?void 0:t.includes("date"))&&null==e.weekStartDay&&(e.weekStartDay=n.weekStartDay),e.ref){case"startDateField":case"endDateField":e.project=n.project;break;case"fullDurationField":e.decimalPrecision=n.durationDecimalPrecision;break;case"predecessorstab-grid":case"successorstab-grid":e.durationDisplayPrecision=n.durationDisplayPrecision;break;case"tabs":e.items.forEach(function(e){e.extraItems=(n.extraItems||{})[e.type]})}return!("deleteButton"===e.ref&&!n.showDeleteButton)&&e}},{key:"startConfigure",value:function(e){var t=e.tabsConfig||{},r=It.clone(e.defaultTabs);Object.keys(t).forEach(function(e){var n,i=t[e],o=r.find(function(t,r){return n=r,(e||"").toLowerCase()===t.type});o?!1===i?r.splice(n,1):"object"===oe()(i)&&Object.assign(o,i):r.push(i)}),e.items[0].items=r,ce()(Q()(n.prototype),"startConfigure",this).call(this,e)}},{key:"afterConfigure",value:function(){var e=this,t=e.widgetMap,n=e.bbar&&e.bbar.widgetMap||{},r=n.cancelButton,i=n.deleteButton,o=n.saveButton;o&&o.on("click",e.onSaveClick,e),r&&r.on("click",e.onCancelClick,e),i&&i.on("click",e.onDeleteClick,e),Object.values(t).forEach(function(t){t.isEventChangePropagator&&t.on("requestPropagation",e.onPropagationRequested,e),t.isReadyStatePropagator&&t.on("readystatechange",e.onReadyStateChange,e)}),_e.on({locale:e.onLocaleChange,thisObj:e})}},{key:"onSaveClick",value:function(){this.canSave?this.trigger("save"):Qi.show({html:this.L("L{saveError}")})}},{key:"onCancelClick",value:function(){this.trigger("cancel")}},{key:"onDeleteClick",value:function(){this.trigger("delete")}},{key:"onPropagationRequested",value:function(){this.trigger("requestPropagation")}},{key:"onReadyStateChange",value:function(e){var t=e.source,n=e.canSave;this.requestReadyStateChange(),t.couldSaveTitle||(t.couldSaveTitle=t.title),t.parent===this.widgetMap.tabs&&(n?(t.titleElement.classList.remove("b-invalid"),t.title=t.couldSaveTitle,t.couldSaveTitle=null):(t.titleElement.classList.add("b-invalid"),t.title="<span class='b-icon b-icon-warning'></span>".concat(t.couldSaveTitle)))}},{key:"cancelAndHide",value:function(){this.onCancelClick()}},{key:"loadEvent",value:function(e){this.eachWidget(function(t){return"function"==typeof t.loadEvent&&t.loadEvent(e),!0})}},{key:"beforeSave",value:function(){this.callWidgetHook("beforeSave")}},{key:"afterSave",value:function(){this.callWidgetHook("afterSave")}},{key:"beforeCancel",value:function(){this.callWidgetHook("beforeCancel")}},{key:"afterCancel",value:function(){this.callWidgetHook("afterCancel")}},{key:"beforeDelete",value:function(){this.callWidgetHook("beforeDelete")}},{key:"afterDelete",value:function(){this.callWidgetHook("afterDelete")}},{key:"callWidgetHook",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.eachWidget(function(n){"function"==typeof n[e]&&n[e].apply(n,te()(t))})}},{key:"onInternalKeyDown",value:function(e){if("Enter"===e.key&&this.saveAndCloseOnEnter&&"input"===e.target.tagName.toLowerCase()){if(e.target.matches("input")){var t=De.fromElement(e.target);t&&t.internalOnChange&&t.internalOnChange()}e.preventDefault(),this.onSaveClick()}ce()(Q()(n.prototype),"onInternalKeyDown",this).call(this,e)}},{key:"onLocaleChange",value:function(){this.width=this.L("L{editorWidth}")}},{key:"extraWidgets",get:function(){return console.warn("`extraWidgets` was deprecated in 1.0.1, please change your code to use `extraItems`"),this.extraItems},set:function(e){console.warn("`extraWidgets` was deprecated in 1.0.1, please change your code to use `extraItems`"),this.extraItems=e}},{key:"canSave",get:function(){var e=!0;return Object.values(this.widgetMap).forEach(function(t){t.isReadyStatePropagator&&(e=e&&t.canSave)}),e}},{key:"canCancel",get:function(){var e=!0;return Object.values(this.widgetMap).forEach(function(t){t.isReadyStatePropagator&&(e=e&&t.canCancel)}),e}}],[{key:"$name",get:function(){return"TaskEditorBase"}},{key:"defaultConfig",get:function(){return{localeClass:this,title:"L{Information}",width:this.L("L{editorWidth}"),cls:"b-schedulerpro-taskeditor",closable:!0,draggable:{handleSelector:":not(button,.b-field-inner)"},axisLock:"flexible",autoClose:!0,onChange:null,onCancel:null,onSave:null,autoShow:!1,height:"30em",closeAction:"cancelAndHide",items:null,bbar:[{text:"L{Save}",localeClass:this,type:"button",color:"b-green",ref:"saveButton"},{text:"L{Delete}",localeClass:this,type:"button",color:"b-gray",ref:"deleteButton"},{text:"L{Object.Cancel}",localeClass:this,type:"button",color:"b-gray",ref:"cancelButton"}],durationDecimalPrecision:1,extraItems:null,tabsConfig:null,extraWidgets:null,defaultTabs:null,project:null}}}]),n}(Rb(Hi));function Rw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Dw._$name="TaskEditorBase";var Cw=function(e){X()(n,e);var t=Rw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"GanttTaskEditor"}},{key:"defaultConfig",get:function(){return{items:[{type:"tabpanel",ref:"tabs",flex:"1 0 100%",layoutConfig:{alignItems:"stretch",alignContent:"stretch"},items:[]}],defaultTabs:[{type:"generaltab"},{type:"successorstab"},{type:"predecessorstab"},{type:"resourcestab"},{type:"advancedtab"},{type:"notestab"}]}}}]),n}(Dw);function xw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Cw._$name="GanttTaskEditor";var Ew=function(e){return function(e){X()(n,e);var t=xw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"addAssignment",value:function(e){var t=e.event,n=e.resource,r=e.assignmentStore,i=e.assignmentConfig,o={assignment:r.add(Object.assign({},i,{event:t,resource:n}))[0]};return o.propagationPromise=r.getProject().propagate(),o}},{key:"removeAssignments",value:function(e,t){var n=new Set;return e.forEach(function(r){var i=r.event;i&&!i.placeHolder&&t&&(i.assignments.every(function(t){return e.includes(t)})?n.has(i.id)||(i.remove(),n.add(i.id)):r.remove())}),this.project.propagate()}}]),n}(e||U)};function Tw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Mw=function(e,t){if(e!==t)throw new Error("Store set is prohibited for Scheduler Pro entity!")},Pw=function(e){return function(e){X()(n,e);var t=Tw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"taskStore",get:function(){return this.eventStore},set:function(e){this.eventStore=e}},{key:"eventStore",get:function(){var e=this.getProject();return e&&e.getEventStore()||null},set:function(e){Mw(this.eventStore,e)}},{key:"leftProjectEventStore",get:function(){var e=this.leftProject;return e&&e.getEventStore()||null}},{key:"dependencyStore",get:function(){var e=this.getProject();return e&&e.getDependencyStore()||null},set:function(e){Mw(this.dependencyStore,e)}},{key:"assignmentStore",get:function(){var e=this.getProject();return e&&e.getAssignmentStore()||null},set:function(e){Mw(this.assignmentStore,e)}},{key:"resourceStore",get:function(){var e=this.getProject();return e&&e.getResourceStore()||null},set:function(e){Mw(this.resourceStore,e)}},{key:"calendarManagerStore",get:function(){var e=this.getProject();return e&&e.getCalendarManagerStore()||null},set:function(e){Mw(this.calendarManagerStore,e)}}],[{key:"relationConfig",get:function(){return[]}}]),n}(e||U)},Aw=function(){function e(){E()(this,e)}return M()(e,[{key:"initialize",value:function(e){e&&Object.assign(this,e)}}],[{key:"new",value:function(e){var t=new this;return t.initialize(e),t}}]),e}();function Iw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Fw;!function(e){e[e.Cancel=0]="Cancel",e[e.Restart=1]="Restart",e[e.Resume=2]="Resume"}(Fw||(Fw={}));var Lw=function(e){X()(n,e);var t=Iw(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(Aw),Ow=function(e){X()(n,e);var t=Iw(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(Lw),_w=function(e){X()(n,e);var t=Iw(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(Lw),jw=function(e){X()(n,e);var t=Iw(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(Lw),Hw=function(e){X()(n,e);var t=Iw(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(Lw);function Nw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Bw;!function(e){e[e.Cancel=0]="Cancel",e[e.Resume=1]="Resume"}(Bw||(Bw={}));var zw=function(e){X()(n,e);var t=Nw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onNode",value:function(e){}},{key:"onTopologicalNode",value:function(e){}},{key:"onCycle",value:function(e,t){return Bw.Cancel}}]),n}(Aw),Vw=function(e){return function(e){X()(n,e);var t=Nw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"walkDepth",value:function(e){for(var t,n=new Map,r=new Set,i=[{node:this,from:this}],o=function(){var o=i[t-1].node;if(r.has(o))return i.pop(),"continue";var a=n.get(o);if(null!=a){if(a<t){if(e.onCycle(o,i)!==Bw.Resume)return"break"}else r.add(o),e.onTopologicalNode(o);i.pop()}else{n.set(o,t),e.onNode(o);var s=i.length;e.forEachNext(o,function(e){return i.push({node:e,from:o})}),i.length===s&&(r.add(o),e.onTopologicalNode(o),i.pop())}};t=i.length;){var a=o();if("continue"!==a&&"break"===a)break}}}]),n}(e)},Ww=function(e){var t=e[e.length-1].node,n=[t],r=e.length-1,i=e.length-1;do{for(;r>=0&&e[r].from===e[i].from;r--);r>=0&&(n.push(e[r].node),i=r,r--)}while(r>=0&&e[r].node!==t);return n.push(t),n.reverse()},$w=function(e){X()(n,e);var t=Nw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"forEachNext",value:function(e,t){e.forEachOutgoing(this,t)}}]),n}(zw),Gw=function(e){var t=function(e){X()(n,e);var t=Nw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"forEachOutgoing",value:function(e,t){this.getOutgoing(e).forEach(t)}}]),n}(e);return t},Yw=function(e){var t=function(e){X()(n,e);var t=Nw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"forEachIncoming",value:function(e,t){this.getIncoming(e).forEach(t)}}]),n}(e);return t};function Uw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var qw=function(e){return function(e){X()(n,e);var t=Uw(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).outgoing=new Set,e}return M()(n,[{key:"hasEdgeTo",value:function(e){return this.outgoing.has(e)}},{key:"addEdgeTo",value:function(e){this.outgoing.add(e)}},{key:"removeEdgeTo",value:function(e){this.outgoing.delete(e)}},{key:"addEdgesTo",value:function(e){var t=this;e.forEach(function(e){return t.addEdgeTo(e)})}},{key:"getOutgoing",value:function(e){return Array.from(this.outgoing)}},{key:"forEachOutgoing",value:function(e,t){this.outgoing.forEach(t)}}]),n}(e)},Xw=function(e){return function(e){X()(n,e);var t=Uw(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).incoming=new Set,e}return M()(n,[{key:"hasEdgeFrom",value:function(e){return this.incoming.has(e)}},{key:"addEdgeFrom",value:function(e){this.incoming.add(e)}},{key:"removeEdgeFrom",value:function(e){this.incoming.delete(e)}},{key:"addEdgesFrom",value:function(e){var t=this;e.forEach(function(e){return t.addEdgeFrom(e)})}},{key:"getIncoming",value:function(e){return Array.from(this.incoming)}},{key:"forEachIncoming",value:function(e,t){this.incoming.forEach(t)}}]),n}(e)},Kw=function(e){X()(n,e);var t=Uw(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(function(e){X()(n,e);var t=Uw(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"addEdgeTo",value:function(e){ce()(Q()(n.prototype),"addEdgeTo",this).call(this,e),e.incoming.add(this)}},{key:"removeEdgeTo",value:function(e){ce()(Q()(n.prototype),"removeEdgeTo",this).call(this,e),e.incoming.delete(this)}},{key:"addEdgeFrom",value:function(e){ce()(Q()(n.prototype),"addEdgeFrom",this).call(this,e),e.outgoing.add(this)}},{key:"removeEdgeFrom",value:function(e){ce()(Q()(n.prototype),"removeEdgeFrom",this).call(this,e),e.outgoing.delete(this)}}]),n}(qw(Xw(Gw(Yw(Vw(Aw)))))));function Zw(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Jw=function(e){X()(n,e);var t=Zw(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(function(e){return function(e){X()(n,e);var t=Zw(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).nodes=new Set,e}return M()(n,[{key:"getNodes",value:function(){return this.nodes}},{key:"hasDirectNode",value:function(e){return this.getNodes().has(e)}},{key:"addNodes",value:function(e){var t=this;e.forEach(function(e){return t.addNode(e)})}},{key:"addNode",value:function(e){return this.nodes.add(e),e}},{key:"removeNodes",value:function(e){var t=this;e.forEach(function(e){return t.removeNode(e)})}},{key:"removeNode",value:function(e){if(!this.hasDirectNode(e))throw new Error("This [".concat(e,"] does not exists in the graph"));e.outgoing.forEach(function(t){return t.removeEdgeFrom(e)}),e.incoming.forEach(function(t){return t.removeEdgeTo(e)}),this.nodes.delete(e)}},{key:"getIncoming",value:function(){return Array.from(this.nodes)}},{key:"getOutgoing",value:function(){return Array.from(this.nodes)}},{key:"forEachIncoming",value:function(e,t){this.nodes.forEach(t)}},{key:"forEachOutgoing",value:function(e,t){this.nodes.forEach(t)}}]),n}(e)}(qw(Xw(Gw(Yw(Vw(Aw))))))),Qw=function(e){return e.slice(0,1).toUpperCase()+e.slice(1)},eS=function(e){return Object(e)!==e},tS=function(e,t,n){return Object.defineProperty(e,t,{value:n}),n};function nS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var rS;!function(e){e[e.Canceled=0]="Canceled",e[e.Completed=1]="Completed",e[e.Passed=2]="Passed"}(rS||(rS={}));var iS=function(e){X()(n,e);var t=nS(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(function(e){return function(e){X()(u,e);var t,n,r,i,o,a,s=nS(u);function u(){var e;return E()(this,u),(e=s.apply(this,arguments)).nodesMap=new Map,e.needRecalculationAtoms=new Set,e.stableAtoms=new Set,e.isPropagating=!1,e.propagateCompletedListeners=[],e.propagateSuspended=0,e}return M()(u,[{key:"isAtomNeedRecalculation",value:function(e){return this.needRecalculationAtoms.has(e)}},{key:"markAsNeedRecalculation",value:function(e){this.needRecalculationAtoms.add(e)}},{key:"markProcessed",value:function(e){this.needRecalculationAtoms.delete(e)}},{key:"markStable",value:function(e){this.stableAtoms.add(e)}},{key:"isAtomStable",value:function(e){return this.stableAtoms.has(e)}},{key:"commit",value:function(){this.needRecalculationAtoms.forEach(function(e){return e.clearUserInput()}),this.needRecalculationAtoms.clear(),this.changedAtoms.forEach(function(e){return e.commitValue()}),this.stableAtoms.forEach(function(e){return e.commitEdges()}),this.stableAtoms.clear()}},{key:"reject",value:function(){this.rejectPartialProgress(),this.needRecalculationAtoms.forEach(function(e){return e.clearUserInput()}),this.needRecalculationAtoms.clear()}},{key:"rejectPartialProgress",value:function(){this.touchedAtoms.forEach(function(e,t){return t.reject()}),this.stableAtoms.clear()}},{key:"addNode",value:function(e){var t=ce()(Q()(u.prototype),"addNode",this).call(this,e);return this.nodesMap.set(e.id,e),this.markAsNeedRecalculation(e),e.onEnterGraph(this),t}},{key:"removeNode",value:function(e){var t=this;e.outgoing.forEach(function(e){return t.markAsNeedRecalculation(e)});var n=ce()(Q()(u.prototype),"removeNode",this).call(this,e);return this.nodesMap.delete(e.id),this.needRecalculationAtoms.delete(e),this.stableAtoms.delete(e),e.onLeaveGraph(this),n}},{key:"startAtomCalculation",value:function(e){var t=e.calculate(e.proposedValue),n=t.next(),r=n.value;return r instanceof Lw?{effect:r,continuation:{iterator:t}}:n.done?{value:r}:{continuation:{atom:r,iterator:t}}}},{key:"continueAtomCalculation",value:function(e,t,n){var r=this,i=t.iterator,o=t.atom;do{var a=void 0;if(o)if(e.observedDuringCalculation.push(o),n.has(o)&&!this.isAtomStable(o)){var s=void 0;r.walkDepth($w.new({forEachNext:function(e,t){e===r?r.needRecalculationAtoms.forEach(t):e.observedDuringCalculation.forEach(t)},onCycle:function(e,t){return s=Ww(t),Bw.Cancel}})),a={value:Hw.new({cycle:s}),done:!0}}else a=i.next(o.hasNextStableValue()?o.getNextStableValue():o.getConsistentValue());else a=i.next();var u=a.value;if(u instanceof Lw)return{effect:u,continuation:{iterator:i}};if(a.done)return{value:u};o=u}while(!n.has(o)||this.isAtomStable(o));return{continuation:{iterator:i,atom:o}}}},{key:"propagateSingle",value:to.a.mark(function e(){var t,n,r,i,o,a,s,u,c,l,f,d,h,p,v=this;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n=new Set,r=this,i=null,this.walkDepth($w.new({forEachNext:function(e,t){e===r?r.needRecalculationAtoms.forEach(t):$w.prototype.forEachNext.call(this,e,t)},onNode:function(e){},onCycle:function(e,t){return i=Ww(t),Bw.Cancel},onTopologicalNode:function(e){e!==v&&(n.add(e),t.push(e))}})),!i){e.next=7;break}return e.abrupt("return",Hw.new({cycle:i}));case 7:a=this.touchedAtoms=new Map,s=new Map,u=this.changedAtoms=[];case 10:if(!(o=t.length)){e.next=24;break}if(c=t[o-1],!this.isAtomStable(c)&&n.has(c)){e.next=15;break}return t.pop(),e.abrupt("continue",10);case 15:if(l=s.get(c),f=void 0,null!=l?(d=a.get(c),f=this.continueAtomCalculation(c,d,n)):(s.set(c,o),f=this.startAtomCalculation(c)),!f.effect){e.next=21;break}return e.next=21,f.effect;case 21:f.continuation?(a.set(c,f.continuation),(h=f.continuation.atom)&&(c.observedDuringCalculation.push(h),t.push(h))):(a.set(c,null),p=f.value,c.equality(p,c.getConsistentValue())||(u.push(c),c.nextStableValue=p),this.markStable(c),t.pop()),e.next=10;break;case 24:return e.abrupt("return",{success:!0});case 25:case"end":return e.stop()}},e,this)})},{key:"onEffect",value:(a=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Ow)){e.next=4;break}return e.next=3,t.promise;case 3:return e.abrupt("return",Fw.Resume);case 4:if(!(t instanceof _w)){e.next=6;break}return e.abrupt("return",Fw.Cancel);case 6:if(!(t instanceof jw)){e.next=8;break}return e.abrupt("return",Fw.Restart);case 8:if(!(t instanceof Hw)){e.next=10;break}throw new Error("Graph cycle detected");case 10:return e.abrupt("return",Fw.Resume);case 11:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},{key:"waitForPropagateCompleted",value:function(){var e=this;return this.isPropagating?new Promise(function(t){e.propagateCompletedListeners.push(t)}):Promise.resolve(null)}},{key:"suspendPropagate",value:function(){this.propagateSuspended++}},{key:"resumePropagate",value:(o=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.propagateSuspended){e.next=7;break}if(!--this.propagateSuspended){e.next=5;break}return e.abrupt("return",this.resumePromise);case 5:if(!this.resumePromise||!1===t){e.next=7;break}return e.abrupt("return",this.propagate());case 7:return e.abrupt("return",Promise.resolve(rS.Completed));case 8:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"propagate",value:(i=ro()(to.a.mark(function e(t){var n,r,i,o,a=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],!(r=this).propagateSuspended){e.next=7;break}return r.resumePromise||(r.resumePromise=new Promise(function(e,t){r.resumeResolved=e,r.resumeRejected=t})),e.abrupt("return",r.resumePromise);case 7:if(!r.resumePromise){e.next=13;break}return i=r.resumeResolved,o=r.resumeRejected,r.resumePromise=r.resumeResolved=r.resumeRejected=null,e.abrupt("return",r.propagateUnsuspended(t,n).then(function(e){return i(e),e},function(e){return o(e),e}));case 13:return e.abrupt("return",r.propagateUnsuspended(t,n));case 14:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"propagateUnsuspended",value:(r=ro()(to.a.mark(function e(t){var n,r,i,o,a,s,u,c=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]&&c[1],!this.isPropagating){e.next=3;break}throw new Error("Can not nest calls to `propagate`, use `waitForPropagateCompleted`");case 3:this.isPropagating=!0;case 4:r=!1,o=this.propagateSingle(),a=void 0;case 7:if(a=o.next(),!((s=a.value)instanceof Lw)){e.next=34;break}if(u=void 0,!t){e.next=17;break}return e.next=14,t(s);case 14:u=e.sent,e.next=20;break;case 17:return e.next=19,this.onEffect(s);case 19:u=e.sent;case 20:if(u!==Fw.Cancel){e.next=30;break}return"function"==typeof n&&n(),this.reject(),this.isPropagating=!1,e.next=26,this.propagationCompletedHook();case 26:return this.onPropagationCompleted(rS.Canceled),e.abrupt("return",rS.Canceled);case 30:if(u!==Fw.Restart){e.next=34;break}return this.rejectPartialProgress(),r=!0,e.abrupt("break",35);case 34:if(!a.done){e.next=7;break}case 35:if(r){e.next=4;break}case 36:if(!n){e.next=46;break}return"function"==typeof n&&n(),this.reject(),this.isPropagating=!1,e.next=42,this.propagationCompletedHook();case 42:this.onPropagationCompleted(rS.Completed),i=rS.Passed,e.next=52;break;case 46:return this.commit(),this.isPropagating=!1,e.next=50,this.propagationCompletedHook();case 50:this.onPropagationCompleted(rS.Completed),i=rS.Completed;case 52:return e.abrupt("return",i);case 53:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"tryPropagateWithNodes",value:(n=ro()(to.a.mark(function e(t,n,r){var i,o=this;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n&&n.length&&(n=n.filter(function(e){return e.graph!==o})).length&&this.addNodes(n),e.next=3,this.propagate(t,r||!0);case 3:return i=e.sent,n&&n.length&&n&&this.removeNodes(n),e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"propagationCompletedHook",value:(t=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)})},{key:"onPropagationCompleted",value:function(e){this.propagateCompletedListeners.forEach(function(t){return t(e)}),this.propagateCompletedListeners=[]}},{key:"commitAllEdges",value:function(){this.nodes.forEach(function(e){return e.commitEdges()})}},{key:"toDotOnCycleException",value:function(){return this.commitAllEdges(),this.toDot()}},{key:"toDotAtomName",value:function(e){var t=String(e.id).split("/"),n=re()(t,2),r=n[0],i=n[1];if(e.self){var o=e.self;o.name&&(r=o.name)}return"".concat(r,"/").concat(i||"self")}},{key:"toDotAtomValue",value:function(e){var t;if(e.newRefs&&e.oldRefs){var n=e.get();t="Set(".concat(n&&n.size||0,")")}else t=e.get();return t instanceof Date?t=[t.getFullYear(),".",t.getMonth()+1,".",t.getDate()," ",t.getHours()+":"+t.getMinutes()].join(""):Array.isArray(t)&&(t="Array(".concat(t.length,")")),t}},{key:"toDotAtomColor",value:function(e){return!this.isAtomNeedRecalculation(e)||this.isAtomStable(e)?"darkgreen":"red"}},{key:"toDotObtainCycle",value:function(){var e={};return this.walkDepth($w.new({onCycle:function(t,n){var r=Ww(n);return e=r.reduce(function(e,t){var n=re()(e,2),r=n[0],i=n[1];return i&&(r[i.id]=t.id),[r,t]},[e,null])[0],Bw.Cancel}})),e}},{key:"toDot",value:function(){var e=this,t=["digraph ChronoGraph {","splines=spline"],n=Array.from(this.nodesMap.entries()),r=n.reduce(function(e,t){var n=re()(t,2),r=n[0],i=n[1],o=String(r).split("/"),a=re()(o,2),s=a[0],u=a[1],c=i.self||{},l=c.id,f=c.name,d=i.field;return s=f||l||s,u=d&&d.name||u,e.has(s)?e.get(s).add([u,i]):e.set(s,new Set([[u||"",i]])),e},new Map);t=Array.from(r.entries()).reduce(function(t,n,r){var i=re()(n,2),o=i[0],a=i[1];return t.push("subgraph cluster_".concat(r," {")),t.push('label="'.concat(o,'"')),(t=Array.from(a.values()).reduce(function(t,n){var r=re()(n,2),i=r[0],o=r[1],a=e.toDotAtomValue(o),s=e.toDotAtomColor(o);return t.push('"'.concat(o.id,'" [label="').concat(i,"=").concat(a,'", fontcolor="').concat(s,'"]')),t},t)).push("}"),t},t);var i=this.toDotObtainCycle();return(t=n.reduce(function(t,n){var r=re()(n,2),o=r[0],a=r[1],s=a.outgoing;return Array.from(s).reduce(function(t,n){var r=!e.isAtomNeedRecalculation(a)||e.isAtomStable(a)?"darkgreen":"red",s=i[o]==n.id?5:1;return t.push('"'.concat(o,'" -> "').concat(n.id,'" [label="').concat("",'", color="').concat(r,'", penwidth=').concat(s,"]")),t},t),t},t)).push("}"),t.join("\n")}},{key:"toDotAtomIncoming",value:function(e){var t=this,n=["digraph ChronoGraph {","splines=spline"],r=new Set;!function(e,t,n){for(var r,i,o=[e];o.length;)n(r=o.pop()),(i=t(r))&&(o=o.concat(i.slice().reverse()))}(e,function(e){return Array.from(e.incoming)},function(e){return r.add(e)}),n=Array.from(r).reduce(function(n,r){var i,o,a=t.toDotAtomName(r),s=t.toDotAtomValue(r);return r==e?(i="orange",o=5):(i=t.toDotAtomColor(r),o=1),n.push('"'.concat(r.id,'" [label="').concat(a,"=").concat(s,'", fontcolor="').concat(i,'", penwidth=').concat(o,"]")),n},n);var i=this.toDotObtainCycle();return(n=Array.from(r).reduce(function(e,n){return Array.from(n.incoming).reduce(function(e,r){var o=r.id,a=n.id,s=t.toDotAtomColor(r),u=i[o]==a?5:1;return e.push('"'.concat(o,'" -> "').concat(a,'" [label="", color="').concat(s,'", penwidth=').concat(u,"]")),e},e)},n)).push("}"),n.join("\n")}}]),u}(e)}(Jw));function oS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var aS=Symbol("IteratorReturnedEarly"),sS=function(e){X()(n,e);var t=oS(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).fields=new Map,e}return M()(n,[{key:"hasField",value:function(e){return void 0!==this.getField(e)}},{key:"getField",value:function(e){var t=void 0;return this.forEachParent(function(n){var r=n.fields.get(e);if(r)return t=r,aS}),t}},{key:"addField",value:function(e){var t=e.name;if(!t)throw new Error("Field must have a name");if(this.fields.has(t))throw new Error("Field with name [".concat(String(t),"] already exists"));return e.entity=this,this.fields.set(t,e),e}},{key:"forEachParent",value:function(e){for(var t=this;t;){if(e(t)===aS)return aS;t=t.parentEntity}}},{key:"forEachField",value:function(e){var t=new Set;this.forEachParent(function(n){n.fields.forEach(function(n,r){t.has(r)||(t.add(r),e(n,r))})})}}]),n}(Aw),uS=1,cS=function(){return"chrono".concat(uS++)};function lS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function fS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var dS=function(e,t){return e instanceof Date&&t instanceof Date?e-t==0:e===t},hS=function(e){X()(n,e);var t=fS(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(function(e){return function(e){X()(r,e);var t,n=fS(r);function r(){var e;return E()(this,r),(e=n.apply(this,arguments)).equality=dS,e.observedDuringCalculation=[],e}return M()(r,[{key:"clearUserInput",value:function(){this.proposedValue=void 0,this.proposedArgs=void 0}},{key:"commitValue",value:function(){var e=this.nextStableValue;this.nextStableValue=void 0,this.value=e}},{key:"commitEdges",value:function(){var e=this;this.incoming.forEach(function(t){return e.removeEdgeFrom(t)}),this.observedDuringCalculation.forEach(function(t){return e.addEdgeFrom(t)}),this.observedDuringCalculation=[]}},{key:"reject",value:function(){this.nextStableValue=void 0,this.observedDuringCalculation=[]}},{key:"calculate",value:to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.calculation){e.next=5;break}return e.delegateYield(this.calculation.call(this.calculationContext||this,t),"t0",2);case 2:return e.abrupt("return",e.t0);case 5:return e.abrupt("return",void 0!==t?t:this.value);case 6:case"end":return e.stop()}},e,this)})},{key:"hasValue",value:function(){return this.hasNextStableValue()||this.hasProposedValue()||this.hasConsistentValue()}},{key:"hasStableValue",value:function(){return this.hasNextStableValue()||this.hasConsistentValue()}},{key:"hasNextStableValue",value:function(){return void 0!==this.nextStableValue}},{key:"hasConsistentValue",value:function(){return void 0!==this.value}},{key:"hasProposedValue",value:function(){return void 0!==this.proposedArgs&&void 0!==this.proposedArgs[0]}},{key:"get",value:function(){return this.hasNextStableValue()?this.getNextStableValue():this.hasProposedValue()?this.getProposedValue():this.getConsistentValue()}},{key:"put",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.proposedValue=e,this.proposedArgs=Array.prototype.slice.call(arguments),this.graph&&this.graph.markAsNeedRecalculation(this)}},{key:"getNextStableValue",value:function(){return this.nextStableValue}},{key:"getConsistentValue",value:function(){return this.value}},{key:"getProposedValue",value:function(){return this.proposedValue}},{key:"getProposedOrPreviousValue",value:function(){return void 0!==this.proposedValue?this.proposedValue:this.value}},{key:"set",value:(t=ro()(to.a.mark(function e(t){var n,r,i,o,a=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=this.graph,r=a.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=a[o];return this.put.apply(this,[t].concat(i)),e.abrupt("return",n?n.propagate():Promise.resolve(rS.Completed));case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"onEnterGraph",value:function(e){this.graph=e}},{key:"onLeaveGraph",value:function(e){this.graph=void 0}}]),r}(e)}(function(e){return function(e){X()(n,e);var t=lS(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).id=cS(),e}return n}(e)}(Kw)));function pS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var vS=function(e){return function(e){X()(n,e);var t=pS(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"put",value:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(t=ce()(Q()(n.prototype),"put",this)).call.apply(t,[this,this.field.converter?this.field.converter(e,this.field):e].concat(i))}},{key:"toString",value:function(){return"Field atom [".concat(this.field.name,"] of entity [").concat(this.self,"}]")}}]),n}(e)},gS=function(e){X()(n,e);var t=pS(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(vS(hS)),yS=function(e){X()(n,e);var t=pS(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(function(e){return function(e){X()(n,e);var t=pS(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"toString",value:function(){return"Entity atom [".concat(this.self.id,"]")}}]),n}(e)}(hS));function mS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var kS=function(e){X()(n,e);var t=mS(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).persistent=!0,e.createAccessors=!0,e.atomCls=gS,e}return n}(Aw);function bS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var wS=Symbol("isReplica"),SS=function(e){X()(n,e);var t=bS(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(function(e){return function(e){X()(r,e);var t,n=bS(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:wS,value:function(){}},{key:"addEntity",value:function(e){e.enterGraph(this)}},{key:"addEntities",value:function(e){var t=this;e.forEach(function(e){return t.addEntity(e)})}},{key:"removeEntity",value:function(e){e.leaveGraph()}},{key:"removeEntities",value:function(e){var t=this;e.forEach(function(e){return t.removeEntity(e)})}},{key:"tryPropagateWithEntities",value:(t=ro()(to.a.mark(function e(t,n,r){var i,o=this;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n&&n.length&&(n=n.filter(function(e){return e.$$.graph!==o}),this.addEntities(n)),e.next=3,this.propagate(t,r||!0);case 3:return i=e.sent,n&&n.length&&this.removeEntities(n),e.abrupt("return",i);case 6:case"end":return e.stop()}},e,this)})),function(e,n,r){return t.apply(this,arguments)})}]),r}(e)}(iS));function DS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var RS=Symbol("isEntity"),CS=function(e){var t=function(e){X()(s,e);var t,n,r,i,o,a=DS(s);function s(){return E()(this,s),a.apply(this,arguments)}return M()(s,[{key:RS,value:function(){}},{key:"calculateSelf",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this);case 1:case"end":return e.stop()}},e,this)})},{key:"createFieldAtom",value:function(e){var t=e.name,n=this.$calculations&&this[this.$calculations[t]];return e.atomCls.new({id:"".concat(this.$$.id,"/").concat(t),field:e,self:this,calculationContext:n?this:void 0,calculation:n})}},{key:"getGraph",value:function(){return this.$$.graph}},{key:"forEachFieldAtom",value:function(e){var t=this.$;for(var n in t)e.call(this,t[n],n)}},{key:"enterGraph",value:function(e){this.forEachFieldAtom(function(t){return e.addNode(t)}),e.addNode(this.$$)}},{key:"leaveGraph",value:function(){var e=this.$$.graph;e&&(this.forEachFieldAtom(function(t){return e.removeNode(t)}),e.removeNode(this.$$))}},{key:"isPropagating",value:function(){return this.getGraph().isPropagating}},{key:"suspendPropagate",value:function(){var e=this.getGraph();e&&e.suspendPropagate()}},{key:"resumePropagate",value:(o=ro()(to.a.mark(function e(t){var n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getGraph(),e.abrupt("return",n&&n.resumePropagate(t)||Promise.resolve(rS.Completed));case 2:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"propagate",value:(i=ro()(to.a.mark(function e(t){var n,r,i=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=this.getGraph(),e.abrupt("return",r&&r.propagate(t,n)||Promise.resolve(rS.Completed));case 3:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"waitForPropagateCompleted",value:(r=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getGraph().waitForPropagateCompleted());case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"tryPropagateWithNodes",value:(n=ro()(to.a.mark(function e(t,n,r){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getGraph().tryPropagateWithNodes(t,n,r));case 1:case"end":return e.stop()}},e,this)})),function(e,t,r){return n.apply(this,arguments)})},{key:"tryPropagateWithEntities",value:(t=ro()(to.a.mark(function e(t,n,r){var i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.getGraph(),a=i,!Boolean(a&&a[wS])){e.next=5;break}o=i.tryPropagateWithEntities(t,n,r),e.next=6;break;case 5:throw new Error("Entity is not part of replica");case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}var a},e,this)})),function(e,n,r){return t.apply(this,arguments)})},{key:"markAsNeedRecalculation",value:function(e){var t=this.getGraph();t&&t.markAsNeedRecalculation(e)}},{key:"markStable",value:function(e){var t=this.getGraph();t&&t.markStable(e)}},{key:"run",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i,o,a=this[e].apply(this,n);;){var s=(i=a.next(o)).value;if(s instanceof Lw)throw new Error("Helper methods can not yield effects during computation");if(i.done)return s;var u=s;if(this.getGraph().isAtomNeedRecalculation(u))throw new Error("Can not use stale atom for calculations");o=u.get()}}},{key:"$entity",get:function(){return xS(this.constructor.prototype)}},{key:"$",get:function(){var e=this,t={};return this.$entity.forEachField(function(n,r){t[r]=e.createFieldAtom(n)}),tS(this,"$",t)}},{key:"$$",get:function(){return tS(this,"$$",yS.new({entity:this.$entity,self:this,equality:function(){return!1},calculation:this.calculateSelf,calculationContext:this}))}}],[{key:"getField",value:function(e){return this.getEntity().getField(e)}},{key:"getEntity",value:function(){return ES(this.prototype)}}]),s}(e);return t},xS=function(e){var t=Object.getPrototypeOf(e);return tS(e,"$entity",sS.new({parentEntity:t.hasOwnProperty(RS)?null:t.$entity}))},ES=function(e){var t=e.$entity;return e.hasOwnProperty("$entity")||(t=xS(e)),t},TS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kS;return function(n,r){if(ES(n).addField(t.new(Object.assign(e||{},{name:r}))).createAccessors){var i="put".concat(Qw(r)),o=i in n?function(e){return this[i](e)}:function(e){return this.$[r].put(e)};Object.defineProperty(n,r,{get:function(){return this.$[r].get()},set:o});var a="get".concat(Qw(r)),s="set".concat(Qw(r));a in n||(n[a]=function(){var e;return(e=this.$[r]).get.apply(e,arguments)}),s in n||(n[s]=function(){var e;return(e=this.$[r]).set.apply(e,arguments)})}}},MS=TS,PS=function(e){return function(t,n,r){var i=t.$calculations;i||(i=t.$calculations={}),i[e]=n}};function AS(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return IS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IS(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function IS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var LS=function(e){return function(e){X()(n,e);var t=FS(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).atomCls=WS,e}return n}(e)},OS=function(e){X()(n,e);var t=FS(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(LS(kS)),_S=function(e){return function(e){X()(n,e);var t=FS(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).persistent=!1,e.atomCls=zS,e}return n}(e)},jS=function(e){X()(n,e);var t=FS(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(_S(kS)),HS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jS;return TS(e,t)},NS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:OS;return TS(e,t)},BS=function(e){return function(e){X()(n,e);var t=FS(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).oldRefs=new Set,e.newRefs=new Set,e.value=new Set,e}return M()(n,[{key:"commitValue",value:function(){ce()(Q()(n.prototype),"commitValue",this).call(this),this.oldRefs.clear(),this.newRefs.clear()}},{key:"reject",value:function(){ce()(Q()(n.prototype),"reject",this).call(this),this.oldRefs.clear(),this.newRefs.clear()}},{key:"calculate",value:to.a.mark(function e(t){var n,r,i,o,a,s,u,c;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=new Set,i=AS(this.incoming),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=13;break}if(r=o.value,this.oldRefs.has(r)){e.next=11;break}return e.next=9,r;case 9:null!=(a=e.sent)&&n.add(a);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),i.e(e.t0);case 18:return e.prev=18,i.f(),e.finish(18);case 21:s=AS(this.newRefs),e.prev=22,s.s();case 24:if((u=s.n()).done){e.next=32;break}return r=u.value,e.next=28,r;case 28:null!=(c=e.sent)&&n.add(c);case 30:e.next=24;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(22),s.e(e.t1);case 37:return e.prev=37,s.f(),e.finish(37);case 40:return e.abrupt("return",n);case 41:case"end":return e.stop()}},e,this,[[2,15,18,21],[22,34,37,40]])})}]),n}(e)},zS=function(e){X()(n,e);var t=FS(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(BS(gS)),VS=function(e){return function(e){X()(n,e);var t=FS(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"hasBucket",value:function(){return Boolean(this.field.bucket)}},{key:"addToBucket",value:function(e){e.newRefs.add(this.self.$$),this.graph&&this.graph.markAsNeedRecalculation(e)}},{key:"removeFromBucket",value:function(e){e.oldRefs.add(this.self.$$),this.graph&&this.graph.markAsNeedRecalculation(e)}},{key:"calculate",value:to.a.mark(function e(t){var n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.resolve(void 0!==t?t:this.value),eS(n)){e.next=4;break}return e.next=4,n.$$;case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)})},{key:"resolve",value:function(e){var t=this.field.resolver;return t&&void 0!==e&&eS(e)?t.call(this.self,e):e}},{key:"getBucket",value:function(e){return e.$[this.field.bucket]}},{key:"onEnterGraph",value:function(e){var t=this.get(),r=!0;if(void 0!==t&&eS(t)){r=!1;var i=this.resolve(t);eS(i)||(this.put(i),r=!0)}if(ce()(Q()(n.prototype),"onEnterGraph",this).call(this,e),void 0!==this.get()&&r&&this.hasBucket()){var o=this.getBucket(this.get());this.addToBucket(o)}}},{key:"onLeaveGraph",value:function(e){if(this.hasValue()&&this.hasBucket()){var t=this.get();if(!eS(t)){var r=this.getBucket(t);this.removeFromBucket(r)}}ce()(Q()(n.prototype),"onLeaveGraph",this).call(this,e)}},{key:"put",value:function(e){var t=this.value;if(this.hasBucket()&&(null==t||eS(t)||this.removeFromBucket(this.getBucket(t)),null!=e))if(eS(e)){var r=this.resolve(e);null!=r&&(this.addToBucket(this.getBucket(r)),e=r)}else this.addToBucket(this.getBucket(e));ce()(Q()(n.prototype),"put",this).call(this,e)}}]),n}(e)},WS=function(e){X()(n,e);var t=FS(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(VS(vS(hS)));function $S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var GS=function(e){X()(n,e);var t=$S(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).atomCls=qS,e.modelFieldConfig={},e}return n}(kS),YS=function(e){X()(n,e);var t=$S(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).atomCls=XS,e}return n}(LS(GS)),US=function(e){X()(n,e);var t=$S(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).atomCls=KS,e}return M()(n,[{key:"initialize",value:function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=ce()(Q()(n.prototype),"initialize",this)).call.apply(e,[this].concat(r)),this.modelFieldConfig=Object.assign({isEqual:function(){return!1},defaultValue:new Set,persist:!1},this.modelFieldConfig)}}]),n}(_S(GS)),qS=function(e){X()(n,e);var t=$S(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"value",get:function(){return this.self.get(this.field.name)},set:function(e){this.self.set(this.field.name,e)}}]),n}(gS),XS=function(e){X()(n,e);var t=$S(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(VS(qS)),KS=function(e){X()(n,e);var t=$S(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"value",get:function(){if(this.self)return this.self.get(this.field.name)},set:function(e){this.self&&this.self.set(this.field.name,e)}}]),n}(BS(qS)),ZS=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){TS(Object.assign({modelFieldConfig:e},t),GS)(n,r),JS(n.constructor)}},JS=function(e){e.hasOwnProperty("fields")||Object.defineProperty(e,"fields",{get:function(){return QS(this)}})},QS=function(e){var t=[],n=e.prototype;return n.hasOwnProperty("$entity")&&n.$entity.fields.forEach(function(e){e instanceof GS&&t.push(Object.assign(e.modelFieldConfig||{},{name:e.name}))}),t},eD=function(e,t){return null===e?null:(e instanceof Date||(e=xt.parse(e,t.modelFieldConfig.format||t.modelFieldConfig.dateFormat)),e||void 0)};function tD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var nD=function(e){var t=function(e){X()(n,e);var t=tD(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t;this.constructor.exposeProperties();var r={},i={};for(var o in this.originalData=e=e||{},e){var a=this.getFieldDefinitionFromDataSource(o),s=a?a.name:o,u=this.$entity.getField(s);u&&"expanded"!=s&&"children"!=s?i[s]=e[o]:r[o]=e[o]}for(var c=arguments.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=arguments[f];(t=ce()(Q()(n.prototype),"construct",this)).call.apply(t,[this,r].concat(l)),Object.assign(this,i)}},{key:"copy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=ce()(Q()(n.prototype),"copy",this).call(this,e);return t&&this.forEachFieldAtom(function(e,t){r.$[t].put(e.get())}),r}}]),n}(e);return t};function rD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var iD=Symbol("PartOfProjectStoreMixin"),oD=function(e){var t=function(e){X()(n,e);var t=rD(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:iD,value:function(){}},{key:"calculateProject",value:function(){return this.project}},{key:"loadData",value:function(e){ce()(Q()(n.prototype),"loadData",this).call(this,e);var t=this.getProject();t&&t.trigger("storerefresh",{store:this})}}]),n}(e);return t},aD=function(e){return Boolean(e&&e[iD])};function sD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var uD=function(e){var t=function(e){X()(n,e);var t=sD(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"joinStore",value:function(e){var t=!1;if(aD(e)){var r=e.getProject();!r||this.getProject()||this.isShadowed()||(this.setProject(r),t=!0)}ce()(Q()(n.prototype),"joinStore",this).call(this,e),t&&this.joinProject()}},{key:"unJoinStore",value:function(e){ce()(Q()(n.prototype),"unJoinStore",this).call(this,e);var t=this.isShadowed()?this.shadowedProject:this.getProject();aD(e)&&t&&t===e.getProject()&&(this.leaveProject(),this.setProject(null),this.shadowedProject=null)}},{key:"joinProject",value:function(){this.getGraph().addEntity(this)}},{key:"leaveProject",value:function(){var e=this.getProject();this.isShadowed()||this.getGraph().removeEntity(this),this.leftProject=e}},{key:"shadow",value:function(){var e=this.getProject();return e&&(this.leaveProject(),this.setProject(null),this.shadowedProject=e),this}},{key:"unshadow",value:function(){return this.shadowedProject&&(this.setProject(this.shadowedProject),this.shadowedProject=null,this.joinProject()),this}},{key:"isShadowed",value:function(){return!!this.shadowedProject}},{key:"getProject",value:function(){return this.isShadowed()?null:ce()(Q()(n.prototype),"getProject",this).call(this)}},{key:"calculateProject",value:function(){var e=this.stores.find(function(e){return aD(e)&&!!e.getProject()});return e&&e.getProject()}},{key:"afterSet",value:function(e,t,r,i,o,a){var s=this;a&&this.getProject()&&this.getProject().getStm().isRestoring&&Object.keys(a).forEach(function(e){var t=s.$[e];t&&t.graph&&t.graph.markAsNeedRecalculation(t)}),ce()(Q()(n.prototype),"afterSet",this)&&ce()(Q()(n.prototype),"afterSet",this).call(this,e,t,r,i,o,a)}}]),n}(e);return t};function cD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var lD=function(e){var t=function(e){X()(n,e);var t=cD(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"calculateProject",value:function(){throw new Error("Implement me")}},{key:"setProject",value:function(e){return this.project=e}},{key:"getProject",value:function(){return this.project?this.project:this.setProject(this.calculateProject())}},{key:"getGraph",value:function(){var e=this.getProject();return e&&e.getGraph()}},{key:"getEventStore",value:function(){var e=this.getProject();return e&&e.eventStore}},{key:"getDependencyStore",value:function(){var e=this.getProject();return e&&e.dependencyStore}},{key:"getAssignmentStore",value:function(){var e=this.getProject();return e&&e.assignmentStore}},{key:"getResourceStore",value:function(){var e=this.getProject();return e&&e.resourceStore}},{key:"getCalendarManagerStore",value:function(){var e=this.getProject();return e&&e.calendarManagerStore}},{key:"getEventById",value:function(e){return this.getEventStore()&&this.getEventStore().getById(e)}},{key:"getDependencyById",value:function(e){return this.getDependencyStore()&&this.getDependencyStore().getById(e)}},{key:"getResourceById",value:function(e){return this.getResourceStore()&&this.getResourceStore().getById(e)}},{key:"getAssignmentById",value:function(e){return this.getAssignmentStore()&&this.getAssignmentStore().getById(e)}},{key:"getCalendarById",value:function(e){return this.getCalendarManagerStore()&&this.getCalendarManagerStore().getById(e)}}]),n}(e);return t},fD=(n(279),function(){var e={version:"1.2.0"};return Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&((r=Number(arguments[1]))!=r?r=0:0!=r&&r!=1/0&&r!=-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);i<n;i++)if(i in t&&t[i]===e)return i;return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),e.array={},e.array.sort=function(e,t){e.sort(function(e,t){return+e-+t}),t&&0===e[0]&&e.push(e.shift())},e.array.next=function(e,t,n){for(var r,i=0!==n[0],o=0,a=t.length-1;a>-1;--a){if((r=t[a])===e)return r;if(!(r>e||0===r&&i&&n[1]>e))break;o=a}return t[o]},e.array.nextInvalid=function(e,t,n){for(var r=n[0],i=n[1],o=t.length,a=0===t[o-1]&&0!==r?i:0,s=e,u=t.indexOf(e),c=s;s===(t[u]||a);)if(++s>i&&(s=r),++u===o&&(u=0),s===c)return;return s},e.array.prev=function(e,t,n){for(var r,i=t.length,o=0!==n[0],a=i-1,s=0;s<i;s++){if((r=t[s])===e)return r;if(!(r<e||0===r&&o&&n[1]<e))break;a=s}return t[a]},e.array.prevInvalid=function(e,t,n){for(var r=n[0],i=n[1],o=t.length,a=0===t[o-1]&&0!==r?i:0,s=e,u=t.indexOf(e),c=s;s===(t[u]||a);)if(--s<r&&(s=i),-1===--u&&(u=o-1),s===c)return;return s},e.day=e.D={name:"day",range:86400,val:function(t){return t.D||(t.D=e.date.getDate.call(t))},isValid:function(t,n){return e.D.val(t)===(n||e.D.extent(t)[1])},extent:function(t){if(t.DExtent)return t.DExtent;var n=e.M.val(t),r=e.DAYS_IN_MONTH[n-1];return 2===n&&366===e.dy.extent(t)[1]&&(r+=1),t.DExtent=[1,r]},start:function(t){return t.DStart||(t.DStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)))},end:function(t){return t.DEnd||(t.DEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)))},next:function(t,n){n=n>e.D.extent(t)[1]?1:n;var r=e.date.nextRollover(t,n,e.D,e.M),i=e.D.extent(r)[1];return n=n>i?1:n||i,e.date.next(e.Y.val(r),e.M.val(r),n)},prev:function(t,n){var r=e.date.prevRollover(t,n,e.D,e.M),i=e.D.extent(r)[1];return e.date.prev(e.Y.val(r),e.M.val(r),n>i?i:n||i)}},e.dayOfWeekCount=e.dc={name:"day of week count",range:604800,val:function(t){return t.dc||(t.dc=Math.floor((e.D.val(t)-1)/7)+1)},isValid:function(t,n){return e.dc.val(t)===n||0===n&&e.D.val(t)>e.D.extent(t)[1]-7},extent:function(t){return t.dcExtent||(t.dcExtent=[1,Math.ceil(e.D.extent(t)[1]/7)])},start:function(t){return t.dcStart||(t.dcStart=e.date.next(e.Y.val(t),e.M.val(t),Math.max(1,7*(e.dc.val(t)-1)+1||1)))},end:function(t){return t.dcEnd||(t.dcEnd=e.date.prev(e.Y.val(t),e.M.val(t),Math.min(7*e.dc.val(t),e.D.extent(t)[1])))},next:function(t,n){n=n>e.dc.extent(t)[1]?1:n;var r=e.date.nextRollover(t,n,e.dc,e.M);n=n>e.dc.extent(r)[1]?1:n;var i=e.date.next(e.Y.val(r),e.M.val(r),0===n?e.D.extent(r)[1]-6:1+7*(n-1));return i.getTime()<=t.getTime()?(r=e.M.next(t,e.M.val(t)+1),e.date.next(e.Y.val(r),e.M.val(r),0===n?e.D.extent(r)[1]-6:1+7*(n-1))):i},prev:function(t,n){var r=e.date.prevRollover(t,n,e.dc,e.M),i=e.dc.extent(r)[1];return n=n>i?i:n||i,e.dc.end(e.date.prev(e.Y.val(r),e.M.val(r),1+7*(n-1)))}},e.dayOfWeek=e.dw=e.d={name:"day of week",range:86400,val:function(t){return t.dw||(t.dw=e.date.getDay.call(t)+1)},isValid:function(t,n){return e.dw.val(t)===(n||7)},extent:function(){return[1,7]},start:function(t){return e.D.start(t)},end:function(t){return e.D.end(t)},next:function(t,n){return n=n>7?1:n||7,e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n-e.dw.val(t))+(n<=e.dw.val(t)?7:0))},prev:function(t,n){return n=n>7?7:n||7,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)+(n-e.dw.val(t))+(n>=e.dw.val(t)?-7:0))}},e.dayOfYear=e.dy={name:"day of year",range:86400,val:function(t){return t.dy||(t.dy=Math.ceil(1+(e.D.start(t).getTime()-e.Y.start(t).getTime())/e.DAY))},isValid:function(t,n){return e.dy.val(t)===(n||e.dy.extent(t)[1])},extent:function(t){var n=e.Y.val(t);return t.dyExtent||(t.dyExtent=[1,n%4?365:366])},start:function(t){return e.D.start(t)},end:function(t){return e.D.end(t)},next:function(t,n){n=n>e.dy.extent(t)[1]?1:n;var r=e.date.nextRollover(t,n,e.dy,e.Y),i=e.dy.extent(r)[1];return n=n>i?1:n||i,e.date.next(e.Y.val(r),e.M.val(r),n)},prev:function(t,n){var r=e.date.prevRollover(t,n,e.dy,e.Y),i=e.dy.extent(r)[1];return n=n>i?i:n||i,e.date.prev(e.Y.val(r),e.M.val(r),n)}},e.hour=e.h={name:"hour",range:3600,val:function(t){return t.h||(t.h=e.date.getHour.call(t))},isValid:function(t,n){return e.h.val(t)===n},extent:function(){return[0,23]},start:function(t){return t.hStart||(t.hStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t)))},end:function(t){return t.hEnd||(t.hEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t)))},next:function(t,n){n=n>23?0:n;var r=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n<=e.h.val(t)?1:0),n);return!e.date.isUTC&&r.getTime()<=t.getTime()&&(r=e.date.next(e.Y.val(r),e.M.val(r),e.D.val(r),n+1)),r},prev:function(t,n){return n=n>23?23:n,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)+(n>=e.h.val(t)?-1:0),n)}},e.minute=e.m={name:"minute",range:60,val:function(t){return t.m||(t.m=e.date.getMin.call(t))},isValid:function(t,n){return e.m.val(t)===n},extent:function(e){return[0,59]},start:function(t){return t.mStart||(t.mStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t),e.m.val(t)))},end:function(t){return t.mEnd||(t.mEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t),e.m.val(t)))},next:function(t,n){var r=e.m.val(t),i=e.s.val(t),o=n>59?60-r:n<=r?60-r+n:n-r,a=new Date(t.getTime()+o*e.MIN-i*e.SEC);return!e.date.isUTC&&a.getTime()<=t.getTime()&&(a=new Date(t.getTime()+(o+120)*e.MIN-i*e.SEC)),a},prev:function(t,n){return n=n>59?59:n,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t)+(n>=e.m.val(t)?-1:0),n)}},e.month=e.M={name:"month",range:2629740,val:function(t){return t.M||(t.M=e.date.getMonth.call(t)+1)},isValid:function(t,n){return e.M.val(t)===(n||12)},extent:function(){return[1,12]},start:function(t){return t.MStart||(t.MStart=e.date.next(e.Y.val(t),e.M.val(t)))},end:function(t){return t.MEnd||(t.MEnd=e.date.prev(e.Y.val(t),e.M.val(t)))},next:function(t,n){return n=n>12?1:n||12,e.date.next(e.Y.val(t)+(n>e.M.val(t)?0:1),n)},prev:function(t,n){return n=n>12?12:n||12,e.date.prev(e.Y.val(t)-(n>=e.M.val(t)?1:0),n)}},e.second=e.s={name:"second",range:1,val:function(t){return t.s||(t.s=e.date.getSec.call(t))},isValid:function(t,n){return e.s.val(t)===n},extent:function(){return[0,59]},start:function(e){return e},end:function(e){return e},next:function(t,n){var r=e.s.val(t),i=n>59?60-r:n<=r?60-r+n:n-r,o=new Date(t.getTime()+i*e.SEC);return!e.date.isUTC&&o.getTime()<=t.getTime()&&(o=new Date(t.getTime()+(i+7200)*e.SEC)),o},prev:function(t,n,r){return n=n>59?59:n,e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t),e.h.val(t),e.m.val(t)+(n>=e.s.val(t)?-1:0),n)}},e.time=e.t={name:"time",range:1,val:function(t){return t.t||(t.t=3600*e.h.val(t)+60*e.m.val(t)+e.s.val(t))},isValid:function(t,n){return e.t.val(t)===n},extent:function(){return[0,86399]},start:function(e){return e},end:function(e){return e},next:function(t,n){n=n>86399?0:n;var r=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n<=e.t.val(t)?1:0),0,0,n);return!e.date.isUTC&&r.getTime()<t.getTime()&&(r=e.date.next(e.Y.val(r),e.M.val(r),e.D.val(r),e.h.val(r),e.m.val(r),n+7200)),r},prev:function(t,n){return n=n>86399?86399:n,e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)+(n>=e.t.val(t)?-1:0),0,0,n)}},e.weekOfMonth=e.wm={name:"week of month",range:604800,val:function(t){return t.wm||(t.wm=(e.D.val(t)+(e.dw.val(e.M.start(t))-1)+(7-e.dw.val(t)))/7)},isValid:function(t,n){return e.wm.val(t)===(n||e.wm.extent(t)[1])},extent:function(t){return t.wmExtent||(t.wmExtent=[1,(e.D.extent(t)[1]+(e.dw.val(e.M.start(t))-1)+(7-e.dw.val(e.M.end(t))))/7])},start:function(t){return t.wmStart||(t.wmStart=e.date.next(e.Y.val(t),e.M.val(t),Math.max(e.D.val(t)-e.dw.val(t)+1,1)))},end:function(t){return t.wmEnd||(t.wmEnd=e.date.prev(e.Y.val(t),e.M.val(t),Math.min(e.D.val(t)+(7-e.dw.val(t)),e.D.extent(t)[1])))},next:function(t,n){n=n>e.wm.extent(t)[1]?1:n;var r=e.date.nextRollover(t,n,e.wm,e.M),i=e.wm.extent(r)[1];return n=n>i?1:n||i,e.date.next(e.Y.val(r),e.M.val(r),Math.max(1,7*(n-1)-(e.dw.val(r)-2)))},prev:function(t,n){var r=e.date.prevRollover(t,n,e.wm,e.M),i=e.wm.extent(r)[1];return n=n>i?i:n||i,e.wm.end(e.date.next(e.Y.val(r),e.M.val(r),Math.max(1,7*(n-1)-(e.dw.val(r)-2))))}},e.weekOfYear=e.wy={name:"week of year (ISO)",range:604800,val:function(t){if(t.wy)return t.wy;var n=e.dw.next(e.wy.start(t),5),r=e.dw.next(e.Y.prev(n,e.Y.val(n)-1),5);return t.wy=1+Math.ceil((n.getTime()-r.getTime())/e.WEEK)},isValid:function(t,n){return e.wy.val(t)===(n||e.wy.extent(t)[1])},extent:function(t){if(t.wyExtent)return t.wyExtent;var n=e.dw.next(e.wy.start(t),5),r=e.dw.val(e.Y.start(n)),i=e.dw.val(e.Y.end(n));return t.wyExtent=[1,5===r||5===i?53:52]},start:function(t){return t.wyStart||(t.wyStart=e.date.next(e.Y.val(t),e.M.val(t),e.D.val(t)-(e.dw.val(t)>1?e.dw.val(t)-2:6)))},end:function(t){return t.wyEnd||(t.wyEnd=e.date.prev(e.Y.val(t),e.M.val(t),e.D.val(t)+(e.dw.val(t)>1?8-e.dw.val(t):0)))},next:function(t,n){n=n>e.wy.extent(t)[1]?1:n;var r=e.dw.next(e.wy.start(t),5),i=e.date.nextRollover(r,n,e.wy,e.Y);1!==e.wy.val(i)&&(i=e.dw.next(i,2));var o=e.wy.extent(i)[1],a=e.wy.start(i);return n=n>o?1:n||o,e.date.next(e.Y.val(a),e.M.val(a),e.D.val(a)+7*(n-1))},prev:function(t,n){var r=e.dw.next(e.wy.start(t),5),i=e.date.prevRollover(r,n,e.wy,e.Y);1!==e.wy.val(i)&&(i=e.dw.next(i,2));var o=e.wy.extent(i)[1],a=e.wy.end(i);return n=n>o?o:n||o,e.wy.end(e.date.next(e.Y.val(a),e.M.val(a),e.D.val(a)+7*(n-1)))}},e.year=e.Y={name:"year",range:31556900,val:function(t){return t.Y||(t.Y=e.date.getYear.call(t))},isValid:function(t,n){return e.Y.val(t)===n},extent:function(){return[1970,2099]},start:function(t){return t.YStart||(t.YStart=e.date.next(e.Y.val(t)))},end:function(t){return t.YEnd||(t.YEnd=e.date.prev(e.Y.val(t)))},next:function(t,n){return n>e.Y.val(t)&&n<=e.Y.extent()[1]?e.date.next(n):e.NEVER},prev:function(t,n){return n<e.Y.val(t)&&n>=e.Y.extent()[0]?e.date.prev(n):e.NEVER}},e.fullDate=e.fd={name:"full date",range:1,val:function(e){return e.fd||(e.fd=e.getTime())},isValid:function(t,n){return e.fd.val(t)===n},extent:function(){return[0,3250368e7]},start:function(e){return e},end:function(e){return e},next:function(t,n){return e.fd.val(t)<n?new Date(n):e.NEVER},prev:function(t,n){return e.fd.val(t)>n?new Date(n):e.NEVER}},e.modifier={},e.modifier.after=e.modifier.a=function(e,t){var n=t[0];return{name:"after "+e.name,range:(e.extent(new Date)[1]-n)*e.range,val:e.val,isValid:function(e,t){return this.val(e)>=n},extent:e.extent,start:e.start,end:e.end,next:function(t,r){return r!=n&&(r=e.extent(t)[0]),e.next(t,r)},prev:function(t,r){return r=r===n?e.extent(t)[1]:n-1,e.prev(t,r)}}},e.modifier.before=e.modifier.b=function(e,t){var n=t[t.length-1];return{name:"before "+e.name,range:e.range*(n-1),val:e.val,isValid:function(e,t){return this.val(e)<n},extent:e.extent,start:e.start,end:e.end,next:function(t,r){return r=r===n?e.extent(t)[0]:n,e.next(t,r)},prev:function(t,r){return r=r===n?n-1:e.extent(t)[1],e.prev(t,r)}}},e.compile=function(t){var n,r=[],i=0;for(var o in t){var a=o.split("_"),s=a[0],u=a[1],c=t[o],l=u?e.modifier[u](e[s],c):e[s];r.push({constraint:l,vals:c}),i++}return r.sort(function(e,t){var n=e.constraint.range,r=t.constraint.range;return r<n?-1:r>n?1:0}),n=r[i-1].constraint,{start:function(t,o){for(var a,s=o,u=e.array[t],c=1e3;c--&&!a&&s;){a=!0;for(var l=0;l<i;l++){var f=r[l].constraint,d=f.val(s),h=f.extent(s),p=u(d,r[l].vals,h);if(!f.isValid(s,p)){s=f[t](s,p),a=!1;break}}}return s!==e.NEVER&&(s="next"===t?n.start(s):n.end(s)),s},end:function(t,n){for(var o,a=e.array[t+"Invalid"],s=function(e){return"next"===e?function(e,t){return e.getTime()>t.getTime()}:function(e,t){return t.getTime()>e.getTime()}}(t),u=i-1;u>=0;u--){var c,l=r[u].constraint,f=l.val(n),d=l.extent(n),h=a(f,r[u].vals,d);void 0!==h&&(!(c=l[t](n,h))||o&&!s(o,c)||(o=c))}return o},tick:function(t,r){return new Date("next"===t?n.end(r).getTime()+e.SEC:n.start(r).getTime()-e.SEC)},tickStart:function(e){return n.start(e)}}},e.schedule=function(t){if(!t)throw new Error("Missing schedule definition.");if(!t.schedules)throw new Error("Definition must include at least one schedule.");for(var n=[],r=t.schedules.length,i=[],o=t.exceptions?t.exceptions.length:0,a=0;a<r;a++)n.push(e.compile(t.schedules[a]));for(var s=0;s<o;s++)i.push(e.compile(t.exceptions[s]));function u(t,r,a,s,u){var k,b,w,S=y(t),D=r,R=1e3,C=[],x=[],E=[],T="next"===t,M=T?0:1,P=T?1:0;if(!(a=a?new Date(a):new Date)||!a.getTime())throw new Error("Invalid start date.");for(!function(e,t,n,r){for(var i=0,o=t.length;i<o;i++)n[i]=t[i].start(e,r)}(t,n,C,a),function(t,n,r,i){y(t);for(var o=0,a=n.length;o<a;o++){var s=n[o].start(t,i);r[o]=s?[s,n[o].end(t,s)]:e.NEVER}}(t,i,x,a);R--&&D&&(k=m(C,S))&&(!s||!S(k,s));)if(o&&(f(t,i,x,k),b=p(t,x,k)))l(t,n,C,b);else{if(u){var A=v(x,S);b=g(t,n,C,k,A);var I=T?[new Date(Math.max(a,k)),b?new Date(s?Math.min(b,s):b):void 0]:[b?new Date(s?Math.max(s,b.getTime()+e.SEC):b.getTime()+e.SEC):void 0,new Date(Math.min(a,k.getTime()+e.SEC))];if(w&&I[M].getTime()===w[P].getTime()?(w[P]=I[P],D++):(w=I,E.push(w)),!b)break;l(t,n,C,b)}else E.push(T?new Date(Math.max(a,k)):h(n,C,k,s)),d(t,n,C,k);D--}for(var F=0,L=E.length;F<L;F++){var O=E[F];E[F]="[object Array]"===Object.prototype.toString.call(O)?[c(O[0]),c(O[1])]:c(O)}return 0===E.length?e.NEVER:1===r?E[0]:E}function c(e){if(e instanceof Date&&!isNaN(e.valueOf()))return new Date(e)}function l(e,t,n,r){for(var i=y(e),o=0,a=t.length;o<a;o++)n[o]&&!i(n[o],r)&&(n[o]=t[o].start(e,r))}function f(t,n,r,i){for(var o=y(t),a=0,s=n.length;a<s;a++)if(r[a]&&!o(r[a][0],i)){var u=n[a].start(t,i);r[a]=u?[u,n[a].end(t,u)]:e.NEVER}}function d(e,t,n,r){for(var i=0,o=t.length;i<o;i++)n[i]&&n[i].getTime()===r.getTime()&&(n[i]=t[i].start(e,t[i].tick(e,r)))}function h(e,t,n,r){for(var i,o=0,a=t.length;o<a;o++)if(t[o]&&t[o].getTime()===n.getTime()){var s=e[o].tickStart(n);if(r&&s<r)return r;(!i||s>i)&&(i=s)}return i}function p(e,t,n){for(var r,i=y(e),o=0,a=t.length;o<a;o++){var s=t[o];!s||i(s[0],n)||s[1]&&!i(s[1],n)||r&&!i(s[1],r)||(r=s[1])}return r}function v(e,t){for(var n,r=0,i=e.length;r<i;r++)!e[r]||n&&!t(n,e[r][0])||(n=e[r][0]);return n}function g(e,t,n,r,i){for(var o,a=y(e),s=0,u=t.length;s<u;s++){var c=n[s];if(c&&c.getTime()===r.getTime()){var l=t[s].end(e,c);if(i&&(!l||a(l,i)))return i;o&&!a(l,o)||(o=l)}}return o}function y(e){return"next"===e?function(e,t){return!t||e.getTime()>t.getTime()}:function(e,t){return!e||t.getTime()>e.getTime()}}function m(e,t){for(var n=e[0],r=1,i=e.length;r<i;r++)e[r]&&t(n,e[r])&&(n=e[r]);return n}return{isValid:function(t){return u("next",1,t,t)!==e.NEVER},next:function(e,t,n){return u("next",e||1,t,n)},prev:function(e,t,n){return u("prev",e||1,t,n)},nextRange:function(e,t,n){return u("next",e||1,t,n,!0)},prevRange:function(e,t,n){return u("prev",e||1,t,n,!0)}}},e.setTimeout=function(t,n){var r,i=e.schedule(n);return t&&function e(){var n=Date.now(),o=i.next(2,n);if(!o[0])return void(r=void 0);var a=o[0].getTime()-n;a<1e3&&(a=o[1]?o[1].getTime()-n:1e3);r=a<2147483647?setTimeout(t,a):setTimeout(e,2147483647)}(),{isDone:function(){return!r},clear:function(){clearTimeout(r)}}},e.setInterval=function(t,n){if(t){var r=e.setTimeout(function o(){i||(t(),r=e.setTimeout(o,n))},n),i=r.isDone();return{isDone:function(){return r.isDone()},clear:function(){i=!0,r.clear()}}}},e.date={},e.date.timezone=function(t){e.date.build=t?function(e,t,n,r,i,o){return new Date(e,t,n,r,i,o)}:function(e,t,n,r,i,o){return new Date(Date.UTC(e,t,n,r,i,o))};var n=t?"get":"getUTC",r=Date.prototype;e.date.getYear=r[n+"FullYear"],e.date.getMonth=r[n+"Month"],e.date.getDate=r[n+"Date"],e.date.getDay=r[n+"Day"],e.date.getHour=r[n+"Hours"],e.date.getMin=r[n+"Minutes"],e.date.getSec=r[n+"Seconds"],e.date.isUTC=!t},e.date.UTC=function(){e.date.timezone(!1)},e.date.localTime=function(){e.date.timezone(!0)},e.date.UTC(),e.SEC=1e3,e.MIN=60*e.SEC,e.HOUR=60*e.MIN,e.DAY=24*e.HOUR,e.WEEK=7*e.DAY,e.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],e.NEVER=0,e.date.next=function(t,n,r,i,o,a){return e.date.build(t,void 0!==n?n-1:0,void 0!==r?r:1,i||0,o||0,a||0)},e.date.nextRollover=function(t,n,r,i){var o=r.val(t),a=r.extent(t)[1];return(n||a)<=o||n>a?new Date(i.end(t).getTime()+e.SEC):i.start(t)},e.date.prev=function(t,n,r,i,o,a){var s=arguments.length;return n=s<2?11:n-1,r=s<3?e.D.extent(e.date.next(t,n+1))[1]:r,i=s<4?23:i,o=s<5?59:o,a=s<6?59:a,e.date.build(t,n,r,i,o,a)},e.date.prevRollover=function(e,t,n,r){return t>=n.val(e)||!t?r.start(r.prev(e,r.val(e)-1)):r.start(e)},e.parse={},e.parse.cron=function(e,t){var n={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},r={"* * * * * *":"0/1 * * * * *","@YEARLY":"0 0 1 1 *","@ANNUALLY":"0 0 1 1 *","@MONTHLY":"0 0 1 * *","@WEEKLY":"0 0 * * 0","@DAILY":"0 0 * * *","@HOURLY":"0 * * * *"},i={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]};function o(e,t,r){return isNaN(e)?n[e]||null:Math.min(+e+(t||0),r||9999)}function a(e,t,n,r,i){var o=n;for(e[t]||(e[t]=[]);o<=r;)e[t].indexOf(o)<0&&e[t].push(o),o+=i||1;e[t].sort(function(e,t){return e-t})}function s(e,t,n,r){(t.d&&!t.dc||t.dc&&t.dc.indexOf(r)<0)&&(e.push(function(e){var t,n={};for(t in e)"dc"!==t&&"d"!==t&&(n[t]=e[t].slice(0));return n}(t)),t=e[e.length-1]),a(t,"d",n,n),a(t,"dc",r,r)}function u(e,t,r,i,u,c){var l,f,d=t.schedules,h=d[d.length-1];"L"===e&&(e=i-1),null!==(l=o(e,c,u))?a(h,r,l,l):null!==(l=o(e.replace("W",""),c,u))?function(e,t,r){var i={},o={};1===r?(a(t,"D",1,3),a(t,"d",n.MON,n.FRI),a(i,"D",2,2),a(i,"d",n.TUE,n.FRI),a(o,"D",3,3),a(o,"d",n.TUE,n.FRI)):(a(t,"D",r-1,r+1),a(t,"d",n.MON,n.FRI),a(i,"D",r-1,r-1),a(i,"d",n.MON,n.THU),a(o,"D",r+1,r+1),a(o,"d",n.TUE,n.FRI)),e.exceptions.push(i),e.exceptions.push(o)}(t,h,l):null!==(l=o(e.replace("L",""),c,u))?s(d,h,l,i-1):2===(f=e.split("#")).length?s(d,h,l=o(f[0],c,u),o(f[1])):function(e,t,n,r,i,s){var u=e.split("/"),c=+u[1],l=u[0];if("*"!==l&&"0"!==l){var f=l.split("-");r=o(f[0],s,i),i=o(f[1],s,i)||i}a(t,n,r,i,c)}(e,h,r,i,u,c)}function c(e){return e.indexOf("#")>-1||e.indexOf("L")>0}function l(e,t){return c(e)&&!c(t)?1:e-t}var f=function(e){var t=e.toUpperCase();return r[t]||t}(e);return function(e){var t,n,r,o,a={schedules:[{}],exceptions:[]},s=e.replace(/(\s)+/g," ").split(" ");for(t in i)if((r=s[(n=i[t])[0]])&&"*"!==r&&"?"!==r){var c,f=(o=r.split(",").sort(l)).length;for(c=0;c<f;c++)u(o[c],a,t,n[1],n[2],n[3])}return a}(t?f:"0 "+f)},e.parse.recur=function(){var t,n,r,i,o,a,s,u,c,l=[],f=[],d=l;function h(e,l,f){if(e=o?e+"_"+o:e,t||(d.push({}),t=d[0]),t[e]||(t[e]=[]),n=t[e],i){for(r=[],u=l;u<=f;u+=i)r.push(u);c={n:e,x:i,c:n.length,m:f}}var h=(r=a?[l]:s?[f]:r).length;for(u=0;u<h;u+=1){var p=r[u];n.indexOf(p)<0&&n.push(p)}r=i=o=a=s=0}return{schedules:l,exceptions:f,on:function(){return r=arguments[0]instanceof Array?arguments[0]:arguments,this},every:function(e){return i=e||1,this},after:function(e){return o="a",r=[e],this},before:function(e){return o="b",r=[e],this},first:function(){return a=1,this},last:function(){return s=1,this},time:function(){for(var e=0,t=r.length;e<t;e++){var n=r[e].split(":");n.length<3&&n.push(0),r[e]=3600*+n[0]+60*+n[1]+ +n[2]}return h("t"),this},second:function(){return h("s",0,59),this},minute:function(){return h("m",0,59),this},hour:function(){return h("h",0,23),this},dayOfMonth:function(){return h("D",1,s?0:31),this},dayOfWeek:function(){return h("d",1,7),this},onWeekend:function(){return r=[1,7],this.dayOfWeek()},onWeekday:function(){return r=[2,3,4,5,6],this.dayOfWeek()},dayOfWeekCount:function(){return h("dc",1,s?0:5),this},dayOfYear:function(){return h("dy",1,s?0:366),this},weekOfMonth:function(){return h("wm",1,s?0:5),this},weekOfYear:function(){return h("wy",1,s?0:53),this},month:function(){return h("M",1,12),this},year:function(){return h("Y",1970,2450),this},fullDate:function(){for(var e=0,t=r.length;e<t;e++)r[e]=r[e].getTime();return h("fd"),this},customModifier:function(t,n){var i=e.modifier[t];if(!i)throw new Error("Custom modifier "+t+" not recognized!");return o=t,r=arguments[1]instanceof Array?arguments[1]:[arguments[1]],this},customPeriod:function(t){var n=e[t];if(!n)throw new Error("Custom time period "+t+" not recognized!");return h(t,n.extent(new Date)[0],n.extent(new Date)[1]),this},startingOn:function(e){return this.between(e,c.m)},between:function(e,n){return t[c.n]=t[c.n].splice(0,c.c),i=c.x,h(c.n,e,n),this},and:function(){return t=d[d.push({})-1],this},except:function(){return d=f,t=null,this}}},e.parse.text=function(t){var n,r=e.parse.recur,i=0,o="",a={eof:/^$/,rank:/^((\d\d\d\d)|([2-5]?1(st)?|[2-5]?2(nd)?|[2-5]?3(rd)?|(0|[1-5]?[4-9]|[1-5]0|1[1-3])(th)?))\b/,time:/^((([0]?[1-9]|1[0-2]):[0-5]\d(\s)?(am|pm))|(([0]?\d|1\d|2[0-3]):[0-5]\d))\b/,dayName:/^((sun|mon|tue(s)?|wed(nes)?|thu(r(s)?)?|fri|sat(ur)?)(day)?)\b/,monthName:/^(jan(uary)?|feb(ruary)?|ma((r(ch)?)?|y)|apr(il)?|ju(ly|ne)|aug(ust)?|oct(ober)?|(sept|nov|dec)(ember)?)\b/,yearIndex:/^(\d\d\d\d)\b/,every:/^every\b/,after:/^after\b/,before:/^before\b/,second:/^(s|sec(ond)?(s)?)\b/,minute:/^(m|min(ute)?(s)?)\b/,hour:/^(h|hour(s)?)\b/,day:/^(day(s)?( of the month)?)\b/,dayInstance:/^day instance\b/,dayOfWeek:/^day(s)? of the week\b/,dayOfYear:/^day(s)? of the year\b/,weekOfYear:/^week(s)?( of the year)?\b/,weekOfMonth:/^week(s)? of the month\b/,weekday:/^weekday\b/,weekend:/^weekend\b/,month:/^month(s)?\b/,year:/^year(s)?\b/,between:/^between (the)?\b/,start:/^(start(ing)? (at|on( the)?)?)\b/,at:/^(at|@)\b/,and:/^(,|and\b)/,except:/^(except\b)/,also:/(also)\b/,first:/^(first)\b/,last:/^last\b/,in:/^in\b/,of:/^of\b/,onthe:/^on the\b/,on:/^on\b/,through:/(-|^(to|through)\b)/},s={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7,"1st":1,fir:1,"2nd":2,sec:2,"3rd":3,thi:3,"4th":4,for:4};function u(e,t,n,r){return{startPos:e,endPos:t,text:n,type:r}}function c(e){var t,n,r,a,s,c,l=e instanceof Array?e:[e],f=/\s+/;for(l.push(f),s=i;!t||t.type===f;){c=-1,n=o.substring(s),t=u(s,s,o.split(f)[0]);var d,h=l.length;for(d=0;d<h;d++)(r=(a=l[d]).exec(n))&&0===r.index&&r[0].length>c&&(t=u(s,s+(c=r[0].length),n.substring(0,c),a));t.type===f&&(s=t.endPos)}return t}function l(e){var t=c(e);return i=t.endPos,t}function f(e){for(var t=+m(e),n=g(a.through)?+m(e):t,r=[],i=t;i<=n;i++)r.push(i);return r}function d(e){for(var t=f(e);g(a.and);)t=t.concat(f(e));return t}function h(e){var t,n,r,i;g(a.weekend)?e.on(s.sun,s.sat).dayOfWeek():g(a.weekday)?e.on(s.mon,s.tue,s.wed,s.thu,s.fri).dayOfWeek():(t=m(a.rank),e.every(t),n=v(e),g(a.start)?(t=m(a.rank),e.startingOn(t),y(n.type)):g(a.between)&&(r=m(a.rank),g(a.and)&&(i=m(a.rank),e.between(r,i))))}function p(e){g(a.first)?e.first():g(a.last)?e.last():e.on(d(a.rank)),v(e)}function v(e){var t=y([a.second,a.minute,a.hour,a.dayOfYear,a.dayOfWeek,a.dayInstance,a.day,a.month,a.year,a.weekOfMonth,a.weekOfYear]);switch(t.type){case a.second:e.second();break;case a.minute:e.minute();break;case a.hour:e.hour();break;case a.dayOfYear:e.dayOfYear();break;case a.dayOfWeek:e.dayOfWeek();break;case a.dayInstance:e.dayOfWeekCount();break;case a.day:e.dayOfMonth();break;case a.weekOfMonth:e.weekOfMonth();break;case a.weekOfYear:e.weekOfYear();break;case a.month:e.month();break;case a.year:e.year();break;default:n=i}return t}function g(e){var t=c(e).type===e;return t&&l(e),t}function y(e){var t=l(e);return t.type?t.text=function(e,t){var n=e;switch(t){case a.time:var r=e.split(/(:|am|pm)/),i="pm"===r[3]&&r[0]<12?parseInt(r[0],10)+12:r[0],o=r[2].trim();n=(1===i.length?"0":"")+i+":"+o;break;case a.rank:n=parseInt(/^\d+/.exec(e)[0],10);break;case a.monthName:case a.dayName:n=s[e.substring(0,3)]}return n}(t.text,e):n=i,t}function m(e){return y(e).text}return function(e){i=0,o=e,n=-1;for(var t=r();i<o.length&&n<0;){switch(y([a.every,a.after,a.before,a.onthe,a.on,a.of,a.in,a.at,a.and,a.except,a.also]).type){case a.every:h(t);break;case a.after:void 0!==c(a.time).type?(t.after(m(a.time)),t.time()):(t.after(m(a.rank)),v(t));break;case a.before:void 0!==c(a.time).type?(t.before(m(a.time)),t.time()):(t.before(m(a.rank)),v(t));break;case a.onthe:p(t);break;case a.on:t.on(d(a.dayName)).dayOfWeek();break;case a.of:t.on(d(a.monthName)).month();break;case a.in:t.on(d(a.yearIndex)).year();break;case a.at:for(t.on(m(a.time)).time();g(a.and);)t.on(m(a.time)).time();break;case a.and:break;case a.also:t.and();break;case a.except:t.except();break;default:n=i}}return{schedules:t.schedules,exceptions:t.exceptions,error:n}}(t.toLowerCase())},e}());fD.date.localTime();var dD=fD;function hD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var pD=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},vD=function(e){var t=function(e){X()(n,e);var t=hD(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getCalendar",value:function(){return this.stores[0].calendar}},{key:"resetPriority",value:function(){this.priorityField=null}},{key:"getPriorityField",value:function(){if(null!=this.priorityField)return this.priorityField;var e=1e4+100*this.getCalendar().getDepth(),t=this.priority;return null==t&&(t=this.isRecurrent()?20:30),this.priorityField=e+t}},{key:"isRecurrent",value:function(){return Boolean(this.recurrentStartDate&&this.recurrentEndDate&&this.getStartDateSchedule()&&this.getEndDateSchedule())}},{key:"isStatic",value:function(){return Boolean(this.startDate&&this.endDate)}},{key:"parseDateSchedule",value:function(e){if(e&&e!==Object(e)&&((e=dD.parse.text(e))!==Object(e)||e.error>0))try{e=JSON.parse(e)}catch(e){return null}return e}},{key:"getStartDateSchedule",value:function(){if(this.startDateSchedule)return this.startDateSchedule;var e=this.parseDateSchedule(this.recurrentStartDate);return this.startDateSchedule=dD.schedule(e)}},{key:"getEndDateSchedule",value:function(){if(this.endDateSchedule)return this.endDateSchedule;var e=this.parseDateSchedule(this.recurrentEndDate);return this.endDateSchedule=dD.schedule(e)}}]),n}(e);return pD([ZS({type:"date",dateFormat:"YYYY-MM-DDTHH:mm:ssZ"},{converter:eD})],t.prototype,"startDate",void 0),pD([ZS({type:"date",dateFormat:"YYYY-MM-DDTHH:mm:ssZ"},{converter:eD})],t.prototype,"endDate",void 0),pD([ZS({type:"string"})],t.prototype,"recurrentStartDate",void 0),pD([ZS({type:"string"})],t.prototype,"recurrentEndDate",void 0),pD([ZS({type:"boolean",defaultValue:!1})],t.prototype,"isWorking",void 0),pD([ZS({type:"number"})],t.prototype,"priority",void 0),t},gD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;return vD(uD(lD(nD(CS(e)))))},yD=function(e){X()(n,e);var t=hD(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(gD());function mD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var kD=function(e){X()(n,e);var t=mD(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(Pw(gD(Yo)));kD._$name="ProCalendarIntervalModel";var bD,wD=new Date(-864e13),SD=new Date(864e13),DD=function(e){if(!e)return!1;var t=e.getTime();return t!==wD.getTime()&&t!==SD.getTime()};!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(bD||(bD={}));var RD;!function(e){e[e.FullRangeIterated=0]="FullRangeIterated",e[e.StoppedByIterator=1]="StoppedByIterator",e[e.MaxCacheExtendCyclesReached=2]="MaxCacheExtendCyclesReached"}(RD||(RD={}));var CD,xD=function(){function e(t){E()(this,e),this.cacheFilledStartDate=SD,this.cacheFilledEndDate=wD,this.intervalsCachingChunkDuration=30,this.intervalsCachingChunkUnit=Gb.Day,this.maxCacheExtendCycles=1e3,t&&Object.assign(this,t)}return M()(e,[{key:"includeWrappingRangeFrom",value:function(e,t,n){e.ensureCacheFilledForInterval(t,n),this.intervalCache.includeWrappingRange(e.intervalCache,t,n)}},{key:"ensureCacheFilledForInterval",value:function(e,t){var n=this.cacheFilledStartDate.getTime(),r=this.cacheFilledEndDate.getTime();if(n!==SD.getTime()){var i=e.getTime(),o=t.getTime();if(n<=i&&o<=r)return;if(o<=n)t=new Date(n-1);else if(i>=r)e=new Date(r+1);else if(n<=i&&i<=r)e=new Date(r+1);else{if(!(n<=o&&o<=r))return this.ensureCacheFilledForInterval(e,new Date(n-1)),void this.ensureCacheFilledForInterval(new Date(r+1),t);t=new Date(n-1)}}(n===SD.getTime()||e.getTime()<r)&&(this.cacheFilledStartDate=e),(r===wD.getTime()||r<t.getTime())&&(this.cacheFilledEndDate=t),this.fillCache(e,t)}},{key:"fillCache",value:function(e,t){throw new Error("Abstract method")}},{key:"clear",value:function(){this.cacheFilledStartDate=SD,this.cacheFilledEndDate=wD,this.intervalCache.clear()}},{key:"forEachAvailabilityInterval",value:function(e,t,n){n=n||this;var r=e.startDate,i=e.endDate,o=r&&r.getTime(),a=i&&i.getTime(),s=!1!==e.isForward;if(s?!r:!i)throw new Error("At least `startDate` or `endDate` is required, depending from the `isForward` option");for(var u=this.intervalCache,c=s?r:i,l=s?r:i,f=1;f<this.maxCacheExtendCycles;f++){s?this.ensureCacheFilledForInterval(c,i||xt.add(c,this.intervalsCachingChunkDuration,this.intervalsCachingChunkUnit)):this.ensureCacheFilledForInterval(r||xt.add(c,-this.intervalsCachingChunkDuration,this.intervalsCachingChunkUnit),c);for(var d=u.getIntervalOf(l,s?bD.Left:bD.Right);d;){var h=d.startDate,p=d.endDate;if(s&&a&&h.getTime()>=a||!s&&o&&p.getTime()<=o)return RD.FullRangeIterated;if(s&&h.getTime()>this.cacheFilledEndDate.getTime()||!s&&p.getTime()<this.cacheFilledStartDate.getTime())break;l=s?p:h;var v=o&&h.getTime()<o?r:h,g=a&&p.getTime()>a?i:p;if(!1===t.call(n,v,g,d.cacheInterval))return RD.StoppedByIterator;d=s?u.getNextInterval(d):u.getPrevInterval(d)}if(s&&l.getTime()===SD.getTime()||!s&&l.getTime()===wD.getTime())return RD.FullRangeIterated;c=s?this.cacheFilledEndDate:this.cacheFilledStartDate}return RD.MaxCacheExtendCyclesReached}}]),e}(),ED=function(e){var t=new Map;return e.filter(function(e){return!t.has(e)&&(t.set(e,!0),!0)})},TD=function(){function e(t){if(E()(this,e),this.intervals=[],t&&Object.assign(this,t),!this.calendar)throw new Error("Required attribute `calendar` is missing")}return M()(e,[{key:"includeInterval",value:function(t){if(-1==this.intervals.indexOf(t)){var n=this.intervals.slice();return n.push(t),new e({intervals:n,calendar:this.calendar})}return this}},{key:"combineWith",value:function(t){return new e({intervals:this.intervals.concat(t.intervals),calendar:this.calendar})}},{key:"getIsWorking",value:function(){if(null!=this.isWorking)return this.isWorking;var e=this.intervals=this.normalizeIntervals(this.intervals);return this.isWorking=e[0].isWorking}},{key:"normalizeIntervals",value:function(e){var t=ED(e);return t.sort(function(e,t){return t.getPriorityField()-e.getPriorityField()}),t}}]),e}(),MD=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e-t},r=0,i=t.length;r<i;){var o=(r+i)/2|0,a=n(e,t[o]);if(0===a)return{found:!0,index:o};a<0?i=o:r=o+1}return{found:!1,index:i}};!function(e){e[e.Exact=0]="Exact",e[e.Next=1]="Next"}(CD||(CD={}));var PD,AD=function(){function e(t){E()(this,e),this.keys=[],this.values=[],this.comparator=t||function(e,t){return e-t}}return M()(e,[{key:"set",value:function(e,t){var n=MD(e,this.keys,this.comparator);return n.found?this.values[n.index]=t:(this.keys.splice(n.index,0,e),this.values.splice(n.index,0,t)),n.index}},{key:"insertAt",value:function(e,t,n){this.keys.splice(e,0,t),this.values.splice(e,0,n)}},{key:"setValueAt",value:function(e,t){this.values[e]=t}},{key:"get",value:function(e){var t=MD(e,this.keys,this.comparator);return t.found?this.values[t.index]:void 0}},{key:"getEntryAt",value:function(e){return e<this.keys.length?{key:this.keys[e],value:this.values[e]}:void 0}},{key:"getKeyAt",value:function(e){return this.keys[e]}},{key:"getValueAt",value:function(e){return this.values[e]}},{key:"delete",value:function(e){var t=MD(e,this.keys,this.comparator);t.found&&this.deleteAt(t.index)}},{key:"size",value:function(){return this.keys.length}},{key:"deleteAt",value:function(e){this.keys.splice(e,1),this.values.splice(e,1)}},{key:"indexOfKey",value:function(e){var t=MD(e,this.keys,this.comparator);return{found:t.found?CD.Exact:CD.Next,index:t.index}}},{key:"map",value:function(e){for(var t=this.keys,n=this.values,r=[],i=0;i<t.length;i++)r.push(e(n[i],t[i],i));return r}},{key:"getAllEntries",value:function(){return this.map(function(e,t){return{value:e,key:t}})}},{key:"clear",value:function(){this.keys.length=0,this.values.length=0}}]),e}();!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(PD||(PD={}));var ID=function(){function e(t){if(E()(this,e),this.points=new AD(function(e,t){return e.getTime()-t.getTime()}),this.leftInfinityKey=wD,this.rightInfinityKey=SD,Object.assign(this,t),void 0===this.emptyInterval||!this.combineIntervalsFn)throw new Error("All of `emptyPoint`, `combineIntervalsFn` are required");this.points.set(this.leftInfinityKey,this.emptyInterval)}return M()(e,[{key:"size",value:function(){return this.points.size()}},{key:"indexOf",value:function(e){return this.points.indexOfKey(e)}},{key:"getDateAt",value:function(e){return this.points.getKeyAt(e)}},{key:"getPointAt",value:function(e){return this.points.getValueAt(e)}},{key:"getIntervalOf",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:PD.Left,r=this.indexOf(e),i=r.found,o=r.index;return t=n===PD.Left&&i===CD.Exact?o:o-1,this.getIntervalWithStartDateIndex(t)}},{key:"getPrevInterval",value:function(e){return 0===e.startDateIndex?null:this.getIntervalWithStartDateIndex(e.startDateIndex-1)}},{key:"getNextInterval",value:function(e){return e.startDateIndex>=this.size()-1?null:this.getIntervalWithStartDateIndex(e.startDateIndex+1)}},{key:"getIntervalWithStartDateIndex",value:function(e){return{startDateIndex:e,startDate:this.getDateAt(e),endDate:e+1<this.size()?this.getDateAt(e+1):this.rightInfinityKey,cacheInterval:this.getPointAt(e)}}},{key:"addInterval",value:function(e,t,n){var r,i,o=this.points,a=o.indexOfKey(e),s=a.found,u=a.index;if(s==CD.Exact){var c=n(i=o.getValueAt(u));o.setValueAt(u,c),r=u+1}else{var l=n(i=o.getValueAt(u-1));o.insertAt(u,e,l),r=u+1}for(;r<o.size();){if(o.getKeyAt(r).getTime()>=t.getTime())break;var f=n(i=o.getValueAt(r));o.setValueAt(r,f),r++}r===o.size()?o.insertAt(o.size(),t,this.emptyInterval):o.getKeyAt(r).getTime()===t.getTime()||o.insertAt(r,t,i)}},{key:"includeWrappingRange",value:function(e,t,n){for(var r=this,i=e.getIntervalOf(t);i&&(this.addInterval(i.startDate,i.endDate,function(e){return r.combineIntervalsFn(e,i.cacheInterval)}),!(i.endDate.getTime()>n.getTime()));)i=e.getNextInterval(i)}},{key:"getSummary",value:function(){return this.points.map(function(e,t){return{label:e,date:t}})}},{key:"clear",value:function(){this.points.clear(),this.points.set(this.leftInfinityKey,this.emptyInterval)}}]),e}();function FD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var LD=function(e){X()(n,e);var t=FD(n);function n(e){var r;if(E()(this,n),(r=t.call(this,e)).staticIntervalsCached=!1,!r.unspecifiedTimeInterval)throw new Error("Required attribute `unspecifiedTimeInterval` is missing");return r.intervalCache=new ID({emptyInterval:new TD({intervals:[r.unspecifiedTimeInterval],calendar:r.calendar}),combineIntervalsFn:function(e,t){return e.combineWith(t)}}),r}return M()(n,[{key:"fillCache",value:function(e,t){var n=this;this.staticIntervalsCached||(this.cacheStaticIntervals(),this.staticIntervalsCached=!0),this.parentCache&&this.includeWrappingRangeFrom(this.parentCache,e,t);var r=e.getTime(),i=t.getTime();if(r>i)throw new Error("Invalid cache fill interval");this.forEachRecurrentInterval(function(o){var a=o.getStartDateSchedule(),s=o.getEndDateSchedule(),u=a.prev(1,e),c=s.next(1,t);if(u!==dD.NEVER&&u.getTime()===r){var l=a.prev(2,e);l!==dD.NEVER&&2===l.length&&(u=l[1])}if(c!==dD.NEVER&&c.getTime()===i){var f=s.next(2,t);f!==dD.NEVER&&2===f.length&&(c=f[1])}var d=a.next(1/0,u!==dD.NEVER?u:e,c!==dD.NEVER?new Date(c.getTime()-1):t);if(d!==dD.NEVER){var h=s.next(1/0,new Date(d[0].getTime()+1),c!==dD.NEVER?c:t);h.length>d.length?h.length=d.length:h.length<d.length&&(d.length=h.length),d.forEach(function(e,t){var r=e,i=h[t];n.intervalCache.addInterval(r,i,function(e){return e.includeInterval(o)})})}})}},{key:"clear",value:function(){this.staticIntervalsCached=!1,ce()(Q()(n.prototype),"clear",this).call(this)}},{key:"cacheStaticIntervals",value:function(){var e=this;this.forEachStaticInterval(function(t){e.intervalCache.addInterval(t.startDate,t.endDate,function(e){return e.includeInterval(t)})})}},{key:"forEachStaticInterval",value:function(e){this.intervalStore.forEach(function(t){t.isStatic()&&e(t)})}},{key:"forEachRecurrentInterval",value:function(e){this.intervalStore.forEach(function(t){t.isRecurrent()&&e(t)})}}]),n}(xD);function OD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var _D=function(e){X()(n,e);var t=OD(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"defaultConfig",get:function(){return{modelClass:yD}}}]),n}(oD(lD(Ra)));function jD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var HD=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ND=function(e){X()(n,e);var t=jD(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getCalendar",value:function(){return this.calendar}},{key:"getPriorityField",value:function(){return null!=this.priorityField?this.priorityField:this.priorityField=this.getCalendar().getDepth()}}]),n}(yD);function BD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}HD([ZS({type:"number",defaultValue:10})],ND.prototype,"priority",void 0);var zD=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},VD=Symbol("CalendarMixin"),WD=function(e){var t=function(e){X()(n,e);var t=BD(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).version=1,e}return M()(n,[{key:VD,value:function(){}},{key:"calculateSelf",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.version;case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}},e,this)})},{key:"afterConstruct",value:function(){ce()(Q()(n.prototype),"afterConstruct",this).call(this);var e=this.hoursPerDay,t=this.daysPerWeek,r=this.daysPerMonth;this.unitsInMs={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:60*e*60*1e3,week:t*e*60*60*1e3,month:r*e*60*60*1e3,quarter:3*r*e*60*60*1e3,year:12*r*e*60*60*1e3},this.intervalStore=new _D({calendar:this,modelClass:this.constructor.defaultConfig.calendarIntervalModelClass||yD}),this.intervals&&this.intervals.length&&this.addIntervals(this.intervals)}},{key:"isDefault",value:function(){var e=this.getProject();return!!e&&this===e.defaultCalendar}},{key:"getDepth",value:function(){return this.childLevel+1}},{key:"forEachAvailabilityInterval",value:function(e,t,n){return this.calendarCache.forEachAvailabilityInterval(e,t,n)}},{key:"accumulateWorkingTime",value:function(e,t,n,r){if(0===t)return{finalDate:new Date(e),remainingDurationInMs:0};if(isNaN(t))throw new Error("Invalid duration");var i=this.convertDuration(t,n,Gb.Millisecond),o=e;return this.forEachAvailabilityInterval(r?{startDate:e,isForward:!0}:{endDate:e,isForward:!1},function(e,t,n){var a=!0;if(n.getIsWorking()){var s=e.getTimezoneOffset()-t.getTimezoneOffset(),u=t.getTime()-e.getTime()+60*s*1e3;i<=u?(o=r?new Date(e.getTime()+i):new Date(t.getTime()-i),i=0,a=!1):(o=r?t:e,i-=u)}return a}),{finalDate:new Date(o),remainingDurationInMs:i}}},{key:"calculateDuration",value:function(e,t,n){var r=0;return this.forEachAvailabilityInterval({startDate:e,endDate:t},function(e,t,n){if(n.getIsWorking()){var i=e.getTimezoneOffset()-t.getTimezoneOffset();r+=t.getTime()-e.getTime()+60*i*1e3}}),this.convertDuration(r,Gb.Millisecond,n)}},{key:"calculateEndDate",value:function(e,t,n){var r=this.accumulateWorkingTime(e,t,n,!0);return 0===r.remainingDurationInMs?r.finalDate:null}},{key:"calculateStartDate",value:function(e,t,n){var r=this.accumulateWorkingTime(e,t,n,!1);return 0===r.remainingDurationInMs?r.finalDate:null}},{key:"skipNonWorkingTime",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.forEachAvailabilityInterval(n?{startDate:e,isForward:!0}:{endDate:e,isForward:!1},function(e,r,i){if(i.getIsWorking())return t=n?e:r,!1}),t?new Date(t):new Date(e)}},{key:"convertDuration",value:function(e,t,n){var r=e;return t!==n&&(r=e*this.unitsInMs[t]/this.unitsInMs[n]),r}},{key:"addInterval",value:function(e){return this.addIntervals([e])}},{key:"addIntervals",value:function(e){return this.bumpVersion(),this.intervalStore.add(e)}},{key:"bumpVersion",value:function(){this.clearCache(),this.version++}},{key:"clearCache",value:function(){this.$calendarCache&&this.$calendarCache.clear(),this.$calendarCache=void 0}},{key:"resetPriorityOfAllIntervals",value:function(){this.traverse(function(e){e.intervalStore.forEach(function(e){return e.resetPriority()})})}},{key:"appendChild",value:function(e){var t=ce()(Q()(n.prototype),"appendChild",this).call(this,e);return Array.isArray(t)||(t=[t]),t.forEach(function(e){e.bumpVersion(),e.resetPriorityOfAllIntervals()}),t}},{key:"insertChild",value:function(e,t){var r=ce()(Q()(n.prototype),"insertChild",this).call(this,e,t);return Array.isArray(r)||(r=[r]),r.forEach(function(e){e.bumpVersion(),e.resetPriorityOfAllIntervals()}),r}},{key:"joinProject",value:function(){ce()(Q()(n.prototype),"joinProject",this).call(this),this.intervalStore.setProject(this.getProject())}},{key:"leaveProject",value:function(){ce()(Q()(n.prototype),"leaveProject",this).call(this),this.intervalStore.setProject(null)}},{key:"isDayHoliday",value:function(e){var t=xt.clearTime(e),n=xt.getNext(e,Gb.Day),r=!1;return this.forEachAvailabilityInterval({startDate:t,endDate:n,isForward:!0},function(e,t,n){return!(r=n.getIsWorking())}),!r}},{key:"getDailyHolidaysRanges",value:function(e,t){var n=[];for(e=xt.clearTime(e);e<t;)this.isDayHoliday(e)&&n.push({startDate:e,endDate:xt.getStartOfNextDay(e,!0,!0)}),e=xt.getNext(e,Gb.Day);return n}},{key:"calendarCache",get:function(){if(void 0!==this.$calendarCache)return this.$calendarCache;var e=new ND({isWorking:this.unspecifiedTimeIsWorking});return e.calendar=this,this.$calendarCache=new LD({calendar:this,unspecifiedTimeInterval:e,intervalStore:this.intervalStore,parentCache:this.parent&&!this.parent.isRoot?this.parent.calendarCache:null})}}]),n}(e);return zD([MS({persistent:!1})],t.prototype,"version",void 0),zD([ZS({type:"string"})],t.prototype,"name",void 0),zD([ZS({type:"number",defaultValue:24})],t.prototype,"hoursPerDay",void 0),zD([ZS({type:"number",defaultValue:7})],t.prototype,"daysPerWeek",void 0),zD([ZS({type:"number",defaultValue:30})],t.prototype,"daysPerMonth",void 0),zD([ZS({type:"boolean",defaultValue:!0})],t.prototype,"unspecifiedTimeIsWorking",void 0),zD([ZS()],t.prototype,"intervals",void 0),t},$D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;return WD(uD(lD(CS(e))))},GD=function(e){X()(n,e);var t=BD(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}($D());function YD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var UD=function(e){X()(n,e);var t=YD(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"fields",get:function(){return[]}},{key:"defaultConfig",get:function(){return{calendarIntervalModelClass:kD}}}]),n}(Pw($D(Yo)));function qD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}UD._$name="ProCalendarModel";var XD=function(e){return function(e){X()(r,e);var t,n=qD(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"construct",value:function(){for(var e,t=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];(e=ce()(Q()(r.prototype),"construct",this)).call.apply(e,[this].concat(i)),t.addPrioritizedStore(t.calendarManagerStore),t.addPrioritizedStore(t.assignmentStore),t.addPrioritizedStore(t.dependencyStore),t.addPrioritizedStore(t.resourceStore),t.addPrioritizedStore(t.eventStore),t.addPrioritizedStore(t.timeRangeStore)}},{key:"applyResponse",value:(t=ro()(to.a.mark(function e(t,n,i){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()(Q()(r.prototype),"applyResponse",this).call(this,t,n,i);case 2:return n&&n.project&&Object.assign(this,n.project),e.next=5,this.propagate(function(e){if(e instanceof Hw){var t=Array.from(new Set(e.cycle.map(function(e){return e.self.id}))),n=new Error("Graph cycle: "+t);throw n.conflict=e,n}return Fw.Resume});case 5:this.clearCrudStoresChanges();case 6:case"end":return e.stop()}},e,this)})),function(e,n,r){return t.apply(this,arguments)})},{key:"clearCrudStoresChanges",value:function(){this.crudStores.forEach(function(e){var t=e.store;t.remove(t.added.values,!0),t.modified.forEach(function(e){return e.clearChanges(!1)}),t.added.clear(),t.modified.clear(),t.removed.clear()})}},{key:"applyProjectResponse",value:function(e){this.loadProjectFields(e)}}]),r}(Zv(Op(Wp(e))))};function KD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ZD=function(e){return function(e){X()(i,e);var t,n,r=KD(i);function i(){return E()(this,i),r.apply(this,arguments)}return M()(i,[{key:"addEventToResource",value:(n=ro()(to.a.mark(function e(t){var n,r,o,a,s,u,c;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.event,r=t.resource,o=t.eventStore,a=t.assignmentStore,s=ce()(Q()(i.prototype),"addEventToResource",this).call(this,{event:n,resource:r,eventStore:o,assignmentStore:a}),u=s.assignment,e.next=4,this.propagate();case 4:return c=e.sent,e.abrupt("return",{event:n,assignment:u,result:c});case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"addEventToResourceWithoutPropagation",value:function(e){return ce()(Q()(i.prototype),"addEventToResource",this).call(this,e)}},{key:"removeEvents",value:(t=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.forEach(function(e){return e.remove()}),e.next=3,this.project.propagate();case 3:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),i}(e||U)};function JD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var QD=function(e){return function(e){X()(r,e);var t,n=JD(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"isValidDependency",value:function(e){var t=e.sourceEvent,n=e.targetEvent,r=e.type;return e.dependencyStore.isValidDependency({fromEvent:t,toEvent:n,type:r})}},{key:"createDependency",value:(t=ro()(to.a.mark(function e(t){var n,r,i,o,a,s;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sourceEvent,r=t.targetEvent,i=t.type,o=t.dependencyStore,a=o.add({fromEvent:n,toEvent:r,type:i})[0],e.next=4,this.propagate();case 4:return s=e.sent,e.abrupt("return",{result:s,dependency:a});case 6:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),r}(e||U)};function eR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var tR=function(e){return function(e){X()(n,e);var t=eR(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(e||U)};function nR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var rR=function(e){return function(e){X()(n,e);var t=nR(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"propagate",value:function(){return this.project.propagate()}},{key:"beginPropagationBatch",value:function(){this.project.suspendPropagate()}},{key:"endPropagationBatch",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.project.resumePropagate(e)}},{key:"project",get:function(){var e=this,t=e.host;return e._project||(e._project=t.getProjectForDataAPI&&t.getProjectForDataAPI(e)||t.getProject&&t.getProject(e)),e._project}}]),n}(e||U)};function iR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var oR=function(e){var t,n=[Lg,Tg,Pg,Ig,tR,ZD,Ew,QD,rR],r=(t=Uo(U)).mixes.apply(t,n);return function(e){X()(n,e);var t=iR(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"dataApi",get:function(){return this._dataApi||(this._dataApi=new r({host:this.dataApiHost||this})),this._dataApi}}]),n}(e||U)};function aR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var sR=function(e){X()(n,e);var t=aR(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getProjectForDataAPI",value:function(){return this.dependencyStore.getProject()}},{key:"obtainResourceStore",value:function(e,t){return e.project.getResourceStore()}},{key:"obtainDependencyStore",value:function(e,t){return e.project.getDependencyStore()}},{key:"obtainAssignmentStore",value:function(e,t){return e.project.getAssignmentStore()}},{key:"obtainEventStore",value:function(e,t){return e.project.getEventStore()}}],[{key:"featureClass",get:function(){return"b-dependencies"}},{key:"defaultConfig",get:function(){return{terminalSides:["left","right"]}}}]),n}(Uo(cm).mixes(oR));function uR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}sR._$name="ProDependencies",Ff.registerFeature(sR,!0,"ProScheduler","Dependencies");var cR=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},lR=Symbol("hasMixin"),fR=function(e){var t=function(e){X()(r,e);var t,n=uR(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:lR,value:function(){}},{key:"calculateSelf",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.lag;case 2:return e.next=4,this.$.lagUnit;case 4:return e.next=6,this.$.type;case 6:return e.abrupt("return",this);case 7:case"end":return e.stop()}},e,this)})},{key:"calculateCalendar",value:to.a.mark(function e(){var t,n,r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProject().$.dependenciesCalendar;case 2:t=e.sent,e.t0=t,e.next=e.t0===Xb.Project?6:e.t0===Xb.FromEvent?10:e.t0===Xb.ToEvent?22:34;break;case 6:return e.next=8,this.getProject().$.calendar;case 8:return n=e.sent,e.abrupt("break",34);case 10:return e.next=12,this.$.fromEvent;case 12:if(!(r=e.sent)||eS(r)){e.next=19;break}return e.next=16,r.$.calendar;case 16:e.t1=e.sent,e.next=20;break;case 19:e.t1=null;case 20:return n=e.t1,e.abrupt("break",34);case 22:return e.next=24,this.$.toEvent;case 24:if(!(i=e.sent)||eS(i)){e.next=31;break}return e.next=28,i.$.calendar;case 28:e.t2=e.sent,e.next=32;break;case 31:e.t2=null;case 32:return n=e.t2,e.abrupt("break",34);case 34:if(n){e.next=38;break}return e.next=37,this.getProject().$.calendar;case 37:n=e.sent;case 38:return e.next=40,n.$$;case 40:return e.abrupt("return",n);case 41:case"end":return e.stop()}},e,this)})},{key:"setLag",value:(t=ro()(to.a.mark(function e(t){var n,r=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:this.lagUnit,this.$.lag.put(t),this.$.lagUnit.put(n),e.abrupt("return",this.propagate());case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),r}(e);return cR([TS({bucket:"outgoingDeps",resolver:function(e){return this.getEventById(e)},modelFieldConfig:{persist:!0,serialize:function(e){return e.id}}},YS)],t.prototype,"fromEvent",void 0),cR([TS({bucket:"incomingDeps",resolver:function(e){return this.getEventById(e)},modelFieldConfig:{persist:!0,serialize:function(e){return e.id}}},YS)],t.prototype,"toEvent",void 0),cR([ZS({type:"number",defaultValue:0})],t.prototype,"lag",void 0),cR([ZS({type:"string",defaultValue:Gb.Day},{converter:xt.normalizeUnit})],t.prototype,"lagUnit",void 0),cR([ZS({type:"string",defaultValue:qb.EndToStart})],t.prototype,"type",void 0),cR([MS()],t.prototype,"calendar",void 0),cR([PS("calendar")],t.prototype,"calculateCalendar",null),t},dR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;return fR(uD(lD(nD(CS(e)))))},hR=function(e){X()(n,e);var t=uR(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(dR()),pR=function(e){return Boolean(e&&e[lR])};function vR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var gR=["SS","SF","FS","FF"],yR=function(e){X()(n,e);var t=vR(n);function n(){E()(this,n);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=r[0];return o&&o.fromTask&&(o.fromEvent=o.fromTask),o&&o.toTask&&(o.toEvent=o.toTask),t.call.apply(t,[this].concat(r))}return M()(n,null,[{key:"fields",get:function(){return[{name:"from",persist:!1},{name:"to",persist:!1}]}}]),M()(n,[{key:"getFromTask",value:function(){return this.getFromEvent()}},{key:"setFromTask",value:function(){return this.setFromEvent.apply(this,arguments)}},{key:"getToTask",value:function(){return this.getToEvent()}},{key:"setToTask",value:function(){return this.setToEvent.apply(this,arguments)}},{key:"getTypeFromSides",value:function(e,t,n){var r=sg.Type,i=n?"right":"left",o=n?"left":"right";return e===i?t===i?r.StartToStart:r.StartToEnd:t===o?r.EndToEnd:r.EndToStart}},{key:"getConnectorString",value:function(e){var t=gR[this.type];return e?t:this.type===sg.Type.EndToStart?"":this.L("L{SchedulerProCommon.".concat(t,"}"))}},{key:"sourceTask",set:function(e){this.fromEvent=e},get:function(){return this.fromEvent}},{key:"sourceEvent",set:function(e){this.fromEvent=e},get:function(){return this.fromEvent}},{key:"from",get:function(){return this.fromEvent&&this.fromEvent.id}},{key:"fromTask",get:function(){return this.fromEvent},set:function(e){this.fromEvent=e}},{key:"targetTask",set:function(e){this.toEvent=e},get:function(){return this.toEvent}},{key:"to",get:function(){return this.toEvent&&this.toEvent.id}},{key:"targetEvent",set:function(e){this.toEvent=e},get:function(){return this.toEvent}},{key:"toTask",get:function(){return this.toEvent},set:function(e){this.toEvent=e}}]),n}(Pw(dR(We(sg))));function mR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}yR._$name="ProDependencyModel";var kR=function(e){X()(n,e);var t=mR(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getProjectForDataAPI",value:function(){return this.eventStore.getProject()}},{key:"updateRecordsMultipleAssignmentMode",value:function(e,t,r,i){var o=this,a=r.draggedRecords,s=a.map(function(e){return o.dataApi.getAssignmentEvent({assignment:e,eventStore:o.eventStore}).startDate});return this.dataApi.beginPropagationBatch(),ce()(Q()(n.prototype),"updateRecordsMultipleAssignmentMode",this).call(this,e,t,r,i),r.valid=!0,this.dataApi.endPropagationBatch().then(function(e){return a.forEach(function(e,t){var n=o.dataApi.getAssignmentEvent({assignment:e,eventStore:o.eventStore}),r=s[t];if(r-n.startDate==0){var i=o.client.getElementFromAssignmentRecord(e);if(i){yn.setTranslateX(i.parentElement,o.client.getCoordinateFromDate(r));var a=o.client.features.dependencies;a&&a.updateDependenciesForTimeSpan(e,i)}}}),e})}}]),n}(Uo(Ng).mixes(oR));function bR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}kR._$name="ProEventDrag",Ff.registerFeature(kR,!0,"ProScheduler","EventDrag");var wR=function(e){X()(r,e);var t,n=bR(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"finalizeDragCreate",value:(t=ro()(to.a.mark(function e(t){var n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(){n.eventStore.modelClass.exposeProperties();var e=n.eventStore.modelClass.getFieldDefinition("durationUnit").defaultValue,r=n.dataApi.addEventToResourceWithoutPropagation({event:{startDate:t.startDate,duration:t.rowRecord.getCalendar().calculateDuration(t.startDate,t.endDate,e)},resource:t.rowRecord,eventStore:n.eventStore,assignmentStore:n.assignmentStore}),i=r.event,o=r.assignment;return n.scheduler.trigger("dragCreateEnd",{newEventRecord:i,newAssignmentRecord:o,resourceRecord:t.rowRecord,event:t.event,proxyElement:n.proxy}),i},!(n=this).client.hasFeature("eventEdit")){e.next=5;break}n.client.features.eventEdit.editEvent(r,t.rowRecord),e.next=8;break;case 5:return r(),e.next=8,n.dataApi.propagate();case 8:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"getProjectForDataAPI",value:function(){return this.eventStore.getProject()}},{key:"obtainResourceStore",value:function(e,t){return e.project.getResourceStore()}},{key:"obtainDependencyStore",value:function(e,t){return e.project.getDependencyStore()}},{key:"obtainAssignmentStore",value:function(e,t){return e.project.getAssignmentStore()}},{key:"obtainEventStore",value:function(e,t){return e.project.getEventStore()}}],[{key:"featureClass",get:function(){return"b-eventdragcreate"}}]),r}(Uo(Wg).mixes(xg,oR));function SR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}wR._$name="ProEventDragCreate",Ff.registerFeature(wR,!0,"ProScheduler","EventDragCreate");var DR=function(e){X()(n,e);var t=SR(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){ce()(Q()(n.prototype),"construct",this).call(this,e,t),this.bindProject(e.project)}},{key:"doDestroy",value:function(){this.unbindProject(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"bindProject",value:function(e){var t=this;t.calendar=e.getCalendar(),e.on({name:"project",load:function(){t.calendar=e.getCalendar()},thisObj:t}),e.eventStore.on({name:"project",change:function(n){var r=n.record,i=n.changes;r===e&&i.calendar&&(t.calendar=e.getCalendar())},thisObj:t}),e.calendarManagerStore.on({name:"project",change:function(e){e.record===t.calendar&&t.client.isPainted&&t.renderRanges()},thisObj:t})}},{key:"unbindProject",value:function(){this.detachListeners("project")}},{key:"renderRanges",value:function(){var e=this.store,t=this.client.timeAxis;if(e&&!e.isDestroyed){var r=xt.as(t.unit,1,"week")>=1;e.removeAll(!0),this.calendar&&r&&e.add(this.calendar.getDailyHolidaysRanges(t.startDate,t.endDate),!0)}ce()(Q()(n.prototype),"renderRanges",this).call(this)}},{key:"calendar",get:function(){return this._calendar},set:function(e){e!==this._calendar&&(this._calendar=e,this.client.isPainted&&this.renderRanges())}}],[{key:"defaultConfig",get:function(){return{showHeaderElements:!0,cls:"b-sch-nonworkingtime",calendar:null}}}]),n}(Vy);function RR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}DR._$name="ProNonWorkingTime",Ff.registerFeature(DR,!0,["ProScheduler","Gantt"],"nonWorkingTime");var CR=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},xR=Symbol("HasCalendarMixin"),ER=function(e){var t=function(e){X()(r,e);var t,n=RR(r);function r(){var e;return E()(this,r),(e=n.apply(this,arguments)).calendarInherited=!0,e}return M()(r,[{key:xR,value:function(){}},{key:"setCalendar",value:(t=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.calendar=t,e.abrupt("return",this.propagate());case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"getCalendar",value:function(){return this.calendar}},{key:"calculateCalendar",value:to.a.mark(function e(t){var n,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getCalendarManagerStore(),null!=t?(eS(t)&&(r=n.getById(t)||null,t=r),this.calendarInherited=!1,i=t):void 0===t&&this.$.calendar.hasConsistentValue()&&!this.calendarInherited&&(i=this.$.calendar.getConsistentValue()),null!=i){e.next=9;break}if((o=this.getProject())===this){e.next=9;break}return e.next=7,o.$.calendar;case 7:i=e.sent,this.calendarInherited=!0;case 9:if(e.t0=!eS(i),!e.t0){e.next=13;break}return e.next=13,i.$$;case 13:return e.abrupt("return",i);case 14:case"end":return e.stop()}},e,this)})}]),r}(e);return CR([ZS({serialize:function(e){return e&&e.id}})],t.prototype,"calendar",void 0),CR([PS("calendar")],t.prototype,"calculateCalendar",null),t};function TR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var MR=function(e){X()(n,e);var t=TR(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(Lw);function PR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var AR=function(e){X()(n,e);var t=PR(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"initialize",value:function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=ce()(Q()(n.prototype),"initialize",this)).call.apply(e,[this].concat(r)),this.startDate||(this.startDate=wD),this.endDate||(this.endDate=SD)}},{key:"startDateIsFinite",value:function(){return!this.isIntervalEmpty()&&this.startDate.getTime()!==wD.getTime()}},{key:"endDateIsFinite",value:function(){return!this.isIntervalEmpty()&&this.endDate.getTime()!==SD.getTime()}},{key:"containsDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bD.Left;return t===bD.Left&&e>=this.startDate&&e<this.endDate||t===bD.Right&&e>this.startDate&&e<=this.endDate}},{key:"isIntervalEmpty",value:function(){return this.startDate>this.endDate}},{key:"intersect",value:function(e){var t=e.startDate,n=e.endDate,r=this.startDate,i=this.endDate;if(i<t||r>n)return IR;var o=new Date(Math.max(r.getTime(),t.getTime())),a=new Date(Math.min(i.getTime(),n.getTime()));return this.constructor.new({startDate:o,endDate:a})}}]),n}(Aw),IR=AR.new({startDate:SD,endDate:wD}),FR=function(e){return e.reduce(function(e,t){return e.intersect(t)},AR.new())};function LR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var OR=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},_R=function(e){X()(n,e);var t=LR(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"toString",value:function(){return"from ".concat(this.startDate," till ").concat(this.endDate)}}]),n}(AR),jR=to.a.mark(function e(t,n,r,i){var o,a;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isIntervalEmpty()){e.next=2;break}return e.abrupt("return",IR);case 2:if(!r.startDateIsFinite()){e.next=7;break}return e.delegateYield(t.calculateProjectedXDateWithDuration(r.startDate,!1,i),"t1",4);case 4:e.t0=e.t1,e.next=8;break;case 7:e.t0=null;case 8:if(o=e.t0,!r.endDateIsFinite()){e.next=14;break}return e.delegateYield(t.calculateProjectedXDateWithDuration(r.endDate,!1,i),"t3",11);case 11:e.t2=e.t3,e.next=15;break;case 14:e.t2=null;case 15:return a=e.t2,e.abrupt("return",FR([n,AR.new({startDate:o,endDate:a})]));case 17:case"end":return e.stop()}},e)}),HR=to.a.mark(function e(t,n,r,i){var o,a;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isIntervalEmpty()){e.next=2;break}return e.abrupt("return",IR);case 2:if(!n.startDateIsFinite()){e.next=7;break}return e.delegateYield(t.calculateProjectedXDateWithDuration(n.startDate,!0,i),"t1",4);case 4:e.t0=e.t1,e.next=8;break;case 7:e.t0=null;case 8:if(o=e.t0,!n.endDateIsFinite()){e.next=14;break}return e.delegateYield(t.calculateProjectedXDateWithDuration(n.endDate,!0,i),"t3",11);case 11:e.t2=e.t3,e.next=15;break;case 14:e.t2=null;case 15:return a=e.t2,e.abrupt("return",FR([r,AR.new({startDate:o,endDate:a})]));case 17:case"end":return e.stop()}},e)}),NR=function(e){var t=function(e){X()(r,e);var t,n=LR(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"setManuallyScheduled",value:(t=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.$.manuallyScheduled.put(t),e.abrupt("return",this.propagate());case 2:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"maybeSkipNonWorkingTime",value:to.a.mark(function e(t){var n,r,i=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(i.length>1&&void 0!==i[1])||i[1],e.delegateYield(this.calculateEffectiveDuration(),"t0",2);case 2:if(r=e.t0,!(t&&r>0)){e.next=8;break}return e.delegateYield(this.skipNonWorkingTime(t,n),"t2",5);case 5:e.t1=e.t2,e.next=9;break;case 8:e.t1=t;case 9:return e.abrupt("return",e.t1);case 10:case"end":return e.stop()}},e,this)})},{key:"calculateEffectiveConstraintInterval",value:to.a.mark(function e(t,n,r){var i,o,a;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.calculateEffectiveDuration(),"t0",1);case 1:if(null!==(i=e.t0)){e.next=4;break}return e.abrupt("return",null);case 4:return o=t?jR:HR,e.delegateYield(o(this,FR(n),FR(r),i),"t1",6);case 6:return a=e.t1,e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)})},{key:"calculateStartDateConstraintIntervals",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}},e)})},{key:"calculateEndDateConstraintIntervals",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}},e)})},{key:"calculateEarlyStartDateConstraintIntervals",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}},e)})},{key:"calculateEarlyEndDateConstraintIntervals",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}},e)})},{key:"calculateEarlyStartDateRaw",value:to.a.mark(function e(){var t,n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.isConstrainedEarly(),"t1",1);case 1:if(e.t0=!e.t1,e.t0){e.next=6;break}return e.next=5,this.$.manuallyScheduled;case 5:e.t0=e.sent;case 6:if(!e.t0){e.next=10;break}return e.next=9,this.$.startDate;case 9:return e.abrupt("return",e.sent);case 10:return e.next=12,this.$.earlyStartDateConstraintIntervals;case 12:return t=e.sent,e.next=15,this.$.earlyEndDateConstraintIntervals;case 15:return n=e.sent,e.t2=this,e.t3=t,e.next=20,this.$.startDateConstraintIntervals;case 20:return e.t4=e.sent,e.t5=e.t3.concat.call(e.t3,e.t4),e.t6=n,e.next=25,this.$.endDateConstraintIntervals;case 25:return e.t7=e.sent,e.t8=e.t6.concat.call(e.t6,e.t7),e.delegateYield(e.t2.calculateEffectiveConstraintInterval.call(e.t2,!0,e.t5,e.t8),"t9",28);case 28:if(r=e.t9){e.next=31;break}return e.abrupt("return",null);case 31:if(!r.isIntervalEmpty()){e.next=38;break}if(void 0!==this.$.startDate.value){e.next=36;break}return e.next=35,Ow.new({promise:Promise.resolve()});case 35:return e.abrupt("return",null);case 36:return e.next=38,MR.new();case 38:if(DD(r.startDate)){e.next=40;break}return e.abrupt("return",null);case 40:return e.abrupt("return",r.startDate);case 41:case"end":return e.stop()}},e,this)})},{key:"calculateEarlyStartDate",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.earlyStartDateRaw;case 2:return t=e.sent,e.delegateYield(this.maybeSkipNonWorkingTime(t,!0),"t0",4);case 4:return e.abrupt("return",e.t0);case 5:case"end":return e.stop()}},e,this)})},{key:"calculateEarlyEndDateRaw",value:to.a.mark(function e(){var t,n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.isConstrainedEarly(),"t1",1);case 1:if(e.t0=!e.t1,e.t0){e.next=6;break}return e.next=5,this.$.manuallyScheduled;case 5:e.t0=e.sent;case 6:if(!e.t0){e.next=10;break}return e.next=9,this.$.endDate;case 9:return e.abrupt("return",e.sent);case 10:return e.next=12,this.$.earlyStartDateConstraintIntervals;case 12:return t=e.sent,e.next=15,this.$.earlyEndDateConstraintIntervals;case 15:return n=e.sent,e.t2=this,e.t3=t,e.next=20,this.$.startDateConstraintIntervals;case 20:return e.t4=e.sent,e.t5=e.t3.concat.call(e.t3,e.t4),e.t6=n,e.next=25,this.$.endDateConstraintIntervals;case 25:return e.t7=e.sent,e.t8=e.t6.concat.call(e.t6,e.t7),e.delegateYield(e.t2.calculateEffectiveConstraintInterval.call(e.t2,!1,e.t5,e.t8),"t9",28);case 28:if(r=e.t9){e.next=31;break}return e.abrupt("return",null);case 31:if(!r.isIntervalEmpty()){e.next=38;break}if(void 0!==this.$.endDate.value){e.next=36;break}return e.next=35,Ow.new({promise:Promise.resolve()});case 35:return e.abrupt("return",null);case 36:return e.next=38,MR.new();case 38:if(DD(r.startDate)){e.next=40;break}return e.abrupt("return",null);case 40:return e.abrupt("return",r.startDate);case 41:case"end":return e.stop()}},e,this)})},{key:"calculateEarlyEndDate",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.earlyEndDateRaw;case 2:return t=e.sent,e.delegateYield(this.maybeSkipNonWorkingTime(t,!1),"t0",4);case 4:return e.abrupt("return",e.t0);case 5:case"end":return e.stop()}},e,this)})},{key:"isConstrainedEarly",value:to.a.mark(function e(){var t,n,r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.startDateConstraintIntervals;case 2:return t=e.sent,e.next=5,this.$.endDateConstraintIntervals;case 5:return n=e.sent,e.next=8,this.$.earlyStartDateConstraintIntervals;case 8:return r=e.sent,e.next=11,this.$.earlyEndDateConstraintIntervals;case 11:return i=e.sent,e.abrupt("return",Boolean(t.length||n.length||r.length||i.length));case 13:case"end":return e.stop()}},e,this)})},{key:"calculateStartDatePure",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.direction;case 2:if(e.sent!==Zb.Forward){e.next=22;break}return e.delegateYield(this.isConstrainedEarly(),"t1",5);case 5:if(e.t0=!e.t1,e.t0){e.next=10;break}return e.next=9,this.$.manuallyScheduled;case 9:e.t0=e.sent;case 10:if(!e.t0){e.next=13;break}return e.delegateYield(ce()(Q()(r.prototype),"calculateStartDatePure",this).call(this),"t2",12);case 12:return e.abrupt("return",e.t2);case 13:return e.next=15,this.$.earlyStartDate;case 15:if(e.t3=e.sent,e.t3){e.next=19;break}return e.delegateYield(ce()(Q()(r.prototype),"calculateStartDatePure",this).call(this),"t4",18);case 18:e.t3=e.t4;case 19:return e.abrupt("return",e.t3);case 22:return e.delegateYield(ce()(Q()(r.prototype),"calculateStartDatePure",this).call(this),"t5",23);case 23:return e.abrupt("return",e.t5);case 24:case"end":return e.stop()}},e,this)})},{key:"calculateStartDateProposed",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.direction;case 2:t=e.sent,e.t0=t,e.next=e.t0===Zb.Forward?6:22;break;case 6:return e.delegateYield(this.isConstrainedEarly(),"t2",7);case 7:if(e.t1=!e.t2,e.t1){e.next=12;break}return e.next=11,this.$.manuallyScheduled;case 11:e.t1=e.sent;case 12:if(!e.t1){e.next=15;break}return e.delegateYield(ce()(Q()(r.prototype),"calculateStartDateProposed",this).call(this),"t3",14);case 14:return e.abrupt("return",e.t3);case 15:return e.next=17,this.$.earlyStartDate;case 17:if(e.t4=e.sent,e.t4){e.next=21;break}return e.delegateYield(ce()(Q()(r.prototype),"calculateStartDateProposed",this).call(this),"t5",20);case 20:e.t4=e.t5;case 21:return e.abrupt("return",e.t4);case 22:return e.delegateYield(ce()(Q()(r.prototype),"calculateStartDateProposed",this).call(this),"t6",23);case 23:return e.abrupt("return",e.t6);case 24:case"end":return e.stop()}},e,this)})},{key:"calculateEndDatePure",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.direction;case 2:if(e.sent!==Zb.Forward){e.next=22;break}return e.delegateYield(this.isConstrainedEarly(),"t1",5);case 5:if(e.t0=!e.t1,e.t0){e.next=10;break}return e.next=9,this.$.manuallyScheduled;case 9:e.t0=e.sent;case 10:if(!e.t0){e.next=13;break}return e.delegateYield(ce()(Q()(r.prototype),"calculateEndDatePure",this).call(this),"t2",12);case 12:return e.abrupt("return",e.t2);case 13:return e.next=15,this.$.earlyEndDate;case 15:if(e.t3=e.sent,e.t3){e.next=19;break}return e.delegateYield(ce()(Q()(r.prototype),"calculateEndDatePure",this).call(this),"t4",18);case 18:e.t3=e.t4;case 19:return e.abrupt("return",e.t3);case 22:return e.delegateYield(ce()(Q()(r.prototype),"calculateEndDatePure",this).call(this),"t5",23);case 23:return e.abrupt("return",e.t5);case 24:case"end":return e.stop()}},e,this)})},{key:"calculateEndDateProposed",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.direction;case 2:t=e.sent,e.t0=t,e.next=e.t0===Zb.Forward?6:22;break;case 6:return e.delegateYield(this.isConstrainedEarly(),"t2",7);case 7:if(e.t1=!e.t2,e.t1){e.next=12;break}return e.next=11,this.$.manuallyScheduled;case 11:e.t1=e.sent;case 12:if(!e.t1){e.next=15;break}return e.delegateYield(ce()(Q()(r.prototype),"calculateEndDateProposed",this).call(this),"t3",14);case 14:return e.abrupt("return",e.t3);case 15:return e.next=17,this.$.earlyEndDate;case 17:if(e.t4=e.sent,e.t4){e.next=21;break}return e.delegateYield(ce()(Q()(r.prototype),"calculateEndDateProposed",this).call(this),"t5",20);case 20:e.t4=e.t5;case 21:return e.abrupt("return",e.t4);case 22:return e.delegateYield(ce()(Q()(r.prototype),"calculateEndDateProposed",this).call(this),"t6",23);case 23:return e.abrupt("return",e.t6);case 24:case"end":return e.stop()}},e,this)})}]),r}(e);return OR([MS()],t.prototype,"earlyStartDateRaw",void 0),OR([ZS({type:"date",dateFormat:"YYYY-MM-DDTHH:mm:ssZ",persist:!1},{converter:eD,persistent:!1})],t.prototype,"earlyStartDate",void 0),OR([MS()],t.prototype,"earlyEndDateRaw",void 0),OR([ZS({type:"date",dateFormat:"YYYY-MM-DDTHH:mm:ssZ",persist:!1},{converter:eD,persistent:!1})],t.prototype,"earlyEndDate",void 0),OR([ZS({type:"boolean",defaultValue:!1})],t.prototype,"manuallyScheduled",void 0),OR([MS()],t.prototype,"startDateConstraintIntervals",void 0),OR([MS()],t.prototype,"earlyStartDateConstraintIntervals",void 0),OR([MS()],t.prototype,"endDateConstraintIntervals",void 0),OR([MS()],t.prototype,"earlyEndDateConstraintIntervals",void 0),OR([PS("startDateConstraintIntervals")],t.prototype,"calculateStartDateConstraintIntervals",null),OR([PS("endDateConstraintIntervals")],t.prototype,"calculateEndDateConstraintIntervals",null),OR([PS("earlyStartDateConstraintIntervals")],t.prototype,"calculateEarlyStartDateConstraintIntervals",null),OR([PS("earlyEndDateConstraintIntervals")],t.prototype,"calculateEarlyEndDateConstraintIntervals",null),OR([PS("earlyStartDateRaw")],t.prototype,"calculateEarlyStartDateRaw",null),OR([PS("earlyStartDate")],t.prototype,"calculateEarlyStartDate",null),OR([PS("earlyEndDateRaw")],t.prototype,"calculateEarlyEndDateRaw",null),OR([PS("earlyEndDate")],t.prototype,"calculateEarlyEndDate",null),t},BR=(n(280),Symbol("RequiredProperties")),zR=function(e){var t=e[BR];if(t)for(var n=0;n<t.length;n++)if(void 0===e[t[n]])throw new Error("Required attribute [".concat(String(t[n]),"] is not provided"))};function VR(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var WR=to.a.mark(eC),$R=to.a.mark(tC),GR=to.a.mark(nC),YR=to.a.mark(rC),UR=to.a.mark(iC),qR=to.a.mark(oC),XR=to.a.mark(aC),KR=to.a.mark(sC);function ZR(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return JR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JR(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function JR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QR(e){var t,n=[],r=[],i=to.a.mark(function i(){var o,a;return to.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t||(t=e[Symbol.iterator]());case 1:if(!n.length){i.next=5;break}return i.delegateYield(n,"t0",4);case 4:n.length=0;case 5:if(t){i.next=7;break}return i.abrupt("break",17);case 7:if(o=t.next(),a=o.value,!o.done){i.next=12;break}return t=null,e=null,i.abrupt("break",17);case 12:return r.push(a),i.next=15,a;case 15:i.next=1;break;case 17:case"end":return i.stop()}},i)}),o=to.a.mark(function i(){var o,a;return to.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t||(t=e[Symbol.iterator]());case 1:if(!r.length){i.next=5;break}return i.delegateYield(r,"t0",4);case 4:r.length=0;case 5:if(t){i.next=7;break}return i.abrupt("break",17);case 7:if(o=t.next(),a=o.value,!o.done){i.next=12;break}return t=null,e=null,i.abrupt("break",17);case 12:return n.push(a),i.next=15,a;case 15:i.next=1;break;case 17:case"end":return i.stop()}},i)});return[i(),o()]}function eC(e,t){var n,r,i,o;return to.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t<0)){a.next=2;break}throw new Error("Batch size needs to a natural number");case 2:t|=0,n=[],r=ZR(e),a.prev=5,r.s();case 7:if((i=r.n()).done){a.next=16;break}if(o=i.value,n.length!==t){a.next=13;break}return a.next=12,n;case 12:n.length=0;case 13:n.push(o);case 14:a.next=7;break;case 16:a.next=21;break;case 18:a.prev=18,a.t0=a.catch(5),r.e(a.t0);case 21:return a.prev=21,r.f(),a.finish(21);case 24:if(!(n.length>0)){a.next=27;break}return a.next=27,n;case 27:case"end":return a.stop()}},WR,null,[[5,18,21,24]])}function tC(e,t){var n,r,i,o;return to.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=0,r=ZR(e),a.prev=2,r.s();case 4:if((i=r.n()).done){a.next=11;break}if(o=i.value,!t(o,n++)){a.next=9;break}return a.next=9,o;case 9:a.next=4;break;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(2),r.e(a.t0);case 16:return a.prev=16,r.f(),a.finish(16);case 19:case"end":return a.stop()}},$R,null,[[2,13,16,19]])}function nC(e,t){var n,r,i,o;return to.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=0,r=ZR(e),a.prev=2,r.s();case 4:if((i=r.n()).done){a.next=11;break}if(o=i.value,!(++n>t)){a.next=9;break}return a.next=9,o;case 9:a.next=4;break;case 11:a.next=16;break;case 13:a.prev=13,a.t0=a.catch(2),r.e(a.t0);case 16:return a.prev=16,r.f(),a.finish(16);case 19:case"end":return a.stop()}},GR,null,[[2,13,16,19]])}function rC(e,t){var n,r,i,o;return to.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=0,r=ZR(e),a.prev=2,r.s();case 4:if((i=r.n()).done){a.next=10;break}return o=i.value,a.next=8,t(o,n++);case 8:a.next=4;break;case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(2),r.e(a.t0);case 15:return a.prev=15,r.f(),a.finish(15);case 18:case"end":return a.stop()}},YR,null,[[2,12,15,18]])}function iC(e){var t,n,r,i;return to.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:t=new Set,n=ZR(e),o.prev=2,n.s();case 4:if((r=n.n()).done){o.next=12;break}if(i=r.value,t.has(i)){o.next=10;break}return t.add(i),o.next=10,i;case 10:o.next=4;break;case 12:o.next=17;break;case 14:o.prev=14,o.t0=o.catch(2),n.e(o.t0);case 17:return o.prev=17,n.f(),o.finish(17);case 20:case"end":return o.stop()}},UR,null,[[2,14,17,20]])}function oC(e,t){var n,r,i,o,a;return to.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n=new Set,r=ZR(e),s.prev=2,r.s();case 4:if((i=r.n()).done){s.next=13;break}if(o=i.value,a=t(o),n.has(a)){s.next=11;break}return n.add(a),s.next=11,o;case 11:s.next=4;break;case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(2),r.e(s.t0);case 18:return s.prev=18,r.f(),s.finish(18);case 21:case"end":return s.stop()}},qR,null,[[2,15,18,21]])}function aC(e,t){var n,r,i,o;return to.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=0,r=ZR(e),a.prev=2,r.s();case 4:if((i=r.n()).done){a.next=14;break}if(o=i.value,!t(o,n++)){a.next=11;break}return a.next=9,o;case 9:a.next=12;break;case 11:return a.abrupt("return");case 12:a.next=4;break;case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(2),r.e(a.t0);case 19:return a.prev=19,r.f(),a.finish(19);case 22:case"end":return a.stop()}},XR,null,[[2,16,19,22]])}function sC(e){var t,n,r;return to.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t=ZR(e),i.prev=1,t.s();case 3:if((n=t.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),t.e(i.t1);case 13:return i.prev=13,t.f(),i.finish(13);case 16:case"end":return i.stop()}},KR,null,[[1,10,13,16]])}var uC=function(){function e(t){if(E()(this,e),this.iterable=void 0,!t)throw new Error("Require an iterable instance for chaining");this.iterable=t}return M()(e,[{key:"derive",value:function(t){return this.iterable=void 0,new e(t)}},{key:"copy",value:function(){var t=QR(this.iterable),n=re()(t,2),r=n[0],i=n[1];return this.iterable=i,new e(r)}},{key:"split",value:function(){var t=QR(this.iterable),n=re()(t,2),r=n[0],i=n[1];return[new e(r),this.derive(i)]}},{key:"inBatchesBySize",value:function(e){return this.derive(eC(this.iterable,e))}},{key:"filter",value:function(e){return this.derive(tC(this.iterable,e))}},{key:"drop",value:function(e){return this.derive(nC(this.iterable,e))}},{key:"map",value:function(e){return this.derive(rC(this.iterable,e))}},{key:"reduce",value:function(e,t){return function(e,t,n){var r,i=0,o=n,a=ZR(e);try{for(a.s();!(r=a.n()).done;){o=t(o,r.value,i++)}}catch(e){a.e(e)}finally{a.f()}return o}(this,e,t)}},{key:"concat",value:function(){return this.derive(sC(this.iterable))}},{key:"uniqueOnly",value:function(){return this.derive(iC(this.iterable))}},{key:"uniqueOnlyBy",value:function(e){return this.derive(oC(this.iterable,e))}},{key:"every",value:function(e){return function(e,t){var n,r=0,i=ZR(e);try{for(i.s();!(n=i.n()).done;){if(!t(n.value,r++))return!1}}catch(e){i.e(e)}finally{i.f()}return!0}(this,e)}},{key:"some",value:function(e){return function(e,t){var n,r=0,i=ZR(e);try{for(i.s();!(n=i.n()).done;){if(t(n.value,r++))return!0}}catch(e){i.e(e)}finally{i.f()}return!1}(this,e)}},{key:"takeWhile",value:function(e){return this.derive(aC(this.iterable,e))}},{key:Symbol.iterator,value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.iterable){e.next=3;break}throw new Error("Chained iterator already exhausted or used to derive the new one");case 3:return this.iterable=void 0,e.delegateYield(t,"t0",5);case 5:t=void 0;case 6:case"end":return e.stop()}},e,this)})},{key:"toArray",value:function(){return Array.from(this)}},{key:"sort",value:function(e){return Array.from(this).sort(e)}},{key:"toSet",value:function(){return new Set(this)}},{key:"toMap",value:function(){return new Map(this)}},{key:"flush",value:function(){var e,t=ZR(this);try{for(t.s();!(e=t.n()).done;)e.value}catch(e){t.e(e)}finally{t.f()}}},{key:"memoize",value:function(){return new lC(this)}}]),e}(),cC=function(e){return new uC(e)},lC=function(e){X()(n,e);var t=VR(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).elements=[],e.$iterator=void 0,e}return M()(n,[{key:"derive",value:function(e){return new uC(e)}},{key:Symbol.iterator,value:to.a.mark(function e(){var t,n,r,i,o,a;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.elements,!this.$iterable){e.next=33;break}if(this.$iterator||(this.$iterator=this.$iterable[Symbol.iterator]()),n=this.$iterator,!((r=t.length)>0)){e.next=7;break}return e.delegateYield(t,"t0",7);case 7:if(!(t.length>r)){e.next=17;break}i=r;case 10:if(!(i<t.length)){e.next=16;break}return e.next=13,t[i];case 13:i++,e.next=10;break;case 16:r=t.length;case 17:if(n){e.next=19;break}return e.abrupt("break",31);case 19:if(o=n.next(),a=o.value,!o.done){e.next=25;break}n=this.$iterator=null,this.$iterable=null,e.next=29;break;case 25:return t.push(a),r++,e.next=29,a;case 29:e.next=7;break;case 31:e.next=34;break;case 33:return e.delegateYield(t,"t1",34);case 34:case"end":return e.stop()}},e,this)})},{key:"iterable",set:function(e){this.$iterable=e},get:function(){return this}}]),n}(uC);function fC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var dC;!function(e){e.Cancel="Cancel",e.Resume="Resume"}(dC||(dC={}));var hC=Symbol("WalkSource"),pC=function(e){X()(n,e);var t=fC(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).visited=new Map,e.toVisit=[],e.currentEpoch=0,e}return M()(n,[{key:"startFrom",value:function(e){this.continueFrom(e)}},{key:"continueFrom",value:function(e){this.toVisit.push.apply(this.toVisit,e.map(function(e){return{node:e,from:hC,label:void 0}})),this.walkDepth()}},{key:"onNode",value:function(e,t){}},{key:"onTopologicalNode",value:function(e){}},{key:"onCycle",value:function(e,t){return dC.Cancel}},{key:"forEachNext",value:function(e,t){throw new Error("Abstract method called")}},{key:"collectNext",value:function(e,t,n){throw new Error("Abstract method called")}},{key:"getVisitedInfo",value:function(e){return this.visited.get(e)}},{key:"setVisitedInfo",value:function(e,t,n){return n?(n.visitedAt=t,n.visitEpoch=this.currentEpoch):(n={visitedAt:t,visitEpoch:this.currentEpoch},this.visited.set(e,n)),n}},{key:"walkDepth",value:function(){this.visited;for(var e,t=this.toVisit;e=t.length;){var n=t[e-1].node,r=this.getVisitedInfo(n);if(r&&-2===r.visitedAt&&r.visitEpoch===this.currentEpoch)t.pop();else if(r&&r.visitEpoch===this.currentEpoch&&-1!==r.visitedAt){if(r.visitedAt<e){if(this.onCycle(n,t)!==dC.Resume)break}else r.visitedAt=-2,this.onTopologicalNode(n);t.pop()}else{if(!1===this.onNode(n,t[e-1]))break;var i=this.setVisitedInfo(n,e,r),o=t.length;this.collectNext(n,t,i),t.length===o&&(i.visitedAt=-2,this.onTopologicalNode(n),t.pop())}}}}]),n}(Aw);function vC(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return gC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gC(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function gC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var mC,kC=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},bC=0,wC=bC++,SC=function(e){X()(n,e);var t=yC(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).formulaId=bC++,e.inputs=new Set,e}return n}(Aw),DC=function(e){X()(n,e);var t=yC(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"collectNext",value:function(e,t){if(e instanceof SC)t.push({node:e.output,from:e,label:void 0});else{var n=this.cache.formulasByInput.get(e);n&&n.forEach(function(n){return t.push({node:n,from:e,label:void 0})})}}}]),n}(pC),RC=function(e){X()(n,e);var t=yC(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).variables=new Set,e.formulas=new Set,e.$formulasByInput=void 0,e.$formulasByOutput=void 0,e}return M()(n,[{key:"add",value:function(e){this.$formulasByInput=void 0,this.$formulasByOutput=void 0,this.formulas.add(e)}},{key:"has",value:function(e){return this.formulas.has(e)}},{key:"fillCache",value:function(){var e=this;this.$formulasByInput=new Map,this.$formulasByOutput=new Map,this.formulas.forEach(function(t){var n=e.$formulasByOutput.get(t.output);n||(n=new Set,e.$formulasByOutput.set(t.output,n)),n.add(t),t.inputs.forEach(function(n){var r=e.$formulasByInput.get(n);r||(r=new Set,e.$formulasByInput.set(n,r)),r.add(t)})})}},{key:"allInputVariables",value:function(){return iC(sC(rC(this.formulas,function(e){return e.inputs.values()})))}},{key:"isCyclic",value:function(){var e=!1;return DC.new({cache:this,onCycle:function(){return e=!0,dC.Cancel}}).startFrom(Array.from(this.allInputVariables())),e}},{key:"formulasByInput",get:function(){return void 0!==this.$formulasByInput||this.fillCache(),this.$formulasByInput}},{key:"formulasByOutput",get:function(){return void 0!==this.$formulasByOutput||this.fillCache(),this.$formulasByOutput}}]),n}(Aw),CC=function(e){X()(n,e);var t=yC(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(RC),xC=function(e){X()(n,e);var t=yC(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).description=void 0,e.defaultResolutionFormulas=new Set,e.resolutionsByInputHash=new Map,e}return M()(n,[{key:"clear",value:function(){this.resolutionsByInputHash.clear()}},{key:"resolve",value:function(e){var t=this.resolutionsByInputHash.get(e.hash);if(void 0!==t)return t;var n=this.buildResolution(e);return this.resolutionsByInputHash.set(e.hash,n),n}},{key:"buildResolution",value:function(e){var t=TC.new({context:this,input:e}),n=Array.from(t.next()).map(function(e){return{resolution:e.asResolution(),nbrOfDefaultFormulas:Array.from(e.activatedFormulas.formulas).reduce(function(t,n){return e.formulaIsDefault(n)?t+1:t},0),unCoveredInputWeight:e.unCoveredInputWeight()}});if(n.sort(function(e,t){return e.unCoveredInputWeight<t.unCoveredInputWeight?-1:e.unCoveredInputWeight>t.unCoveredInputWeight?1:t.nbrOfDefaultFormulas-e.nbrOfDefaultFormulas}),n.length>0)return n[0].resolution}}]),n}(Aw);!function(e){e[e.NoInput=0]="NoInput",e[e.HasPreviousValue=1]="HasPreviousValue",e[e.HasProposedValue=2]="HasProposedValue",e[e.KeepIfPossible=4]="KeepIfPossible"}(mC||(mC={}));var EC=function(e){X()(n,e);var t=yC(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).context=void 0,e.input=void 0,e.$hash="",e}return M()(n,[{key:"initialize",value:function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];(e=ce()(Q()(n.prototype),"initialize",this)).call.apply(e,[this].concat(r)),zR(this),this.input=new Map(cC(this.description.variables).map(function(e){return[e,mC.NoInput]}))}},{key:"buildHash",value:function(){var e=this;return String.fromCharCode.apply(String,te()(cC(this.description.variables).inBatchesBySize(5).map(function(t){return e.batchToCharCode(t)})))}},{key:"batchToCharCode",value:function(e){var t=this;return e.reduceRight(function(e,n,r){return e|t.input.get(n)<<3*r},0)}},{key:"addProposedValueFlag",value:function(e){var t=this.input.get(e);this.input.set(e,t|mC.HasProposedValue)}},{key:"hasProposedValue",value:function(e){return Boolean(this.input.get(e)&mC.HasProposedValue)}},{key:"hasProposedValueVars",value:function(){var e=this;return cC(this.description.variables).filter(function(t){return e.hasProposedValue(t)})}},{key:"addPreviousValueFlag",value:function(e){var t=this.input.get(e);this.input.set(e,t|mC.HasPreviousValue)}},{key:"hasPreviousValue",value:function(e){return Boolean(this.input.get(e)&mC.HasPreviousValue)}},{key:"hasPreviousValueVars",value:function(){var e=this;return cC(this.description.variables).filter(function(t){return e.hasPreviousValue(t)})}},{key:"addKeepIfPossibleFlag",value:function(e){var t=this.input.get(e);this.input.set(e,t|mC.KeepIfPossible)}},{key:"keepIfPossible",value:function(e){return Boolean(this.input.get(e)&mC.KeepIfPossible)}},{key:"keepIfPossibleVars",value:function(){var e=this;return cC(this.description.variables).filter(function(t){return e.keepIfPossible(t)})}},{key:"hash",get:function(){return""!==this.$hash?this.$hash:this.$hash=this.buildHash()}},{key:"description",get:function(){return this.context.description}},{key:"resolution",get:function(){return this.context.resolve(this)}}]),n}(Aw);kC([function(e,t){var n=e[BR];n||(n=e[BR]=[]),n.push(t)}],EC.prototype,"context",void 0);var TC=function(e){X()(n,e);var t=yC(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).context=void 0,e.input=void 0,e.previous=void 0,e.activatedFormula=void 0,e.$activatedFormulas=void 0,e}return M()(n,[{key:"thisAndPreviousStates",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this;case 1:if(!t||!t.activatedFormula){e.next=7;break}return e.next=4,t;case 4:t=t.previous,e.next=1;break;case 7:case"end":return e.stop()}},e,this)})},{key:"formulaHasProposedValueInInput",value:function(e){var t=this;return Array.from(e.inputs).some(function(e){return t.input.hasProposedValue(e)})}},{key:"unCoveredInputWeight",value:function(){var e=this,t=rC(this.input.hasProposedValueVars(),function(e){return{variable:e,isProposed:!0}}),n=rC(this.input.keepIfPossibleVars(),function(e){return{variable:e,isProposed:!1}});return cC([t,n]).concat().uniqueOnlyBy(function(e){return e.variable}).reduce(function(t,n){var r=n.variable,i=n.isProposed,o=0,a=e.activatedFormulas.formulasByOutput.get(r);if(a){var s=1===a.size?Array.from(a)[0]:null;s&&e.formulaIsDefault(s)&&e.formulaHasProposedValueInInput(s)?o+=i?1e6:1e4:o+=i?1e7:1e5}var u=e.activatedFormulas.formulasByInput.get(r);return u&&u.size>0||(o+=i?1e3:100),t+o},0)}},{key:"preferFormula",value:function(e,t){var n=this.formulaAllInputsHasProposed(e),r=this.formulaAllInputsHasProposed(t);if(n&&!r)return-1;if(r&&!n)return 1;var i=this.formulaCountInputsWithProposedOrKeep(e),o=this.formulaCountInputsWithProposedOrKeep(t);return i>o?-1:i<o?1:this.formulaIsDefault(e)&&!this.formulaIsDefault(t)?-1:this.formulaIsDefault(t)&&!this.formulaIsDefault(e)?1:0}},{key:"formulaIsDefault",value:function(e){return this.context.defaultResolutionFormulas.has(e)}},{key:"formulaCountInputsWithProposedOrKeep",value:function(e){var t=this,n=0;return Array.from(e.inputs).forEach(function(e){(t.input.hasProposedValue(e)||t.input.keepIfPossible(e))&&n++}),n}},{key:"formulaAllInputsHasProposedOrKeep",value:function(e){var t=this;return Array.from(e.inputs).every(function(e){return t.input.hasProposedValue(e)||t.input.keepIfPossible(e)})}},{key:"formulaAllInputsHasProposed",value:function(e){var t=this;return Array.from(e.inputs).every(function(e){return t.input.hasProposedValue(e)})}},{key:"formulaIsApplicable",value:function(e){var t=this,n=Array.from(e.inputs).every(function(e){return t.input.hasProposedValue(e)||t.input.hasPreviousValue(e)||t.activatedFormulas.formulasByOutput.has(e)}),r=RC.new({formulas:new Set(this.activatedFormulas.formulas)});return r.add(e),n&&!r.isCyclic()}},{key:"formulaIsInsignificant",value:function(e){var t=this,n=this.activatedFormulas.formulasByOutput.has(e.output),r=this.input.hasPreviousValue(e.output);return n||r&&Array.from(e.inputs).some(function(e){return!t.input.hasPreviousValue(e)&&!t.input.hasProposedValue(e)})}},{key:"unvisitedFormulas",value:function(){var e=this;return Array.from(this.description.formulas).filter(function(t){return!e.activatedFormulas.has(t)})}},{key:"next",value:to.a.mark(function e(){var t,r,i,o,a,s;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=this.unvisitedFormulas()).sort(this.preferFormula.bind(this)),r=!0,i=vC(t),e.prev=4,i.s();case 6:if((o=i.n()).done){e.next=15;break}if(a=o.value,this.formulaIsApplicable(a)&&!this.formulaIsInsignificant(a)){e.next=10;break}return e.abrupt("continue",13);case 10:return s=n.new({previous:this,context:this.context,input:this.input,activatedFormula:a}),e.delegateYield(s.next(),"t0",12);case 12:r=!1;case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(4),i.e(e.t1);case 20:return e.prev=20,i.f(),e.finish(20);case 23:if(!r){e.next=26;break}return e.next=26,this;case 26:case"end":return e.stop()}},e,this,[[4,17,20,23]])})},{key:"asResolution",value:function(){var e=this;return new Map(cC(this.description.variables).map(function(t){var n=e.activatedFormulas.formulasByOutput.get(t);if(n){var r,i=vC(n);try{for(i.s();!(r=i.n()).done;){return[t,r.value.formulaId]}}catch(e){i.e(e)}finally{i.f()}}return[t,wC]}))}},{key:"activatedFormulas",get:function(){if(void 0!==this.$activatedFormulas)return this.$activatedFormulas;var e=RC.new({variables:this.description.variables,formulas:cC(this.thisAndPreviousStates()).map(function(e){return e.activatedFormula}).toSet()});return this.$activatedFormulas=e}},{key:"description",get:function(){return this.context.description}}]),n}(Aw),MC=function(e){return Number(e)!==e};function PC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var AC=function(e){X()(n,e);var t=PC(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"collectInfo",value:function(e,t){e.hasConsistentValue()&&this.addPreviousValueFlag(t),e.hasProposedValue()&&this.addProposedValueFlag(t)}}]),n}(EC);function IC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var FC;!function(e){e.KeepDuration="KeepDuration",e.KeepStartDate="KeepStartDate",e.KeepEndDate="KeepEndDate"}(FC||(FC={}));var LC=Symbol("StartDate"),OC=Symbol("EndDate"),_C=Symbol("Duration"),jC=SC.new({output:LC,inputs:new Set([_C,OC])}),HC=SC.new({output:OC,inputs:new Set([_C,LC])}),NC=SC.new({output:_C,inputs:new Set([LC,OC])}),BC=CC.new({variables:new Set([LC,OC,_C]),formulas:new Set([jC,HC,NC])}),zC=xC.new({description:BC,defaultResolutionFormulas:new Set([HC])}),VC=(xC.new({description:BC,defaultResolutionFormulas:new Set([jC])}),function(e){X()(n,e);var t=IC(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"addInstruction",value:function(e){e===FC.KeepStartDate&&this.addKeepIfPossibleFlag(LC),e===FC.KeepEndDate&&this.addKeepIfPossibleFlag(OC),e===FC.KeepDuration&&this.addKeepIfPossibleFlag(_C)}}]),n}(AC)),WC=function(e){X()(n,e);var t=IC(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"equality",value:function(e,t){var n=e.resolution,r=t.resolution;return n.get(LC)===r.get(LC)&&n.get(OC)===r.get(OC)&&n.get(_C)===r.get(_C)}}]),n}(gS);function $C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var GC=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},YC=Symbol("EventMixin"),UC=function(e){var t=function(e){X()(o,e);var t,n,r,i=$C(o);function o(){return E()(this,o),i.apply(this,arguments)}return M()(o,[{key:YC,value:function(){}},{key:"calculateDispatcher",value:to.a.mark(function e(){var t,n,r,i,o,a,s;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.prepareDispatcher(),"t0",1);case 1:if(t=e.t0,n=this.$.startDate.proposedArgs,(r=n?n[1]?FC.KeepDuration:FC.KeepEndDate:void 0)&&t.addInstruction(r),i=this.$.endDate.proposedArgs,(o=i?i[1]?FC.KeepDuration:FC.KeepStartDate:void 0)&&t.addInstruction(o),!(a=this.$.duration.proposedArgs)){e.next=17;break}e.t1=a[1],e.next=!0===e.t1?13:!1===e.t1?15:17;break;case 13:return s=FC.KeepStartDate,e.abrupt("break",17);case 15:return s=FC.KeepEndDate,e.abrupt("break",17);case 17:return!s&&t.hasProposedValue(_C)&&(s=FC.KeepStartDate),s&&t.addInstruction(s),e.abrupt("return",t);case 20:case"end":return e.stop()}},e,this)})},{key:"prepareDispatcher",value:to.a.mark(function e(){var t,n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.dispatcherClass(),"t0",1);case 1:return t=e.t0,e.t1=t,e.delegateYield(this.cycleResolutionContext(),"t2",4);case 4:return e.t3=e.t2,e.t4={context:e.t3},(n=e.t1.new.call(e.t1,e.t4)).collectInfo(this.$.startDate,LC),n.collectInfo(this.$.endDate,OC),n.collectInfo(this.$.duration,_C),e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)})},{key:"cycleResolutionContext",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zC);case 1:case"end":return e.stop()}},e)})},{key:"dispatcherClass",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",VC);case 1:case"end":return e.stop()}},e)})},{key:"buildProposedDispatcher",value:function(){}},{key:"skipNonWorkingTime",value:to.a.mark(function e(t){var n,r,i=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(i.length>1&&void 0!==i[1])||i[1],t){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,this.$.calendar;case 5:return r=e.sent,e.abrupt("return",r.skipNonWorkingTime(t,n));case 7:case"end":return e.stop()}},e,this)})},{key:"convertDuration",value:function(e,t,n){return this.getProject().calendar.convertDuration(e,t,n)}},{key:"$convertDuration",value:to.a.mark(function e(t,n,r){var i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.getProject(),e.next=3,i.$.calendar;case 3:return o=e.sent,e.abrupt("return",o.convertDuration(t,n,r));case 5:case"end":return e.stop()}},e,this)})},{key:"calculateStartDate",value:to.a.mark(function e(){var t,n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.dispatcher;case 2:if(t=e.sent,(n=t.resolution.get(LC))!==wC){e.next=9;break}return e.delegateYield(this.calculateStartDateProposed(),"t0",6);case 6:return e.abrupt("return",e.t0);case 9:if(n!==jC.formulaId){e.next=14;break}return e.delegateYield(this.calculateStartDatePure(),"t1",11);case 11:return e.abrupt("return",e.t1);case 14:throw new Error("Unknown formula for `startDate`");case 15:case"end":return e.stop()}},e,this)})},{key:"calculateStartDatePure",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.$.endDate;case 3:return e.t1=e.sent,e.next=6,this.$.duration;case 6:return e.t2=e.sent,e.delegateYield(e.t0.calculateProjectedXDateWithDuration.call(e.t0,e.t1,!1,e.t2),"t3",8);case 8:return e.abrupt("return",e.t3);case 9:case"end":return e.stop()}},e,this)})},{key:"calculateProjectedXDateWithDuration",value:to.a.mark(function e(t){var n,r,i,o,a,s=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(s.length>1&&void 0!==s[1])||s[1],r=s.length>2?s[2]:void 0,e.next=4,this.$.durationUnit;case 4:return i=e.sent,e.next=7,this.$.calendar;case 7:if(o=e.sent,this.getProject(),t&&!MC(r)){e.next=11;break}return e.abrupt("return",null);case 11:return e.delegateYield(this.$convertDuration(r,i,Gb.Millisecond),"t0",12);case 12:if(a=e.t0,!n){e.next=17;break}return e.abrupt("return",o.calculateEndDate(t,a,Gb.Millisecond));case 17:return e.abrupt("return",o.calculateStartDate(t,a,Gb.Millisecond));case 18:case"end":return e.stop()}},e,this)})},{key:"calculateStartDateProposed",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$.startDate.getProposedOrPreviousValue(),e.delegateYield(this.skipNonWorkingTime(t,!0),"t0",2);case 2:return e.abrupt("return",e.t0);case 3:case"end":return e.stop()}},e,this)})},{key:"calculateEndDate",value:to.a.mark(function e(){var t,n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.dispatcher;case 2:if(t=e.sent,(n=t.resolution.get(OC))!==wC){e.next=9;break}return e.delegateYield(this.calculateEndDateProposed(),"t0",6);case 6:return e.abrupt("return",e.t0);case 9:if(n!==HC.formulaId){e.next=14;break}return e.delegateYield(this.calculateEndDatePure(),"t1",11);case 11:return e.abrupt("return",e.t1);case 14:throw new Error("Unknown formula for `endDate`");case 15:case"end":return e.stop()}},e,this)})},{key:"calculateEndDatePure",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.$.startDate;case 3:return e.t1=e.sent,e.next=6,this.$.duration;case 6:return e.t2=e.sent,e.delegateYield(e.t0.calculateProjectedXDateWithDuration.call(e.t0,e.t1,!0,e.t2),"t3",8);case 8:return e.abrupt("return",e.t3);case 9:case"end":return e.stop()}},e,this)})},{key:"calculateEndDateProposed",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$.endDate.getProposedOrPreviousValue(),e.delegateYield(this.skipNonWorkingTime(t,!1),"t0",2);case 2:return e.abrupt("return",e.t0);case 3:case"end":return e.stop()}},e,this)})},{key:"calculateDuration",value:to.a.mark(function e(t){var n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.dispatcher;case 2:if(n=e.sent,(r=n.resolution.get(_C))!==wC){e.next=9;break}return e.delegateYield(this.calculateDurationProposed(),"t0",6);case 6:return e.abrupt("return",e.t0);case 9:if(r!==NC.formulaId){e.next=14;break}return e.delegateYield(this.calculateDurationPure(),"t1",11);case 11:return e.abrupt("return",e.t1);case 14:throw new Error("Unknown formula for `duration`");case 15:case"end":return e.stop()}},e,this)})},{key:"calculateDurationPure",value:to.a.mark(function e(){var t,n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.startDate;case 2:return t=e.sent,e.next=5,this.$.endDate;case 5:if(n=e.sent,t&&n){e.next=8;break}return e.abrupt("return",null);case 8:if(!(t>n)){e.next=12;break}throw new Error("debug");case 12:return e.delegateYield(this.calculateProjectedDuration(t,n),"t0",13);case 13:return e.abrupt("return",e.t0);case 14:case"end":return e.stop()}},e,this)})},{key:"calculateDurationProposed",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$.duration.getProposedOrPreviousValue());case 1:case"end":return e.stop()}},e,this)})},{key:"calculateProjectedDuration",value:to.a.mark(function e(t,n,r){var i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",null);case 2:if(r){e.next=6;break}return e.next=5,this.$.durationUnit;case 5:r=e.sent;case 6:return e.next=8,this.$.calendar;case 8:return i=e.sent,this.getProject(),e.delegateYield(this.$convertDuration(i.calculateDuration(t,n,Gb.Millisecond),Gb.Millisecond,r),"t0",11);case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e,this)})},{key:"calculateEffectiveDuration",value:to.a.mark(function e(){var t,n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.dispatcher;case 2:if(t=e.sent,(r=t.resolution.get(_C))!==wC){e.next=10;break}return e.next=7,this.$.duration;case 7:n=e.sent,e.next=13;break;case 10:if(r!==NC.formulaId){e.next=13;break}return e.delegateYield(this.calculateProjectedDuration(this.$.startDate.getProposedOrPreviousValue(),this.$.endDate.getProposedOrPreviousValue()),"t0",12);case 12:n=e.t0;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}},e,this)})},{key:"getStartDate",value:function(){return this.startDate}},{key:"putStartDate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0===this.$.startDate.getProposedOrPreviousValue();null==e&&n||(null!==e||n||(this.$.endDate.proposedValue=null,this.$.endDate.proposedArgs=[null],this.$.duration.proposedValue=null,this.$.duration.proposedArgs=[null]),this.$.startDate.put(e,t),this.getGraph()&&(this.markAsNeedRecalculation(this.$.dispatcher),this.markAsNeedRecalculation(this.$.endDate),this.markAsNeedRecalculation(this.$.duration)))}},{key:"setStartDate",value:(r=ro()(to.a.mark(function e(t){var n,r=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],this.putStartDate(t,n),e.abrupt("return",this.propagate());case 3:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"getEndDate",value:function(){return this.endDate}},{key:"putEndDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0===this.$.startDate.getProposedOrPreviousValue();if(null!=e||!n){null!==e||n||(this.$.startDate.proposedValue=null,this.$.startDate.proposedArgs=[null],this.$.duration.proposedValue=null,this.$.duration.proposedArgs=[null]);var r=this.getStartDate();!t&&e&&e.getTime&&r&&e.getTime()<r.getTime()&&(e=r,this.putDuration(0)),this.$.endDate.put(e,t),this.getGraph()&&(this.markAsNeedRecalculation(this.$.dispatcher),this.markAsNeedRecalculation(this.$.startDate),this.markAsNeedRecalculation(this.$.duration))}}},{key:"setEndDate",value:(n=ro()(to.a.mark(function e(t){var n,r=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],this.putEndDate(t,n),e.abrupt("return",this.propagate());case 3:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"getDuration",value:function(e){var t=this.duration;return e&&(t=this.convertDuration(t,this.durationUnit,e)),t}},{key:"putDuration",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=void 0===this.$.duration.getProposedOrPreviousValue();null==e&&r||(null!==e||r||(this.$.startDate.proposedValue=null,this.$.startDate.proposedArgs=[null],this.$.endDate.proposedValue=null,this.$.endDate.proposedArgs=[null]),this.$.duration.put(e,n),this.getGraph()&&(this.markAsNeedRecalculation(this.$.dispatcher),this.markAsNeedRecalculation(this.$.startDate),this.markAsNeedRecalculation(this.$.endDate)),null!=t&&t!==this.durationUnit&&this.$.durationUnit.put(t))}},{key:"setDuration",value:(t=ro()(to.a.mark(function e(t,n){var r,i=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(i.length>2&&void 0!==i[2])||i[2],this.putDuration(t,n,r),e.abrupt("return",this.propagate());case 3:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"getDurationUnit",value:function(){return this.durationUnit}},{key:"setDurationUnit",value:function(e){throw new Error("Use `setDuration` instead")}},{key:"toString",value:function(){return"Event ".concat(this.id)}}]),o}(e);return GC([ZS({type:"date",dateFormat:"YYYY-MM-DDTHH:mm:ssZ"},{converter:eD})],t.prototype,"startDate",void 0),GC([ZS({type:"date",dateFormat:"YYYY-MM-DDTHH:mm:ssZ"},{converter:eD})],t.prototype,"endDate",void 0),GC([ZS({type:"number",allowNull:!0})],t.prototype,"duration",void 0),GC([ZS({type:"string",defaultValue:Gb.Day},{converter:xt.normalizeUnit})],t.prototype,"durationUnit",void 0),GC([MS({atomCls:WC})],t.prototype,"dispatcher",void 0),GC([ZS({type:"string",defaultValue:Zb.Forward})],t.prototype,"direction",void 0),GC([PS("dispatcher")],t.prototype,"calculateDispatcher",null),GC([PS("startDate")],t.prototype,"calculateStartDate",null),GC([PS("endDate")],t.prototype,"calculateEndDate",null),GC([PS("duration")],t.prototype,"calculateDuration",null),t};function qC(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return XC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XC(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function XC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var KC=function(){function e(t){E()(this,e),this.intervalGroups=[],t&&Object.assign(this,t)}return M()(e,[{key:"combineWith",value:function(t){var n=this.intervalGroups.slice();return n.push([t.calendar,t]),new e({intervalGroups:n})}},{key:"getIsWorkingForEvery",value:function(){if(null!=this.isWorkingForEvery)return this.isWorkingForEvery;var e,t=qC(this.getGroups());try{for(t.s();!(e=t.n()).done;){var n=re()(e.value,2);n[0];if(!n[1][0].isWorking)return this.isWorkingForEvery=!1}}catch(e){t.e(e)}finally{t.f()}return this.isWorkingForEvery=!0}},{key:"getIsWorkingForSome",value:function(){if(null!=this.isWorkingForSome)return this.isWorkingForSome;var e,t=qC(this.getGroups());try{for(t.s();!(e=t.n()).done;){var n=re()(e.value,2);n[0];if(n[1][0].isWorking)return this.isWorkingForSome=!0}}catch(e){t.e(e)}finally{t.f()}return this.isWorkingForSome=!1}},{key:"getCalendars",value:function(){return this.getGroups(),this.calendars}},{key:"isCalendarWorking",value:function(e){return this.getCalendarsWorkStatus().get(e)}},{key:"getCalendarsWorkStatus",value:function(){if(this.calendarsWorkStatus)return this.calendarsWorkStatus;var e,t=new Map,n=qC(this.getGroups());try{for(n.s();!(e=n.n()).done;){var r=re()(e.value,2),i=r[0],o=r[1];t.set(i,o[0].isWorking)}}catch(e){n.e(e)}finally{n.f()}return this.calendarsWorkStatus=t}},{key:"getCalendarsWorking",value:function(){if(this.calendarsWorking)return this.calendarsWorking;var e,t=[],n=qC(this.getGroups());try{for(n.s();!(e=n.n()).done;){var r=re()(e.value,2),i=r[0];r[1][0].isWorking&&t.push(i)}}catch(e){n.e(e)}finally{n.f()}return this.calendarsWorking=t}},{key:"getCalendarsNonWorking",value:function(){if(this.calendarsNonWorking)return this.calendarsNonWorking;var e,t=[],n=qC(this.getGroups());try{for(n.s();!(e=n.n()).done;){var r=re()(e.value,2),i=r[0];r[1][0].isWorking||t.push(i)}}catch(e){n.e(e)}finally{n.f()}return this.calendarsNonWorking=t}},{key:"getGroups",value:function(){if(this.intervalsByCalendar)return this.intervalsByCalendar;var e=this.calendars=[],t=new Map;return this.intervalGroups.forEach(function(n){var r=re()(n,2),i=r[0],o=r[1],a=t.get(i);a||(e.push(i),a=[],t.set(i,a)),a.push.apply(a,o.intervals)}),t.forEach(function(e,n){var r=ED(e);r.sort(function(e,t){return t.getPriorityField()-e.getPriorityField()}),t.set(n,r)}),this.intervalsByCalendar=t}}]),e}();function ZC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var JC=function(e){X()(n,e);var t=ZC(n);function n(e){var r;return E()(this,n),(r=t.call(this,e)).calendarCaches=ED(r.calendarCaches),r.intervalCache=new ID({emptyInterval:new KC,combineIntervalsFn:function(e,t){return e.combineWith(t)}}),r}return M()(n,[{key:"fillCache",value:function(e,t){var n=this;this.calendarCaches.forEach(function(r){r.fillCache(e,t),n.includeWrappingRangeFrom(r,e,t)})}}]),n}(xD),QC=new Map,ex=function(e){var t=ED(e);if(0===t.length)throw new Error("No calendars to combine");t.sort(function(e,t){return e.internalId<t.internalId?-1:1});var n,r=t.map(function(e){return e.internalId+"/"}).join(""),i=t.map(function(e){return e.version+"/"}).join(""),o=QC.get(r);return o&&o.versionsHash===i?n=o.cache:(n=new JC({calendarCaches:t.map(function(e){return e.calendarCache})}),QC.set(r,{versionsHash:i,cache:n})),n};function tx(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return nx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nx(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function nx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ix=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ox=Symbol("HasAssignments"),ax=function(e){var t=function(e){X()(i,e);var t,n,r=rx(i);function i(){var e;return E()(this,i),(e=r.apply(this,arguments)).assignmentsByCalendar=new Map,e}return M()(i,[{key:ox,value:function(){}},{key:"getAssignmentFor",value:function(e){var t;return this.assigned.forEach(function(n){n.resource===e&&(t=n)}),t}},{key:"isAssignedTo",value:function(e){return Boolean(this.getAssignmentFor(e))}},{key:"reassign",value:function(e,t){var n=this.getAssignmentFor(e);if(!n)throw new Error("Can't unassign resource `".concat(e,"` from task `").concat(this,"` - resource is not assigned to the task!"));if(this.removeAssignment(n),this.getAssignmentFor(t))throw new Error("Resource can't be assigned twice to the same task");var r=this.getProject().assignmentStore.modelClass;return this.addAssignment(new r({event:this,resource:t})),this.propagate()}},{key:"assign",value:(n=ro()(to.a.mark(function e(t){var n,r,i=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:100,!this.getAssignmentFor(t)){e.next=3;break}throw new Error("Resource can't be assigned twice to the same task");case 3:return r=this.getProject().assignmentStore.modelClass,this.addAssignment(new r({event:this,resource:t,units:n})),e.abrupt("return",this.propagate());case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"unassign",value:(t=ro()(to.a.mark(function e(t){var n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getAssignmentFor(t)){e.next=3;break}throw new Error("Can't unassign resource `".concat(t,"` from task `").concat(this,"` - resource is not assigned to the task!"));case 3:return this.removeAssignment(n),e.abrupt("return",this.propagate());case 5:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"addAssignment",value:function(e){return this.getProject().assignmentStore.add(e),e}},{key:"removeAssignment",value:function(e){return this.getProject().assignmentStore.remove(e),e}},{key:"leaveProject",value:function(){var e=this.getAssignmentStore();this.assigned.forEach(function(t){return e.remove(t)}),ce()(Q()(i.prototype),"leaveProject",this).call(this)}},{key:"forEachAvailabilityInterval",value:to.a.mark(function e(t,n){var r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.calendar;case 2:return r=e.sent,e.next=5,this.$.assignmentsByCalendar;case 5:return i=e.sent,e.next=8,this.$.effectiveCalendarsCombination;case 8:return o=e.sent,e.abrupt("return",o.forEachAvailabilityInterval(t,function(e,o,a){var s=a.getCalendarsWorkStatus(),u=a.getCalendarsWorking();if(s.get(r)&&(t.ignoreResourceCalendars||u.some(function(e){return i.has(e)})))return n(e,o,a)}));case 10:case"end":return e.stop()}},e,this)})},{key:"calculateEffectiveCalendarsCombination",value:to.a.mark(function e(){var t,n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.assignmentsByCalendar;case 2:return t=e.sent,e.t0=[],e.t1=te()(t.keys()),e.next=7,this.$.calendar;case 7:return e.t2=e.sent,e.t3=[e.t2],n=e.t0.concat.call(e.t0,e.t1,e.t3),e.abrupt("return",ex(n));case 11:case"end":return e.stop()}},e,this)})},{key:"calculateAssignmentsByCalendar",value:to.a.mark(function e(){var t,n,r,i,o,a,s,u;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.assigned;case 2:t=e.sent,n=new Map,r=tx(t),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=21;break}return o=i.value,e.next=11,o.$.resource;case 11:if(!(a=e.sent)){e.next=19;break}return e.next=15,a.$.calendar;case 15:s=e.sent,(u=n.get(s))||(u=[],n.set(s,u)),u.push(o);case 19:e.next=7;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(5),r.e(e.t0);case 26:return e.prev=26,r.f(),e.finish(26);case 29:return e.abrupt("return",n);case 30:case"end":return e.stop()}},e,this,[[5,23,26,29]])})},{key:"getBaseOptionsForDurationCalculations",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{ignoreResourceCalendars:!1});case 1:case"end":return e.stop()}},e)})},{key:"skipNonWorkingTime",value:to.a.mark(function e(t){var n,r,o,a=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(a.length>1&&void 0!==a[1])||a[1],t){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,this.$.assignmentsByCalendar;case 5:if(!(e.sent.size>0)){e.next=20;break}return e.t0=Object,e.delegateYield(this.getBaseOptionsForDurationCalculations(),"t1",9);case 9:return e.t2=e.t1,e.t3=n?{startDate:t,isForward:n}:{endDate:t,isForward:n},r=e.t0.assign.call(e.t0,e.t2,e.t3),e.delegateYield(this.forEachAvailabilityInterval(r,function(e,t,r){return o=n?e:t,!1}),"t4",13);case 13:if(e.t4!==RD.FullRangeIterated){e.next=17;break}return e.next=17,_w.new();case 17:return e.abrupt("return",new Date(o));case 20:return e.delegateYield(ce()(Q()(i.prototype),"skipNonWorkingTime",this).call(this,t,n),"t5",21);case 21:return e.abrupt("return",e.t5);case 22:case"end":return e.stop()}},e,this)})},{key:"calculateProjectedDuration",value:to.a.mark(function e(t,n,r){var o,a;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.$.assignmentsByCalendar;case 4:if(!(e.sent.size>0)){e.next=21;break}return e.t0=Object,e.delegateYield(this.getBaseOptionsForDurationCalculations(),"t1",8);case 8:return e.t2=e.t1,e.t3={startDate:t,endDate:n,isForward:!0},o=e.t0.assign.call(e.t0,e.t2,e.t3),a=0,e.delegateYield(this.forEachAvailabilityInterval(o,function(e,t){a+=t.getTime()-e.getTime()}),"t4",13);case 13:if(r){e.next=17;break}return e.next=16,this.$.durationUnit;case 16:r=e.sent;case 17:return e.delegateYield(this.getProject().$convertDuration(a,Gb.Millisecond,r),"t5",18);case 18:return e.abrupt("return",e.t5);case 21:return e.delegateYield(ce()(Q()(i.prototype),"calculateProjectedDuration",this).call(this,t,n,r),"t6",22);case 22:return e.abrupt("return",e.t6);case 23:case"end":return e.stop()}},e,this)})},{key:"calculateProjectedXDateWithDuration",value:to.a.mark(function e(t){var n,r,i,o,a,s,u,c,l=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(l.length>1&&void 0!==l[1])||l[1],r=l.length>2?l[2]:void 0,null!=t&&null!=r&&!isNaN(r)){e.next=4;break}return e.abrupt("return",null);case 4:if(0!=r){e.next=6;break}return e.abrupt("return",t);case 6:return e.next=8,this.$.durationUnit;case 8:return i=e.sent,e.delegateYield(this.getProject().$convertDuration(r,i,Gb.Millisecond),"t0",10);case 10:return o=e.t0,a=t.getTime(),s=o,e.next=15,this.$.calendar;case 15:return u=e.sent,e.next=18,this.$.assignmentsByCalendar;case 18:if(!(e.sent.size>0)){e.next=29;break}return e.t1=Object,e.delegateYield(this.getBaseOptionsForDurationCalculations(),"t2",22);case 22:return e.t3=e.t2,e.t4=n?{startDate:t,isForward:n}:{endDate:t,isForward:n},c=e.t1.assign.call(e.t1,e.t3,e.t4),e.delegateYield(this.forEachAvailabilityInterval(c,function(e,t,r){var i=e.getTime(),o=t.getTime(),u=o-i;if(u>=s)return a=n?i+s:o-s,!1;var c=e.getTimezoneOffset()-t.getTimezoneOffset();s-=u+60*c*1e3}),"t5",26);case 26:return e.abrupt("return",new Date(a));case 29:return e.abrupt("return",u.accumulateWorkingTime(t,o,Gb.Millisecond,n).finalDate);case 30:case"end":return e.stop()}},e,this)})},{key:"hasProposedValueForUnits",value:to.a.mark(function e(){var t,n,r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.assigned;case 2:t=e.sent,n=tx(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=15;break}return i=r.value,e.next=10,i.$.resource;case 10:if(!e.sent||!i.$.units.hasProposedValue()){e.next=13;break}return e.abrupt("return",!0);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:return e.abrupt("return",!1);case 24:case"end":return e.stop()}},e,this,[[4,17,20,23]])})},{key:"hasAssignmentChanges",value:function(){return this.$.assigned.newRefs.size>0||this.$.assigned.oldRefs.size>0}},{key:"assignments",get:function(){return te()(this.assigned)}}]),i}(e);return ix([ZS()],t.prototype,"dontRemoveMe",void 0),ix([TS({},US)],t.prototype,"assigned",void 0),ix([MS()],t.prototype,"effectiveCalendarsCombination",void 0),ix([MS()],t.prototype,"assignmentsByCalendar",void 0),ix([PS("effectiveCalendarsCombination")],t.prototype,"calculateEffectiveCalendarsCombination",null),ix([PS("assignmentsByCalendar")],t.prototype,"calculateAssignmentsByCalendar",null),t};function sx(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ux(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ux(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ux(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var lx=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},fx=function(e){var t=function(e){X()(n,e);var t=cx(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"hasSubEvents",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:return t=e.sent,e.abrupt("return",t.size>0);case 4:case"end":return e.stop()}},e,this)})},{key:"subEventsIterable",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})},{key:"calculateStartDatePure",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.hasSubEvents(),"t0",1);case 1:if(!e.t0){e.next=7;break}return e.delegateYield(this.calculateMinChildrenStartDate(),"t1",4);case 4:return e.abrupt("return",e.t1);case 7:return e.delegateYield(ce()(Q()(n.prototype),"calculateStartDatePure",this).call(this),"t2",8);case 8:return e.abrupt("return",e.t2);case 9:case"end":return e.stop()}},e,this)})},{key:"calculateEndDatePure",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.hasSubEvents(),"t0",1);case 1:if(!e.t0){e.next=7;break}return e.delegateYield(this.calculateMaxChildrenEndDate(),"t1",4);case 4:return e.abrupt("return",e.t1);case 7:return e.delegateYield(ce()(Q()(n.prototype),"calculateEndDatePure",this).call(this),"t2",8);case 8:return e.abrupt("return",e.t2);case 9:case"end":return e.stop()}},e,this)})},{key:"calculateStartDateProposed",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.hasSubEvents(),"t0",1);case 1:if(!e.t0){e.next=7;break}return e.delegateYield(this.calculateStartDatePure(),"t1",4);case 4:return e.abrupt("return",e.t1);case 7:return e.delegateYield(ce()(Q()(n.prototype),"calculateStartDateProposed",this).call(this),"t2",8);case 8:return e.abrupt("return",e.t2);case 9:case"end":return e.stop()}},e,this)})},{key:"calculateEndDateProposed",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.hasSubEvents(),"t0",1);case 1:if(!e.t0){e.next=7;break}return e.delegateYield(this.calculateEndDatePure(),"t1",4);case 4:return e.abrupt("return",e.t1);case 7:return e.delegateYield(ce()(Q()(n.prototype),"calculateEndDateProposed",this).call(this),"t2",8);case 8:return e.abrupt("return",e.t2);case 9:case"end":return e.stop()}},e,this)})},{key:"calculateDurationProposed",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.hasSubEvents(),"t0",1);case 1:if(!e.t0){e.next=7;break}return e.delegateYield(this.calculateDurationPure(),"t1",4);case 4:return e.abrupt("return",e.t1);case 7:return e.delegateYield(ce()(Q()(n.prototype),"calculateDurationProposed",this).call(this),"t2",8);case 8:return e.abrupt("return",e.t2);case 9:case"end":return e.stop()}},e,this)})},{key:"calculateMinChildrenStartDate",value:to.a.mark(function e(){var t,n,r,i,o,a;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.subEventsIterable(),"t0",1);case 1:t=e.t0,n=[],r=sx(t),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=15;break}return o=i.value,e.t1=n,e.next=11,o.$.startDate;case 11:e.t2=e.sent,e.t1.push.call(e.t1,e.t2);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t3=e.catch(4),r.e(e.t3);case 20:return e.prev=20,r.f(),e.finish(20);case 23:if((a=n.reduce(function(e,t){return t?Math.min(e,t.getTime()):e},SD.getTime()))!==wD.getTime()&&a!==SD.getTime()){e.next=26;break}return e.abrupt("return",null);case 26:return e.abrupt("return",new Date(a));case 27:case"end":return e.stop()}},e,this,[[4,17,20,23]])})},{key:"calculateMaxChildrenEndDate",value:to.a.mark(function e(){var t,n,r,i,o,a;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.subEventsIterable(),"t0",1);case 1:t=e.t0,n=[],r=sx(t),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=15;break}return o=i.value,e.t1=n,e.next=11,o.$.endDate;case 11:e.t2=e.sent,e.t1.push.call(e.t1,e.t2);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t3=e.catch(4),r.e(e.t3);case 20:return e.prev=20,r.f(),e.finish(20);case 23:if((a=n.reduce(function(e,t){return t?Math.max(e,t.getTime()):e},wD.getTime()))!==wD.getTime()&&a!==SD.getTime()){e.next=26;break}return e.abrupt("return",null);case 26:return e.abrupt("return",new Date(a));case 27:case"end":return e.stop()}},e,this,[[4,17,20,23]])})},{key:"maybeSkipNonWorkingTime",value:to.a.mark(function e(t){var r,i=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(i.length>1&&void 0!==i[1])||i[1],e.next=3,this.$.childEvents;case 3:if(!(e.sent.size>0)){e.next=6;break}return e.abrupt("return",t);case 6:return e.delegateYield(ce()(Q()(n.prototype),"maybeSkipNonWorkingTime",this).call(this,t,r),"t0",7);case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}},e,this)})},{key:"calculateStartDateConstraintIntervals",value:to.a.mark(function e(){var t,r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(ce()(Q()(n.prototype),"calculateStartDateConstraintIntervals",this).call(this),"t0",1);case 1:return t=e.t0,e.next=4,this.$.parentEvent;case 4:if(!(r=e.sent)){e.next=10;break}return e.next=8,r.$.startDateConstraintIntervals;case 8:i=e.sent,t.push.apply(t,i);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this)})},{key:"calculateEndDateConstraintIntervals",value:to.a.mark(function e(){var t,r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(ce()(Q()(n.prototype),"calculateEndDateConstraintIntervals",this).call(this),"t0",1);case 1:return t=e.t0,e.next=4,this.$.parentEvent;case 4:if(!(r=e.sent)){e.next=10;break}return e.next=8,r.$.endDateConstraintIntervals;case 8:i=e.sent,t.push.apply(t,i);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this)})},{key:"calculateEarlyStartDateConstraintIntervals",value:to.a.mark(function e(){var t,r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(ce()(Q()(n.prototype),"calculateEarlyStartDateConstraintIntervals",this).call(this),"t0",1);case 1:return t=e.t0,e.next=4,this.$.parentEvent;case 4:if(!(r=e.sent)){e.next=10;break}return e.next=8,r.$.earlyStartDateConstraintIntervals;case 8:i=e.sent,t.push.apply(t,i);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this)})},{key:"calculateEarlyEndDateConstraintIntervals",value:to.a.mark(function e(){var t,r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(ce()(Q()(n.prototype),"calculateEarlyEndDateConstraintIntervals",this).call(this),"t0",1);case 1:return t=e.t0,e.next=4,this.$.parentEvent;case 4:if(!(r=e.sent)){e.next=10;break}return e.next=8,r.$.earlyEndDateConstraintIntervals;case 8:i=e.sent,t.push.apply(t,i);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this)})},{key:"calculateEarlyStartDateRaw",value:to.a.mark(function e(){var t,r,i,o,a,s;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:if(!(t=e.sent).size){e.next=27;break}r=SD,i=sx(t),e.prev=6,i.s();case 8:if((o=i.n()).done){e.next=16;break}return a=o.value,e.next=12,a.$.earlyStartDateRaw;case 12:(s=e.sent)&&s<r&&(r=s);case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),i.e(e.t0);case 21:return e.prev=21,i.f(),e.finish(21);case 24:r=r.getTime()!==SD.getTime()?r:null,e.next=29;break;case 27:return e.delegateYield(ce()(Q()(n.prototype),"calculateEarlyStartDateRaw",this).call(this),"t1",28);case 28:r=e.t1;case 29:return e.abrupt("return",r);case 30:case"end":return e.stop()}},e,this,[[6,18,21,24]])})},{key:"calculateEarlyEndDateRaw",value:to.a.mark(function e(){var t,r,i,o,a,s;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:if(!(t=e.sent).size){e.next=27;break}r=wD,i=sx(t),e.prev=6,i.s();case 8:if((o=i.n()).done){e.next=16;break}return a=o.value,e.next=12,a.$.earlyEndDateRaw;case 12:(s=e.sent)&&s>r&&(r=s);case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),i.e(e.t0);case 21:return e.prev=21,i.f(),e.finish(21);case 24:r=r.getTime()!==wD.getTime()?r:null,e.next=29;break;case 27:return e.delegateYield(ce()(Q()(n.prototype),"calculateEarlyEndDateRaw",this).call(this),"t1",28);case 28:r=e.t1;case 29:return e.abrupt("return",r);case 30:case"end":return e.stop()}},e,this,[[6,18,21,24]])})},{key:"parent",get:function(){return this._parent},set:function(e){this._parent=e,this.$.parentEvent.put(e)}}]),n}(e);return lx([NS({bucket:"childEvents"})],t.prototype,"parentEvent",void 0),lx([HS()],t.prototype,"childEvents",void 0),lx([PS("startDateConstraintIntervals")],t.prototype,"calculateStartDateConstraintIntervals",null),lx([PS("endDateConstraintIntervals")],t.prototype,"calculateEndDateConstraintIntervals",null),lx([PS("earlyStartDateConstraintIntervals")],t.prototype,"calculateEarlyStartDateConstraintIntervals",null),lx([PS("earlyEndDateConstraintIntervals")],t.prototype,"calculateEarlyEndDateConstraintIntervals",null),lx([PS("earlyStartDateRaw")],t.prototype,"calculateEarlyStartDateRaw",null),lx([PS("earlyEndDateRaw")],t.prototype,"calculateEarlyEndDateRaw",null),t};function dx(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return hx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hx(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function hx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function px(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var vx=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},gx=function(e){var t=function(e){X()(i,e);var t,n,r=px(i);function i(){return E()(this,i),r.apply(this,arguments)}return M()(i,[{key:"calculateEarlyStartDateConstraintIntervals",value:to.a.mark(function e(){var t,n,r,o,a,s,u,c,l,f,d,h,p,v;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(ce()(Q()(i.prototype),"calculateEarlyStartDateConstraintIntervals",this).call(this),"t0",1);case 1:return t=e.t0,e.t1=dx,e.next=5,this.$.incomingDeps;case 5:e.t2=e.sent,r=(0,e.t1)(e.t2),e.prev=7,r.s();case 9:if((o=r.n()).done){e.next=53;break}return n=o.value,e.next=13,n.$.fromEvent;case 13:if(null!=(a=e.sent)&&!eS(a)){e.next=16;break}return e.abrupt("continue",51);case 16:s=void 0,e.t3=n.type,e.next=e.t3===qb.EndToStart?20:e.t3===qb.StartToStart?35:50;break;case 20:return e.next=22,a.$.earlyEndDateRaw;case 22:if(!(u=e.sent)){e.next=34;break}return e.next=26,n.$.lag;case 26:return c=e.sent,e.next=29,n.$.lagUnit;case 29:return l=e.sent,e.next=32,n.$.calendar;case 32:f=e.sent,s=_R.new({startDate:f.calculateEndDate(u,c,l),endDate:null,originDescription:'"end to start" dependency from task '.concat(a),onRemoveAction:this.getOnRemoveAction(n)});case 34:return e.abrupt("break",50);case 35:return e.next=37,a.$.earlyStartDateRaw;case 37:if(!(d=e.sent)){e.next=49;break}return e.next=41,n.$.lag;case 41:return h=e.sent,e.next=44,n.$.lagUnit;case 44:return p=e.sent,e.next=47,n.$.calendar;case 47:v=e.sent,s=_R.new({startDate:v.calculateEndDate(d,h,p),endDate:null,originDescription:'"start to start" dependency from task '.concat(a),onRemoveAction:this.getOnRemoveAction(n)});case 49:return e.abrupt("break",50);case 50:s&&t.unshift(s);case 51:e.next=9;break;case 53:e.next=58;break;case 55:e.prev=55,e.t4=e.catch(7),r.e(e.t4);case 58:return e.prev=58,r.f(),e.finish(58);case 61:return e.abrupt("return",t);case 62:case"end":return e.stop()}},e,this,[[7,55,58,61]])})},{key:"calculateEarlyEndDateConstraintIntervals",value:to.a.mark(function e(){var t,n,r,o,a,s,u,c,l,f,d,h,p,v;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(ce()(Q()(i.prototype),"calculateEarlyEndDateConstraintIntervals",this).call(this),"t0",1);case 1:return t=e.t0,e.t1=dx,e.next=5,this.$.incomingDeps;case 5:e.t2=e.sent,r=(0,e.t1)(e.t2),e.prev=7,r.s();case 9:if((o=r.n()).done){e.next=53;break}return n=o.value,e.next=13,n.$.fromEvent;case 13:if(null!=(a=e.sent)&&!eS(a)){e.next=16;break}return e.abrupt("continue",51);case 16:s=void 0,e.t3=n.type,e.next=e.t3===qb.EndToEnd?20:e.t3===qb.StartToEnd?35:50;break;case 20:return e.next=22,a.$.earlyEndDateRaw;case 22:if(!(u=e.sent)){e.next=34;break}return e.next=26,n.$.lag;case 26:return c=e.sent,e.next=29,n.$.lagUnit;case 29:return l=e.sent,e.next=32,n.$.calendar;case 32:f=e.sent,s=_R.new({startDate:f.calculateEndDate(u,c,l),endDate:null,originDescription:'"end to end" dependency from task '.concat(a),onRemoveAction:this.getOnRemoveAction(n)});case 34:return e.abrupt("break",50);case 35:return e.next=37,a.$.earlyStartDateRaw;case 37:if(!(d=e.sent)){e.next=49;break}return e.next=41,n.$.lag;case 41:return h=e.sent,e.next=44,n.$.lagUnit;case 44:return p=e.sent,e.next=47,n.$.calendar;case 47:v=e.sent,s=_R.new({startDate:v.calculateEndDate(d,h,p),endDate:null,originDescription:'"start to end" dependency from task '.concat(a),onRemoveAction:this.getOnRemoveAction(n)});case 49:return e.abrupt("break",50);case 50:s&&t.unshift(s);case 51:e.next=9;break;case 53:e.next=58;break;case 55:e.prev=55,e.t4=e.catch(7),r.e(e.t4);case 58:return e.prev=58,r.f(),e.finish(58);case 61:return e.abrupt("return",t);case 62:case"end":return e.stop()}},e,this,[[7,55,58,61]])})},{key:"calculateLateStartDateConstraintIntervals",value:to.a.mark(function e(){var t,n,r,o,a,s,u,c,l,f,d,h,p,v;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(ce()(Q()(i.prototype),"calculateLateStartDateConstraintIntervals",this).call(this),"t0",1);case 1:return t=e.t0,e.t1=dx,e.next=5,this.$.outgoingDeps;case 5:e.t2=e.sent,r=(0,e.t1)(e.t2),e.prev=7,r.s();case 9:if((o=r.n()).done){e.next=53;break}return n=o.value,e.next=13,n.$.toEvent;case 13:if(null!=(a=e.sent)&&!eS(a)){e.next=16;break}return e.abrupt("continue",51);case 16:s=void 0,e.t3=n.type,e.next=e.t3===qb.StartToStart?20:e.t3===qb.StartToEnd?35:50;break;case 20:return e.next=22,a.$.lateStartDateRaw;case 22:if(!(u=e.sent)){e.next=34;break}return e.next=26,n.$.lag;case 26:return c=e.sent,e.next=29,n.$.lagUnit;case 29:return l=e.sent,e.next=32,n.$.calendar;case 32:f=e.sent,s=_R.new({startDate:null,endDate:f.calculateStartDate(u,c,l),originDescription:'"start to start" dependency to task '.concat(a),onRemoveAction:this.getOnRemoveAction(n)});case 34:return e.abrupt("break",50);case 35:return e.next=37,a.$.lateEndDateRaw;case 37:if(!(d=e.sent)){e.next=49;break}return e.next=41,n.$.lag;case 41:return h=e.sent,e.next=44,n.$.lagUnit;case 44:return p=e.sent,e.next=47,n.$.calendar;case 47:v=e.sent,s=_R.new({startDate:null,endDate:v.calculateStartDate(d,h,p),originDescription:'"start to end" dependency to task '.concat(a),onRemoveAction:this.getOnRemoveAction(n)});case 49:return e.abrupt("break",50);case 50:s&&t.unshift(s);case 51:e.next=9;break;case 53:e.next=58;break;case 55:e.prev=55,e.t4=e.catch(7),r.e(e.t4);case 58:return e.prev=58,r.f(),e.finish(58);case 61:return e.abrupt("return",t);case 62:case"end":return e.stop()}},e,this,[[7,55,58,61]])})},{key:"calculateLateEndDateConstraintIntervals",value:to.a.mark(function e(){var t,n,r,o,a,s,u,c,l,f,d,h,p,v;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(ce()(Q()(i.prototype),"calculateLateEndDateConstraintIntervals",this).call(this),"t0",1);case 1:return t=e.t0,e.t1=dx,e.next=5,this.$.outgoingDeps;case 5:e.t2=e.sent,r=(0,e.t1)(e.t2),e.prev=7,r.s();case 9:if((o=r.n()).done){e.next=53;break}return n=o.value,e.next=13,n.$.toEvent;case 13:if(null!=(a=e.sent)&&!eS(a)){e.next=16;break}return e.abrupt("continue",51);case 16:s=void 0,e.t3=n.type,e.next=e.t3===qb.EndToEnd?20:e.t3===qb.EndToStart?35:50;break;case 20:return e.next=22,a.$.lateEndDateRaw;case 22:if(!(u=e.sent)){e.next=34;break}return e.next=26,n.$.lag;case 26:return c=e.sent,e.next=29,n.$.lagUnit;case 29:return l=e.sent,e.next=32,n.$.calendar;case 32:f=e.sent,s=_R.new({startDate:null,endDate:f.calculateStartDate(u,c,l),originDescription:'"end to end" dependency to task '.concat(a),onRemoveAction:this.getOnRemoveAction(n)});case 34:return e.abrupt("break",50);case 35:return e.next=37,a.$.lateStartDateRaw;case 37:if(!(d=e.sent)){e.next=49;break}return e.next=41,n.$.lag;case 41:return h=e.sent,e.next=44,n.$.lagUnit;case 44:return p=e.sent,e.next=47,n.$.calendar;case 47:v=e.sent,s=_R.new({startDate:null,endDate:v.calculateStartDate(d,h,p),originDescription:'"end to start" dependency to task '.concat(a),onRemoveAction:this.getOnRemoveAction(n)});case 49:return e.abrupt("break",50);case 50:s&&t.unshift(s);case 51:e.next=9;break;case 53:e.next=58;break;case 55:e.prev=55,e.t4=e.catch(7),r.e(e.t4);case 58:return e.prev=58,r.f(),e.finish(58);case 61:return e.abrupt("return",t);case 62:case"end":return e.stop()}},e,this,[[7,55,58,61]])})},{key:"getOnRemoveAction",value:function(e){var t=this;return function(){t.getDependencyStore().remove(e)}}},{key:"setIncomingDeps",value:(n=ro()(to.a.mark(function e(t){var n,r=this;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getDependencyStore(),this.incomingDeps.forEach(function(e){return n.remove(e)}),t.forEach(function(e){e.toEvent=r,n.add(e)}),e.abrupt("return",this.propagate());case 4:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"setOutgoingDeps",value:(t=ro()(to.a.mark(function e(t){var n,r=this;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getDependencyStore(),this.outgoingDeps.forEach(function(e){return n.remove(e)}),t.forEach(function(e){e.fromEvent=r,n.add(e)}),e.abrupt("return",this.propagate());case 4:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"leaveProject",value:function(){var e=this.getDependencyStore();this.incomingDeps.forEach(function(t){return e.remove(t)}),this.outgoingDeps.forEach(function(t){return e.remove(t)}),ce()(Q()(i.prototype),"leaveProject",this).call(this)}}]),i}(e);return vx([ZS()],t.prototype,"dontRemoveMe",void 0),vx([TS({},US)],t.prototype,"outgoingDeps",void 0),vx([TS({},US)],t.prototype,"incomingDeps",void 0),vx([PS("earlyStartDateConstraintIntervals")],t.prototype,"calculateEarlyStartDateConstraintIntervals",null),vx([PS("earlyEndDateConstraintIntervals")],t.prototype,"calculateEarlyEndDateConstraintIntervals",null),vx([PS("lateStartDateConstraintIntervals")],t.prototype,"calculateLateStartDateConstraintIntervals",null),vx([PS("lateEndDateConstraintIntervals")],t.prototype,"calculateLateEndDateConstraintIntervals",null),t};function yx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var mx=function(e){var t=function(e){X()(n,e);var t=yx(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(e);return t};function kx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;Reflect.construct(r,arguments,i)}else r.apply(this,arguments);return Z()(this,n)}}var bx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;return mx(ax(fx(gx(NR(UC(ER(uD(lD(nD(CS(e)))))))))))};bx(Yo);function wx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Sx=function(e){X()(o,e);var t,n,r,i=wx(o);function o(){return E()(this,o),i.apply(this,arguments)}return M()(o,[{key:"setMilestone",value:(r=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t?this.convertToMilestone():this.convertToRegular());case 1:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"convertToMilestone",value:(n=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.setDuration(0,this.durationUnit,!1));case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"convertToRegular",value:(t=ro()(to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this).milestone){e.next=3;break}return e.abrupt("return",t.setDuration(1,t.durationUnit,!1));case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"normalize",value:function(){}},{key:"inSetNormalize",value:function(e){}},{key:"isTask",get:function(){return!0}},{key:"successors",get:function(){return Array.from(this.outgoingDeps)},set:function(e){this.setOutgoingDeps(e)}},{key:"predecessors",get:function(){return Array.from(this.incomingDeps)},set:function(e){this.setIncomingDeps(e)}},{key:"renderedPercentDone",get:function(){return this.percentDone<=99?Math.round(this.percentDone):Math.floor(this.percentDone)}},{key:"isDraggable",get:function(){return this.draggable}},{key:"isResizable",get:function(){return this.resizable&&!this.milestone&&!this.isParent}},{key:"isStarted",get:function(){return this.percentDone>0}},{key:"isCompleted",get:function(){return this.percentDone>=100}},{key:"milestone",get:function(){if(!this.isLeaf){var e=this.startDate,t=this.endDate;if(e&&t)return t.getTime()===e.getTime()}return 0===this.duration},set:function(e){e?this.convertToMilestone():this.convertToRegular()}},{key:"isMilestone",get:function(){return this.milestone}},{key:"allDependencies",get:function(){return[].concat(te()(this.predecessors||[]),te()(this.successors||[]))}},{key:"predecessorTasks",get:function(){return this.predecessors.map(function(e){return e.fromEvent})}},{key:"successorTasks",get:function(){return this.successors.map(function(e){return e.toEvent})}},{key:"previousSiblingsTotalCount",get:function(){for(var e=this.previousSibling,t=this.parentIndex;e;)t+=e.descendantCount,e=e.previousSibling;return t}},{key:"sequenceNumber",get:function(){for(var e=0,t=this;t.parent;)e+=t.previousSiblingsTotalCount+1,t=t.parent;return e}},{key:"isSubProject",get:function(){return!1}},{key:"subProject",get:function(){var e=null;return this.isProject?e=this:this.bubbleWhile(function(t){return t.isProject&&(e=t),!e}),e}},{key:"fullEffort",get:function(){return{unit:this.effortUnit,magnitude:this.effort}},set:function(e){this.setEffort(e.magnitude,e.unit)}},{key:"fullDuration",get:function(){return{unit:this.durationUnit,magnitude:this.duration}},set:function(e){this.setDuration(e.magnitude,e.unit)}}],[{key:"fields",get:function(){return[{name:"note",type:"string"},{name:"percentDone",type:"number",defaultValue:0},{name:"parentId",serialize:function(e,t){var n=t.getEventStore(),r=t.getProject();return n&&n.getById(e)===r&&(e=null),e}},{name:"phantomId",type:"string"},{name:"phantomParentId",type:"string"},{name:"showInTimeline",type:"boolean"},{name:"index",type:"int",persist:!0},{name:"iconCls"},{name:"draggable",type:"boolean",persist:!1,defaultValue:!0},{name:"resizable",persist:!1,defaultValue:!0}]}}]),o}(Pw(bx(kv)));function Dx(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Rx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rx(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Rx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Sx.convertEmptyParentToLeaf=!0,Sx._$name="ProTaskModel";var xx=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ex=function(e){var t=function(e){X()(n,e);var t=Cx(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"calculateLateStartDateConstraintIntervals",value:to.a.mark(function e(){var t,n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.$.parentEvent;case 3:if(!(n=e.sent)){e.next=9;break}return e.next=7,n.$.lateStartDateConstraintIntervals;case 7:r=e.sent,t.push.apply(t,r);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}},e,this)})},{key:"calculateLateEndDateConstraintIntervals",value:to.a.mark(function e(){var t,n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.$.parentEvent;case 3:if(!(n=e.sent)){e.next=9;break}return e.next=7,n.$.lateEndDateConstraintIntervals;case 7:r=e.sent,t.push.apply(t,r);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}},e,this)})},{key:"calculateLateStartDateRaw",value:to.a.mark(function e(){var t,n,r,i,o,a,s,u,c;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:if(!(t=e.sent).size){e.next=27;break}n=SD,r=Dx(t),e.prev=6,r.s();case 8:if((i=r.n()).done){e.next=16;break}return o=i.value,e.next=12,o.$.lateStartDateRaw;case 12:(a=e.sent)&&a<n&&(n=a);case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:n=n.getTime()-SD.getTime()?n:null,e.next=54;break;case 27:return e.delegateYield(this.isConstrainedLate(),"t1",28);case 28:if(e.t1){e.next=32;break}return e.next=31,this.$.startDate;case 31:return e.abrupt("return",e.sent);case 32:return e.next=34,this.$.lateStartDateConstraintIntervals;case 34:return s=e.sent,e.next=37,this.$.lateEndDateConstraintIntervals;case 37:return u=e.sent,e.t2=this,e.t3=s,e.next=42,this.$.startDateConstraintIntervals;case 42:return e.t4=e.sent,e.t5=e.t3.concat.call(e.t3,e.t4),e.t6=u,e.next=47,this.$.endDateConstraintIntervals;case 47:return e.t7=e.sent,e.t8=e.t6.concat.call(e.t6,e.t7),e.delegateYield(e.t2.calculateEffectiveConstraintInterval.call(e.t2,!0,e.t5,e.t8),"t9",50);case 50:if((c=e.t9)&&DD(c.endDate)){e.next=53;break}return e.abrupt("return",null);case 53:n=c.endDate;case 54:return e.abrupt("return",n);case 55:case"end":return e.stop()}},e,this,[[6,18,21,24]])})},{key:"calculateLateStartDate",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.lateStartDateRaw;case 2:return t=e.sent,e.delegateYield(this.maybeSkipNonWorkingTime(t,!0),"t0",4);case 4:return e.abrupt("return",e.t0);case 5:case"end":return e.stop()}},e,this)})},{key:"calculateLateEndDateRaw",value:to.a.mark(function e(){var t,n,r,i,o,a,s,u,c;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:if(!(t=e.sent).size){e.next=27;break}n=wD,r=Dx(t),e.prev=6,r.s();case 8:if((i=r.n()).done){e.next=16;break}return o=i.value,e.next=12,o.$.lateEndDateRaw;case 12:(a=e.sent)&&a>n&&(n=a);case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:n=n.getTime()-wD.getTime()?n:null,e.next=54;break;case 27:return e.delegateYield(this.isConstrainedLate(),"t1",28);case 28:if(e.t1){e.next=32;break}return e.next=31,this.$.endDate;case 31:return e.abrupt("return",e.sent);case 32:return e.next=34,this.$.lateStartDateConstraintIntervals;case 34:return s=e.sent,e.next=37,this.$.lateEndDateConstraintIntervals;case 37:return u=e.sent,e.t2=this,e.t3=s,e.next=42,this.$.startDateConstraintIntervals;case 42:return e.t4=e.sent,e.t5=e.t3.concat.call(e.t3,e.t4),e.t6=u,e.next=47,this.$.endDateConstraintIntervals;case 47:return e.t7=e.sent,e.t8=e.t6.concat.call(e.t6,e.t7),e.delegateYield(e.t2.calculateEffectiveConstraintInterval.call(e.t2,!1,e.t5,e.t8),"t9",50);case 50:if((c=e.t9)&&DD(c.endDate)){e.next=53;break}return e.abrupt("return",null);case 53:n=c.endDate;case 54:return e.abrupt("return",n);case 55:case"end":return e.stop()}},e,this,[[6,18,21,24]])})},{key:"calculateLateEndDate",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.lateEndDateRaw;case 2:return t=e.sent,e.delegateYield(this.maybeSkipNonWorkingTime(t,!1),"t0",4);case 4:return e.abrupt("return",e.t0);case 5:case"end":return e.stop()}},e,this)})},{key:"calculateTotalSlack",value:to.a.mark(function e(){var t,n,r,i,o,a,s,u,c;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.earlyStartDateRaw;case 2:return t=e.sent,e.next=5,this.$.lateStartDateRaw;case 5:return n=e.sent,e.next=8,this.$.earlyEndDateRaw;case 8:return r=e.sent,e.next=11,this.$.lateEndDateRaw;case 11:return i=e.sent,e.next=14,this.$.slackUnit;case 14:if(o=e.sent,u=t&&n&&DD(t)&&DD(n),c=r&&i&&DD(r)&&DD(i),!u&&!c){e.next=30;break}if(!u){e.next=27;break}return e.delegateYield(this.calculateProjectedDuration(t,n,o),"t0",20);case 20:if(s=e.t0,!c){e.next=25;break}return e.delegateYield(this.calculateProjectedDuration(r,i,o),"t1",23);case 23:(a=e.t1)<s&&(s=a);case 25:e.next=30;break;case 27:if(!c){e.next=30;break}return e.delegateYield(this.calculateProjectedDuration(r,i,o),"t2",29);case 29:s=e.t2;case 30:return e.abrupt("return",s);case 31:case"end":return e.stop()}},e,this)})},{key:"calculateCritical",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.totalSlack;case 2:return t=e.sent,e.abrupt("return",t<=0);case 4:case"end":return e.stop()}},e,this)})},{key:"isConstrainedLate",value:to.a.mark(function e(){var t,n,r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.startDateConstraintIntervals;case 2:return t=e.sent,e.next=5,this.$.endDateConstraintIntervals;case 5:return n=e.sent,e.next=8,this.$.lateStartDateConstraintIntervals;case 8:return r=e.sent,e.next=11,this.$.lateEndDateConstraintIntervals;case 11:return i=e.sent,e.abrupt("return",Boolean(t.length||n.length||r.length||i.length));case 13:case"end":return e.stop()}},e,this)})},{key:"calculateStartDatePure",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.direction;case 2:if(e.sent!==Zb.Backward){e.next=18;break}return e.delegateYield(this.isConstrainedLate(),"t1",5);case 5:if(e.t0=!e.t1,e.t0){e.next=10;break}return e.next=9,this.$.manuallyScheduled;case 9:e.t0=e.sent;case 10:if(!e.t0){e.next=13;break}return e.delegateYield(ce()(Q()(n.prototype),"calculateStartDatePure",this).call(this),"t2",12);case 12:return e.abrupt("return",e.t2);case 13:return e.next=15,this.$.lateStartDate;case 15:return e.abrupt("return",e.sent);case 18:return e.delegateYield(ce()(Q()(n.prototype),"calculateStartDatePure",this).call(this),"t3",19);case 19:return e.abrupt("return",e.t3);case 20:case"end":return e.stop()}},e,this)})},{key:"calculateStartDateProposed",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.direction;case 2:t=e.sent,e.t0=t,e.next=e.t0===Zb.Backward?6:17;break;case 6:return e.delegateYield(this.isConstrainedLate(),"t2",7);case 7:if(e.t1=!e.t2,e.t1){e.next=12;break}return e.next=11,this.$.manuallyScheduled;case 11:e.t1=e.sent;case 12:if(!e.t1){e.next=15;break}return e.delegateYield(ce()(Q()(n.prototype),"calculateStartDateProposed",this).call(this),"t3",14);case 14:return e.abrupt("return",e.t3);case 15:return e.delegateYield(this.calculateStartDatePure(),"t4",16);case 16:return e.abrupt("return",e.t4);case 17:return e.delegateYield(ce()(Q()(n.prototype),"calculateStartDateProposed",this).call(this),"t5",18);case 18:return e.abrupt("return",e.t5);case 19:case"end":return e.stop()}},e,this)})},{key:"calculateEndDatePure",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.direction;case 2:if(e.sent!==Zb.Backward){e.next=18;break}return e.delegateYield(this.isConstrainedLate(),"t1",5);case 5:if(e.t0=!e.t1,e.t0){e.next=10;break}return e.next=9,this.$.manuallyScheduled;case 9:e.t0=e.sent;case 10:if(!e.t0){e.next=13;break}return e.delegateYield(ce()(Q()(n.prototype),"calculateEndDatePure",this).call(this),"t2",12);case 12:return e.abrupt("return",e.t2);case 13:return e.next=15,this.$.lateEndDate;case 15:return e.abrupt("return",e.sent);case 18:return e.delegateYield(ce()(Q()(n.prototype),"calculateEndDatePure",this).call(this),"t3",19);case 19:return e.abrupt("return",e.t3);case 20:case"end":return e.stop()}},e,this)})},{key:"calculateEndDateProposed",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.direction;case 2:t=e.sent,e.t0=t,e.next=e.t0===Zb.Backward?6:17;break;case 6:return e.delegateYield(this.isConstrainedLate(),"t2",7);case 7:if(e.t1=!e.t2,e.t1){e.next=12;break}return e.next=11,this.$.manuallyScheduled;case 11:e.t1=e.sent;case 12:if(!e.t1){e.next=15;break}return e.delegateYield(ce()(Q()(n.prototype),"calculateEndDateProposed",this).call(this),"t3",14);case 14:return e.abrupt("return",e.t3);case 15:return e.delegateYield(this.calculateEndDatePure(),"t4",16);case 16:return e.abrupt("return",e.t4);case 17:return e.delegateYield(ce()(Q()(n.prototype),"calculateEndDateProposed",this).call(this),"t5",18);case 18:return e.abrupt("return",e.t5);case 19:case"end":return e.stop()}},e,this)})}]),n}(e);return xx([MS()],t.prototype,"lateStartDateRaw",void 0),xx([ZS({type:"date",dateFormat:"YYYY-MM-DDTHH:mm:ssZ",persist:!1},{converter:eD,persistent:!1})],t.prototype,"lateStartDate",void 0),xx([MS()],t.prototype,"lateEndDateRaw",void 0),xx([ZS({type:"date",dateFormat:"YYYY-MM-DDTHH:mm:ssZ",persist:!1},{converter:eD,persistent:!1})],t.prototype,"lateEndDate",void 0),xx([MS()],t.prototype,"lateStartDateConstraintIntervals",void 0),xx([MS()],t.prototype,"lateEndDateConstraintIntervals",void 0),xx([ZS({type:"number",persist:!1},{persistent:!1})],t.prototype,"totalSlack",void 0),xx([ZS({type:"string",defaultValue:Gb.Day,persist:!1},{converter:xt.normalizeUnit,persistent:!1})],t.prototype,"slackUnit",void 0),xx([ZS({type:"boolean",defaultValue:!1,persist:!1},{persistent:!1})],t.prototype,"critical",void 0),xx([PS("lateStartDateConstraintIntervals")],t.prototype,"calculateLateStartDateConstraintIntervals",null),xx([PS("lateEndDateConstraintIntervals")],t.prototype,"calculateLateEndDateConstraintIntervals",null),xx([PS("lateStartDateRaw")],t.prototype,"calculateLateStartDateRaw",null),xx([PS("lateStartDate")],t.prototype,"calculateLateStartDate",null),xx([PS("lateEndDateRaw")],t.prototype,"calculateLateEndDateRaw",null),xx([PS("lateEndDate")],t.prototype,"calculateLateEndDate",null),xx([PS("totalSlack")],t.prototype,"calculateTotalSlack",null),xx([PS("critical")],t.prototype,"calculateCritical",null),t};function Tx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Mx=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Px=function(e){var t=function(e){X()(r,e);var t,n=Tx(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"putStartDate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0===this.$.startDate.getProposedOrPreviousValue(),i=this.getProject();if(!(n||i&&i.getStm().isRestoring)){var o=this.getStartDatePinConstraintType();o&&(this.constraintType=o,this.constraintDate=e)}return ce()(Q()(r.prototype),"putStartDate",this).call(this,e,t)}},{key:"putEndDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0===this.$.endDate.getProposedOrPreviousValue(),i=this.getProject();if(!n&&t&&(!i||!i.getStm().isRestoring)){var o=this.getEndDatePinConstraintType();o&&(this.constraintType=o,this.constraintDate=e)}return ce()(Q()(r.prototype),"putEndDate",this).call(this,e,t)}},{key:"calculateConstraintType",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$.constraintType.getProposedOrPreviousValue(),e.delegateYield(this.isConstraintTypeApplicable(t),"t0",2);case 2:if(e.t0){e.next=4;break}t=null;case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)})},{key:"calculateConstraintDate",value:to.a.mark(function e(t){var n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.$.constraintDate.getProposedOrPreviousValue(),e.next=3,this.$.constraintType;case 3:return(r=e.sent)?n||(n=this.getConstraintTypeDefaultDate(t,r)):n=null,e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)})},{key:"getStartDatePinConstraintType",value:function(){var e=this.direction;if(!this.isTaskPinnableWithConstraint())return null;switch(e){case Zb.Forward:return Yb.StartNoEarlierThan;case Zb.Backward:return Yb.FinishNoLaterThan}}},{key:"getEndDatePinConstraintType",value:function(){var e=this.direction;if(!this.isTaskPinnableWithConstraint())return null;switch(e){case Zb.Forward:return Yb.FinishNoEarlierThan;case Zb.Backward:return Yb.FinishNoLaterThan}}},{key:"isTaskPinnableWithConstraint",value:function(){var e=this.manuallyScheduled,t=this.constraintType,n=!1;if(!e)if(t)switch(t){case Yb.StartNoEarlierThan:case Yb.FinishNoEarlierThan:n=!0}else n=!0;return n}},{key:"getConstraintTypeDefaultDate",value:function(e,t){switch(t){case Yb.StartNoEarlierThan:case Yb.StartNoLaterThan:case Yb.MustStartOn:return this.$.startDate.getProposedOrPreviousValue();case Yb.FinishNoEarlierThan:case Yb.FinishNoLaterThan:case Yb.MustFinishOn:return this.$.endDate.getProposedOrPreviousValue()}return null}},{key:"isConstraintTypeApplicable",value:to.a.mark(function e(t){var n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:n=e.sent,r=n.size>0,e.t0=t,e.next=e.t0===Yb.FinishNoEarlierThan||e.t0===Yb.StartNoLaterThan||e.t0===Yb.MustFinishOn||e.t0===Yb.MustStartOn?7:8;break;case 7:return e.abrupt("return",!r);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}},e,this)})},{key:"setConstraint",value:(t=ro()(to.a.mark(function e(t,n){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.constraintType=t,void 0!==n&&(this.constraintDate=n),e.abrupt("return",this.propagate());case 3:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})},{key:"calculateEndDateConstraintIntervals",value:to.a.mark(function e(){var t,n,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(ce()(Q()(r.prototype),"calculateEndDateConstraintIntervals",this).call(this),"t0",1);case 1:return t=e.t0,e.next=4,this.$.constraintType;case 4:return n=e.sent,e.next=7,this.$.constraintDate;case 7:if(i=e.sent,!n||!i){e.next=18;break}e.t1=n,e.next=e.t1===Yb.MustFinishOn?12:e.t1===Yb.FinishNoEarlierThan?14:e.t1===Yb.FinishNoLaterThan?16:18;break;case 12:return t.unshift(AR.new({startDate:i,endDate:i})),e.abrupt("break",18);case 14:return t.unshift(AR.new({startDate:i})),e.abrupt("break",18);case 16:return t.unshift(AR.new({endDate:i})),e.abrupt("break",18);case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}},e,this)})},{key:"calculateStartDateConstraintIntervals",value:to.a.mark(function e(){var t,n,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(ce()(Q()(r.prototype),"calculateStartDateConstraintIntervals",this).call(this),"t0",1);case 1:return t=e.t0,e.next=4,this.$.constraintType;case 4:return n=e.sent,e.next=7,this.$.constraintDate;case 7:if(i=e.sent,!n||!i){e.next=18;break}e.t1=n,e.next=e.t1===Yb.MustStartOn?12:e.t1===Yb.StartNoEarlierThan?14:e.t1===Yb.StartNoLaterThan?16:18;break;case 12:return t.unshift(AR.new({startDate:i,endDate:i})),e.abrupt("break",18);case 14:return t.unshift(AR.new({startDate:i})),e.abrupt("break",18);case 16:return t.unshift(AR.new({endDate:i})),e.abrupt("break",18);case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}},e,this)})}]),r}(e);return Mx([ZS({type:"string"})],t.prototype,"constraintType",void 0),Mx([ZS({type:"date",dateFormat:"YYYY-MM-DDTHH:mm:ssZ"},{converter:eD})],t.prototype,"constraintDate",void 0),Mx([PS("constraintType")],t.prototype,"calculateConstraintType",null),Mx([PS("constraintDate")],t.prototype,"calculateConstraintDate",null),t};function Ax(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ix(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ix(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ix(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Lx=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ox=function(e){var t=function(e){X()(n,e);var t=Fx(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"setEffort",value:function(e,t){return this.putEffort(e,t),this.propagate()}},{key:"getEffort",value:function(e){var t=this.effort;return void 0!==e?this.getProject().convertDuration(t,this.effortUnit,e):t}},{key:"putEffort",value:function(e,t){e<0&&(e=0);var n=void 0===this.$.effort.getProposedOrPreviousValue();null==e&&n||(null!=t&&t!==this.effortUnit&&(this.effortUnit=t),this.$.effort.put(e))}},{key:"setEffortUnit",value:function(e){throw new Error("Use `setEffort` instead")}},{key:"calculateTotalChildrenEffort",value:to.a.mark(function e(){var t,n,r,i,o,a,s;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:t=e.sent,n=this.getProject(),r=0,i=Ax(t),e.prev=6,i.s();case 8:if((o=i.n()).done){e.next=24;break}return a=o.value,e.next=12,a.$.effortUnit;case 12:return s=e.sent,e.t0=r,e.t1=n,e.next=17,a.$.effort;case 17:return e.t2=e.sent,e.t3=s,e.t4=Gb.Millisecond,e.delegateYield(e.t1.$convertDuration.call(e.t1,e.t2,e.t3,e.t4),"t5",21);case 21:r=e.t0+=e.t5;case 22:e.next=8;break;case 24:e.next=29;break;case 26:e.prev=26,e.t6=e.catch(6),i.e(e.t6);case 29:return e.prev=29,i.f(),e.finish(29);case 32:return e.t7=n,e.t8=r,e.t9=Gb.Millisecond,e.next=37,this.$.effortUnit;case 37:return e.t10=e.sent,e.delegateYield(e.t7.$convertDuration.call(e.t7,e.t8,e.t9,e.t10),"t11",39);case 39:return e.abrupt("return",e.t11);case 40:case"end":return e.stop()}},e,this,[[6,26,29,32]])})},{key:"calculateEffort",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:if(!(e.sent.size>0)){e.next=8;break}return e.delegateYield(this.calculateTotalChildrenEffort(),"t0",5);case 5:return e.abrupt("return",e.t0);case 8:if(void 0===(t=this.$.effort.getProposedOrPreviousValue())){e.next=13;break}e.t1=t,e.next=15;break;case 13:return e.delegateYield(this.calculateEffortPure(),"t2",14);case 14:e.t1=e.t2;case 15:return e.abrupt("return",e.t1);case 16:case"end":return e.stop()}},e,this)})},{key:"calculateEffortPure",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:if(!(e.sent.size>0)){e.next=8;break}return e.delegateYield(this.calculateTotalChildrenEffort(),"t0",5);case 5:return e.abrupt("return",e.t0);case 8:return e.t1=this,e.next=11,this.$.startDate;case 11:return e.t2=e.sent,e.next=14,this.$.endDate;case 14:return e.t3=e.sent,e.delegateYield(e.t1.calculateProjectedEffort.call(e.t1,e.t2,e.t3),"t4",16);case 16:return e.abrupt("return",e.t4);case 17:case"end":return e.stop()}},e,this)})},{key:"calculateEffortProposed",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$.effort.getProposedOrPreviousValue());case 1:case"end":return e.stop()}},e,this)})},{key:"calculateAssignmentUnits",value:to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.calculateAssignmentUnitsProposed(t),"t0",1);case 1:return e.abrupt("return",e.t0);case 2:case"end":return e.stop()}},e,this)})},{key:"calculateAssignmentUnitsPure",value:to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.calculateUnitsByStartEndAndEffort(t),"t0",1);case 1:return e.abrupt("return",e.t0);case 2:case"end":return e.stop()}},e,this)})},{key:"calculateAssignmentUnitsProposed",value:to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.$.units.getProposedOrPreviousValue());case 1:case"end":return e.stop()}},e)})},{key:"getBaseOptionsForEffortCalculations",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{ignoreResourceCalendars:!1});case 1:case"end":return e.stop()}},e)})},{key:"calculateProjectedEffort",value:to.a.mark(function e(t,n){var r,i,o,a,s,u,c,l,f,d,h,p,v;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null==t||null==n||t>n)){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.$.assignmentsByCalendar;case 4:r=e.sent,i=new Map,o=Ax(r),e.prev=7,o.s();case 9:if((a=o.n()).done){e.next=34;break}s=re()(a.value,2),u=s[0],c=s[1],l=0,f=Ax(c),e.prev=13,f.s();case 15:if((d=f.n()).done){e.next=23;break}return h=d.value,e.t0=l,e.next=20,h.$.units;case 20:l=e.t0+=e.sent;case 21:e.next=15;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(13),f.e(e.t1);case 28:return e.prev=28,f.f(),e.finish(28);case 31:i.set(u,l);case 32:e.next=9;break;case 34:e.next=39;break;case 36:e.prev=36,e.t2=e.catch(7),o.e(e.t2);case 39:return e.prev=39,o.f(),e.finish(39);case 42:return p=0,e.t3=Object,e.delegateYield(this.getBaseOptionsForEffortCalculations(),"t4",45);case 45:if(e.t5=e.t4,e.t6={startDate:t,endDate:n},v=e.t3.assign.call(e.t3,e.t5,e.t6),0!==i.size){e.next=55;break}return e.t7=i,e.next=52,this.$.calendar;case 52:e.t8=e.sent,e.t7.set.call(e.t7,e.t8,100),v.ignoreResourceCalendars=!0;case 55:return e.delegateYield(this.forEachAvailabilityInterval(v,function(e,t,n){var r,o=n.getCalendarsWorking(),a=e.getTime(),s=t.getTime()-a,u=0,c=Ax(o);try{for(c.s();!(r=c.n()).done;){var l=r.value;u+=i.get(l)||0}}catch(e){c.e(e)}finally{c.f()}p+=u*s*.01}),"t9",56);case 56:return e.t10=this.getProject(),e.t11=p,e.t12=Gb.Millisecond,e.next=61,this.$.effortUnit;case 61:return e.t13=e.sent,e.delegateYield(e.t10.$convertDuration.call(e.t10,e.t11,e.t12,e.t13),"t14",63);case 63:return e.abrupt("return",e.t14);case 64:case"end":return e.stop()}},e,this,[[7,36,39,42],[13,25,28,31]])})},{key:"calculateUnitsByStartEndAndEffort",value:to.a.mark(function e(t){var n,r,i,o,a,s;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.effort;case 2:return n=e.sent,e.next=5,this.$.effortUnit;case 5:return r=e.sent,e.delegateYield(this.getProject().$convertDuration(n,r,Gb.Millisecond),"t0",7);case 7:return i=e.t0,o=0,e.t1=Object,e.delegateYield(this.getBaseOptionsForEffortCalculations(),"t2",11);case 11:return e.t3=e.t2,e.next=14,this.$.startDate;case 14:return e.t4=e.sent,e.next=17,this.$.endDate;case 17:return e.t5=e.sent,e.t6={startDate:e.t4,endDate:e.t5},a=e.t1.assign.call(e.t1,e.t3,e.t6),e.next=22,this.$.assignmentsByCalendar;case 22:return s=e.sent,e.delegateYield(this.forEachAvailabilityInterval(a,function(e,t,n){var r,i=n.getCalendarsWorking(),a=e.getTime(),u=t.getTime()-a,c=Ax(i);try{for(c.s();!(r=c.n()).done;){var l=r.value;o+=(s.has(l)?s.get(l).length:0)*u}}catch(e){c.e(e)}finally{c.f()}}),"t7",24);case 24:return e.abrupt("return",o?100*i/o:100);case 25:case"end":return e.stop()}},e,this)})},{key:"calculateProjectedXDateByEffort",value:to.a.mark(function e(t){var n,r,i,o,a,s,u,c,l,f,d,h,p,v,g,y,m,k,b,w=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(w.length>1&&void 0!==w[1])||w[1],e.next=3,this.$.effort;case 3:return r=e.sent,e.next=6,this.$.effortUnit;case 6:return i=e.sent,e.delegateYield(this.getProject().$convertDuration(r,i,Gb.Millisecond),"t0",8);case 8:if(o=e.t0,null!=t&&null!=r){e.next=11;break}return e.abrupt("return",null);case 11:return a=t.getTime(),s=o,e.next=15,this.$.calendar;case 15:return u=e.sent,e.next=18,this.$.assignmentsByCalendar;case 18:c=e.sent,l=new Map,f=Ax(c),e.prev=21,f.s();case 23:if((d=f.n()).done){e.next=48;break}h=re()(d.value,2),p=h[0],v=h[1],g=0,y=Ax(v),e.prev=27,y.s();case 29:if((m=y.n()).done){e.next=37;break}return k=m.value,e.t1=g,e.next=34,k.$.units;case 34:g=e.t1+=e.sent;case 35:e.next=29;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(27),y.e(e.t2);case 42:return e.prev=42,y.f(),e.finish(42);case 45:l.set(p,g);case 46:e.next=23;break;case 48:e.next=53;break;case 50:e.prev=50,e.t3=e.catch(21),f.e(e.t3);case 53:return e.prev=53,f.f(),e.finish(53);case 56:if(!(c.size>0)){e.next=66;break}return e.t4=Object,e.delegateYield(this.getBaseOptionsForDurationCalculations(),"t5",59);case 59:return e.t6=e.t5,e.t7=n?{startDate:t,isForward:n}:{endDate:t,isForward:n},b=e.t4.assign.call(e.t4,e.t6,e.t7),e.delegateYield(this.forEachAvailabilityInterval(b,function(e,t,r){var i,o=r.getCalendarsWorking(),u=e.getTime(),c=t.getTime(),f=c-u,d=0,h=Ax(o);try{for(h.s();!(i=h.n()).done;){var p=i.value;d+=l.get(p)||0}}catch(e){h.e(e)}finally{h.f()}var v=d*f*.01;if(v>=s)return a=n?u+s/(.01*d):c-s/(.01*d),!1;s-=v}),"t8",63);case 63:return e.abrupt("return",new Date(a));case 66:return e.abrupt("return",u.accumulateWorkingTime(t,o,Gb.Millisecond,n).finalDate);case 67:case"end":return e.stop()}},e,this,[[21,50,53,56],[27,39,42,45]])})}]),n}(e);return Lx([ZS({type:"number"})],t.prototype,"effort",void 0),Lx([ZS({type:"string",defaultValue:Gb.Hour},{converter:xt.normalizeUnit})],t.prototype,"effortUnit",void 0),Lx([PS("effort")],t.prototype,"calculateEffort",null),t};function _x(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return jx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jx(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Nx=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Bx=function(e){var t=function(e){X()(n,e);var t=Hx(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"calculatePercentDone",value:to.a.mark(function e(t){var n,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:return n=e.sent,r=this.getProject(),e.next=6,r.$.autoCalculatePercentDoneForParentTasks;case 6:if(i=e.sent,!n.size||!i){e.next=22;break}return e.next=10,this.$.percentDoneSummaryData;case 10:if(!((o=e.sent).totalDuration>0)){e.next=15;break}return e.abrupt("return",o.completedDuration/o.totalDuration);case 15:if(!(o.milestonesNum>0)){e.next=19;break}return e.abrupt("return",o.milestonesTotalPercentDone/o.milestonesNum);case 19:return e.abrupt("return",null);case 20:e.next=25;break;case 22:if(void 0===t){e.next=24;break}return e.abrupt("return",t);case 24:return e.abrupt("return",this.$.percentDone.value);case 25:case"end":return e.stop()}},e,this)})},{key:"calculatePercentDoneSummaryData",value:to.a.mark(function e(){var t,n,r,i,o,a,s,u,c;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:if(!(t=e.sent).size){e.next=27;break}n={totalDuration:0,completedDuration:0,milestonesNum:0,milestonesTotalPercentDone:0},r=_x(t),e.prev=6,r.s();case 8:if((i=r.n()).done){e.next=16;break}return o=i.value,e.next=12,o.$.percentDoneSummaryData;case 12:(a=e.sent)&&(n.totalDuration+=a.totalDuration,n.completedDuration+=a.completedDuration,n.milestonesNum+=a.milestonesNum,n.milestonesTotalPercentDone+=a.milestonesTotalPercentDone);case 14:e.next=8;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:return e.abrupt("return",n);case 27:return e.next=29,this.$.duration;case 29:if("number"!=typeof(s=e.sent)){e.next=45;break}return e.t1=this,e.t2=s,e.next=35,this.$.durationUnit;case 35:return e.t3=e.sent,e.t4=Gb.Millisecond,e.delegateYield(e.t1.$convertDuration.call(e.t1,e.t2,e.t3,e.t4),"t5",38);case 38:return u=e.t5,e.next=41,this.$.percentDone;case 41:return c=e.sent,e.abrupt("return",{totalDuration:u,completedDuration:u*c,milestonesNum:0===u?1:0,milestonesTotalPercentDone:0===u?c:0});case 45:return e.abrupt("return",null);case 46:case"end":return e.stop()}},e,this,[[6,18,21,24]])})}]),n}(e);return Nx([ZS({type:"number",defaultValue:0})],t.prototype,"percentDone",void 0),Nx([MS()],t.prototype,"percentDoneSummaryData",void 0),Nx([PS("percentDone")],t.prototype,"calculatePercentDone",null),Nx([PS("percentDoneSummaryData")],t.prototype,"calculatePercentDoneSummaryData",null),t};function zx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Vx=Symbol("EffortVar"),Wx=Symbol("UnitsVar"),$x=SC.new({output:Vx,inputs:new Set([LC,OC,Wx])}),Gx=SC.new({output:Wx,inputs:new Set([LC,OC,Vx])}),Yx=SC.new({output:OC,inputs:new Set([LC,Vx,Wx])}),Ux=SC.new({output:LC,inputs:new Set([OC,Vx,Wx])}),qx=function(e){X()(n,e);var t=zx(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(VC),Xx=function(e){X()(n,e);var t=zx(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"equality",value:function(e,t){var r=e.resolution,i=t.resolution;return r.get(Vx)===i.get(Vx)&&r.get(Wx)===i.get(Wx)&&ce()(Q()(n.prototype),"equality",this).call(this,e,t)}}]),n}(WC);function Kx(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var Zx=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Jx=function(e){var t=function(e){X()(n,e);var t=Kx(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"prepareDispatcher",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.schedulingMode;case 2:if(e.sent===Ub.Normal){e.next=14;break}return e.delegateYield(ce()(Q()(n.prototype),"prepareDispatcher",this).call(this),"t0",5);case 5:return(t=e.t0).collectInfo(this.$.effort,Vx),e.delegateYield(this.hasProposedValueForUnits(),"t1",8);case 8:if(!e.t1){e.next=10;break}t.addProposedValueFlag(Wx);case 10:return t.addPreviousValueFlag(Wx),e.abrupt("return",t);case 14:return e.delegateYield(ce()(Q()(n.prototype),"prepareDispatcher",this).call(this),"t2",15);case 15:return e.abrupt("return",e.t2);case 16:case"end":return e.stop()}},e,this)})},{key:"dispatcherClass",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.schedulingMode;case 2:if(e.sent===Ub.Normal){e.next=7;break}return e.abrupt("return",qx);case 7:return e.delegateYield(ce()(Q()(n.prototype),"dispatcherClass",this).call(this),"t0",8);case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e,this)})},{key:"buildProposedDispatcher",value:function(){var e=ce()(Q()(n.prototype),"buildProposedDispatcher",this).call(this);return e.addPreviousValueFlag(Vx),e.addPreviousValueFlag(Wx),e}},{key:"calculateAssignmentUnits",value:to.a.mark(function e(t){var r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.schedulingMode;case 2:if(e.sent===Ub.Normal){e.next=21;break}return e.next=6,this.$.dispatcher;case 6:if(r=e.sent,(i=r.resolution.get(Wx))!==wC){e.next=13;break}return e.delegateYield(this.calculateAssignmentUnitsProposed(t),"t0",10);case 10:return e.abrupt("return",e.t0);case 13:if(i!==Gx.formulaId){e.next=18;break}return e.delegateYield(this.calculateAssignmentUnitsPure(t),"t1",15);case 15:return e.abrupt("return",e.t1);case 18:throw new Error("Unknown formula for `units`");case 19:e.next=23;break;case 21:return e.delegateYield(ce()(Q()(n.prototype),"calculateAssignmentUnits",this).call(this,t),"t2",22);case 22:return e.abrupt("return",e.t2);case 23:case"end":return e.stop()}},e,this)})},{key:"putEffort",value:function(e,t){var r=void 0===this.$.effort.getProposedOrPreviousValue();if(null==e&&r)return ce()(Q()(n.prototype),"putEffort",this).call(this,e,t);this.getGraph()&&(this.markAsNeedRecalculation(this.$.dispatcher),this.markAsNeedRecalculation(this.$.startDate),this.markAsNeedRecalculation(this.$.endDate),this.markAsNeedRecalculation(this.$.duration),this.assigned.forEach(function(e){return e.markAsNeedRecalculation(e.$.units)})),ce()(Q()(n.prototype),"putEffort",this).call(this,e,t)}},{key:"putStartDate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=void 0===this.$.startDate.getProposedOrPreviousValue();!r&&this.getGraph()&&(this.markAsNeedRecalculation(this.$.dispatcher),this.markAsNeedRecalculation(this.$.startDate),this.markAsNeedRecalculation(this.$.endDate),this.markAsNeedRecalculation(this.$.duration),this.markAsNeedRecalculation(this.$.effort),this.assigned.forEach(function(e){return e.markAsNeedRecalculation(e.$.units)})),ce()(Q()(n.prototype),"putStartDate",this).call(this,e,t)}},{key:"putEndDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=void 0===this.$.endDate.getProposedOrPreviousValue();!r&&this.getGraph()&&(this.markAsNeedRecalculation(this.$.dispatcher),this.markAsNeedRecalculation(this.$.startDate),this.markAsNeedRecalculation(this.$.endDate),this.markAsNeedRecalculation(this.$.duration),this.markAsNeedRecalculation(this.$.effort),this.assigned.forEach(function(e){return e.markAsNeedRecalculation(e.$.units)})),ce()(Q()(n.prototype),"putEndDate",this).call(this,e,t)}},{key:"putDuration",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=void 0===this.$.duration.getProposedOrPreviousValue();!i&&this.getGraph()&&(this.markAsNeedRecalculation(this.$.dispatcher),this.markAsNeedRecalculation(this.$.startDate),this.markAsNeedRecalculation(this.$.endDate),this.markAsNeedRecalculation(this.$.duration),this.markAsNeedRecalculation(this.$.effort),this.assigned.forEach(function(e){return e.markAsNeedRecalculation(e.$.units)})),ce()(Q()(n.prototype),"putDuration",this).call(this,e,t,r)}},{key:"calculateEffort",value:to.a.mark(function e(){var t,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.schedulingMode;case 2:if(e.sent===Ub.Normal){e.next=21;break}return e.next=6,this.$.dispatcher;case 6:if(t=e.sent,(r=t.resolution.get(Vx))!==wC){e.next=13;break}return e.delegateYield(this.calculateEffortProposed(),"t0",10);case 10:return e.abrupt("return",e.t0);case 13:if(r!==$x.formulaId){e.next=18;break}return e.delegateYield(this.calculateEffortPure(),"t1",15);case 15:return e.abrupt("return",e.t1);case 18:throw new Error("Unknown formula for `effort`");case 19:e.next=23;break;case 21:return e.delegateYield(ce()(Q()(n.prototype),"calculateEffort",this).call(this),"t2",22);case 22:return e.abrupt("return",e.t2);case 23:case"end":return e.stop()}},e,this)})},{key:"calculateStartDate",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.schedulingMode;case 2:if(e.sent===Ub.Normal){e.next=21;break}return e.next=6,this.$.dispatcher;case 6:if(t=e.sent,t.resolution.get(LC)!==Ux.formulaId){e.next=17;break}return e.t0=this,e.next=12,this.$.endDate;case 12:return e.t1=e.sent,e.delegateYield(e.t0.calculateProjectedXDateByEffort.call(e.t0,e.t1,!1),"t2",14);case 14:return e.abrupt("return",e.t2);case 17:return e.delegateYield(ce()(Q()(n.prototype),"calculateStartDate",this).call(this),"t3",18);case 18:return e.abrupt("return",e.t3);case 19:e.next=23;break;case 21:return e.delegateYield(ce()(Q()(n.prototype),"calculateStartDate",this).call(this),"t4",22);case 22:return e.abrupt("return",e.t4);case 23:case"end":return e.stop()}},e,this)})},{key:"calculateEndDate",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.schedulingMode;case 2:if(e.sent===Ub.Normal){e.next=21;break}return e.next=6,this.$.dispatcher;case 6:if(t=e.sent,t.resolution.get(OC)!==Yx.formulaId){e.next=17;break}return e.t0=this,e.next=12,this.$.startDate;case 12:return e.t1=e.sent,e.delegateYield(e.t0.calculateProjectedXDateByEffort.call(e.t0,e.t1,!0),"t2",14);case 14:return e.abrupt("return",e.t2);case 17:return e.delegateYield(ce()(Q()(n.prototype),"calculateEndDate",this).call(this),"t3",18);case 18:return e.abrupt("return",e.t3);case 19:e.next=23;break;case 21:return e.delegateYield(ce()(Q()(n.prototype),"calculateEndDate",this).call(this),"t4",22);case 22:return e.abrupt("return",e.t4);case 23:case"end":return e.stop()}},e,this)})},{key:"calculateEffectiveDuration",value:to.a.mark(function e(){var t,r,i,o,a,s,u,c;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.dispatcher;case 2:return t=e.sent,e.next=5,this.$.schedulingMode;case 5:if(r=e.sent,i=t.resolution.get(_C),t.resolution.get(Vx),i!==NC.formulaId||r==Ub.Normal){e.next=40;break}return a=this.$.startDate.getProposedOrPreviousValue(),s=this.$.endDate.getProposedOrPreviousValue(),u=t.resolution.get(LC),c=t.resolution.get(OC),e.next=15,this.$.effortDriven;case 15:if(!e.sent&&r!==Ub.FixedEffort){e.next=35;break}if(!s||u!==Ux.formulaId){e.next=26;break}return e.t0=this,e.delegateYield(this.calculateProjectedXDateByEffort(s,!1),"t1",20);case 20:return e.t2=e.t1,e.t3=s,e.delegateYield(e.t0.calculateProjectedDuration.call(e.t0,e.t2,e.t3),"t4",23);case 23:o=e.t4,e.next=33;break;case 26:if(!a||c!==Yx.formulaId){e.next=33;break}return e.t5=this,e.t6=a,e.delegateYield(this.calculateProjectedXDateByEffort(a,!0),"t7",30);case 30:return e.t8=e.t7,e.delegateYield(e.t5.calculateProjectedDuration.call(e.t5,e.t6,e.t8),"t9",32);case 32:o=e.t9;case 33:e.next=38;break;case 35:if(!(a&&s||!a&&!s)){e.next=38;break}return e.delegateYield(ce()(Q()(n.prototype),"calculateEffectiveDuration",this).call(this),"t10",37);case 37:o=e.t10;case 38:e.next=42;break;case 40:return e.delegateYield(ce()(Q()(n.prototype),"calculateEffectiveDuration",this).call(this),"t11",41);case 41:o=e.t11;case 42:return e.abrupt("return",o);case 43:case"end":return e.stop()}},e,this)})},{key:"calculateSchedulingMode",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.$.schedulingMode.getProposedOrPreviousValue()||Ub.Normal);case 1:case"end":return e.stop()}},e,this)})}]),n}(e);return Zx([ZS({type:"boolean",defaultValue:!1})],t.prototype,"effortDriven",void 0),Zx([ZS({type:"string",defaultValue:Ub.Normal})],t.prototype,"schedulingMode",void 0),Zx([MS({atomCls:Xx})],t.prototype,"dispatcher",void 0),Zx([PS("effort")],t.prototype,"calculateEffort",null),Zx([PS("startDate")],t.prototype,"calculateStartDate",null),Zx([PS("endDate")],t.prototype,"calculateEndDate",null),Zx([PS("schedulingMode")],t.prototype,"calculateSchedulingMode",null),t},Qx=CC.new({variables:new Set([LC,OC,_C,Vx,Wx]),formulas:new Set([jC,HC,NC,Gx,$x])}),eE=xC.new({description:Qx,defaultResolutionFormulas:new Set([HC,$x])}),tE=xC.new({description:Qx,defaultResolutionFormulas:new Set([HC,Gx])}),nE=xC.new({description:Qx,defaultResolutionFormulas:new Set([jC,$x])}),rE=xC.new({description:Qx,defaultResolutionFormulas:new Set([jC,Gx])});function iE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var oE=function(e){var t=function(e){X()(n,e);var t=iE(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"prepareDispatcher",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.schedulingMode;case 2:if(e.sent!==Ub.FixedDuration){e.next=18;break}return e.delegateYield(ce()(Q()(n.prototype),"prepareDispatcher",this).call(this),"t0",5);case 5:return t=e.t0,e.next=8,this.$.effortDriven;case 8:if(e.sent&&t.addKeepIfPossibleFlag(Vx),!this.hasAssignmentChanges()){e.next=15;break}return e.next=13,this.$.effortDriven;case 13:e.sent?t.addProposedValueFlag(Vx):t.addProposedValueFlag(Wx);case 15:return e.abrupt("return",t);case 18:return e.delegateYield(ce()(Q()(n.prototype),"prepareDispatcher",this).call(this),"t1",19);case 19:return e.abrupt("return",e.t1);case 20:case"end":return e.stop()}},e,this)})},{key:"cycleResolutionContext",value:to.a.mark(function e(){var t,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.schedulingMode;case 2:if(e.sent!==Ub.FixedDuration){e.next=17;break}return e.next=6,this.$.direction;case 6:return t=e.sent,e.next=9,this.$.effortDriven;case 9:if(r=e.sent,t!==Zb.Forward&&t!==Zb.None){e.next=14;break}return e.abrupt("return",r?tE:eE);case 14:return e.abrupt("return",r?rE:nE);case 15:e.next=19;break;case 17:return e.delegateYield(ce()(Q()(n.prototype),"cycleResolutionContext",this).call(this),"t0",18);case 18:return e.abrupt("return",e.t0);case 19:case"end":return e.stop()}},e,this)})},{key:"getBaseOptionsForDurationCalculations",value:to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.schedulingMode;case 2:if(e.sent!==Ub.FixedDuration){e.next=7;break}return e.abrupt("return",{ignoreResourceCalendars:!0});case 7:return e.delegateYield(ce()(Q()(n.prototype),"getBaseOptionsForDurationCalculations",this).call(this),"t0",8);case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e,this)})}]),n}(e);return t},aE=CC.new({variables:new Set([LC,OC,_C,Vx,Wx]),formulas:new Set([Yx,NC,Gx,$x,Ux,jC,HC])}),sE=xC.new({description:aE,defaultResolutionFormulas:new Set([Yx,NC])}),uE=xC.new({description:aE,defaultResolutionFormulas:new Set([Ux,NC])});function cE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var lE=function(e){var t=function(e){X()(n,e);var t=cE(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"prepareDispatcher",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.schedulingMode;case 2:if(e.sent!==Ub.FixedEffort){e.next=11;break}return e.delegateYield(ce()(Q()(n.prototype),"prepareDispatcher",this).call(this),"t0",5);case 5:return t=e.t0,this.hasAssignmentChanges()&&t.addProposedValueFlag(Wx),t.addKeepIfPossibleFlag(Vx),e.abrupt("return",t);case 11:return e.delegateYield(ce()(Q()(n.prototype),"prepareDispatcher",this).call(this),"t1",12);case 12:return e.abrupt("return",e.t1);case 13:case"end":return e.stop()}},e,this)})},{key:"cycleResolutionContext",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.schedulingMode;case 2:if(e.sent!==Ub.FixedEffort){e.next=10;break}return e.next=6,this.$.direction;case 6:return t=e.sent,e.abrupt("return",t===Zb.Forward||t===Zb.None?sE:uE);case 10:return e.delegateYield(ce()(Q()(n.prototype),"cycleResolutionContext",this).call(this),"t0",11);case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e,this)})}]),n}(e);return t},fE=CC.new({variables:new Set([LC,OC,_C,Vx,Wx]),formulas:new Set([Yx,NC,$x,Gx,Ux,jC,HC])}),dE=xC.new({description:fE,defaultResolutionFormulas:new Set([Yx,HC,$x])}),hE=xC.new({description:fE,defaultResolutionFormulas:new Set([Yx,HC,NC])}),pE=xC.new({description:fE,defaultResolutionFormulas:new Set([Ux,jC,$x])}),vE=xC.new({description:fE,defaultResolutionFormulas:new Set([Ux,jC,NC])});function gE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var yE=function(e){var t=function(e){X()(n,e);var t=gE(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"prepareDispatcher",value:to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.schedulingMode;case 2:if(e.sent!==Ub.FixedUnits){e.next=15;break}return e.delegateYield(ce()(Q()(n.prototype),"prepareDispatcher",this).call(this),"t0",5);case 5:return t=e.t0,this.hasAssignmentChanges()&&t.addProposedValueFlag(Wx),e.next=9,this.$.effortDriven;case 9:if(!e.sent){e.next=11;break}t.addKeepIfPossibleFlag(Vx);case 11:return t.addKeepIfPossibleFlag(Wx),e.abrupt("return",t);case 15:return e.delegateYield(ce()(Q()(n.prototype),"prepareDispatcher",this).call(this),"t1",16);case 16:return e.abrupt("return",e.t1);case 17:case"end":return e.stop()}},e,this)})},{key:"cycleResolutionContext",value:to.a.mark(function e(){var t,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.schedulingMode;case 2:if(e.sent!==Ub.FixedUnits){e.next=17;break}return e.next=6,this.$.direction;case 6:return t=e.sent,e.next=9,this.$.effortDriven;case 9:if(r=e.sent,t!==Zb.Forward&&t!==Zb.None){e.next=14;break}return e.abrupt("return",r?hE:dE);case 14:return e.abrupt("return",r?vE:pE);case 15:e.next=19;break;case 17:return e.delegateYield(ce()(Q()(n.prototype),"cycleResolutionContext",this).call(this),"t0",18);case 18:return e.abrupt("return",e.t0);case 19:case"end":return e.stop()}},e,this)})}]),n}(e);return t};function mE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var kE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;return Px(yE(lE(oE(Jx(Ox(ax(Bx(gx(Ex(fx(NR(UC(ER(uD(lD(nD(CS(e))))))))))))))))))},bE=function(e){X()(n,e);var t=mE(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(kE(Yo));function wE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var SE=function(e){return function(e){X()(n,e);var t=wE(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(e)};function DE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var RE=function(e){var t=function(e){X()(n,e);var t=DE(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"buildRootNode",value:function(){return this.getProject()||{}}}],[{key:"defaultConfig",get:function(){return{tree:!0,modelClass:bE}}}]),n}(e);return t},CE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra;return RE(oD(lD(SE(e))))},xE=function(e){X()(n,e);var t=DE(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(CE());function EE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var TE=function(e){X()(n,e);var t=EE(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"updateIdMap",value:function(){ce()(Q()(n.prototype),"updateIdMap",this).call(this)}},{key:"getEvents",value:function(e){var t=this.getById(e);return t&&[t]}},{key:"getEventsForResource",value:function(e){var t=this,n=this.resourceStore.getById(e),r=n&&n.assignments.filter(function(e){return e.isPartOfStore(t.assignmentStore)})||[];return te()(r).map(function(e){return e.event})}},{key:"getResourcesForEvent",value:function(e){return e.assignments.map(function(e){return e.resource})}}],[{key:"defaultConfig",get:function(){return{tree:!0,modelClass:Sx,loadPriority:200,syncPriority:300,storeId:"tasks"}}}]),n}(Pw(CE(Qp(Pa))));function ME(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}TE._$name="TaskStore";var PE=function(e){var t=function(e){X()(n,e);var t=ME(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"defaultConfig",get:function(){return{modelClass:hR}}}]),n}(e);return t};function AE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var IE=Symbol("DependencyValidationMixin"),FE=function(e){var t=function(e){X()(r,e);var t,n=AE(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:IE,value:function(){}},{key:"isValidDependency",value:(t=ro()(to.a.mark(function e(t,n,r){var i,o,a,s,u,c,l;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(i=this).getProject(),console.assert(!pR(t)||t.getProject()!=o,"Can't validate dependency, the dependency given is already a part of this project, validation can be done only on depepdencies which are not joined yet!"),e.next=4,o.waitForPropagateCompleted();case 4:return a=function(){var e=ro()(to.a.mark(function e(t){var n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t instanceof Hw?Fw.Cancel:Fw.Resume,e.abrupt("return",n);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),pR(t)||(s=i.getEventStore(),u=i.getDependencyStore().modelClass,t="object"==oe()(t)?new u(t):new u({fromEvent:s.getById(t),toEvent:s.getById(n),type:r})),c=t.getProject(),t.setProject(o),e.next=10,o.tryPropagateWithEntities(a,[t]);case 10:return l=e.sent,t.setProject(c),e.abrupt("return",l==rS.Passed);case 13:case"end":return e.stop()}},e,this)})),function(e,n,r){return t.apply(this,arguments)})}]),r}(e);return t};function LE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var OE=function(e){var t=function(e){X()(n,e);var t=LE(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(e);return t},_E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra;return OE(FE(PE(oD(lD(SE(e))))))},jE=function(e){X()(n,e);var t=LE(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(_E());function HE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var NE=function(e){X()(r,e);var t,n=HE(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"reduceTaskDependencies",value:function(e,t,n,r,i){return this.reduceEventDependencies(e,t,n,r,i)}},{key:"reduceTaskPredecessors",value:function(e,t,n,r){return this.reduceEventPredecessors(e,t,n,r)}},{key:"reduceTaskSuccessors",value:function(e,t,n,r){return this.reduceEventSuccessors(e,t,n,r)}},{key:"mapTaskDependencies",value:function(e,t,n,r,i){return this.mapEventDependencies(e,t,n,r,i)}},{key:"mapTaskPredecessors",value:function(e,t,n,r){return this.mapEventPredecessors(e,t,n,r)}},{key:"mapTaskSuccessors",value:function(e,t,n,r){return this.mapEventSuccessors(e,t,n,r)}},{key:"getTaskDependencies",value:function(e,t){return this.getEventDependencies(e,t)}},{key:"getTaskPredecessors",value:function(e,t){return this.getEventPredecessors(e,t)}},{key:"getTaskSuccessors",value:function(e,t){return this.getEventSuccessors(e,t)}},{key:"removeTaskDependencies",value:function(e,t){this.removeEventDependencies(e,t)}},{key:"removeTaskPredecessors",value:function(e,t){this.removeEventPredecessors(e,t)}},{key:"removeTaskSuccessors",value:function(e,t){this.removeEventSuccessors(e,t)}},{key:"getDependencyForSourceAndTargetTasks",value:function(e,t){return this.getDependencyForSourceAndTargetEvents(e,t)}},{key:"getTasksLinkingDependency",value:function(e,t){return this.getEventsLinkingDependency(e,t)}},{key:"isValidDependencyToCreate",value:(t=ro()(to.a.mark(function e(t,n,r){var i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isValidDependency(t,n,r);case 2:return i=e.sent,o=Boolean(this.getDependencyForSourceAndTargetEvents(t,n)),e.abrupt("return",i&&!o);case 5:case"end":return e.stop()}},e,this)})),function(e,n,r){return t.apply(this,arguments)})},{key:"getTaskById",value:function(e){var t=this.taskStore;return t&&t.getById(e)||null}},{key:"getSourceTask",value:function(e){var t=e instanceof yR?e.sourceId:e;return this.getTaskById(t)}},{key:"getTargetTask",value:function(e){var t=e instanceof yR?e.targetId:e;return this.getTaskById(t)}}],[{key:"defaultConfig",get:function(){return{modelClass:yR,loadPriority:300,syncPriority:500}}}]),r}(Pw(_E(fg)));function BE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}NE._$name="DependencyStore";var zE=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},VE=Symbol("ResourceMixin"),WE=function(e){var t=function(e){X()(n,e);var t=BE(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:VE,value:function(){}},{key:"leaveProject",value:function(){var e=this.getAssignmentStore();this.assigned.forEach(function(t){return e.remove(t)}),ce()(Q()(n.prototype),"leaveProject",this).call(this)}},{key:"assignments",get:function(){return te()(this.assigned)}}]),n}(e);return zE([ZS({type:"string"})],t.prototype,"name",void 0),zE([TS({},US)],t.prototype,"assigned",void 0),t},$E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;return WE(ER(uD(lD(nD(CS(e))))))},GE=function(e){X()(n,e);var t=BE(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}($E());function YE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var UE=function(e){X()(n,e);var t=YE(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"tasks",get:function(){return this.events}}],[{key:"fields",get:function(){return[]}}]),n}(Pw($E(eg)));function qE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}UE._$name="ResourceModel";var XE=function(e){var t=function(e){X()(n,e);var t=qE(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"defaultConfig",get:function(){return{modelClass:GE}}}]),n}(e);return t},KE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra;return XE(oD(lD(SE(e))))},ZE=function(e){X()(n,e);var t=qE(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(KE());function JE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var QE=function(e){X()(n,e);var t=JE(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"defaultConfig",get:function(){return{modelClass:UE,loadPriority:400,syncPriority:200,storeId:"resources"}}}]),n}(Pw(KE(ig)));function eT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}QE._$name="ResourceStore";var tT=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},nT=Symbol("AssignmentMixin"),rT=function(e){var t=function(e){X()(n,e);var t=eT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:nT,value:function(){}},{key:"getUnits",value:function(){return this.units}},{key:"setUnits",value:function(e){return this.putUnits(e),this.propagate()}},{key:"putUnits",value:function(e){this.$.units.put(e);var t=this.event;t&&this.getGraph()&&(t.markAsNeedRecalculation(t.$.dispatcher),t.markAsNeedRecalculation(t.$.startDate),t.markAsNeedRecalculation(t.$.endDate),t.markAsNeedRecalculation(t.$.duration),t.markAsNeedRecalculation(t.$.effort),t.assigned.forEach(function(e){return e.markAsNeedRecalculation(e.$.units)}))}},{key:"calculateUnits",value:to.a.mark(function e(t){var n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.event;case 2:if(!(n=e.sent)||!n.calculateAssignmentUnits){e.next=6;break}return e.delegateYield(n.calculateAssignmentUnits(this,t),"t0",5);case 5:return e.abrupt("return",e.t0);case 6:return e.abrupt("return",void 0!==t?t:this.$.units.getConsistentValue());case 7:case"end":return e.stop()}},e,this)})}]),n}(e);return tT([ZS({type:"number",defaultValue:100})],t.prototype,"units",void 0),tT([TS({bucket:"assigned",resolver:function(e){return this.getEventById(e)},modelFieldConfig:{serialize:function(e){return e.id}}},YS)],t.prototype,"event",void 0),tT([TS({bucket:"assigned",resolver:function(e){return this.getResourceById(e)},modelFieldConfig:{serialize:function(e){return e.id}}},YS)],t.prototype,"resource",void 0),tT([PS("units")],t.prototype,"calculateUnits",null),t},iT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;return rT(uD(lD(nD(CS(e)))))},oT=function(e){X()(n,e);var t=eT(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(iT());function aT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var sT=function(e){X()(n,e);var t=aT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"toString",value:function(){return this.resource.name+" "+this.units+"%"}},{key:"units",get:function(){return Math.max(0,this.get("units"))},set:function(e){if(e<0)throw new Error("`Units` value for an assignment can't be less than 0");this.set("units",e)}},{key:"task",get:function(){return this.event},set:function(e){this.event=e}},{key:"taskName",get:function(){return this.task&&this.task.name||""}},{key:"eventId",get:function(){return this.event.id}},{key:"resourceId",get:function(){return this.resource.id}}],[{key:"fields",get:function(){return[{name:"eventId",persist:!1},{name:"resourceId",persist:!1}]}}]),n}(Pw(iT(Zp)));function uT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}sT._$name="AssignmentModel";var cT=function(e){var t=function(e){X()(n,e);var t=uT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"defaultConfig",get:function(){return{modelClass:oT}}}]),n}(e);return t},lT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra;return cT(oD(lD(SE(e))))},fT=function(e){X()(n,e);var t=uT(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(lT());function dT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var hT=function(e){X()(n,e);var t=dT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"mapAssignmentsForTask",value:function(e,t,n){return this.mapAssignmentsForEvent(e,t,n)}},{key:"getAssignmentsForTask",value:function(e){return this.getAssignmentsForEvent(e)}},{key:"removeAssignmentsForTask",value:function(e){return this.removeAssignmentsForEvent(e)}},{key:"getResourcesForTask",value:function(e){return this.getResourcesForEvent(e)}},{key:"getTasksForResource",value:function(e){return this.getEventsForResource(e)}},{key:"assignTaskToResource",value:function(e,t,n){return this.assignEventToResource(e,t,function(e){return e.units=n,e})}},{key:"unassignTaskFromResource",value:function(e,t){return this.unassignEventFromResource(e,t)}},{key:"isTaskAssignedToResource",value:function(e,t,n){return this.isEventAssignedToResource(e,t,n)}},{key:"getAssignmentForTaskAndResource",value:function(e,t){return this.getAssignmentForEventAndResource(e,t)}}],[{key:"defaultConfig",get:function(){return{modelClass:sT,loadPriority:500,syncPriority:400,storeId:"assignments"}}}]),n}(Pw(lT(Gv)));function pT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}hT._$name="AssignmentStore";var vT=function(e){return function(e){X()(n,e);var t=pT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"defaultConfig",get:function(){return{tree:!0,modelClass:GD}}}]),n}(e)},gT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ra;return vT(oD(lD(SE(e))))},yT=function(e){X()(n,e);var t=pT(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(gT());function mT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var kT=function(e){X()(n,e);var t=mT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"defaultConfig",get:function(){return{tree:!0,modelClass:UD,loadPriority:100,syncPriority:100,storeId:"calendars"}}}]),n}(Pw(gT(Pa)));function bT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}kT._$name="CalendarManagerStore";var wT=function(e){X()(n,e);var t=bT(n);function n(){var e;return E()(this,n),(e=t.apply(this,arguments)).entities=new Map,e}return M()(n,[{key:"hasEntity",value:function(e){return this.entities.has(e)}},{key:"getEntity",value:function(e){return this.entities.get(e)}},{key:"addEntity",value:function(e){var t=e.name;if(!t)throw new Error("Entity must have a name");if(this.hasEntity(t))throw new Error("Entity with name [".concat(String(t),"] already exists"));return e.schema=this,this.entities.set(t,e),e}},{key:"getEntityDecorator",value:function(){var e=this;return function(t){var n=t.name;if(!n)throw new Error("Can't add entity - the target class has no name");var r=ES(t.prototype);if(r.name&&r.name!=n)throw new Error("Invalid state");return r.name=n,e.addEntity(r),t}}}]),n}(Aw);function ST(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var DT=function(e){return function(e){X()(i,e);var t,n,r=ST(i);function i(){var e;return E()(this,i),(e=r.apply(this,arguments)).projectRefreshThreshold=500,e}return M()(i,[{key:"propagate",value:(n=ro()(to.a.mark(function e(t){var n,r,o,a=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],r=this.project,this.isPropagating){e.next=10;break}return r.trigger("propagationStart",{dryRun:!!n}),e.next=6,ce()(Q()(i.prototype),"propagate",this).call(this,t,n);case 6:o=e.sent,r.trigger("propagationComplete",{dryRun:!!n,result:o}),e.next=13;break;case 10:return e.next=12,ce()(Q()(i.prototype),"propagate",this).call(this,t,n);case 12:o=e.sent;case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"commit",value:function(){var e=this.project,t=this.changedAtoms,n=new Set(t.map(function(e){return e.self}));n.forEach(function(e){return e.beginBatch()}),e.trigger("beforeCommit",{records:n,changedAtoms:t}),ce()(Q()(i.prototype),"commit",this).call(this),e.trigger("commit",{records:n,changedAtoms:t});var r=n.size>this.projectRefreshThreshold;n.forEach(function(e){return e.endBatch(r)}),r&&e.trigger("refresh",{records:n})}},{key:"onEffect",value:(t=ro()(to.a.mark(function e(t){var n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.project,!(t instanceof MR)){e.next=9;break}if(!n.hasListener("schedulingconflict")){e.next=6;break}return e.abrupt("return",new Promise(function(e,r){n.trigger("schedulingconflict",{conflict:t,continueWithResolutionResult:e})}));case 6:return e.abrupt("return",Promise.resolve(Fw.Cancel));case 7:e.next=10;break;case 9:return e.abrupt("return",ce()(Q()(i.prototype),"onEffect",this).call(this,t));case 10:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}]),i}(e)};function RT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var CT=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},xT=function(e){var t=function(e){X()(r,e);var t,n=RT(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"construct",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.replica=DT(SS).new({project:this,schema:wT.new()}),t.hasOwnProperty("expanded")||(t.expanded=!0);var n,i=Boolean(t.calendarManagerStore||t.eventStore||t.dependencyStore||t.resourceStore||t.assignmentStore);ce()(Q()(r.prototype),"construct",this).call(this,t),this.eventModelClass||(this.eventModelClass=this.getDefaultEventModelClass()),this.eventStoreClass||(this.eventStoreClass=this.getDefaultEventStoreClass()),this.dependencyModelClass||(this.dependencyModelClass=this.getDefaultDependencyModelClass()),this.dependencyStoreClass||(this.dependencyStoreClass=this.getDefaultDependencyStoreClass()),this.resourceModelClass||(this.resourceModelClass=this.getDefaultResourceModelClass()),this.resourceStoreClass||(this.resourceStoreClass=this.getDefaultResourceStoreClass()),this.assignmentModelClass||(this.assignmentModelClass=this.getDefaultAssignmentModelClass()),this.assignmentStoreClass||(this.assignmentStoreClass=this.getDefaultAssignmentStoreClass()),this.calendarModelClass||(this.calendarModelClass=this.getDefaultCalendarModelClass()),this.calendarManagerStoreClass||(this.calendarManagerStoreClass=this.getDefaultCalendarManagerStoreClass()),this.replica.addEntity(this),this.stm=new mc({disabled:!0}),this.stm.on({restoringStop:(n=ro()(to.a.mark(function t(){return to.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.stm.disable(),t.next=3,e.propagate();case 3:e.stm.enable(),e.trigger("stateRestoringDone");case 5:case"end":return t.stop()}},t)})),function(){return n.apply(this,arguments)})}),this.calendarManagerStore?this.setCalendarManagerStore(this.calendarManagerStore):this.calendarManagerStore=new this.calendarManagerStoreClass({modelClass:this.calendarModelClass,project:this,stm:this.stm}),this.defaultCalendar=new this.calendarManagerStore.modelClass({hoursPerDay:24,daysPerWeek:7,daysPerMonth:30,unspecifiedTimeIsWorking:this.unspecifiedTimeIsWorking}),this.defaultCalendar.project=this,this.eventStore?this.setEventStore(this.eventStore):this.eventStore=new this.eventStoreClass({modelClass:this.eventModelClass,tree:!0,project:this,stm:this.stm}),this.dependencyStore?this.setDependencyStore(this.dependencyStore):this.dependencyStore=new this.dependencyStoreClass({modelClass:this.dependencyModelClass,project:this,stm:this.stm}),this.resourceStore?this.setResourceStore(this.resourceStore):this.resourceStore=new this.resourceStoreClass({modelClass:this.resourceModelClass,project:this,stm:this.stm}),this.assignmentStore?this.setAssignmentStore(this.assignmentStore):this.assignmentStore=new this.assignmentStoreClass({modelClass:this.assignmentModelClass,project:this,stm:this.stm});var o=Boolean(this.calendarsData||this.eventsData||this.dependenciesData||this.resourcesData||this.assignmentsData);o&&(this.loadInlineData({calendarsData:this.calendarsData,eventsData:this.eventsData,dependenciesData:this.dependenciesData,resourcesData:this.resourcesData,assignmentsData:this.assignmentsData}),delete this.calendarsData,delete this.eventsData,delete this.dependenciesData,delete this.resourcesData,delete this.assignmentsData),i&&!o&&this.propagate()}},{key:"getType",value:function(){return Kb.Unknown}},{key:"getDefaultEventModelClass",value:function(){return bE}},{key:"getDefaultEventStoreClass",value:function(){return xE}},{key:"getDefaultDependencyModelClass",value:function(){return hR}},{key:"getDefaultDependencyStoreClass",value:function(){return jE}},{key:"getDefaultResourceModelClass",value:function(){return GE}},{key:"getDefaultResourceStoreClass",value:function(){return ZE}},{key:"getDefaultAssignmentModelClass",value:function(){return oT}},{key:"getDefaultAssignmentStoreClass",value:function(){return fT}},{key:"getDefaultCalendarModelClass",value:function(){return GD}},{key:"getDefaultCalendarManagerStoreClass",value:function(){return yT}},{key:"loadInlineData",value:function(e){return e.calendarsData&&(this.calendarManagerStore.data=e.calendarsData),e.eventsData&&(this.eventStore.data=e.eventsData),e.dependenciesData&&(this.dependencyStore.data=e.dependenciesData),e.resourcesData&&(this.resourceStore.data=e.resourcesData),e.assignmentsData&&(this.assignmentStore.data=e.assignmentsData),this.propagate()}},{key:"getGraph",value:function(){return this.replica}},{key:"getStm",value:function(){return this.stm}},{key:"calculateProject",value:function(){return this}},{key:"calculateCalendar",value:to.a.mark(function e(t){var n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(ce()(Q()(r.prototype),"calculateCalendar",this).call(this,t),"t0",1);case 1:if(n=e.t0){e.next=6;break}return n=this.defaultCalendar,e.next=6,n.$$;case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)})},{key:"joinStoreRecords",value:function(e){var t=this,n=function(e){e.setProject(t),e.joinProject()};e.rootNode?e.rootNode.traverse(n):e.forEach(n)}},{key:"setEventStore",value:function(e){this.eventStore&&this.stm.hasStore(this.eventStore)&&this.stm.removeStore(this.eventStore),this.eventStore=e,e&&(e.setProject(this),this.stm.addStore(e),e.rootNode!==this&&(this.appendChild(e.rootNode.children||[]),e.rootNode=this),this.joinStoreRecords(e))}},{key:"setDependencyStore",value:function(e){this.dependencyStore&&this.stm.hasStore(this.dependencyStore)&&this.stm.removeStore(this.dependencyStore),this.dependencyStore=e,e&&(e.setProject(this),this.stm.addStore(e),this.joinStoreRecords(e))}},{key:"setResourceStore",value:function(e){this.resourceStore&&this.stm.hasStore(this.resourceStore)&&this.stm.removeStore(this.resourceStore),this.resourceStore=e,e&&(e.setProject(this),this.stm.addStore(e),this.joinStoreRecords(e))}},{key:"setAssignmentStore",value:function(e){this.assignmentStore&&this.stm.hasStore(this.assignmentStore)&&this.stm.removeStore(this.assignmentStore),this.assignmentStore=e,e&&(e.setProject(this),this.stm.addStore(e),this.joinStoreRecords(e))}},{key:"setCalendarManagerStore",value:function(e){this.calendarManagerStore&&this.stm.hasStore(this.calendarManagerStore)&&this.stm.removeStore(this.calendarManagerStore),this.calendarManagerStore=e,e&&(e.setProject(this),this.stm.addStore(e),this.joinStoreRecords(e))}},{key:"tryPropagateWithChanges",value:(t=ro()(to.a.mark(function e(t,n){var r,i,o,a,s,u,c;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.stm,a=function(){r.stopTransaction(),i&&r.resetQueue()},s=function(){r.transaction.length?(r.forEachStore(function(e){return e.beginBatch()}),r.rejectTransaction(),r.forEachStore(function(e){return e.endBatch()})):r.stopTransaction()},u=function(){r.disabled=i,r.autoRecord=o},i=r.disabled,o=r.autoRecord,i?r.enable():(o&&(r.autoRecord=!1),r.isRecording&&r.stopTransaction()),r.startTransaction(),this.suspendPropagate(),t(),this.resumePropagate(!1),e.next=12,this.propagate(n||function(e){var t;return e instanceof Hw&&(t=Fw.Cancel),t});case 12:return(c=e.sent)===rS.Canceled?s():a(),u(),e.abrupt("return",c);case 16:case"end":return e.stop()}},e,this)})),function(e,n){return t.apply(this,arguments)})}]),r}(e);return CT([ZS({type:"boolean",defaultValue:!0})],t.prototype,"unspecifiedTimeIsWorking",void 0),CT([ZS({type:"string",defaultValue:Xb.ToEvent})],t.prototype,"dependenciesCalendar",void 0),CT([ZS({type:"boolean",defaultValue:!0})],t.prototype,"autoCalculatePercentDoneForParentTasks",void 0),t},ET=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;return xT(Ox(ax(fx(NR(UC(ER(uD(lD(nD(CS(me(e))))))))))))};function TT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var MT=function(e){var t=function(e){X()(n,e);var t=TT(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(e);return t},PT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;return MT(ET(e))};PT();function AT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var IT=function(e){X()(n,e);var t=AT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=r[0]||{};r[0]=o,"tasksData"in o&&(o.eventsData=o.tasksData,delete o.tasksData),"taskStore"in o&&(o.eventStore=o.taskStore,delete o.taskStore),o.eventModelClass=o.taskModelClass||o.eventModelClass||this.defaultEventModelClass,o.eventStoreClass=o.taskStoreClass||o.eventStoreClass||this.defaultEventStoreClass,o.timeRangeStore||(o.timeRangeStore={modelClass:kv,storeId:"timeRanges"}),(e=ce()(Q()(n.prototype),"construct",this)).call.apply(e,[this].concat(r))}},{key:"defaultEventModelClass",get:function(){return Sx}},{key:"defaultEventStoreClass",get:function(){return TE}},{key:"taskStore",get:function(){return this.getEventStore()}},{key:"timeRangeStore",get:function(){return this._timeRangeStore},set:function(e){this._timeRangeStore=e&&Ra.getStore(e,Ra),e&&!this._timeRangeStore.storeId&&(this._timeRangeStore.storeId="timeRanges")}}],[{key:"defaults",get:function(){return{expanded:!0}}},{key:"defaultConfig",get:function(){return{eventModelClass:null,taskModelClass:Sx,dependencyModelClass:yR,resourceModelClass:UE,assignmentModelClass:sT,calendarModelClass:UD,eventStoreClass:null,taskStoreClass:TE,dependencyStoreClass:NE,resourceStoreClass:QE,assignmentStoreClass:hT,calendarManagerStoreClass:kT,eventsData:null,tasksData:null,dependenciesData:null,resourcesData:null,assignmentsData:null,calendarsData:null,timeRangeStore:null,convertEmptyParentToLeaf:!1}}}]),n}(XD(PT(Yo)));function FT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}IT.applyConfigs=!0,IT._$name="ProProjectModel";var LT=function(e){return function(e){X()(n,e);var t=FT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onBeforeAssignmentRemove",value:function(e){e.doRemoveLastEvent=!1,ce()(Q()(n.prototype),"onBeforeAssignmentRemove",this).call(this,e)}},{key:"project",get:function(){return this._project},set:function(e){Object.assign(this,{_project:e,store:this.resourcesStore,resourceStore:e.getResourceStore(),eventStore:e.getEventStore(),assignmentStore:e.getAssignmentStore(),dependencyStore:e.getDependencyStore(),taskStore:e.getEventStore()})}},{key:"widgetClass",get:function(){}}]),n}(e||U)};function OT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var _T=function(e){return function(e){X()(n,e);var t=OT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getProject",value:function(){if(!ce()(Q()(n.prototype),"getProject",this))throw new Error("Abstract method call!");return ce()(Q()(n.prototype),"getProject",this).call(this)}},{key:"captureStm",value:function(){var e=this,t=e.getProject().getStm();e.stmInitiallyDisabled=t.disabled,e.stmInitiallyAutoRecord=t.autoRecord,e.stmInitiallyDisabled?(t.enable(),t.autoRecord=!1):(e.stmInitiallyAutoRecord&&(t.autoRecord=!1),t.isRecording&&t.stopTransaction())}},{key:"startStmTransaction",value:function(){this.getProject().getStm().startTransaction()}},{key:"commitStmTransaction",value:function(){var e=this.getProject().getStm();e.stopTransaction(),this.stmInitiallyDisabled&&e.resetQueue()}},{key:"rejectStmTransaction",value:function(){var e=this.getProject().getStm(),t=this.client;e.transaction.length?(t.suspendRefresh(),e.forEachStore(function(e){return e.beginBatch()}),e.rejectTransaction(),e.forEachStore(function(e){return e.endBatch()}),t.resumeRefresh(!0)):e.stopTransaction()}},{key:"enableStm",value:function(){this.getProject().getStm().enable()}},{key:"disableStm",value:function(){this.getProject().getStm().disable()}},{key:"freeStm",value:function(){var e=this.getProject().getStm();e.disabled=this.stmInitiallyDisabled,e.autoRecord=this.stmInitiallyAutoRecord}}]),n}(e||U)};function jT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var HT=function(e){X()(n,e);var t=jT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"SchedulerTaskEditor"}},{key:"defaultConfig",get:function(){return{items:[{type:"tabpanel",ref:"tabs",flex:"1 0 100%",layoutConfig:{alignItems:"stretch",alignContent:"stretch"}}],defaultTabs:[{type:"schedulergeneraltab"},{type:"successorstab"},{type:"predecessorstab"},{type:"resourcestab"},{type:"notestab"}]}}}]),n}(Dw);function NT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}HT._$name="SchedulerTaskEditor";var BT=function(e){X()(a,e);var t,n,r,i,o=NT(a);function a(){return E()(this,a),o.apply(this,arguments)}return M()(a,[{key:"construct",value:function(e,t){var n,r=this;e.taskEdit=r,ce()(Q()(a.prototype),"construct",this).call(this,e,It.assign({weekStartDay:e.weekStartDay},t)),r._clientListenersDetacher=e.on((n={},se()(n,r.triggerEvent,r.onActivateEditor),se()(n,"thisObj",r),n))}},{key:"getProject",value:function(){return this.scheduler.project}},{key:"doDestroy",value:function(){this._clientListenersDetacher(),this.detachFromProject(),this.editor&&this.editor.destroy(),ce()(Q()(a.prototype),"doDestroy",this).call(this)}},{key:"onActivateEditor",value:function(e){var t=e.eventRecord,n=e.resourceRecord;this.editEvent(t,n)}},{key:"getElementFromTaskRecord",value:function(e,t){return this.client.getElementFromEventRecord(e,t)}},{key:"editEvent",value:(i=ro()(to.a.mark(function e(t){var n,r,i,o,a,s,u,c,l=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:null,r=l.length>2&&void 0!==l[2]?l[2]:null,(o=(i=this).scheduler).readOnly||i.disabled){e.next=40;break}if(!(a=i.client.partner)||!a.editEvent&&!a.editTask){e.next=9;break}(a.editEvent||a.editTask)(t,n,r),e.next=40;break;case 9:if(s=!r,i._editing=!0,i.captureStm(),i.startStmTransaction(),i.schedulerAutoCommit=o.taskStore.autoCommit,o.taskStore.autoCommit=!1,i.schedulerAutoSync=o.project.autoSync,o.project.autoSync=!1,"function"==typeof t&&(t=t()),!s||!o.taskStore.includes(t)){e.next=21;break}return e.next=21,i.scrollEventIntoView(t,n);case 21:if(u=r||yn.down(i.getElementFromTaskRecord(t,n),o.eventInnerSelector),c=i.getEditor(t),!1===o.trigger("beforeTaskEdit",{taskEdit:i,taskRecord:t,taskElement:u})){e.next=36;break}if(o.element.classList.add("b-taskeditor-editing"),o.trigger("beforeTaskEditShow",{taskEdit:i,taskRecord:t,taskElement:u,editor:c}),i.load(t),i.attachToProject(),!u){e.next=32;break}return e.next=30,c.showBy({target:u,anchor:!0,offset:-5});case 30:e.next=34;break;case 32:return e.next=34,c.showBy({target:o.element,anchor:!1,align:"c-c"});case 34:e.next=40;break;case 36:i.rejectStmTransaction(),i.disableStm(),i.freeStm(),i._editing=!1;case 40:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"getEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.record,t=this,n=e&&e.getProject()||this.getProject(),r=n.getType(),i=t.editorClass||t.editorClassMap[r]||t.editorClassMap[Kb.Unknown]||HT;return t.editor&&t.editor.constructor===i||(t.editor&&t.editor.destroy(),t.editor=new i(It.merge({eventEditFeature:t,weekStartDay:t.weekStartDay,saveAndCloseOnEnter:t.saveAndCloseOnEnter,showDeleteButton:t.showDeleteButton,project:t.getProject(),durationDisplayPrecision:t.client.durationDisplayPrecision,tabsConfig:t.tabsConfig,listeners:{cancel:t.onCancel,delete:t.onDelete,save:t.onSave,requestPropagation:t.onRequestPropagation,thisObj:t}},t.editorConfig))),t.editor}},{key:"load",value:function(e){var t=this.getEditor(e);this._loading=!0,this.record=e,t.loadEvent(e),this._loading=!1}},{key:"save",value:(r=ro()(to.a.mark(function e(){var t,n,r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=this).scheduler,!t._editing){e.next=17;break}if(r=t.getEditor(),t.isValid&&!1!==n.trigger("beforeTaskSave",{taskRecord:t.record,editor:r})){e.next=5;break}return e.abrupt("return");case 5:if(t.detachFromProject(),!(i=t.getProject()).isPropagating()){e.next=10;break}return e.next=10,i.waitForPropagateCompleted();case 10:r.beforeSave(),t.commitStmTransaction(),t.freeStm(),r.hide().then(function(){return r.afterSave()}),t.resumeAutoSync(!0),n.element.classList.remove("b-taskeditor-editing"),t._editing=!1;case 17:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"cancel",value:(n=ro()(to.a.mark(function e(){var t,n,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=this).scheduler,!t._editing){e.next=24;break}if(t._canceling=!0,t.detachFromProject(),r=t.record,!(i=t.getProject()).isPropagating()){e.next=9;break}return e.next=9,i.waitForPropagateCompleted();case 9:return(o=t.getEditor()).beforeCancel(),e.next=13,o.hide();case 13:return t.rejectStmTransaction(),t.disableStm(),e.next=17,i.propagate();case 17:t.freeStm(),o.afterCancel(),t.resumeAutoSync(!1),t.scheduler.element.classList.remove("b-taskeditor-editing"),t._canceling=!1,t._editing=!1,n.trigger("taskEditCanceled",{taskRecord:r,editor:o});case 24:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"delete",value:(t=ro()(to.a.mark(function e(){var t,n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=this).getEditor(),!1!==t.scheduler.trigger("beforeTaskDelete",{taskRecord:t.record,editor:n})){e.next=3;break}return e.abrupt("return");case 3:if(!(r=t.getProject()).isPropagating()){e.next=7;break}return e.next=7,r.waitForPropagateCompleted();case 7:return t.detachFromProject(),n.beforeDelete(),t.record.remove(),t.freeStm(),e.next=13,r.propagate();case 13:t.resumeAutoSync(!0),n.hide(),n.afterDelete(),t.scheduler.element.classList.remove("b-taskeditor-editing"),t._editing=!1;case 18:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"resumeAutoSync",value:function(e){var t=this.scheduler;t.taskStore.autoCommit=this.schedulerAutoCommit,t.taskStore.autoCommit&&e&&t.taskStore.doAutoCommit(),t.project.autoSync=this.schedulerAutoSync,t.project.autoSync&&e&&t.project.sync()}},{key:"onSave",value:function(){var e=this;this.requestAnimationFrame(function(){return e.save()})}},{key:"onCancel",value:function(){var e=this;this.requestAnimationFrame(function(){return e.cancel()})}},{key:"onDelete",value:function(){var e=this;this.requestAnimationFrame(function(){return e.delete()})}},{key:"onRequestPropagation",value:function(){var e=this.getProject();this.requestAnimationFrame(function(){e.isPropagating()||e.propagate()})}},{key:"attachToProject",value:function(){var e=this,t=e.getProject();e.detachFromProject(),e._projectEventDetacher=t.on({loadstart:function(){return e.save()},propagationStart:e.onPropagationStart,propagationComplete:e.onPropagationComplete,thisObj:e,detachable:!0})}},{key:"detachFromProject",value:function(){this._projectEventDetacher&&(this._projectEventDetacher(),this._projectEventDetacher=null)}},{key:"onPropagationStart",value:function(){this.getEditor().mask("Calculatingâ€¦")}},{key:"onPropagationComplete",value:function(e){var t=e.dryRun,n=this;n.getEditor().unmask(),n.isEditing&&!n.getProject().taskStore.includes(n.record)?n.save():t||n._canceling||n.load(n.record)}},{key:"getEventMenuItems",value:function(e){var t=this,n=e.eventRecord,r=e.resourceRecord,i=e.items;this.scheduler.readOnly||(i.editEvent={text:this.L("L{Edit event}"),icon:"b-icon b-icon-edit",weight:-200,disabled:this.disabled,onItem:function(){return t.editEvent(n,r)}})}},{key:"onEnterKey",value:function(e){var t=e.assignmentRecord,n=e.eventRecord;t?this.editEvent(n,t.resource):n&&this.editEvent(n,n.resource)}},{key:"scrollEventIntoView",value:function(e,t){this.client.scrollResourceEventIntoView(t,e)}},{key:"scheduler",get:function(){return this.client}},{key:"isEditing",get:function(){return!!this._editing}},{key:"isValid",get:function(){return this.editor.eachWidget(function(e){return!!(!0===e.isValid||e.hidden||e.disabled||e instanceof Do&&!e.name)||!1!==e.isValid},!0)}}],[{key:"pluginConfig",get:function(){return{chain:["getEventMenuItems","onEnterKey"],assign:["editEvent"]}}},{key:"defaultConfig",get:function(){var e;return{triggerEvent:"eventdblclick",editorClassMap:(e={},se()(e,Kb.Unknown,HT),se()(e,Kb.Gantt,Cw),se()(e,Kb.Scheduler,HT),e),editorClass:null,editorConfig:null,showDeleteButton:!0,saveAndCloseOnEnter:!0,tabsConfig:null,weekStartDay:null}}}]),a}(Uo(To).mixes(yr,_T));BT._$name="ProTaskEdit",Ff.registerFeature(BT,!0,"ProScheduler","EventEdit");var zT=Le.mergeLocales(Am,{SchedulerProCommon:{SS:"SS",SF:"SF",FS:"FS",FF:"FF",dependencyTypesLong:["Start-to-Start","Start-to-End","End-to-Start","End-to-End"]},ConstraintTypePicker:{none:"None",muststarton:"Must start on",mustfinishon:"Must finish on",startnoearlierthan:"Start no earlier than",startnolaterthan:"Start no later than",finishnoearlierthan:"Finish no earlier than",finishnolaterthan:"Finish no later than"},CalendarField:{"Default calendar":"Default calendar"},ProTaskEdit:{"Edit event":"Edit event"},TaskEditorBase:{editorWidth:"45em",Information:"Information",Save:"Save",Cancel:"Cancel",Delete:"Delete",saveError:"Can't save, please correct errors first"},SchedulerGeneralTab:{labelWidth:"11.5em",General:"General",Name:"Name","% complete":"% complete",Duration:"Duration",Start:"Start",Finish:"Finish",Dates:"Dates","Manually scheduled":"Manually scheduled",Calendar:"Calendar"},GeneralTab:{labelWidth:"6.5em",General:"General",Name:"Name","% complete":"% complete",Duration:"Duration",Start:"Start",Finish:"Finish",Effort:"Effort",Dates:"Dates"},AdvancedTab:{labelWidth:"11.5em",Advanced:"Advanced",Calendar:"Calendar","Scheduling mode":"Scheduling mode","Effort driven":"Effort driven","Manually scheduled":"Manually scheduled","Constraint type":"Constraint type","Constraint date":"Constraint date",Constraint:"Constraint",Rollup:"Rollup"},DependencyTab:{Predecessors:"Predecessors",Successors:"Successors",ID:"ID",Name:"Name",Type:"Type",Lag:"Lag","Cyclic dependency has been detected":"Cyclic dependency has been detected","Invalid dependency":"Invalid dependency"},ResourcesTab:{unitsTpl:function(e){var t=e.value;return"".concat(t,"%")},Resources:"Resources",Resource:"Resource",Units:"Units"},NotesTab:{Notes:"Notes"},SchedulingModePicker:{Normal:"Normal","Fixed Duration":"Fixed Duration","Fixed Units":"Fixed Units","Fixed Effort":"Fixed Effort"},DurationColumn:{Duration:"Duration"}}),VT=zT;function WT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}_e.registerLocale("En",{desc:"English",locale:zT});var $T=function(e){X()(r,e);var t,n=WT(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"construct",value:function(e){var t=Boolean(e.calendars||e.taskStore||e.dependencyStore||e.resourceStore||e.assignmentStore),n=Boolean(e.calendars||e.tasks||e.dependencies||e.resources||e.assignments),i=e.project;if(i&&(t||n))throw new Error("Providing both project and inline data is not supported");i||(i=e.project=new IT({calendarsData:e.calendars,eventsData:e.tasks,dependenciesData:e.dependencies,resourcesData:e.resources,assignmentsData:e.assignments,resourceStore:e.resourceStore,eventStore:e.taskStore,assignmentStore:e.assignmentStore,dependencyStore:e.dependencyStore,timeRangeStore:e.timeRangeStore}),delete e.resourceStore,delete e.taskStore,delete e.assignmentStore,delete e.dependencyStore,delete e.timeRangeStore,delete e.calendars,delete e.resources,delete e.tasks,delete e.assignments,delete e.dependencies),e.crudManager=i,i.on({refresh:this.onProjectRefresh,load:this.onProjectLoad,thisObj:this}),ce()(Q()(r.prototype),"construct",this).call(this,e)}},{key:"onProjectRefresh",value:function(){this.refreshRows();var e=this.features.dependencies;e&&this.dependencies.forEach(function(t){return e.addToGridCache(t)})}},{key:"onProjectLoad",value:function(){!("startDate"in this.initialConfig)&&this.project.startDate&&(this.startDate=this.project.startDate)}},{key:"getProjectForDataAPI",value:function(){return this.project}},{key:"removeRecords",value:(t=ro()(to.a.mark(function e(t){var n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=this).readOnly||!t.length){e.next=11;break}if(!(t[0]instanceof Sx)){e.next=7;break}return e.next=5,n.dataApi.removeEvents(t);case 5:e.next=11;break;case 7:return r=t.map(function(e){return e.resource}),e.next=10,n.dataApi.removeAssignments(t,n.removeUnassignedEvent);case 10:r.forEach(function(e){return n.repaintEventsForResource(e)});case 11:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"toggleEmptyText",value:function(){this.bodyContainer&&yn.toggleClasses(this.bodyContainer,"b-grid-empty",!(this.rowManager.rowCount||this.project.isCrudManagerLoading))}}],[{key:"$name",get:function(){return"ProScheduler"}},{key:"type",get:function(){return"schedulerpro"}},{key:"defaultConfig",get:function(){return{project:null,durationDisplayPrecision:1,calendars:null,resources:null,tasks:null,dependencies:null,assignments:null,features:{dependencies:!0,eventEdit:!0}}}}]),r}(oR(LT(Up(Yk))));function GT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}$T._$name="ProScheduler",ke.register($T.type,$T),H.setVersion($T.type,H.getVersion("scheduler"));var YT=function(e){X()(n,e);var t=GT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"isEditable",value:function(e){switch(e){case"name":case"startDate":case"readOnly":case"duration":case"durationUnit":case"description":case"allowDependencies":return ce()(Q()(n.prototype),"isEditable",this).call(this,e);case"endDate":return this.isManuallyScheduled&&ce()(Q()(n.prototype),"isEditable",this).call(this,e);default:return!1}}},{key:"indent",value:function(){}},{key:"outdent",value:function(){}},{key:"isSubProject",get:function(){return!0}}],[{key:"defaultConfig",get:function(){return{recognizedSchedulingModes:["Normal"],convertEmptyParentToLeaf:!1}}},{key:"fields",get:function(){return[{name:"description",dataSource:"note",type:"string"},{name:"allowDependencies",type:"boolean",defaultValue:!1,persist:!1}]}}]),n}(Sx);function UT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}YT._$name="ProSubProjectModel";var qT=function(e){X()(n,e);var t=UT(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(Sx);function XT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}qT._$name="ProTaskSegmentModel";var KT=function(e){X()(n,e);var t=XT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"headerRenderer",value:function(e){var t=e.column,n=e.headerElement;if(!e.isExport){var r=t.columnCombo;r.render(n),r.picker.forElement=n}}},{key:"onKeyDown",value:function(e){"Enter"===e.key&&this.columnCombo.focus()}},{key:"updateLocalization",value:function(){this._columnCombo&&(this._columnCombo.destroy(),this._columnCombo=null),ce()(Q()(n.prototype),"updateLocalization",this).call(this)}},{key:"columnCombo",get:function(){var e=this,t=e.grid.columns;return e._columnCombo||(e._columnCombo=new Ja({owner:e.grid,cls:"b-new-column-combo",placeholder:e.L("L{New Column}"),triggers:!1,autoExpand:!0,store:e.ganttColumnStore,displayField:"text",monitorResize:!1,picker:{align:"t0-b0",minWidth:200,onItem:function(n){var r=new n.record.value({region:e.region},t);t.insert(t.indexOf(e),r),r.element.focus()}},syncInputFieldValue:function(){this.input.value=""},listeners:{keydown:function(e){e.event.stopImmediatePropagation()}}}))}},{key:"ganttColumnStore",get:function(){var e=this;return new Ra({data:Object.values(Zl.columnTypes).reduce(function(e,t){return t.propertiesExposedForData||t.exposeProperties({}),t.isGanttColumn&&t.text&&e.push({id:t.type,text:t.L(t.text),value:t}),e},[]),filters:[function(t){return!e.grid.columns.some(function(e){return e.constructor===t.value})}],sorters:[{field:"text"}]})}}],[{key:"type",get:function(){return"addnew"}},{key:"defaults",get:function(){return{text:"L{New Column}",cls:"b-new-column-column",draggable:!1,sortable:!1,exportable:!1,field:null,editor:null}}}]),n}(Ul);function ZT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(KT),KT._$name="AddNewColumn";var JT=function(e){X()(n,e);var t=ZT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"refreshCalendars",value:function(e){this.store.data=e.map(function(e){return{id:e.id,text:e.name}})}},{key:"store",get:function(){return this._store||(this.store=new Ra),this._store},set:function(e){di()(Q()(n.prototype),"store",e,this,!0)}},{key:"value",get:function(){return ce()(Q()(n.prototype),"value",this)},set:function(e){e&&(e.isDefault&&e.isDefault()?e=null:e.id&&(e=e.id)),di()(Q()(n.prototype),"value",e,this,!0)}}],[{key:"$name",get:function(){return"CalendarPicker"}},{key:"type",get:function(){return"calendarpicker"}}]),n}(Ja);function QT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}JT._$name="CalendarPicker",ke.register(JT.type,JT);var eM=function(e){X()(n,e);var t=QT(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"afterConstruct",value:function(){var e=this;ce()(Q()(n.prototype),"afterConstruct",this).call(this);var t=e.grid.project;e.defaultCalendar=t.defaultCalendar,e.refreshCalendars(),t.calendarManagerStore.on({change:e.refreshCalendars,refresh:e.refreshCalendars,thisObj:e})}},{key:"refreshCalendars",value:function(){var e=this.grid.project;this.editor.refreshCalendars(e.calendarManagerStore.getRange())}},{key:"renderer",value:function(e){var t=e.value;if(t===this.defaultCalendar)return"";if(t&&t.id){var n=this.editor.store.getById(t.id);return n&&n[this.editor.displayField]||""}return""}}],[{key:"type",get:function(){return"calendar"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{field:"calendar",text:"L{Calendar}",editor:{type:JT.type,clearable:!0,allowInvalid:!1}}}}]),n}(Ul);function tM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(eM),eM._$name="CalendarColumn";var nM=function(e){X()(n,e);var t=tM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;r.gantt=t.grid,ce()(Q()(n.prototype),"construct",this).call(this,e,t),r.format?r.explicitFormat=!0:r.gantt.on({displayDateFormatChange:function(e){var t=e.format;r.explicitFormat||r.set("format",t)}})}},{key:"format",set:function(e){this.explicitFormat=!0,this.set("format",e)},get:function(){return this.explicitFormat&&this.data.format||this.gantt.displayDateFormat}}],[{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{instantUpdate:!0,width:130,step:null,format:"ll"}}}]),n}(cf);function rM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}nM._$name="GanttDateColumn";var iM=function(e){X()(n,e);var t=rM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"type",get:function(){return"constraintdate"}},{key:"defaults",get:function(){return{field:"constraintDate",text:"L{Constraint Date}",width:146}}}]),n}(nM);Zl.registerColumnType(iM),iM._$name="ConstraintDateColumn";function oM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var aM=function(e){X()(n,e);var t=oM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"afterConstruct",value:function(){var e=this;ce()(Q()(n.prototype),"afterConstruct",this).call(this),e.grid.on({startCellEdit:e.onStartCellEdit,finishCellEdit:e.onDoneCellEdit,cancelCellEdit:e.onDoneCellEdit,thisObj:e}),Yn.createSequence(e.editor.updateLocalization,e.onEditorLocaleChange,e)}},{key:"onStartCellEdit",value:function(e){var t=e.editorContext,n=t.editor,r=t.record;n.inputField instanceof vw&&(n.inputField.store.filter(function(e){return r.run("isConstraintTypeApplicable",e.id)}),this._filterDetacher=function(){return n.inputField.store.clearFilters()})}},{key:"onDoneCellEdit",value:function(){this._filterDetacher&&this._filterDetacher()}},{key:"renderer",value:function(e){var t=e.value,n=null!=t&&"none"!==t&&this.editor.store.getById(t);return n&&n.text||""}},{key:"onEditorLocaleChange",value:function(){this.grid.refreshColumn(this)}}],[{key:"type",get:function(){return"constrainttype"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{field:"constraintType",text:"L{Constraint Type}",width:146,editor:{type:vw.type,clearable:!0,allowInvalid:!1}}}}]),n}(Ul);function sM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(aM),aM._$name="ConstraintTypeColumn";var uM=function(e){X()(n,e);var t=sM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"type",get:function(){return"deadlinedate"}},{key:"defaults",get:function(){return{field:"deadlineDate",text:"L{Deadline}",width:146}}}]),n}(nM);function cM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(uM),uM._$name="DeadlineDateColumn";var lM=function(e){X()(n,e);var t=cM(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(nw);function fM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}lM._$name="DurationColumn";var dM=function(e){X()(n,e);var t=fM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"canEdit",value:function(e){return!1}}],[{key:"type",get:function(){return"earlyenddate"}},{key:"defaults",get:function(){return{field:"earlyEndDate",text:"L{Early End}"}}}]),n}(nM);function hM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(dM),dM._$name="EarlyEndDateColumn";var pM=function(e){X()(n,e);var t=hM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"canEdit",value:function(e){return!1}}],[{key:"type",get:function(){return"earlystartdate"}},{key:"defaults",get:function(){return{field:"earlyStartDate",text:"L{Early Start}"}}}]),n}(nM);Zl.registerColumnType(pM),pM._$name="EarlyStartDateColumn";function vM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var gM=function(e){X()(n,e);var t=vM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"canEdit",value:function(e){return e.isLeaf}},{key:"defaultEditor",get:function(){return{type:_b.type,name:this.field}}}],[{key:"type",get:function(){return"effort"}},{key:"defaults",get:function(){return{field:"fullEffort",text:"L{Effort}"}}}]),n}(lM);function yM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(gM),gM._$name="EffortColumn";var mM=function(e){X()(n,e);var t=yM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"type",get:function(){return"rollup"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{field:"rollup",text:"L{Rollup}"}}}]),n}(sf);function kM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(mM),mM._$name="RollupColumn";var bM=function(e){X()(n,e);var t=kM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"type",get:function(){return"showintimeline"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{field:"showInTimeline",text:"L{Show in timeline}"}}}]),n}(sf);function wM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(bM),bM._$name="ShowInTimelineColumn";var SM=function(e){X()(n,e);var t=wM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"canEdit",value:function(e){return e.isLeaf}},{key:"defaultEditor",get:function(){var e=ce()(Q()(n.prototype),"defaultEditor",this);return e.type="enddate",e}},{key:"editor",get:function(){var e=this.data.editor,t=e&&!(e instanceof Jr);return(e=ce()(Q()(n.prototype),"editor",this))&&t&&(e.project=this.gantt.project),e}}],[{key:"type",get:function(){return"enddate"}},{key:"defaults",get:function(){return{field:"endDate",text:"L{Finish}"}}}]),n}(nM);function DM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(SM),SM._$name="EndDateColumn";var RM=function(e){X()(n,e);var t=DM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"canEdit",value:function(e){return!1}}],[{key:"type",get:function(){return"lateenddate"}},{key:"defaults",get:function(){return{field:"lateEndDate",text:"L{Late End}"}}}]),n}(nM);function CM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(RM),RM._$name="LateEndDateColumn";var xM=function(e){X()(n,e);var t=CM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"canEdit",value:function(e){return!1}}],[{key:"type",get:function(){return"latestartdate"}},{key:"defaults",get:function(){return{field:"lateStartDate",text:"L{Late Start}"}}}]),n}(nM);function EM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(xM),xM._$name="LateStartDateColumn";var TM=function(e){X()(n,e);var t=EM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"type",get:function(){return"manuallyscheduled"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{field:"manuallyScheduled",text:"L{Manually scheduled}"}}}]),n}(sf);function MM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(TM),TM._$name="ManuallyScheduledColumn";var PM=function(e){X()(n,e);var t=MM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"type",get:function(){return"milestone"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{field:"milestone",text:"L{Milestone}"}}}]),n}(sf);function AM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(PM),PM._$name="MilestoneColumn";var IM=function(e){X()(n,e);var t=AM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"type",get:function(){return"name"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{htmlEncode:!1,width:200,field:"name",text:"L{Name}"}}}]),n}(xf);function FM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(IM),IM._$name="NameColumn";var LM=function(e){X()(n,e);var t=FM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"renderer",value:function(e){return(e.value||"").trim()}},{key:"disableHtmlEncode",get:function(){return!0}}],[{key:"type",get:function(){return"note"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{field:"note",text:"L{Note}",width:150,editor:{type:"textareafield",inline:!1}}}}]),n}(Ul);function OM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(LM),LM._$name="NoteColumn";var _M=function(e){X()(n,e);var t=OM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){ce()(Q()(n.prototype),"construct",this).apply(this,arguments),this.showCircle&&(this.htmlEncode=!1)}},{key:"defaultRenderer",value:function(e){var t=e.record.renderedPercentDone;if(this.showCircle){var n=.8*this.grid.rowHeight;return{className:"b-percentdone-circle",style:{animationDelay:"-".concat(t-.1,"s"),width:n,height:n},dataset:{value:t}}}return t+this.unit}},{key:"canEdit",value:function(e){return e.isLeaf}}],[{key:"type",get:function(){return"percentdone"}},{key:"isGanttColumn",get:function(){return!0}},{key:"fields",get:function(){return["showCircle"]}},{key:"defaults",get:function(){return{field:"percentDone",text:"L{% Done}",unit:"%",step:1,min:0,max:100,width:90}}}]),n}(hf);function jM(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return HM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HM(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function HM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(_M),_M._$name="PercentDoneColumn";var BM={from:[2,3,0,1],to:[1,0,3,2]},zM=function(){return new RegExp("(".concat(VM.join("|"),")?((?:[+-])\\d+[a-z]*)?"),"i")},VM=["SS","SF","FS","FF"],WM=zM(),$M=function(e){X()(n,e);var t=NM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=this,r=(e.ourSide,e.otherSide);t.dependencies=new Lr({extraKeys:r}),t.startCollection=new Lr({extraKeys:r}),ce()(Q()(n.prototype),"construct",this).call(this,e),t.delimiterRegEx=new RegExp("\\s*".concat(t.delimiter,"\\s*")),_e.on({locale:function(){VM=We().L("L{GanttCommon.dependencyTypes}"),WM=zM(),t.syncInputFieldValue()},thisObj:t})}},{key:"internalOnInput",value:function(){this.isValid?(this.clearError(),Fa.prototype.internalOnInput.call(this)):this.setError("Invalid dependency format")}},{key:"onInternalKeyDown",value:function(e){var t=e.key;"Enter"!==t&&ce()(Q()(n.prototype),"onInternalKeyDown",this)&&ce()(Q()(n.prototype),"onInternalKeyDown",this).call(this,e),this.pickerVisible&&"ArrowDown"===t&&this.filterField.focus()}},{key:"onTriggerClick",value:function(){this.pickerVisible?ce()(Q()(n.prototype),"onTriggerClick",this).call(this):this.doFilter(this.filterInput?this.filterInput.value:null)}},{key:"createPicker",value:function(){var e=this,t=e.input,n=e.filterField=new Fa({cls:"b-dependency-list-filter",owner:e,clearable:!0,placeholder:"Filter",triggers:{filter:{cls:"b-icon b-icon-filter",align:"start"}},listeners:{input:function(n){var i=n.value;e.input=r,e.filterList(i),e.input=t},clear:function(){e.input=r,e.filterList(),e.input=t}}}),r=e.filterInput=n.input,i=new Ga({owner:e,floating:!0,scrollAction:"realign",itemsFocusable:!1,activateOnMouseover:!0,store:e.store,cls:e.listCls,itemTpl:e.listItemTpl,forElement:e[e.pickerAlignElement],align:{align:"t0-b0",axisLock:!0,anchor:e.overlayAnchor,target:e[e.pickerAlignElement]},navigator:{keyEventTarget:r,processEvent:function(t){if("Escape"!==t.key)return t;e.hidePicker()}},onItem:e.onPredecesssorClick,maxHeight:324,minHeight:161,scrollable:{overflowY:!0},autoShow:!1,focusOnHover:!1,getItemClasses:function(t){var n=Ga.prototype.getItemClasses.call(this,t),r=e.dependencies.getBy(e.otherSide+"Event",t);return n+(r?" b-selected b-".concat(r.getConnectorString(1).toLowerCase()):"")}});return n.render(i.contentElement),i}},{key:"showPicker",value:function(e){this.store.fillFromMaster(),ce()(Q()(n.prototype),"showPicker",this).call(this,e)}},{key:"onPickerShow",value:function(e){var t=e.source,r=this,i=r.filterField,o=r.input;t.minWidth=r[r.pickerAlignElement].offsetWidth,t.contentElement.insertBefore(i.element,t.contentElement.firstChild),r.input=r.filterInput,ce()(Q()(n.prototype),"onPickerShow",this).call(this),r.input=o}},{key:"listItemTpl",value:function(e){return'<div class="b-predecessor-item-text">'.concat(e.name,'</div>\n            <div class="b-sch-box b-from" data-side="from"></div>\n            <div class="b-sch-box b-to" data-side="to"></div>')}},{key:"onPredecesssorClick",value:function(e){var t,n=e.source,r=e.item,i=e.record,o=(e.index,e.event),a=this.owner,s=a.dependencies,u=o.target.closest(".b-sch-box"),c=u&&u.dataset.side,l=s.getBy(a.otherSide+"Event",i);(r.dataset.noselect=!0,l&&!u)?s.remove(l):l?((l=l.copy(l.id)).type=BM[c][l.type],s.add(l)):s.add(a.dependencyStore.createRecord((t={},se()(t,"".concat(a.otherSide,"Event"),i),se()(t,"".concat(a.ourSide,"Event"),a.owner.record),t),!0));a.syncInputFieldValue(),n.refresh()}},{key:"syncInputFieldValue",value:function(){this.input.value=this.constructor.predecessorsToString(this.dependencies.values,this.otherSide,this.delimiter)}},{key:"parseDependencies",value:function(e){for(var t=this,n=t.grid,r=t.owner.record,i=t.store,o=t.dependencyStore,a=e.split(t.delimiterRegEx),s=o.modelClass,u=[],c=0;c<a.length;c++){var l=a[c];if(l){for(var f,d=l.length+1,h=void 0,p=null;d&&!p;d--)h=l.substr(0,d),p=i.getById(h);if(!p)return null;var v=l.substr(d+1),g=(f={},se()(f,"".concat(t.otherSide,"Event"),p),se()(f,"".concat(t.ourSide,"Event"),r),se()(f,"type",s.Type.EndToStart),f);if(v.length){var y=WM.exec(v);if(!y||!y[1]&&!y[2])return null;if(y[1]&&(g.type=VM.indexOf(y[1].toUpperCase())),y[2]){var m=xt.parseDuration(y[2],!0,n.timeAxis.unit);g.lag=m.magnitude,g.lagUnit=m.unit}}u.push(g)}}return u}},{key:"store",set:function(e){var t=this;(e=e.makeChained(function(e){return!t.owner||!t.owner.record||e.id!==t.owner.record.id})).tree=!1,di()(Q()(n.prototype),"store",e,this,!0)},get:function(){return ce()(Q()(n.prototype),"store",this)}},{key:"isValid",get:function(){return Boolean(!this.owner||this.parseDependencies(this.input.value))}},{key:"value",set:function(e){var t=this,n=t.dependencies,r=t.startCollection;if("string"==typeof e){if(t.input.value=e,!(e=t.parseDependencies(e)))return void t.updateInvalid();for(var i=0;i<e.length;i++){var o=new t.dependencyStore.modelClass(e[i]),a=r.getBy(t.otherSide,o.fromEvent);a&&((a=a.copy(a.id)).type=o.type,a.fullLag=o.fullLag),e[i]=a||o}}else t.startCollection.clear(),t.startCollection.values=e;n.clear(),n.values=e,t.inputting||t.syncInputFieldValue()},get:function(){return this.dependencies.values}}],[{key:"predecessorsToString",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:";",r=[];if(e&&e.length){var i,o=jM(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=a[t+"Event"],u=s?s.id:s||"";r.push("".concat(u).concat(a.getConnectorString()).concat(a.getLag()))}}catch(e){o.e(e)}finally{o.f()}}return r.join(n)}},{key:"$name",get:function(){return"DependencyField"}},{key:"defaultConfig",get:function(){return{listCls:"b-predecessor-list",valueField:"name",displayField:"name",delimiter:";",otherSide:null,ourSide:null}}}]),n}(Ja);function GM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}$M._$name="DependencyField",ke.register("dependencyfield",$M);var YM=function(e){return!e.project},UM=function(e){return e},qM=function(){var e=ro()(to.a.mark(function e(t,n,r){var i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.shift())){e.next=9;break}return e.t0=r,e.next=5,n.isValidDependency({fromEvent:i.fromEvent,toEvent:i.toEvent,lag:i.lag,lagUnit:i.lagUnit,type:i.type});case 5:return e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=9,qM(t,n,r);case 9:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),XM=function(e){X()(r,e);var t,n=GM(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"afterConstruct",value:function(){ce()(Q()(r.prototype),"afterConstruct",this).call(this)}},{key:"finalizeCellEdit",value:(t=ro()(to.a.mark(function e(t){var n,r,i,o,a,s,u,c,l,f,d;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.grid,r=t.record,i=t.inputField,o=t.value,a=t.oldValue,s=t.editorContext,!r||!o){e.next=9;break}return o=o.slice(),u=s.editor.dataField,c=o.filter(YM),l=[],e.next=6,qM(c,n.dependencyStore,l);case 6:return(f=l.every(UM))?(d="set".concat(_.capitalizeFirstLetter(u)),r[d]?r[d](o):r[u]=o):(i.value=a,Ce.toast(s.column.L("L{Invalid dependency found, change is reverted}"))),e.abrupt("return",f);case 9:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})},{key:"defaultEditor",get:function(){var e=this,t="predecessors"===e.field;return{type:"dependencyfield",grid:e.grid,name:e.field,delimiter:e.delimiter,ourSide:t?"to":"from",otherSide:t?"from":"to",store:e.grid.eventStore||e.grid.taskStore,dependencyStore:e.grid.features.dependencies.store}}}],[{key:"type",get:function(){return"dependency"}},{key:"fields",get:function(){return[{name:"delimiter",defaultValue:";"}]}},{key:"defaults",get:function(){return{htmlEncode:!1,width:120,renderer:function(e){var t=e.record;return $M.predecessorsToString(t[this.field],"predecessors"===this.field?"from":"to",this.delimiter)}}}}]),r}(yr(Ul));function KM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(XM),XM._$name="DependencyColumn";var ZM=function(e){X()(n,e);var t=KM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"type",get:function(){return"predecessor"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{text:"L{Predecessors}",field:"predecessors"}}}]),n}(XM);function JM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(ZM),ZM._$name="PredecessorColumn";var QM=function(e){X()(n,e);var t=JM(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"name",get:function(){return this.resource?this.resource.name:""}},{key:"assigned",get:function(){return this.event&&this.firstStore.projectEvent===this.event},set:function(e){var t=this;e?t.assigned||t.set({event:t.firstStore.projectEvent,units:t.units||100}):t.set({event:null,units:0})}}],[{key:"fields",get:function(){return[{name:"assignment",type:"object"},{name:"resource",type:"object"},{name:"event",type:"object"},{name:"units",type:"number",defaultValue:0}]}}]),n}(Yo);QM._$name="AssignmentsManipulationModel";var eP=Sl.defineParser,tP=Sl.alt,nP=Sl.seq,rP=Sl.string,iP=Sl.regexp,oP=Sl.succeed,aP=Sl.red,sP=Sl.isSuccess,uP=eP(aP(iP("[^\\[\\,]+"),function(e){return{name:e.trim(),units:100,match:e}})),cP=eP(aP(iP("[0-9\\s]+"),function(e){return{value:e.split(/\s*/).join(""),match:e}})),lP=eP(aP(tP(rP("."),rP(",")),function(e){return{value:e,match:e}})),fP=eP(tP(aP(nP(function(){return cP},function(){return lP},function(){return cP}),function(e,t,n){return{value:Number("".concat(e.value,".").concat(n.value)),match:[e.match,t.match,n.match].join("")}}),aP(nP(function(){return lP},function(){return cP}),function(e,t){return{value:Number("0.".concat(t.value)),match:[e.match,t.match].join("")}}),aP(function(){return cP},function(e){return{value:Number("".concat(e.value)),match:e.match}}))),dP=eP(tP(aP(nP(function(){return fP},iP("\\s*\\%")),function(e,t){return{value:e.value,match:[e.match,t].join("")}}),aP(function(){return fP},function(e){return{value:e.value,match:e.match}}))),hP=eP(aP(nP(iP("\\s*\\[\\s*"),function(){return dP},iP("\\s*\\]")),function(e,t,n){return{units:t.value,match:[e,t.match,n].join("")}})),pP=eP(aP(iP("\\s*,\\s*"),function(e){return{value:e,match:e}})),vP=eP(tP(nP(function(){return uP},function(){return hP},tP(nP(function(){return pP},function(){return vP}),oP(""))),nP(function(){return uP},tP(nP(function(){return pP},function(){return vP}),oP(""))))),gP=function(e){var t=!1,n=[],r="";vP(e,function(e){if(sP(e)){var i=re()(e,3),o=i[1],a=i[2];o.length>n.length&&(n=o,r=a,t=!0)}});var i=0;return!!t&&{rest:r,assignments:n.reduce(function(e,t){var n;return"object"==oe()(t)&&(t.hasOwnProperty("name")?(n=Object.assign({position:i},t),e.push(n)):(n=e[e.length-1],t.hasOwnProperty("units")&&(n.units=t.units),n.match+=t.match),i+=t.match.length),e},[])}},yP=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="";return e.assignments&&(n+=e.assignments.reduce(function(e,n){var r=n.name,i=n.units,o=n.match;return e+=o&&t?o:(e.length?", ":"")+"".concat(r," [").concat(i,"%]")},n)),e.rest&&(n+=e.rest),t||(n=n.trim()),n},mP={parse:gP,compose:yP,normalize:function(e){return yP(gP(e))}};function kP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var bP=mP.compose,wP=function(e){X()(r,e);var t,n=kP(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"afterConfigure",value:function(){ce()(Q()(r.prototype),"afterConfigure",this).call(this),this.addSorter({fn:this.defaultSort.bind(this)})}},{key:"fillFromMaster",value:function(){this.projectEvent&&(this.data=this.resourceStore.map(function(e){return{resource:e}}))}},{key:"applyChanges",value:(t=ro()(to.a.mark(function e(){var t,n,r,i,o,a,s,u,c;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=this).projectEvent,r=t.assignmentStore,i=[],o=t.query(function(e){return e.event&&e.units},!0),a=t.originalAssignmentManipulationRecords.filter(function(e){return!o.includes(e)}),!o.length&&!a.length){e.next=16;break}return u=n.project.replica,c=u.projectRefreshThreshold,o.forEach(function(e){var t=e.assignment;t?t.$.units.put(e.units):i.push({resource:e.resource,event:e.event,units:e.units})}),t.commit(),r.remove(a.map(function(e){return e.assignment})),r.add(i),u.projectRefreshThreshold=0,e.next=10,n.propagate();case 10:s=e.sent,u.projectRefreshThreshold=c,r.trigger("refresh",{action:"dataset"}),s===rS.Completed&&(t.floatAssignedResources&&t.sort(),t.trigger("changesApplied")),e.next=17;break;case 16:s=rS.Complete;case 17:return e.abrupt("return",s);case 18:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"getResourceAssignment",value:function(e){return this.storage.getBy("resource",e)}},{key:"toValueString",value:function(){var e=this.activeAssignments;return bP({rest:"",assignments:e})}},{key:"defaultSort",value:function(e,t){return this.floatAssignedResources?!t.event&&e.event?-1:!e.event&&t.event?1:e.name.localeCompare(t.name):e.name.localeCompare(t.name)}},{key:"onUpdate",value:function(e){var t=e.changes;this.isConfiguring||Object.hasOwnProperty.call(t,"event")&&this.floatAssignedResources&&this.liveFloatAssignedResources&&this.sort()}},{key:"projectEvent",get:function(){return this._projectEvent},set:function(e){var t=this;if(e!=t._projectEvent||e&&e.generation!==t._projectEventGeneration)if(t._projectEvent=e,t._projectEventGeneration=e.generation,e){t.fillFromMaster();var n=e.assignments,r=[];n.forEach(function(n){var i=t.find(function(e){return e.resource===n.resource});i&&(i.set({assignment:n,event:e,units:n.units||0}),r.push(i))}),t.originalAssignmentManipulationRecords=r,t.acceptChanges(),t.sort()}else t.removeAll()}},{key:"floatAssignedResources",get:function(){return this._floatAssignedResources},set:function(e){e!==this.floatAssignedResources&&(this._floatAssignedResources=e,this.sort())}},{key:"assignmentStore",get:function(){return this.projectEvent&&this.projectEvent.getAssignmentStore()||null}},{key:"resourceStore",get:function(){return this.projectEvent&&this.projectEvent.getResourceStore()||null}},{key:"activeAssignments",get:function(){var e=this.projectEvent;return this.query(function(t){return t.event===e})}}],[{key:"defaultConfig",get:function(){return{modelClass:QM,storeId:"assignmentsmanipulation",storage:{extraKeys:["resource"]},callOnFunctions:!0,projectEvent:null,floatAssignedResources:!0,liveFloatAssignedResources:!1}}}]),r}(Ra);function SP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}wP._$name="AssignmentsManipulationStore";var DP=function(e){X()(n,e);var t=SP(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){ce()(Q()(n.prototype),"construct",this).apply(this,arguments),this.on("selectionchange",function(e){var t=e.selected,n=e.deselected;t.forEach(function(e){return e.assigned=!0}),n.forEach(function(e){return e.assigned=!1})})}},{key:"projectEvent",get:function(){var e=this.store,t=this._projectEvent;return e&&t!==e.projectEvent&&(t=this._projectEvent=e.projectEvent),t},set:function(e){this._projectEvent=e,this.store.projectEvent=e,this.selectedRecords=this.store.originalAssignmentManipulationRecords}},{key:"store",get:function(){return ce()(Q()(n.prototype),"store",this)},set:function(e){this.store!==e&&(e instanceof wP||(e=new wP(Object.assign({projectEvent:this._projectEvent},e))),di()(Q()(n.prototype),"store",e,this,!0))}}],[{key:"$name",get:function(){return"AssignmentGrid"}},{key:"type",get:function(){return"assignmentgrid"}},{key:"defaultConfig",get:function(){var e=this;return{selectionMode:{rowCheckboxSelection:!0,multiSelect:!0,showCheckAll:!0},columns:[{cls:"b-assignmentgrid-resource-column",field:"resourceId",flex:1,editor:null,renderer:function(e){return e.record.name},filterable:{filterField:{placeholder:this.L("L{Name}"),triggers:{filter:{align:"start",cls:"b-icon b-icon-filter"}}},filterFn:function(e){var t=e.value;return-1!==e.record.name.toLowerCase().indexOf(t.toLowerCase())}},sortable:function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}},{field:"units",type:hf.type,text:this.L("L{Units}"),width:70,min:0,max:100,step:10,unit:"%",renderer:function(t){var n=t.value;return e.L("L{unitsTpl}",{value:n})},filterable:!1}],features:{group:!1,filterBar:!0,contextMenu:!1},disableGridRowModelWarning:!0,projectEvent:null}}}]),n}(Ap);function RP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}DP._$name="AssignmentGrid",ke.register(DP.type,DP);var CP=function(e){X()(n,e);var t=RP(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"afterConfigure",value:function(){var e=this;ce()(Q()(n.prototype),"afterConfigure",this).call(this),e.bbar.widgetMap.saveBtn.on("click",e.onSaveClick,e),e.bbar.widgetMap.cancelBtn.on("click",e.onCancelClick,e)}},{key:"createWidget",value:function(e){if(e&&"grid"===e.ref){var t=ke.getClass(e.type).defaultConfig,r=this.grid;r&&(r.columns&&(e.columns=[].concat(te()(t.columns),te()(r.columns)),delete(r=Object.assign({},r)).columns),It.merge(e,r)),e.projectEvent=this.projectEvent,e.store=this.store,e.selectedRecordCollection=this.assignments}return ce()(Q()(n.prototype),"createWidget",this).call(this,e)}},{key:"onSaveClick",value:function(){this.store.applyChanges(),this.hide()}},{key:"onCancelClick",value:function(){this.hide()}},{key:"focusElement",get:function(){return this.element.querySelector("input[type=text]")}},{key:"grid",get:function(){return this.isConfiguring?this._grid:this.widgetMap.grid},set:function(e){this._grid=e}},{key:"projectEvent",get:function(){return this._projectEvent},set:function(e){this._projectEvent=e,this.grid&&(this.grid.projectEvent=e)}}],[{key:"$name",get:function(){return"AssignmentPicker"}},{key:"type",get:function(){return"assignmentpicker"}},{key:"defaultConfig",get:function(){return{grid:null,focusable:!0,trapFocus:!0,height:"20em",minWidth:"25em",items:[{ref:"grid",type:DP.type}],bbar:[{type:"button",text:this.L("L{Object.Save}"),localeClass:this,ref:"saveBtn",color:"b-green"},{type:"button",text:this.L("L{Object.Cancel}"),localeClass:this,ref:"cancelBtn",color:"b-gray"}],projectEvent:null,store:null}}}]),n}(_i);function xP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}CP._$name="AssignmentPicker",ke.register(CP.type,CP);var EP=function(e){X()(n,e);var t=xP(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onChipClose",value:function(e){var t=this;this.showPicker(),e.forEach(function(e){return t.picker.grid.deselectRow(e)})}},{key:"syncInputFieldValue",value:function(){ce()(Q()(n.prototype),"syncInputFieldValue",this).call(this),this.store&&(this.tooltip=this.store.toValueString())}},{key:"onTriggerClick",value:function(e){this.pickerVisible?this.hidePicker():Oa.prototype.showPicker.call(this,e&&"key"in e)}},{key:"focusPicker",value:function(){this.picker.focus()}},{key:"createPicker",value:function(e){var t=this;return Ce.createWidget(Object.assign({type:CP.type,projectEvent:t.projectEvent,store:t.store,readOnly:t.readOnly,owner:t,forElement:t[t.pickerAlignElement],floating:!0,scrollAction:"realign",assignments:t.valueCollection,align:{align:"t0-b0",axisLock:!0,anchor:t.overlayAnchor,target:t[t.pickerAlignElement]}},e))}},{key:"onPickerKeyDown",value:function(e){var t=this.picker.grid;"ArrowDown"===e.key&&e.target.compareDocumentPosition(t.bodyContainer)===document.DOCUMENT_POSITION_FOLLOWING&&t.element.focus()}},{key:"projectEvent",get:function(){return this._projectEvent},set:function(e){this._projectEvent=e,this._projectEventGeneration=e.generation,this.store.projectEvent=this.picker.projectEvent=e}},{key:"store",get:function(){return this._store||(this.store={}),this._store},set:function(e){var t=this;e!==t._store&&(e instanceof wP?(t._store=e,t.projectEvent=e.projectEvent):e&&(t._store=new wP(e),t._store.projectEvent=t.projectEvent))}},{key:"value",get:function(){},set:function(e){}}],[{key:"$name",get:function(){return"AssignmentField"}},{key:"type",get:function(){return"assignmentfield"}},{key:"defaultConfig",get:function(){return{chipView:{cls:"b-assignment-chipview",itemTpl:function(e,t){return"".concat(e.name," ").concat(e.units,"%")},scrollable:{overflowX:"hidden-scroll"}},triggers:{expand:{cls:"b-icon-down",handler:"onTriggerClick"}},multiSelect:!0,clearable:!1,editable:!1,value:null,pickerWidth:null,projectEvent:null,store:null}}}]),n}(Ja);function TP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}EP._$name="AssignmentField",ke.register(EP.type,EP);var MP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA3CAYAAABQOymxAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABCJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOkNvbXByZXNzaW9uPjU8L3RpZmY6Q29tcHJlc3Npb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjYwPC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj41NTwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxkYzpzdWJqZWN0PgogICAgICAgICAgICA8cmRmOkJhZy8+CiAgICAgICAgIDwvZGM6c3ViamVjdD4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMDMtMTBUMTE6MDM6NTc8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPlBpeGVsbWF0b3IgMy43PC94bXA6Q3JlYXRvclRvb2w+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpEgCIGAAADbUlEQVRoBe2aW08TQRTH/yVchVCg3Kyl1EAEg6VBjdpoor74ZUz8Nn4UIyHGy4NGLtEHoiLhBQpUkWAIt8itnkMt3SVud2b3DL0xSdPZnTNzzm8uZ87ubCCTyTwD8JR+1+hXyWme4J4HCPg7ZSodNjeQ8wycyV1Vw39NNUBaGWutF6bzh6Rg5XdeC8+t+nog3JK/ZzpnHDi9A0xNAUdH7ijt7cDjW+5yfiSMruHxD8Durr550Shw25AbNQL8hxhfvNIHtdZooWn+5J71jkzeiNMaf+PfuO1tYJo3TOEkDvx1WW29qnCkUsCBiqCGjDjw3JyGdgXRt5MKQhoiosA/PDgoN1u3ttwk9MpFgWdm9JSrSv/cU5V0lxMF3t93V+hFYpn8glQSBZYy6mw7ktF+WQCf7QA/1xfAfnovEPBT27lurWDEXxYjHAo5d4ZuSVkAR4K6WM7yZQHsbL5+yQWwfp/la5hyWpIv3URHOCi41vLdCEgaKdkWhoetZpZmXhT4crM8ZEODbJuiwGxaT4+sgfG4bHviwPcFDawh66JtJQ7M5tXVyRg5OCjTjrUV8RHmxmMxqwrv+Rv0ulY6GQGO92dPFPwY293tp7ZzXSPArK6vz1mpWwkHMA9G3aS8lRsDTlwFvD7W9fZ6g1GpZQyYlScSKibYZbiTkiP2e5JXRoH76XAsEtEzN5nUk9eVNgrMxjRrRl9twpHV2Q4xcpjGSn7RidrSErC+DuzQkalq6uwE+CGEt7YgOS/pJArMZ8Hz9OkIH4TxO2o/r1c5yuI4urUVGKPo7ZIQuW/ghTUgnc6OpB9ANx7uAN6bh4aAkI9IzjNwahNYXATWCPg8E3tx3rYGBryBawMz6MICsEn/x8fniWrXxeC81u+OAY32ooJXysB8MPh5Njt1Vb7XKKhVsJDXeVcXcEfx5YMrMB/cfSFHxOv0QPp0WhC8kYaZ9/zRWOFGCwJ/oqm7upr1uIWbKZ3SpiZ6hqanrBGHWP6/wLPkjHhEeXsp18TrOxwGrl+xE9iAD6ns3XTWIdnFyveKj2kekmPLJRvwy/fAnuBpe05Jsf87OoBHN7NWnMbSEx8rE5YxNzaA1/8+xzgZ4clv9A3kSrHHwbx+js9PRrgaYLk7OTI8ndLm+7f4GjjWrypg7vIL4OJPPLMWVN0I/wWcn9aXj4AzhgAAAABJRU5ErkJggg==",PP=function(e){X()(n,e);var t=TP(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(){var e=this;if(ce()(Q()(n.prototype),"construct",this).apply(this,arguments),e.showAvatars){if(ur.on({element:e.grid.element,error:e.onError,thisObj:e,capture:!0}),Object.assign(e,{repaintOnResize:!0,htmlEncode:!1,autoSyncHtml:!0}),!e.grid.resourceImageFolderPath)throw new Error("Must provide a resourceImageFolderPath where resource images are located");e.renderer=e.rendererWithAvatars}e.grid.on({startCellEdit:e.onStartCellEdit,finishCellEdit:e.onDoneCellEdit,cancelCellEdit:e.onDoneCellEdit,thisObj:e}),e.grid.resourceStore.on({name:"resourceStore",update:e.onResourceUpdate,thisObj:e})}},{key:"onStartCellEdit",value:function(e){var t=e.editorContext,n=t.record,r=this;t.column===r&&(r.editor.projectEvent=n,this.detachListeners("editorStore"),r.editor.store.on({name:"editorStore",changesApplied:r.onEditorChangesApplied,thisObj:r}))}},{key:"onDoneCellEdit",value:function(){this.detachListeners("editorStore")}},{key:"onEditorChangesApplied",value:function(){var e=this,t=e.grid.getCell({id:e.editor.projectEvent.id,columnId:e.id});t&&e.renderer({value:e.editor.projectEvent.assignments,cellElement:t})}},{key:"onResourceUpdate",value:function(){this.grid.refreshColumn(this)}},{key:"itemTpl",value:function(e,t){return"".concat(e.resourceName," ").concat(e.units,"%")}},{key:"renderer",value:function(e){var t=e.cellElement,n=e.value;if(e.isExport)return n;var r=this.chipView;r.store.storage.replaceValues({values:n.filter(function(e){return e.resource}).sort(function(e,t){return e.resourceName.localeCompare(t.resourceName)}),silent:!0}),r.refresh();var i=r.element.cloneNode(!0);i.removeAttribute("id"),t.innerHTML='<div class="b-assignment-chipview-wrap"></div>',t.firstElementChild.appendChild(i)}},{key:"rendererWithAvatars",value:function(e){var t=e.value;if(e.isExport)return t;var n=this,r=Math.floor((n.width-n.sideMargin)/(n.imageSize+2)),i=t.length>r?t.length-r:0;return'<div class="b-resource-avatar-container">'+Array.from(t).map(function(e,t){var o=e.resource;if(o&&t<r){var a=i>0&&t===r-1,s=n.renderImage({resource:o,assignment:e,overflowCount:a?i:0});return a?'<div class="b-overflow-img">'.concat(s,'<span class="b-overflow-count">+').concat(i,"</span></div>"):s}}).join("")+"</div>"}},{key:"renderImage",value:function(e){var t=e.resource,n=e.assignment,r=e.overflowCount,i="".concat(t.name," ").concat(n.units,"%").concat(r?" (+".concat(r," ").concat(this.L("L{more resources}"),")"):"");return'<img data-btip-scroll-action="realign" data-btip="'.concat(i,'" class="b-resource-avatar" src="').concat(t.image?this.grid.resourceImageFolderPath+t.image:this.defaultAvatar,'">')}},{key:"onError",value:function(e){var t=e.target;t.classList.contains("b-resource-avatar")&&(t.getAttribute("src").endsWith(this.defaultAvatar)?t.src=MP:t.src=this.defaultAvatar)}},{key:"defaultEditor",get:function(){return{type:EP.type}}},{key:"chipView",get:function(){return this._chipView||(this._chipView=new qa({cls:"b-assignment-chipview",itemsFocusable:!1,closable:!1,itemTpl:this.itemTpl,store:{},scrollable:{overflowX:"hidden-scroll"}}),Object.defineProperty(this.chipView,"isVisible",{get:function(){return!0}})),this._chipView}},{key:"defaultAvatar",get:function(){return this.grid.defaultResourceImageName?this.grid.resourceImageFolderPath+this.grid.defaultResourceImageName:MP}}],[{key:"type",get:function(){return"resourceassignment"}},{key:"isGanttColumn",get:function(){return!0}},{key:"fields",get:function(){return["showAvatars","sideMargin","imageSize"]}},{key:"defaults",get:function(){return{field:"assignments",instantUpdate:!1,text:"L{Assigned Resources}",width:250,cellCls:"b-resourceassignment-cell",showAvatars:!1,imageSize:30,sideMargin:20}}}]),n}(Ul);Zl.registerColumnType(PP),PP._$name="ResourceAssignmentColumn";function AP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var IP=function(e){X()(n,e);var t=AP(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"afterConstruct",value:function(){ce()(Q()(n.prototype),"afterConstruct",this).call(this),Yn.createSequence(this.editor.updateLocalization,this.onEditorLocaleChange,this)}},{key:"renderer",value:function(e){var t=e.value,n=this.editor.store.getById(t);return n&&n.text||""}},{key:"onEditorLocaleChange",value:function(){this.grid.refreshColumn(this)}}],[{key:"type",get:function(){return"schedulingmodecolumn"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{field:"schedulingMode",text:"L{Scheduling Mode}",editor:{type:yw.type,allowInvalid:!1,picker:{minWidth:"8.5em"}}}}}]),n}(Ul);function FP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(IP),IP._$name="SchedulingModeColumn";var LP=function(e){X()(n,e);var t=FP(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"type",get:function(){return"sequence"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{field:"sequenceNumber",text:"L{Sequence}",sortable:!1,groupable:!1,filterable:!1,width:70,editor:null}}}]),n}(Ul);function OP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(LP),LP._$name="SequenceColumn";var _P=function(e){X()(n,e);var t=OP(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"defaultEditor",get:function(){var e=ce()(Q()(n.prototype),"defaultEditor",this);return e.type="startdate",e}},{key:"editor",get:function(){var e=this.data.editor,t=e&&!(e instanceof Jr);return(e=ce()(Q()(n.prototype),"editor",this))&&t&&(e.project=this.gantt.project),e}}],[{key:"type",get:function(){return"startdate"}},{key:"defaults",get:function(){return{field:"startDate",text:"L{Start}"}}}]),n}(nM);function jP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(_P),_P._$name="StartDateColumn";var HP=function(e){X()(n,e);var t=jP(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"type",get:function(){return"successor"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{text:"L{Successors}",field:"successors"}}}]),n}(XM);function NP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(HP),HP._$name="SuccessorColumn";var BP=function(e){X()(n,e);var t=NP(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"canEdit",value:function(e){return!1}},{key:"durationUnitField",get:function(){return"slackUnit"}}],[{key:"type",get:function(){return"totalslack"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{field:"totalSlack",text:"L{Total Slack}"}}}]),n}(lM);function zP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(BP),BP._$name="TotalSlackColumn";var VP=function(e){X()(n,e);var t=zP(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"type",get:function(){return"wbs"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{field:"wbsCode",text:"L{WBS}",width:70,editor:null}}}]),n}(Ul);Zl.registerColumnType(VP),VP._$name="WBSColumn";var WP={AddNewColumn:KT,CalendarColumn:eM,ConstraintDateColumn:iM,ConstraintTypeColumn:aM,DeadlineDateColumn:uM,DurationColumn:lM,EarlyEndDateColumn:dM,EarlyStartDateColumn:pM,EffortColumn:gM,EndDateColumn:SM,LateEndDateColumn:RM,LateStartDateColumn:xM,ManuallyScheduledColumn:TM,MilestoneColumn:PM,NameColumn:IM,NoteColumn:LM,PercentDoneColumn:_M,PredecessorColumn:ZM,ResourceAssignmentColumn:PP,RollupColumn:mM,SchedulingModeColumn:IP,SequenceColumn:LP,ShowInTimelineColumn:bM,StartDateColumn:_P,SuccessorColumn:HP,TotalSlackColumn:BP,WBSColumn:VP};function $P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var GP=function(e){X()(n,e);var t=$P(n);function n(e,r){var i;return E()(this,n),(i=t.apply(this,arguments)).internalCellCls="b-eventmode-cell",i}return M()(n,null,[{key:"type",get:function(){return"eventmode"}},{key:"isGanttColumn",get:function(){return!0}},{key:"defaults",get:function(){return{field:"manuallyScheduled",align:"left",text:"L{Event mode}"}}}]),M()(n,[{key:"renderer",value:function(e){var t=e.value,r=e.cellElement,i=(e.column,e.isExport);if(ce()(Q()(n.prototype),"renderer",this).apply(this,arguments),i)return this.renderText(t);r.widget&&(r.widget.text=this.renderText(t))}},{key:"onCheckboxChange",value:function(e){var t=e.source,r=e.checked;ce()(Q()(n.prototype),"onCheckboxChange",this).apply(this,arguments),t.text=this.renderText(r)}},{key:"renderText",value:function(e){return e?this.L("L{Manual}"):this.L("L{Auto}")}}]),n}(sf);function YP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}Zl.registerColumnType(GP),GP._$name="EventModeColumn";var UP=function(e){X()(n,e);var t=YP(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(sT);function qP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}UP._$name="AssignmentModel";var XP=function(e){X()(n,e);var t=qP(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"defaultConfig",get:function(){return{modelClass:UP}}}]),n}(hT);function KP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}XP._$name="AssignmentStore";var ZP=function(e){X()(n,e);var t=KP(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(yR);function JP(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ZP._$name="DependencyModel";var QP=function(e){X()(n,e);var t=JP(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"defaultConfig",get:function(){return{modelClass:ZP}}}]),n}(NE);function eA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}QP._$name="DependencyStore";var tA=function(e){X()(n,e);var t=eA(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(UE);function nA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}tA._$name="ResourceModel";var rA=function(e){X()(n,e);var t=nA(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"defaultConfig",get:function(){return{modelClass:tA}}}]),n}(QE);rA._$name="ResourceStore";function iA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var oA=function(e){X()(o,e);var t,n,r,i=iA(o);function o(){return E()(this,o),i.apply(this,arguments)}return M()(o,[{key:"setMilestone",value:(r=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t?this.convertToMilestone():this.convertToRegular());case 1:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"convertToMilestone",value:(n=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.setDuration(0,this.durationUnit,!1));case 1:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"convertToRegular",value:(t=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.milestone){e.next=2;break}return e.abrupt("return",this.setDuration(1,this.durationUnit,!1));case 2:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"isBaseline",get:function(){return!0}},{key:"milestone",get:function(){if(!this.isLeaf){var e=this.startDate,t=this.endDate;if(e&&t)return t.getTime()===e.getTime()}return 0===this.duration},set:function(e){e?this.convertToMilestone():this.convertToRegular()}}],[{key:"fields",get:function(){return[{name:"task",persist:!1}]}}]),o}(kv);function aA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}oA._$name="Baseline";var sA=function(e,t){var n=e.startDate,r=e.durationUnit,i=e.endDate;return t?t.map(function(t){return Object.assign({task:e,startDate:n,durationUnit:r,endDate:i},t)}):[]},uA=function(e){X()(a,e);var t,n,r,i,o=aA(a);function a(){return E()(this,a),o.apply(this,arguments)}return M()(a,[{key:"setBaseline",value:function(e){if(e>this.baselines.count+1)throw new Error("Attempt to set baseline ".concat(e," when there are only ").concat(this.baselines.count," baselines"));if(e===this.baselines.count+1)return this.baselines.add(sA(this,[{}]));this.baselines.getAt(e-1).set(sA(this,[{}])[0])}},{key:"setMilestone",value:(i=ro()(to.a.mark(function e(t){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t?this.convertToMilestone():this.convertToRegular());case 1:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"convertToMilestone",value:(r=ro()(to.a.mark(function e(){return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.setDuration(0,this.durationUnit,!1));case 1:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"convertToRegular",value:(n=ro()(to.a.mark(function e(){var t;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this).milestone){e.next=3;break}return e.abrupt("return",t.setDuration(1,t.durationUnit,!1));case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"normalize",value:function(){}},{key:"inSetNormalize",value:function(e){}},{key:"setStartEndDate",value:function(){throw new Error("Not supported")}},{key:"tryInsertChild",value:(t=ro()(to.a.mark(function e(){var t,n=arguments,r=this;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getProject().tryPropagateWithChanges(function(){r.insertChild.apply(r,te()(n))});case 2:return t=e.sent,e.abrupt("return",t!==rS.Canceled);case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"copy",value:function(){var e=ce()(Q()(a.prototype),"copy",this).apply(this,arguments);return e.percentDone=0,e}},{key:"isTask",get:function(){return!0}},{key:"hasBaselines",get:function(){return this.baselinesStore&&this.baselinesStore.count||Boolean(this.originalData.baselines)}},{key:"baselines",get:function(){return this.baselinesStore||(this.baselinesStore=new Ra({modelClass:this.constructor.getDefaultConfiguration().baselineModelClass,data:sA(this,this.originalData.baselines)})),this.baselinesStore}},{key:"successors",get:function(){return Array.from(this.outgoingDeps)},set:function(e){this.setOutgoingDeps(e)}},{key:"predecessors",get:function(){return Array.from(this.incomingDeps)},set:function(e){this.setIncomingDeps(e)}},{key:"renderedPercentDone",get:function(){var e="number"!=typeof this.percentDone||isNaN(this.percentDone)?0:this.percentDone;return e<=99?Math.round(e):Math.floor(e)},set:function(e){this.percentDone=e}},{key:"isDraggable",get:function(){return this.draggable}},{key:"isResizable",get:function(){return this.resizable&&!this.milestone&&!this.isParent}},{key:"isStarted",get:function(){return this.percentDone>0}},{key:"isCompleted",get:function(){return this.percentDone>=100}},{key:"isInProgress",get:function(){return this.isStarted&&!this.isCompleted}},{key:"milestone",get:function(){if(!this.isLeaf){var e=this.startDate,t=this.endDate;if(e&&t)return t.getTime()===e.getTime()}return 0===this.duration},set:function(e){e?this.convertToMilestone():this.convertToRegular()}},{key:"isMilestone",get:function(){return this.milestone}},{key:"allDependencies",get:function(){return[].concat(te()(this.predecessors||[]),te()(this.successors||[]))}},{key:"predecessorTasks",get:function(){return this.predecessors.map(function(e){return e.fromEvent})}},{key:"successorTasks",get:function(){return this.successors.map(function(e){return e.toEvent})}},{key:"previousSiblingsTotalCount",get:function(){for(var e=this.previousSibling,t=this.parentIndex;e;)t+=e.descendantCount,e=e.previousSibling;return t}},{key:"sequenceNumber",get:function(){for(var e=0,t=this;t.parent;)e+=t.previousSiblingsTotalCount+1,t=t.parent;return e}},{key:"isSubProject",get:function(){return!1}},{key:"subProject",get:function(){var e=null;return this.isProject?e=this:this.bubbleWhile(function(t){return t.isProject&&(e=t),!e}),e}},{key:"fullEffort",get:function(){return new Bs({unit:this.effortUnit,magnitude:this.effort})},set:function(e){this.setEffort(e.magnitude,e.unit)}}],[{key:"fields",get:function(){return[{name:"cls",serialize:function(e){return e.isDomClassList?e.toString():e},persist:!0},{name:"fullEffort",persist:!1},{name:"baselines"},{name:"note",type:"string"},{name:"percentDone",type:"number",defaultValue:0},{name:"parentId",serialize:function(e,t){var n=t.getEventStore(),r=t.getProject();return n&&n.getById(e)===r&&(e=null),e}},{name:"children",persist:!1},{name:"showInTimeline",type:"boolean"},{name:"rollup",type:"boolean"},{name:"deadlineDate",type:"date"},{name:"parentIndex",type:"int",persist:!0},"iconCls","taskIconCls",{name:"draggable",type:"boolean",persist:!1,defaultValue:!0},{name:"resizable",persist:!1,defaultValue:!0}]}},{key:"defaultConfig",get:function(){return{baselineModelClass:oA}}}]),a}(Pw(kE(kv)));function cA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}uA.convertEmptyParentToLeaf=!0,uA._$name="TaskModel";var lA=function(e){X()(n,e);var t=cA(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(kD);function fA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}lA._$name="CalendarIntervalModel";var dA=function(e){X()(n,e);var t=fA(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"defaultConfig",get:function(){return{calendarIntervalModelClass:lA}}}]),n}(UD);function hA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}dA._$name="CalendarModel";var pA=function(e){X()(n,e);var t=hA(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"defaultConfig",get:function(){return{modelClass:dA}}}]),n}(kT);pA._$name="CalendarManagerStore";var vA=XD;function gA(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return yA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yA(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function yA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var kA=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":oe()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},bA=function(e){var t=function(e){X()(n,e);var t=mA(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"calculateCriticalPaths",value:to.a.mark(function e(){var t,n,r,i,o,a,s,u,c,l,f,d,h,p,v,g,y,m;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],e.next=4,this.$.childEvents;case 4:return r=e.sent,i=te()(r),e.next=8,this.$.endDate;case 8:o=e.sent;case 9:if(!(a=i.shift())){e.next=20;break}return e.next=12,a.$.childEvents;case 12:return s=e.sent,e.next=15,a.$.critical;case 15:u=e.sent,a.endDate-o==0&&u&&n.push([{event:a}]),i.push.apply(i,te()(s)),e.next=9;break;case 20:if(!(c=n.shift())){e.next=59;break}l=c.length-1,f=void 0;case 22:if(!(f=c[l])){e.next=56;break}return d=[],e.t0=gA,e.next=27,f.event.$.incomingDeps;case 27:e.t1=e.sent,h=(0,e.t0)(e.t1),e.prev=29,h.s();case 31:if((p=h.n()).done){e.next=45;break}return v=p.value,e.next=35,v.$.fromEvent;case 35:if(g=e.sent,e.t2=g,!e.t2){e.next=41;break}return e.next=40,g.$.critical;case 40:e.t2=e.sent;case 41:e.t2&&d.push({event:g,dependency:v});case 43:e.next=31;break;case 45:e.next=50;break;case 47:e.prev=47,e.t3=e.catch(29),h.e(e.t3);case 50:return e.prev=50,h.f(),e.finish(50);case 53:if(d.length){for(y=c.slice(),c.push(d[0]),m=1;m<d.length;m++)n.push(y.concat(d[m]));l++}else l=-1;e.next=22;break;case 56:t.push(c.reverse()),e.next=20;break;case 59:return e.abrupt("return",t);case 60:case"end":return e.stop()}},e,this,[[29,47,50,53]])})}]),n}(e);return kA([MS()],t.prototype,"criticalPaths",void 0),kA([PS("criticalPaths")],t.prototype,"calculateCriticalPaths",null),t};function wA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var SA=function(e){var t=function(e){X()(n,e);var t=wA(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getType",value:function(){return Kb.Gantt}},{key:"getDefaultEventModelClass",value:function(){return bE}},{key:"calculateStartDate",value:to.a.mark(function e(){var t,n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.direction;case 2:if((t=e.sent)!==Zb.Forward){e.next=12;break}if(n=this.$.startDate.proposedValue,e.t0=n||this.$.startDate.getConsistentValue(),e.t0){e.next=9;break}return e.delegateYield(this.unsafeCalculateInitialMinChildrenStartDateDeep(),"t1",8);case 8:e.t0=e.t1;case 9:return e.abrupt("return",e.t0);case 12:if(t!==Zb.Backward){e.next=15;break}return e.delegateYield(this.calculateMinChildrenStartDate(),"t2",14);case 14:return e.abrupt("return",e.t2);case 15:case"end":return e.stop()}},e,this)})},{key:"calculateEndDate",value:to.a.mark(function e(){var t,n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.direction;case 2:if((t=e.sent)!==Zb.Forward){e.next=8;break}return e.delegateYield(this.calculateMaxChildrenEndDate(),"t0",5);case 5:return e.abrupt("return",e.t0);case 8:if(t!==Zb.Backward){e.next=15;break}if(n=this.$.endDate.proposedValue,e.t1=n||this.$.endDate.getConsistentValue(),e.t1){e.next=14;break}return e.delegateYield(this.unsafeCalculateInitialMaxChildrenEndDateDeep(),"t2",13);case 13:e.t1=e.t2;case 14:return e.abrupt("return",e.t1);case 15:case"end":return e.stop()}},e,this)})},{key:"calculateEarlyStartDateConstraintIntervals",value:to.a.mark(function e(){var t,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(ce()(Q()(n.prototype),"calculateEarlyStartDateConstraintIntervals",this).call(this),"t0",1);case 1:return t=e.t0,e.next=4,this.$.direction;case 4:if((r=e.sent)!==Zb.Forward){e.next=12;break}return e.next=8,this.$.startDate;case 8:(i=e.sent)&&t.push(AR.new({startDate:i})),e.next=17;break;case 12:if(r!==Zb.Backward){e.next=17;break}return e.next=15,this.$.lateStartDate;case 15:(o=e.sent)&&t.push(AR.new({startDate:o}));case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}},e,this)})},{key:"calculateLateEndDateConstraintIntervals",value:to.a.mark(function e(){var t,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(ce()(Q()(n.prototype),"calculateLateEndDateConstraintIntervals",this).call(this),"t0",1);case 1:return t=e.t0,e.next=4,this.$.direction;case 4:if((r=e.sent)!==Zb.Forward){e.next=12;break}return e.next=8,this.$.earlyEndDate;case 8:(i=e.sent)&&t.push(AR.new({endDate:i})),e.next=17;break;case 12:if(r!==Zb.Backward){e.next=17;break}return e.next=15,this.$.endDate;case 15:(o=e.sent)&&t.push(AR.new({endDate:o}));case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}},e,this)})},{key:"unsafeCalculateInitialMinChildrenStartDateDeep",value:to.a.mark(function e(){var t,n,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:if((t=e.sent).size){e.next=5;break}return e.abrupt("return",this.startDate);case 5:n=SD,i=te()(t);case 7:if(!(r=i.shift())){e.next=20;break}return(o=r.startDate)&&o<n&&(n=o),e.t0=i.push,e.t1=i,e.t2=te.a,e.next=15,r.$.childEvents;case 15:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4),e.next=7;break;case 20:return e.abrupt("return",n.getTime()!==wD.getTime()&&n.getTime()!==SD.getTime()?n:null);case 21:case"end":return e.stop()}},e,this)})},{key:"unsafeCalculateInitialMaxChildrenEndDateDeep",value:to.a.mark(function e(){var t,n,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$.childEvents;case 2:if((t=e.sent).size){e.next=5;break}return e.abrupt("return",this.endDate);case 5:n=wD,i=te()(t);case 7:if(!(r=i.shift())){e.next=20;break}return(o=r.endDate)&&o>n&&(n=o),e.t0=i.push,e.t1=i,e.t2=te.a,e.next=15,r.$.childEvents;case 15:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4),e.next=7;break;case 20:return e.abrupt("return",n.getTime()!==wD.getTime()&&n.getTime()!==SD.getTime()?n:null);case 21:case"end":return e.stop()}},e,this)})}]),n}(e);return t},DA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yo;return SA(bA(Ex(ET(e))))},RA=function(e){X()(n,e);var t=wA(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"defaultConfig",get:function(){return{assignmentsData:null,calendarsData:null,dependenciesData:null,eventsData:null,resourcesData:null}}}]),n}(DA());function CA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}RA.applyConfigs=!0;var xA=function(e){X()(r,e);var t,n=CA(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"construct",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=n[0]||{};n[0]=o,"tasksData"in o&&(o.eventsData=o.tasksData,delete o.tasksData),"taskStore"in o&&(o.eventStore=o.taskStore,delete o.taskStore),o.eventModelClass=o.taskModelClass||o.eventModelClass||this.defaultEventModelClass,o.eventStoreClass=o.taskStoreClass||o.eventStoreClass||this.defaultEventStoreClass,o.timeRangeStore||(o.timeRangeStore={modelClass:kv,storeId:"timeRanges"}),(e=ce()(Q()(r.prototype),"construct",this)).call.apply(e,[this].concat(n))}},{key:"tryInsertChild",value:(t=ro()(to.a.mark(function e(){var t,n=arguments,r=this;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tryPropagateWithChanges(function(){r.insertChild.apply(r,te()(n))});case 2:return t=e.sent,e.abrupt("return",t!==rS.Canceled);case 4:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"defaultEventModelClass",get:function(){return uA}},{key:"defaultEventStoreClass",get:function(){return AA}},{key:"taskStore",get:function(){return this.getEventStore()}},{key:"timeRangeStore",get:function(){return this._timeRangeStore},set:function(e){this._timeRangeStore=Ra.getStore(e,Ra),this._timeRangeStore.storeId||(this._timeRangeStore.storeId="timeRanges")}}],[{key:"defaults",get:function(){return{expanded:!0}}},{key:"defaultConfig",get:function(){return{eventModelClass:uA,taskModelClass:uA,dependencyModelClass:ZP,resourceModelClass:tA,assignmentModelClass:UP,calendarModelClass:dA,eventStoreClass:AA,taskStoreClass:AA,dependencyStoreClass:QP,resourceStoreClass:rA,assignmentStoreClass:XP,calendarManagerStoreClass:pA,tasksData:null,eventsData:null,dependenciesData:null,resourcesData:null,assignmentsData:null,calendarsData:null,timeRangeStore:null,convertEmptyParentToLeaf:!1}}}]),r}(vA(DA(Yo)));function EA(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return TA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TA(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function TA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}xA.applyConfigs=!0,xA._$name="ProjectModel";var PA=function(e){return e.replace(/(\d+)/g,function(e){return+e+1e5})},AA=function(e){X()(i,e);var t,n,r=MA(i);function i(){return E()(this,i),r.apply(this,arguments)}return M()(i,[{key:"setBaseline",value:function(e){var t=this.storage.values;this.forEach(function(t){return t.setBaseline(e)}),this.trigger("refresh",{action:"batch",records:t,data:t})}},{key:"indent",value:(n=ro()(to.a.mark(function e(t){var n,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=this).taskStore,i=n.project,o=!1,!(t=(t=(t=Array.isArray(t)?t.slice():[t]).filter(function(e){return!(e instanceof xA)&&!1!==i.trigger("beforeIndent",{task:e})})).filter(function(e){var n;for(n=Boolean(e.previousSibling);n&&!e.isRoot;)n=!t.includes(e.parent),e=e.parent;return n})).length){e.next=13;break}return t.sort(function(e,t){var n=PA(e.wbsCode),r=PA(t.wbsCode);return n<r?-1:n>r?1:0}),r.beginBatch(),e.next=10,i.tryPropagateWithChanges(function(){var e,r=EA(t);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=i.previousSibling;o.appendChild(i),n.toggleCollapse(o,!1)}}catch(e){r.e(e)}finally{r.f()}});case 10:o=e.sent,r.endBatch(),o&&(n.trigger("indent",{records:t}),n.trigger("change",{action:"indent",records:t}));case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"outdent",value:(t=ro()(to.a.mark(function e(t){var n,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=this).taskStore,i=n.project,o=!1,!(t=(t=(t=Array.isArray(t)?t.slice():[t]).filter(function(e){return!(e instanceof xA)&&!1!==i.trigger("beforeOutdent",{task:e})})).filter(function(e){var n;for(n=e.parent&&!e.parent.isRoot;n&&!e.isRoot;)n=!t.includes(e.parent),e=e.parent;return n})).length){e.next=13;break}return t.sort(function(e,t){var n=PA(e.wbsCode),r=PA(t.wbsCode);return n<r?1:n>r?-1:0}),r.beginBatch(),e.next=10,i.tryPropagateWithChanges(function(){var e,r=EA(t);try{for(r.s();!(e=r.n()).done;){var i=e.value,o=i.parent.children.slice(i.parent.children.indexOf(i)+1);i.parent.parent.insertChild(i,i.parent.nextSibling),i.appendChild(o),n.toggleCollapse(i,!1)}}catch(e){r.e(e)}finally{r.f()}});case 10:o=e.sent,r.endBatch(),o&&(n.trigger("outdent",{records:t}),n.trigger("change",{action:"outdent",records:t}));case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}],[{key:"defaultConfig",get:function(){return{modelClass:uA}}}]),i}(TE);function IA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}AA._$name="TaskStore";var FA=function(e){X()(n,e);var t=IA(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;r.tipId="".concat(e.id,"-baselines-tip"),r.gantt=e,ce()(Q()(n.prototype),"construct",this).call(this,e,t),r.ganttDetatcher=e.on({taskDrag:"onTaskDrag",afterTaskDrop:"onAfterTaskDrop",thisObj:r}),r.storeDetacher=e.taskStore.on({update:{fn:"onStoreUpdateRecord",thisObj:r,prio:1e3}})}},{key:"doDestroy",value:function(){this.ganttDetatcher&&this.ganttDetatcher(),this.storeDetacher&&this.storeDetacher(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){var t=this.client.features.dependencies;this.client.refresh(),t&&this.client.setTimeout(function(){return t.scheduleDraw(!0)},300),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"onAfterTaskDrop",value:function(e){e.valid||this.disabled||this.monitorBaselineSync(300)}},{key:"onStoreUpdateRecord",value:function(e){var t=e.record,n=e.changes;!this.disabled&&(n.startDate||n.endDate)&&this.gantt.getElementFromTaskRecord(t)&&this.monitorBaselineSync(300)}},{key:"onTaskDrag",value:function(e){var t=e.taskRecords,n=e.dragData;!this.disabled&&this.updateTaskBaselines(t[0],n.context.newX)}},{key:"updateTaskBaselines",value:function(e,t){var n=this.gantt;if(e.baselines.count){var r=n.getElementFromTaskRecord(e,!1);r&&(null==t&&(t=yn.getOffsetX(r,n.timeAxisSubGridElement)+n.scrollLeft),Cc.sync({domConfig:this.getTaskDOMConfig(e,t),targetElement:r.syncIdMap.baselines}))}}},{key:"monitorBaselineSync",value:function(e){this.baselineMonitor&&this.baselineMonitor.cancel(),this.baselineMonitor=Yn.animate(e,this.syncAllBaselines,this)}},{key:"syncAllBaselines",value:function(){var e=this;!this.isDestroyed&&this.gantt.taskStore.forEach(function(t){return e.updateTaskBaselines(t)})}},{key:"resolveTimeSpanRecord",value:function(e){var t=this.client.resolveTimeSpanRecord(e),n=e.closest(".b-task-baseline");if(t&&n)return t.baselines.getAt(parseInt(n.dataset.index))}},{key:"template",value:function(e){var t=this,n=e.baseline,r=n.task,i=t.decimalPrecision;null==i&&(i=t.client.durationDisplayPrecision);var o=Math.pow(10,i),a=Math.round(n.duration*o)/o;return'\n            <div class="b-gantt-task-title">'.concat(r.name," (baseline ").concat(n.parentIndex+1,")</div>\n            <table>\n            <tr><td>").concat(t.L("L{TaskTooltip.Start}"),":</td><td>").concat(e.startClockHtml,"</td></tr>\n            ").concat(n.milestone?"":"\n                <tr><td>".concat(t.L("L{TaskTooltip.End}"),":</td><td>").concat(e.endClockHtml,"</td></tr>\n                <tr><td>").concat(t.L("L{TaskTooltip.Duration}"),':</td><td class="b-right">').concat(a+" "+xt.getLocalizedNameOfUnit(n.durationUnit,1!==n.duration),"</td></tr>\n            "),"\n            </table>\n            ")}},{key:"getTaskDOMConfig",value:function(e,t){var n=this,r=e.baselines.allRecords;return{className:"b-baseline-wrap",style:{flex:.5*r.length},dataset:{taskFeature:"baselines"},children:r.map(function(e,r){var i=n.gantt.taskRendering.getTaskBox(e);return i?{className:e.cls+"b-task-baseline",style:{width:i.width,left:i.left-t+1},dataset:{index:r}}:null}),syncOptions:{syncIdField:"index"}}}},{key:"onTaskDataGenerated",value:function(e){var t=e.taskRecord,n=e.left,r=e.wrapperChildren;!this.disabled&&t.hasBaselines&&r.push(this.getTaskDOMConfig(t,n))}}],[{key:"$name",get:function(){return"Baselines"}},{key:"defaultConfig",get:function(){return{cls:"b-gantt-task-tooltip",align:"t-b",forSelector:".b-task-baseline",recordType:"baseline"}}},{key:"pluginConfig",get:function(){return{chain:["onTaskDataGenerated","render"]}}}]),n}(Iy);function LA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}FA._$name="Baselines",Ff.registerFeature(FA,!1,"Gantt");var OA=function(e){X()(r,e);var t,n=LA(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"doAddNewAtEnd",value:(t=ro()(to.a.mark(function e(){var t,n,r,i;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.grid,n=this.addNewAtEnd,r=t.taskStore,i=r.rootNode.appendChild(Object.assign({name:"New task",startDate:r.getProject().startDate},n)),e.next=3,r.getProject().propagate();case 3:return t.rowManager.getRowFor(i)||t.rowManager.displayRecordAtBottom(),e.abrupt("return",i);case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}],[{key:"$name",get:function(){return"CellEdit"}}]),r}(Mp);function _A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}OA._$name="CellEdit",Ff.registerFeature(OA,!0,"Gantt");var jA=function(e){X()(n,e);var t=_A(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"doDisable",value:function(e){e?this.unhighlightCriticalPaths():this.highlightCriticalPaths(),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"onPaint",value:function(){this.client.project.on({commit:this.onProjectCommit,thisObj:this})}},{key:"getDependenciesFeature",value:function(){return this.client.foregroundCanvas&&this.client.features.dependencies}},{key:"highlightCriticalPaths",value:function(){var e=this,t=e.client,n=t.project,r=e.getDependenciesFeature();t.element.classList.contains(e.cls)&&e.unhighlightCriticalPaths(),r&&n.criticalPaths&&n.criticalPaths.forEach(function(t){t.forEach(function(t){t.dependency&&r.highlight(t.dependency,e.criticalDependencyCls)})}),t.element.classList.add(e.cls),t.trigger("criticalPathsHighlighted")}},{key:"unhighlightCriticalPaths",value:function(){var e=this,t=e.client,n=t.project,r=e.getDependenciesFeature();r&&n.dependencyStore.forEach(function(t){return r.unhighlight(t,e.criticalDependencyCls)}),t.element.classList.remove(e.cls),t.trigger("criticalPathsUnhighlighted")}},{key:"onProjectCommit",value:function(e){var t=e.records,n=e.changedAtoms,r=this.client.project;!this.disabled&&t.has(r)&&n.includes(r.$.criticalPaths)&&this.highlightCriticalPaths()}}],[{key:"$name",get:function(){return"CriticalPaths"}},{key:"defaultConfig",get:function(){return{cls:"b-gantt-critical-paths",criticalDependencyCls:"b-critical",disabled:!0}}},{key:"pluginConfig",get:function(){return{chain:["onPaint"]}}}]),n}(yr(To));function HA(){var e=Bi()(['\n             <table class="b-sch-dependency-tooltip">\n                <tr>\n                    <td>',": </td>\n                    <td>"," ",'</td>\n                    <td><div class="b-sch-box b-','"></div></td>\n                </tr>\n                <tr>\n                    <td>',": </td>\n                    <td>"," ",'</td>\n                    <td><div class="b-sch-box b-','"></div></td>\n                </tr>\n            </table>\n        ']);return HA=function(){return e},e}function NA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}jA._$name="CriticalPaths",Ff.registerFeature(jA,!0,"Gantt");var BA=["left","left","right","right"],zA=["left","right","left","right"],VA=function(e){X()(n,e);var t=NA(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;e.isGantt&&(r.gantt=e),Object.prototype.hasOwnProperty.call(t,"pathFinderConfig")?(Object.prototype.hasOwnProperty.call(t.pathFinderConfig,"otherHorizontalMargin")||(t.pathFinderConfig.otherHorizontalMargin=0),Object.prototype.hasOwnProperty.call(t.pathFinderConfig,"otherVerticalMargin")||(t.pathFinderConfig.otherVerticalMargin=0)):t.pathFinderConfig={otherHorizontalMargin:0,otherVerticalMargin:0},ce()(Q()(n.prototype),"construct",this).call(this,e,t)}},{key:"getIteratableDependencyAssignments",value:function(e){return[null]}},{key:"isDependencyVisible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this.client,i=e.sourceTask,o=e.targetTask;if(i&&o&&Object(i)===i&&Object(o)===o)return i instanceof uA&&!t?!i.placeHolder&&r.store.isAvailable(i)&&!o.placeHolder&&r.store.isAvailable(o):ce()(Q()(n.prototype),"isDependencyVisible",this).call(this,e,t)}},{key:"getBox",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.getTimeSpanRecordFromDependency(e,t);return this.gantt?this.gantt.getTaskBox(i,!0,!0):i.isEvent||r?ce()(Q()(n.prototype),"getBox",this).call(this,e,t,r):i.assignments.length?this.client.getResourceEventBox(i,i.assignments[0].resource,!0):null}},{key:"getRowRecordFromDependency",value:function(e,t){if(!this.gantt){var r=this.getTimeSpanRecordFromDependency(e,t);return r.isEvent?ce()(Q()(n.prototype),"getRowRecordFromDependency",this).call(this,e,t):r.assignments.length?r.assignments[0].resource:null}return this.getTimeSpanRecordFromDependency(e,t)}},{key:"drawLine",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=ce()(Q()(n.prototype),"drawLine",this).call(this,e,t,r,i,o),s=this.client,u=t.toEvent;(!u.milestone&&(u.endDate<=s.startDate||s.endDate<=u.startDate)||u.milestone&&(u.endDate<s.startDate||s.endDate<u.startDate))&&a.classList.add("b-sch-dependency-ends-outside")}},{key:"prepareLineDef",value:function(e,t){var n=this,r=n.getTimeSpanRecordFromDependency(e,!0),i=n.getTimeSpanRecordFromDependency(e,!1),o=e.type,a=this.pathFinder.startArrowMargin,s=e.fromSide,u=e.toSide;if(!s)switch(!0){case o===qb.StartToEnd:case o===qb.StartToStart:s=n.getConnectorStartSide(r);break;case o===qb.EndToStart:case o===qb.EndToEnd:s=n.getConnectorEndSide(r);break;default:throw new Error("Invalid dependency type: "+o)}if(!u)switch(!0){case o===qb.StartToEnd:u=n.getConnectorEndSide(i);break;case o===qb.StartToStart:case o===qb.EndToStart:u=n.getConnectorStartSide(i);break;case o===qb.EndToEnd:u=n.getConnectorEndSide(i);break;default:throw new Error("Invalid dependency type: "+o)}var c=t.startRectangle,l=t.endRectangle;o===qb.EndToStart&&c.bottom<l.y&&Math.round(c.right)-Math.round(l.x)<=0&&(u="top",e.targetTask.milestone||(l.right=l.x+2*a));var f=n.client.getRecordCoords(r,!0),d=n.client.getRecordCoords(i,!0),h=[{start:c.x,end:c.right,top:f.y,bottom:f.y+f.height},{start:l.x,end:l.right,top:d.y,bottom:d.y+d.height}];return{endBox:{start:c.x,end:c.right,top:c.y,bottom:c.bottom},startBox:{start:l.x,end:l.right,top:l.y,bottom:l.bottom},endSide:s,startSide:u,boxesReversed:!0,otherBoxes:h}}},{key:"drawForTask",value:function(e){this.drawForTimeSpan(e)}},{key:"getHoverTipHtml",value:function(e){var t=e.activeTarget,n=this.getDependencyForElement(t);if(!n)return null;var r=n.sourceTask,i=n.targetTask;return Wi.tpl(HA(),this.L("L{Dependencies.from}"),r.name,r.id,BA[n.type],this.L("L{Dependencies.to}"),i.name,i.id,zA[n.type])}},{key:"createDependency",value:function(e){var t=e.source,n=e.target,r=e.sourceTerminal.dataset.side,i=e.targetTerminal.dataset.side,o=("left"===r?0:2)+("right"===i?1:0);this.store.add({fromEvent:t,toEvent:n,type:o,fromSide:r,toSide:i})&&this.store.getProject().propagate()}},{key:"createMarkers",value:function(){ce()(Q()(n.prototype),"createMarkers",this).call(this);var e=(this.startMarker||this.endMarker).cloneNode(!0);e.setAttribute("id","arrowEndCritical"),this.client.svgCanvas.appendChild(e)}}],[{key:"$name",get:function(){return"Dependencies"}},{key:"defaultConfig",get:function(){return{terminalSides:["left","right"],storeClass:QP,highlightDependenciesOnEventHover:!0}}}]),n}(cm);function WA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}VA._$name="Dependencies",Ff.registerFeature(VA,!0,"Gantt");var $A=function(e){X()(n,e);var t=WA(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"DependencyEdit"}},{key:"defaultConfig",get:function(){return{showLagField:!0}}}]),n}(hm);function GA(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return YA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YA(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function YA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}$A._$name="DependencyEdit",Ff.registerFeature($A,!1);var qA=["top","left","right","bottom"],XA={top:"b-b",right:"l-l",bottom:"t-t",left:"r-r"},KA={top:1,bottom:1},ZA=function(e){X()(n,e);var t=UA(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){var r=this;if(e.isVertical)throw new Error("Labels feature is not supported in vertical mode");r.scheduler=e,r.labelElements={},ce()(Q()(n.prototype),"construct",this).call(this,e,t);var i=r.top,o=r.bottom,a=r.left,s=r.right;(i||o||a||s)&&(r.schedulerDetatcher=e.on({eventpaint:"onEventPaint",eventrepaint:"onEventPaint",thisObj:r}),r.updateHostClasslist())}},{key:"updateHostClasslist",value:function(){var e=this.top,t=this.bottom,n=this.scheduler.element.classList;n.remove("b-labels-topbottom"),n.remove("b-labels-top"),n.remove("b-labels-bottom"),(e||t)&&(n.add("b-labels-topbottom"),e&&n.add("b-labels-top"),t&&n.add("b-labels-bottom"))}},{key:"onLabelDblClick",value:function(e){var t=e.target;if(t&&!this.scheduler.readOnly){var n=t.dataset.side,r=this[n],i=r.editor,o=r.field;r.recordType;if(i){var a=this.scheduler.resolveEventRecord(e.target);return i instanceof fs||(r.editor=new fs({appendTo:this.scheduler.element,blurAction:this.blurAction,inputField:i,scrollAction:"realign"})),r.editor.startEdit({target:t,align:XA[n],matchSize:!1,record:a,field:o}),e.stopImmediatePropagation(),!1}}}},{key:"processLabelSpec",value:function(e,t){if("function"==typeof e)e={renderer:e};else if("string"==typeof e)e={field:e};else{if(!e)return;e=Object.setPrototypeOf({},e)}var n,r=this.scheduler,i=r.eventStore,o=r.resourceStore,a=r.taskStore,s=(r.id,e),u=s.field,c=s.editor;(KA[t]&&(r.milestoneWidth=null),u)&&(i&&!a&&((n=i.modelClass.fieldMap[u])?(e.fieldDef=n,e.recordType="event"):Reflect.has(i.modelClass.prototype,u)&&(e.recordType="event")),!n&&a&&((n=a.modelClass.fieldMap[u])?(e.fieldDef=n,e.recordType="task"):Reflect.has(o.modelClass.prototype,u)&&(e.recordType="task")),!n&&o&&((n=o.modelClass.fieldMap[u])?(e.fieldDef=n,e.recordType="resource"):Reflect.has(o.modelClass.prototype,u)&&(e.recordType="resource")),c&&("boolean"==typeof c?r.editor={type:"textfield"}:"string"==typeof c&&(r.editor={type:c}),ur.on({element:r.timeAxisSubGrid.element,delegate:".b-sch-label",dblclick:"onLabelDblClick",thisObj:this})));return e}},{key:"doDestroy",value:function(){this.schedulerDetatcher&&this.schedulerDetatcher(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){ce()(Q()(n.prototype),"doDisable",this).call(this,e),this.client.isPainted&&this.client.refresh()}},{key:"onEventPaint",value:function(e){if(yn.removeEachSelector(e.element,".b-sch-label"),!this.disabled){var t,n=GA(qA);try{for(n.s();!(t=n.n()).done;){var r=t.value;this[r]&&this.appendLabel(r,e.element,e)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"appendLabel",value:function(e,t,n){this.labelElements[e]=yn.createElement({tag:"label",dataset:{side:e},parent:t}),this.updateLabel(e,n)}},{key:"updateLabel",value:function(e,t){var n,r=this,i=r[e],o=i.field,a=i.fieldDef,s=i.recordType,u=i.renderer,c=i.thisObj,l=r.labelElements[e];l.className="".concat(r.labelCls," ").concat(r.labelCls,"-").concat(e),u?n=u.call(c||r.thisObj||r,Object.assign({labelElement:l},t)):(n=t["".concat(s,"Record")][o],a&&"date"===a.type&&!u&&(n=xt.format(n,r.scheduler.displayDateFormat))),l.innerHTML=n||"Â "}},{key:"top",set:function(e){this._top=this.processLabelSpec(e,"top"),this.updateHostClasslist()},get:function(){return this._top}},{key:"right",set:function(e){this._right=this.processLabelSpec(e,"right"),this.updateHostClasslist()},get:function(){return this._right}},{key:"bottom",set:function(e){this._bottom=this.processLabelSpec(e,"bottom"),this.updateHostClasslist()},get:function(){return this._bottom}},{key:"left",set:function(e){this._left=this.processLabelSpec(e,"left"),this.updateHostClasslist()},get:function(){return this._left}}],[{key:"$name",get:function(){return"Labels"}},{key:"defaultConfig",get:function(){return{labelCls:"b-sch-label",top:null,right:null,bottom:null,left:null,thisObj:null,blurAction:"cancel"}}},{key:"pluginConfig",get:function(){return{}}}]),n}(To);function JA(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return QA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QA(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function QA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}ZA.featureClass="b-sch-labels",ZA._$name="Labels",Ff.registerFeature(ZA,!1,"Scheduler");var tI=["top","left","right","bottom"],nI=function(e){X()(n,e);var t=eI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){ce()(Q()(n.prototype),"construct",this).call(this,e,t)}},{key:"onTaskDataGenerated",value:function(e){var t=this;if(!t.disabled){var n,r=JA(tI);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t[i]){var o=t[i],a=o.field,s=o.fieldDef,u=o.recordType,c=o.renderer,l=o.thisObj,f=void 0;c?f=c.call(l||t.thisObj||t,e):(f=e["".concat(u,"Record")][a],s&&"date"===s.type&&!c&&(f=xt.format(f,t.client.displayDateFormat))),e.wrapperChildren.push({tag:"label",className:"".concat(t.labelCls," ").concat(t.labelCls,"-").concat(i),dataset:{side:i,taskFeature:"label-".concat(i)},html:f||"Â "})}}}catch(e){r.e(e)}finally{r.f()}}}}],[{key:"$name",get:function(){return"Labels"}},{key:"pluginConfig",get:function(){return{chain:["onTaskDataGenerated"]}}}]),n}(ZA);function rI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}nI._$name="Labels",Ff.registerFeature(nI,!1,"Gantt");var iI=function(e){X()(n,e);var t=rI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.tipId="".concat(e.id,"-indicators-tip"),this.gantt=e;var r=t.items;delete t.items,ce()(Q()(n.prototype),"construct",this).call(this,e,t),this.items=r}},{key:"createIndicatorDOMConfig",value:function(e,t){var n=this.gantt,r=this.renderData,i=e.cls,o=e.iconCls,a=n.getCoordinateFromDate(e.startDate),s=e.endDate?n.getCoordinateFromDate(e.endDate)-a:null,u=i&&i.isDomClassList?i:new Ft(i);return{className:Object.assign(u,{"b-indicator":1,"b-has-icon":e.iconCls}),style:{transform:"translate(".concat(a,"px, ").concat(r.top,"px)"),height:r.height,width:s,style:e.style},dataset:{taskId:"".concat(r.taskId,"-indicator-").concat(t),title:e.name},children:[o?{tag:"i",className:o}:null],elementData:e}}},{key:"onTaskDataGenerated",value:function(e){var t,n=this.items,r=[];for(var i in n){var o=n[i];if(this._indicatorStatus[i]&&"function"==typeof o){var a=o(e.taskRecord);a&&this.gantt.timeAxis.timeSpanInAxis(a.startDate,a.endDate)&&r.push(a)}}(t=e.extraConfigs).push.apply(t,te()(r.map(this.createIndicatorDOMConfig,{gantt:this.gantt,renderData:e})))}},{key:"resolveTimeSpanRecord",value:function(e){return e.lastDomConfig.elementData}},{key:"template",value:function(e){var t=e.indicator;return e.endDate?"\n                ".concat(t.name?'<div class="b-gantt-task-title">'.concat(t.name,"</div>"):"",'\n                <table border="0" cellspacing="0" cellpadding="0">\n                    <tr><td>').concat(this.L("L{Start}"),":</td><td>").concat(e.startClockHtml,"</td></tr>\n                    <tr><td>").concat(this.L("L{End}"),":</td><td>").concat(e.endClockHtml,"</td></tr>\n                </table>\n            "):"\n            ".concat(t.name?'<div class="b-gantt-task-title">'.concat(t.name,"</div>"):"","\n            ").concat(e.startText,"\n        ")}},{key:"items",set:function(e){var t=this;t._indicators=It.assign({},t.defaultIndicators,e),t._indicatorAccessors={},t._indicatorStatus={};var n=function(e){t._indicatorStatus[e]=Boolean(t._indicators[e]),"function"!=typeof t._indicators[e]&&(t._indicators[e]=t.defaultIndicators[e]),Object.defineProperty(t._indicatorAccessors,e,{enumerable:!0,get:function(){return!!t._indicatorStatus[e]&&t._indicators[e]},set:function(n){t._indicatorStatus[e]=n,t.gantt.refresh()}})};for(var r in t._indicators)n(r)},get:function(){return this._indicatorAccessors}}],[{key:"$name",get:function(){return"Indicators"}},{key:"defaultConfig",get:function(){var e=this;return{cls:"b-gantt-task-tooltip",forSelector:".b-indicator",recordType:"indicator",hoverDelay:500,defaultIndicators:{earlyDates:function(t){return t.earlyStartDate&&!t.isMilestone?{startDate:t.earlyStartDate,endDate:t.earlyEndDate,cls:"b-bottom b-early-dates",name:e.L("L{earlyDates}")}:null},lateDates:function(t){return t.lateStartDate&&!t.isMilestone?{startDate:t.lateStartDate,endDate:t.lateEndDate,cls:"b-bottom b-late-dates",name:e.L("L{lateDates}")}:null},constraintDate:function(t){return t.constraintDate?{startDate:t.constraintDate,cls:"b-bottom b-constraint-date b-constraint-type-".concat(t.constraintType),name:e.L("L{ConstraintTypePicker.".concat(t.constraintType,"}"))}:null},deadlineDate:function(t){return t.deadlineDate?{startDate:t.deadlineDate,cls:"b-bottom b-deadline-date",name:e.L("L{deadlineDate}")}:null}},items:{}}}},{key:"pluginConfig",get:function(){return{chain:["onTaskDataGenerated","render"]}}}]),n}(Iy);function oI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}iI._$name="Indicators",Ff.registerFeature(iI,!1);var aI=function(e){X()(n,e);var t=oI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onPaint",value:function(){var e=this,t=e.client;e.resize&&e.resize.destroy(),e.resize=new qc({name:"percentBarResize",outerElement:t.timeAxisSubGridElement,targetSelector:".b-gantt-task-percent",handleSelector:".b-gantt-task-percent-handle",allowResize:e.isResizable.bind(e),dragThreshold:0,listeners:{resizeStart:e.onResizeStart,resizing:e.onResizing,resize:e.onFinishResize,cancel:e.onCancelResize,thisObj:e}})}},{key:"doDestroy",value:function(){this.resize&&this.resize.destroy(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){this.client.isPainted&&this.client.refresh(),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"isResizable",value:function(e){return this.allowResize&&!e.closest(".b-gantt-task-parent")}},{key:"cleanup",value:function(e){var t=this.client;e.element.closest(t.eventSelector).classList.remove("b-gantt-task-percent-resizing"),t.element.classList.remove("b-gantt-resizing-task-percent")}},{key:"onTaskDataGenerated",value:function(e){var t=e.task,n=e.children;t.milestone||this.disabled||n.unshift({className:"b-gantt-task-percent",dataset:{percent:Math.round(t.percentDone),taskBarFeature:"percentBar"},style:{width:t.percentDone+"%"},children:[{className:"b-gantt-task-percent-handle"}]})}},{key:"onResizeStart",value:function(e){e.context.element.closest(this.client.eventSelector).classList.add("b-gantt-task-percent-resizing"),this.client.element.classList.add("b-gantt-resizing-task-percent")}},{key:"onResizing",value:function(e){var t=e.context.element,n=t.closest(this.client.eventSelector),r=1===t.offsetWidth?0:t.offsetWidth;t.dataset.percent=Math.min(100,Math.round(100*r/n.offsetWidth))}},{key:"onFinishResize",value:function(e){var t=e.context,n=this.client,r=t.element,i=n.resolveTaskRecord(r);this.cleanup(t),i.setPercentDone(parseInt(r.dataset.percent))}},{key:"onCancelResize",value:function(e){var t=e.context;this.cleanup(t)}},{key:"allowResize",get:function(){return this._allowResize},set:function(e){this._allowResize=e,this.client.element.classList[e?"remove":"add"]("b-percentbar-drag-disabled")}}],[{key:"$name",get:function(){return"PercentBar"}},{key:"defaultConfig",get:function(){return{allowResize:!0}}},{key:"pluginConfig",get:function(){return{chain:["onPaint","onTaskDataGenerated"]}}}]),n}(To);function sI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}aI._$name="PercentBar",Ff.registerFeature(aI,!0,"Gantt");var uI=function(e){X()(n,e);var t=sI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;r.scheduleDraw=r.createOnFrame("draw",[],r,!0),ce()(Q()(n.prototype),"construct",this).call(this,e,t),this.lineSegments=[],e.store.on({refresh:r.onRowStoreRefresh,thisObj:r}),e.rowManager.on({translaterow:r.onTranslateRow,refresh:r.scheduleDraw,rerender:r.scheduleDraw,changetotalheight:r.scheduleDraw,thisObj:r}),e.on({horizontalscroll:r.scheduleDraw,togglenode:r.scheduleDraw,taskdrag:r.onTaskDrag,taskdragabort:r.scheduleDraw,aftertaskdrop:r.scheduleDraw,timelineviewportresize:r.scheduleDraw,thisObj:r})}},{key:"doDisable",value:function(e){this.client.rendered&&this.draw(),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"getSVGCanvas",value:function(){var e=this,t=e.client;if(!e._svgCanvas){var n=e._svgCanvas=document.createElementNS("http://www.w3.org/2000/svg","svg");n.retainElement=!0,n.classList.add(e.containerCls),t.foregroundCanvas.appendChild(n)}return e._svgCanvas}},{key:"onPaint",value:function(){this.client.taskStore.on({change:this.scheduleDraw,thisObj:this})}},{key:"onRowStoreRefresh",value:function(e){switch(e.action){case"sort":case"filter":this.scheduleDraw()}}},{key:"onTranslateRow",value:function(e){var t=e.row;t.lastTop>=0&&t.top!==t.lastTop&&this.scheduleDraw()}},{key:"onTaskDrag",value:function(e){var t=this,n=e.taskRecords,r=e.dragData;n.forEach(function(e){t.updateLineForTask(e,se()({},e.id,xt.add(e.startDate,r.timeDiff)))})}},{key:"shouldDrawProgressLine",value:function(){return!this.client.timeAxisSubGrid.collapsed&&!this.disabled&&(!this.drawLineOnlyWhenStatusDateVisible||this.client.timeAxis.dateInAxis(this.statusDate))}},{key:"getStatusDateX",value:function(){var e=this.client,t=this.statusDate;return e.timeAxis.dateInAxis(t)||(t=t<e.timeAxis.startDate?e.timeAxis.startDate:e.timeAxis.endDate),e.getCoordinateFromDate(t)}},{key:"getRenderData",value:function(){var e=this.getStatusDateX(),t=this.client.timeAxisSubGridElement.getBoundingClientRect();return{statusDateX:e,viewXY:[this.client.scrollLeft-t.left,-t.top]}}},{key:"draw",value:function(){var e=this,t=e.client;if(e.lineSegments.forEach(function(e){return e.remove()}),e.lineSegments=[],e.shouldDrawProgressLine())if(t.isAnimating)t.on({transitionend:function(){e.scheduleDraw()},once:!0});else{var n=e.getRenderData(),r=[];t.rowManager.forEach(function(t){r.push.apply(r,te()(e.getLineSegmentRenderData(t,n)))}),r.forEach(function(t){return e.drawLineSegment(t)}),t.trigger("progressLineDrawn")}}},{key:"updateLineForTask",value:function(e,t){var n=this;if(!n.disabled){var r=n.client.getRowFor(e);if(r){var i=[];n.lineSegments.forEach(function(t){t.dataset.taskId==e.id&&(i.push(t),t.remove())}),de.remove.apply(de,[n.lineSegments].concat(i)),n.getLineSegmentRenderData(r,n.getRenderData(),t).forEach(function(e){return n.drawLineSegment(e)})}}}},{key:"getLineSegmentRenderData",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this,o=t.statusDateX,a=t.viewXY,s=i.client.getRecordFromElement(e.elements.normal),u=s.id,c=[];return i.isStatusLineTask(s,r[s.id])&&(n=i.calculateCoordinateForTask(s,a))&&c.push({dataset:{taskId:u},x1:o,y1:e.top,x2:n.x,y2:n.y},{dataset:{taskId:u},x1:n.x,y1:n.y,x2:o,y2:e.bottom}),n||c.push({dataset:{taskId:u},x1:o,y1:e.top,x2:o,y2:e.bottom}),c}},{key:"drawLineSegment",value:function(e){this.lineSegments.push(yn.createElement(Object.assign({tag:"line",ns:"http://www.w3.org/2000/svg",class:this.lineCls,parent:this.getSVGCanvas()},e)))}},{key:"isStatusLineTask",value:function(e,t){var n=this.statusDate;return t=t||e.startDate,e&&this.client.timeAxis.isTimeSpanInAxis(e)&&!e.milestone&&(e.isInProgress||!e.isStarted&&t<n||e.isCompleted&&t>n)}},{key:"calculateCoordinateForTask",value:function(e,t){var n=this.client,r=n.getElementFromTaskRecord(e),i=null==r?void 0:r.querySelector(".b-gantt-task-percent");if(i){var o=i.getBoundingClientRect(),a=n.timeAxisViewModel.totalSize;return{x:Math.min(o.right+t[0],a),y:o.top+o.height/2+t[1]}}}},{key:"statusDate",get:function(){return this._statusDate},set:function(e){e instanceof Date&&(this._statusDate=e,this.scheduleDraw())}}],[{key:"$name",get:function(){return"ProgressLine"}},{key:"defaultConfig",get:function(){return{statusDate:new Date,drawLineOnlyWhenStatusDateVisible:!1,lineCls:"b-gantt-progress-line",containerCls:"b-progress-line-canvas"}}},{key:"pluginConfig",get:function(){return{chain:["onPaint"]}}}]),n}(yr(To));function cI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}uI._$name="ProgressLine",Ff.registerFeature(uI);var lI=function(e){X()(n,e);var t=cI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"startConfigure",value:function(){}},{key:"onPaint",value:function(){var e=this,t=e.store.add([{name:e.L("L{Project Start}")},{name:e.L("L{Project End}")}]),r=re()(t,2);e.startDateLine=r[0],e.endDateLine=r[1],e.updateDateFromProject(),e.client.project.taskStore.on({update:e.onProjectTaskStoreRecordUpdate,refresh:e.onProjectTaskStoreRefresh,thisObj:e}),ce()(Q()(n.prototype),"onPaint",this).call(this)}},{key:"updateLocalization",value:function(){var e=this;e.client.rendered&&(e.startDateLine.name=e.L("L{Project Start}"),e.endDateLine.name=e.L("L{Project End}"))}},{key:"updateDateFromProject",value:function(){var e=this.client.project;this.startDateLine.startDate=e.startDate,this.endDateLine.startDate=e.endDate}},{key:"onProjectTaskStoreRecordUpdate",value:function(e){e.record===this.client.project&&this.updateDateFromProject()}},{key:"onProjectTaskStoreRefresh",value:function(e){this.updateDateFromProject()}}],[{key:"$name",get:function(){return"ProjectLines"}},{key:"defaultConfig",get:function(){return{showHeaderElements:!0,cls:"b-gantt-project-line"}}}]),n}(Vy);function fI(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return dI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dI(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function dI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}lI._$name="ProjectLines",Ff.registerFeature(lI,!0,"Gantt");var pI=".".concat("b-task-rollup"),vI=function(e){X()(n,e);var t=hI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){this.tipId="".concat(e.id,"-rollups-tip"),ce()(Q()(n.prototype),"construct",this).call(this,e,t),this.storeDetacher=e.taskStore.on({update:"onStoreUpdateRecord",thisObj:this})}},{key:"doDestroy",value:function(){this.storeDetacher&&this.storeDetacher(),ce()(Q()(n.prototype),"doDestroy",this).call(this)}},{key:"doDisable",value:function(e){var t=this,r=t.client.features.dependencies;t.tooltip&&(t.tooltip.disabled=e),t.client.refresh(),r&&t.client.setTimeout(function(){return r.scheduleDraw(!0)},300),ce()(Q()(n.prototype),"doDisable",this).call(this,e)}},{key:"getTipHtml",value:function(e){var t,n=e.activeTarget,r=e.event,i=this.client.resolveTaskRecord(n),o=N.isEdge||N.isIE11,a=document[o?"msElementsFromPoint":"elementsFromPoint"](r.pageX+window.pageXOffset,r.pageY+window.pageYOffset),s=[],u=fI(Array.from(a).filter(function(e){return e.classList.contains("b-task-rollup")}).sort(function(e,t){return parseInt(e.dataset.index,10)-parseInt(t.dataset.index,10)}));try{for(u.s();!(t=u.n()).done;){var c=t.value;s.push(i.children[parseInt(c.dataset.index,10)])}}catch(e){u.e(e)}finally{u.f()}return this.template({task:i,children:s})}},{key:"template",value:function(e){var t=e.children,n=this,r=n.client,i=[];return t.map(function(e,t){var o=e.startDate,a=e.endDate,s=r.getFormattedDate(o),u=r.getDisplayEndDate(a,o),c=r.getFormattedDate(u);i.push('<div class="b-gantt-task-title '.concat(t?"b-follow-on":"",'">').concat(e.name,"</div><table>"),"<tr><td>".concat(n.L("L{TaskTooltip.Start}"),":</td><td>").concat(n.clockTemplate.template({date:o,text:s,cls:"b-sch-tooltip-startdate"}),"</td></tr>"),"<tr><td>".concat(n.L("L{TaskTooltip.End}"),":</td><td>").concat(e.isMilestone?"":n.clockTemplate.template({date:u,text:c,cls:"b-sch-tooltip-enddate"}),"</td></tr></table>"))}),i.join("")}},{key:"onStoreUpdateRecord",value:function(e){var t=e.record,n=e.changes;t.parent&&(n.rollup||n.startDate||n.endDate)&&this.client.taskRendering.redraw(t.parent)}},{key:"onTaskDataGenerated",value:function(e){var t=this,n=e.taskRecord,r=e.left,i=e.wrapperChildren;if(!this.disabled&&n.isParent){var o=n.children.slice().sort(function(e,t){return t.durationMS-e.durationMS});i.push({className:"".concat("b-task-rollup","-wrap"),dataset:{taskFeature:"rollups"},children:o.map(function(e){if(e.rollup){var n=t.client.getSizeAndPosition(e);if(!n)return null;var i=n.position,o=n.width;return{dataset:{index:e.parentIndex,rollupTaskId:e.id},className:"".concat("b-task-rollup"," ").concat(e.isMilestone?"b-milestone":""," ").concat(e.cls),style:{width:e.isMilestone?null:o,left:i-r}}}return null}),syncOptions:{syncIdField:"rollupTaskId"}})}}}],[{key:"$name",get:function(){return"Rollups"}},{key:"defaultConfig",get:function(){return{cls:"b-gantt-task-tooltip",align:"t-b",forSelector:pI}}},{key:"pluginConfig",get:function(){return{chain:["onTaskDataGenerated","render"]}}}]),n}(Iy);function gI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}vI._$name="Rollups",Ff.registerFeature(vI,!1,"Gantt");var yI=function(e){X()(n,e);var t=gI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e,t){e.showRemoveRowInContextMenu=!1,e.features.contextMenu&&(e.features.contextMenu.disableCellContextMenu=!0),ce()(Q()(n.prototype),"construct",this).call(this,e,t)}},{key:"resolveRecord",value:function(e){return this.client.resolveTaskRecord(e)||this.client.getRecordFromElement(e)}},{key:"showContextMenuFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.targetElement,r=t.eventElement,i=t.event,o=this.client;if(e&&(n||(n=o.getElementFromTaskRecord(e)))){if(i){var a=o.getEventData(i);if(!a)return;var s=o.columns.getById(a.columnId);if(!r&&s&&!s.enableCellContextMenu)return}this.showContextMenu({menuType:"task",taskElement:n,targetElement:n,taskRecord:e,event:i})}}},{key:"beforeContextMenuShow",value:function(e){var t=e.taskRecord,n=e.items,r=e.namedItems,i=e.selection,o=(e.selectionIncludesContextTask=i.includes(t))&&i.length>1;n.editTask&&(n.editTask.hidden=o),r.add.hidden=o,r.addTaskAbove.hidden=o,r.addTaskBelow.hidden=o,r.milestone.hidden=o,r.subtask.hidden=o,r.successor.hidden=o,r.predecessor.hidden=o,r.convertToMilestone.hidden=o,r.predecessor.disabled=!t.previousSibling,r.outdent.disabled=t.parent===this.client.taskStore.rootNode}},{key:"namedItems",get:function(){var e=this.client;this._namedItems||((this._namedItems={addTaskAbove:{text:e.L("L{Gantt.Task above}"),icon:"b-icon-up",onItem:function(t){var n=t.taskRecord;e.addTaskAbove(n)}},addTaskBelow:{text:e.L("L{Gantt.Task below}"),icon:"b-icon-down",onItem:function(t){var n=t.taskRecord;e.addTaskBelow(n)}},milestone:{text:e.L("L{Gantt.Milestone}"),icon:"b-fa-flag",name:"milestone",onItem:function(t){var n=t.taskRecord;e.addMilestonBelow(n)}},subtask:{text:e.L("L{Gantt.Sub-task}"),name:"subtask",onItem:function(t){var n=t.taskRecord;e.addSubtask(n)}},successor:{text:e.L("L{Gantt.Successor}"),onItem:function(t){var n=t.taskRecord;e.addSuccessor(n)}},predecessor:{text:e.L("L{Gantt.Predecessor}"),name:"predecessor",onItem:function(t){var n=t.taskRecord;e.addPredecessor(n)}},deleteTask:{text:e.L("L{Gantt.Delete task}"),icon:"b-icon-trash",name:"deleteTask",onItem:function(t){var n=t.selectionIncludesContextTask,r=t.selection,i=t.taskRecord;e.taskStore.remove(n?r:i)}},convertToMilestone:{text:e.L("L{Gantt.Convert to milestone}"),onItem:function(e){e.taskRecord.convertToMilestone()}},indent:{text:e.L("L{Gantt.Indent}"),icon:"b-fa-indent",onItem:function(t){var n=t.selectionIncludesContextTask,r=t.selection,i=t.taskRecord;e.indent(n?r:i)}},outdent:{text:e.L("L{Gantt.Outdent}"),icon:"b-fa-outdent",onItem:function(t){var n=t.selectionIncludesContextTask,r=t.selection,i=t.taskRecord;e.outdent(n?r:i)}}}).add={text:e.L("L{Gantt.Add}"),icon:"b-icon-add",menu:{items:{addTaskAbove:!0,addTaskBelow:!0,milestone:!0,subtask:!0,successor:!0,predecessor:!0}}});return this._namedItems}}],[{key:"$name",get:function(){return"TaskContextMenu"}},{key:"defaultConfig",get:function(){return{defaultItems:{add:!0,indent:!0,outdent:!0,deleteTask:!0}}}}]),n}(wg);function mI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}yI.featureClass="",yI._$name="TaskContextMenu",Ff.registerFeature(yI,!0,"Gantt");var kI=function(e){X()(n,e);var t=mI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"TaskEditor"}},{key:"defaultConfig",get:function(){return{cls:"b-gantt-taskeditor b-schedulerpro-taskeditor"}}}]),n}(Cw);function bI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}kI._$name="TaskEditor";var wI=function(e){X()(n,e);var t=bI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"editTask",value:function(e,t){return this.editEvent(e,null,t)}},{key:"onActivateEditor",value:function(e){var t=e.taskRecord,n=e.taskElement;this.editTask(t,n)}},{key:"getElementFromTaskRecord",value:function(e){return this.client.getElementFromTaskRecord(e)}},{key:"onTaskEnterKey",value:function(e){var t=e.taskRecord;this.editTask(t)}},{key:"getTaskMenuItems",value:function(e){var t=this,n=e.taskRecord,r=e.items;this.client.readOnly||(r.editTask={text:this.client.L("L{Gantt.Edit}"),icon:"b-icon b-icon-edit",weight:-200,disabled:this.disabled,onItem:function(){return t.editTask(n)}})}},{key:"onEventEnterKey",value:function(e){var t=e.taskRecord;e.target;this.editTask(t)}},{key:"scrollTaskIntoView",value:function(e){this.scrollEventIntoView(e)}},{key:"scrollEventIntoView",value:function(e){this.client.scrollTaskIntoView(e)}}],[{key:"$name",get:function(){return"TaskEdit"}},{key:"defaultConfig",get:function(){return{triggerEvent:"taskdblclick",saveAndCloseOnEnter:!0,tabsConfig:null,editorClass:kI}}},{key:"pluginConfig",get:function(){return{chain:["getTaskMenuItems","onTaskEnterKey"],assign:["editTask"]}}}]),n}(BT);wI._$name="TaskEdit",Ff.registerFeature(wI,!0,"Gantt");function SI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var DI=function(e){X()(n,e);var t=SI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"TaskTooltip"}},{key:"defaultConfig",get:function(){return{template:function(e){var t=this,n=e.taskRecord,r=t.decimalPrecision;null==r&&(r=t.client.durationDisplayPrecision);var i=Math.pow(10,r),o=Math.round(n.duration*i)/i;return"\n                    ".concat(n.name?'<div class="b-gantt-task-title">'.concat(n.name,"</div>"):"",'\n                    <table border="0" cellspacing="0" cellpadding="0">\n                    <tr><td>').concat(t.L("L{Start}"),":</td><td>").concat(e.startClockHtml,"</td></tr>\n                    ").concat(n.milestone?"":"\n                        <tr><td>".concat(t.L("L{End}"),":</td><td>").concat(e.endClockHtml,"</td></tr>\n                        <tr><td>").concat(t.L("L{Duration}"),':</td><td class="b-right">').concat(o+" "+xt.getLocalizedNameOfUnit(n.durationUnit,1!==n.duration),"</td></tr>\n                        <tr><td>").concat(t.L("L{Complete}"),':</td><td class="b-right">').concat(n.renderedPercentDone,"%</td></tr>\n                    "),"\n                    </table>\n                ")},decimalPrecision:null,cls:"b-gantt-task-tooltip"}}}]),n}(Iy);function RI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}DI._$name="TaskTooltip",Ff.registerFeature(DI,!0,"Gantt");var CI=function(e){return function(e){X()(r,e);var t,n=RI(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"prepareComponent",value:(t=ro()(to.a.mark(function e(t){var n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce()(Q()(r.prototype),"prepareComponent",this).call(this,t);case 2:n=this.element.querySelector(".b-sch-foreground-canvas"),yn.removeEachSelector(n,".b-gantt-task-wrap"),yn.removeEachSelector(n,".b-released");case 5:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"collectEvents",value:function(e,t){var n=e.length,r=t.client,i=this.exportMeta.subGrids.normal.rows;e.forEach(function(e,t){var o=i[i.length-n+t],a=r.store.getAt(e.dataIndex),s=o[3];if(a.isScheduled){var u=r.getElementFromTaskRecord(a,!1);u&&!s.has(a.id)&&s.set(a.id,[u.outerHTML,Wn.from(u,u.offsetParent)])}})}}]),r}(e)};function xI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var EI=function(e){X()(n,e);var t=xI(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(CI(ub));function TI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}EI._$name="MultiPageExporter";var MI=function(e){X()(n,e);var t=TI(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(CI(lb));function PI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}MI._$name="MultiPageVerticalExporter";var AI=function(e){X()(n,e);var t=PI(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(CI(db));function II(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}AI._$name="SinglePageExporter";var FI=function(e){X()(n,e);var t=II(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"PdfExport"}},{key:"defaultConfig",get:function(){return{exporters:[AI,EI,MI]}}}]),n}(pb);function LI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}FI._$name="PdfExport",Ff.registerFeature(FI,!1,"Gantt");var OI=function(e){X()(n,e);var t=LI(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(YT);function _I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}OI._$name="SubProjectModel";var jI=function(e){X()(n,e);var t=_I(n);function n(){return E()(this,n),t.apply(this,arguments)}return n}(qT);jI._$name="TaskSegmentModel";var HI=new Date,NI=new Date(HI.getFullYear(),0,1),BI=new Xc;function zI(e,t){return parseInt(""+e+t)}var VI=function(){function e(){E()(this,e)}return M()(e,null,[{key:"generateAsync",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:NI,i={startDate:r,tasksData:[],dependenciesData:[]},o=Math.ceil(e/10),a=Math.ceil(t/10),s=this.generateBlocks(o,a,i.startDate),u=0,c=0,l=0;return new Promise(function(e){!function t(){for(var r=0;r<100;r++){var o=s.next();if(o.done)return n&&n(c,l,!0),i.endDate=xt.add(i.startDate,Math.max(u,30),"days"),e(i);var a,f,d=o.value;(a=i.tasksData).push.apply(a,te()(d.tasksData)),(f=i.dependenciesData).push.apply(f,te()(d.dependenciesData)),d.projectDuration&&(u=Math.max(d.projectDuration,u)),c+=d.taskCount,l+=d.dependencyCount}n&&n(c,l,!1),setTimeout(t,0)}()})}},{key:"generateBlocks",value:to.a.mark(function e(t,n,r){var i,o,a,s,u,c,l,f;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=BI.nextRandom(5)+2;return e&&(s+=t),t},i=1,o=1,a=0,s=0,c=0;case 3:if(!(c<t)){e.next=15;break}return l=i,f={tasksData:[{id:i++,name:"Parent "+l,startDate:r,expanded:!0,children:[{id:i++,name:"Sub-parent "+zI(l,1),startDate:r,expanded:!0,children:[{id:i++,name:"Task "+zI(l,11),startDate:r,duration:u(),percentDone:BI.nextRandom(100)},{id:i++,name:"Task "+zI(l,12),startDate:r,duration:u(),percentDone:BI.nextRandom(100)},{id:i++,name:"Task "+zI(l,13),startDate:r,duration:u(),percentDone:BI.nextRandom(100)},{id:i++,name:"Task "+zI(l,14),startDate:r,duration:u(),percentDone:BI.nextRandom(100)}]},{id:i++,name:"Sub-parent "+zI(l,2),startDate:r,expanded:!0,children:[{id:i++,name:"Task "+zI(l,21),startDate:r,duration:u(),percentDone:BI.nextRandom(100)},{id:i++,name:"Task "+zI(l,22),startDate:r,duration:u(),percentDone:BI.nextRandom(100)},{id:i++,name:"Task "+zI(l,23),startDate:r,duration:u(),percentDone:BI.nextRandom(100)}]}]}],dependenciesData:[{id:o++,fromEvent:l+2,toEvent:l+3},{id:o++,fromEvent:l+3,toEvent:l+4},{id:o++,fromEvent:l+4,toEvent:l+5},{id:o++,fromEvent:l+5,toEvent:l+7},{id:o++,fromEvent:l+7,toEvent:l+8},{id:o++,fromEvent:l+8,toEvent:l+9}],taskCount:10,dependencyCount:5},a+=s,s=0,f.projectDuration=a,c%n!=0?(f.dependenciesData.push({id:o++,fromEvent:l-2,toEvent:l+2}),f.dependencyCount++):a=0,i++,e.next=12,f;case 12:c++,e.next=3;break;case 15:case"end":return e.stop()}},e)})}]),e}();VI._$name="ProjectGenerator";n(281),n(283);function WI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var $I={releaseElement:1,reuseElement:1},GI={newElement:1,reuseOwnElement:1,reuseElement:1},YI=function(e){X()(n,e);var t=WI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"construct",value:function(e){this.gantt=e,e.rowManager.on({renderDone:"onRenderDone",removeRows:"onRemoveRows",beforeRowHeight:"onBeforeRowHeightChange",thisObj:this}),ce()(Q()(n.prototype),"construct",this).call(this,{})}},{key:"init",value:function(){}},{key:"bindTaskStore",value:function(){}},{key:"refreshRows",value:function(){}},{key:"onTimeAxisViewModelUpdate",value:function(){this.updateFromHorizontalScroll(this.gantt.timeAxisSubGrid.scrollable.x)}},{key:"onViewportResize",value:function(){}},{key:"onDragAbort",value:function(){}},{key:"onBeforeRowHeightChange",value:function(e){var t=this.gantt;t.foregroundCanvas&&(t.foregroundCanvas.style.fontSize="".concat((e&&e.height||t.rowHeight)-2*t.resourceMargin,"px"))}},{key:"getVisibleDateRange",value:function(){return this.visibleDateRange}},{key:"getTaskBox",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.gantt;if(n){var i=this.getElementFromTaskRecord(e);if(i)return Wn.from(i,r.timeAxisSubGridElement)}if(!e.startDate||e.isTask&&!r.taskStore.isAvailable(e))return null;var o=this.getSizeAndPosition(e,t);if(!o)return null;var a=o.position,s=o.width,u=r.taskStore.indexOf(e)*r.rowManager.rowOffsetHeight+r.resourceMargin,c=r.rowHeight-2*r.resourceMargin;return new Wn(a,u,s,c)}},{key:"getSizeAndPosition",value:function(e,t){var n,r,i=this.gantt,o=i.timeAxis,a=o.startDate,s=o.endDate,u=e.startDate,c=e.endDate||(null!=e.duration?xt.add(u,e.duration,e.durationUnit):null),l=e.milestone,f=l?i.features.dependencies.pathFinder.startArrowMargin:0;if(!t&&(c<a||u>s))return null;if(t&&u<a)n=i.getCoordinateFromDate(a)-f;else if(t&&u>s)n=i.getCoordinateFromDate(s)+f;else if(u<a){var d=i.timeAxisViewModel.getSingleUnitInPixels("second"),h=(o.startMS-e.startDateMS)/1e3*d;n=i.getCoordinateFromDate(a)-h}else n=i.getCoordinateFromDate(u);if(!l)if(t&&c<a)r=i.getCoordinateFromDate(a)-f;else if(t&&c>s)r=i.getCoordinateFromDate(s)+f;else if(c>s){var p=i.timeAxisViewModel.getSingleUnitInPixels("second"),v=(e.endDateMS-o.endMS)/1e3*p;r=i.getCoordinateFromDate(s)+v}else r=i.getCoordinateFromDate(c);var g=l?0:r-n;return!t&&n+g<0?null:{position:n,width:g}}},{key:"getRowRegion",value:function(e,t,n){var r=this.gantt,i=r.getRowFor(e);if(!i)return null;var o=i.getElement(r.timeAxisSubGrid.region),a=r.timeAxis.startDate,s=r.timeAxis.endDate,u=t?xt.max(a,t):a,c=n?xt.min(s,n):s,l=r.getCoordinateFromDate(u),f=r.getCoordinateFromDate(c,!0,!0),d=i.top+r.scrollTop,h=Math.min(l,f),p=d+o.offsetHeight;return new Wn(h,d,Math.max(l,f)-h,p-d)}},{key:"getDateFromXY",value:function(e,t,n){var r=e[0];return n||(r=this.translateToScheduleCoordinate(r)),this.gantt.timeAxisViewModel.getDateFromPosition(r,t)}},{key:"translateToScheduleCoordinate",value:function(e){return e-this.gantt.timeAxisSubGridElement.getBoundingClientRect().left+this.gantt.scrollLeft}},{key:"translateToPageCoordinate",value:function(e){var t=this.gantt.timeAxisSubGridElement;return e+t.getBoundingClientRect().left-t.scrollLeft}},{key:"getElementFromTaskRecord",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.gantt.rowManager.getRowFor(e);if(n&&this.rowMap.has(n)){var r=this.rowMap.get(n)[0]._element;if(r)return t?r.syncIdMap.task:r}return null}},{key:"getConnectorStartSide",value:function(e){return"left"}},{key:"getConnectorEndSide",value:function(e){return"right"}},{key:"onRemoveRows",value:function(e){var t=this;e.rows.forEach(function(e){return t.rowMap.delete(e)}),this.onRenderDone()}},{key:"updateFromHorizontalScroll",value:function(e){var t=this.gantt,n=t.timeAxisSubGrid.width,r=t.getDateFromX(Math.max(0,e-100)),i=t.getDateFromX(e+n+100)||t.endDate,o=t.getDateFromX(e),a=t.getDateFromX(e+n)||t.endDate;this._visibleDateRange={startDate:o,endDate:a},this.gantt.timeView.range={startDate:r,endDate:i}}},{key:"populateTaskRenderData",value:function(e,t){var n=this.gantt,r=!(!n.features.baselines||!n.features.baselines.disabled),i={className:"b-gantt-task-content",dataset:{taskBarFeature:"content"},children:[]};if(e){var o,a,s=void 0===t.isResizable||t.isResizable;e.startsOutsideView&&(!0===s?s="end":"start"===s&&(s=!1)),e.endsOutsideView&&(!0===s?s="start":"end"===s&&(s=!1)),Object.assign(e,{iconCls:new Ft(t.taskIconCls),id:n.getEventRenderId(t),style:t.style||"",taskId:t.id,wrapperCls:new Ft((o={},se()(o,n.eventCls+"-wrap",1),se()(o,"".concat(n.eventCls,"-parent"),t.isParent),se()(o,"b-milestone-wrap",t.milestone),se()(o,"b-has-baselines",t.hasBaselines&&!r),o)),cls:t.isResourceTimeRange?new Ft:t.cls.clone(),extraConfigs:[]}),Object.assign(e.cls,(a={},se()(a,n.eventCls,1),se()(a,n.generatedIdCls,t.hasGeneratedId),se()(a,n.dirtyCls,t.modifications),se()(a,n.committingCls,t.isCommitting),se()(a,n.endsOutsideViewCls,e.endsOutsideView),se()(a,n.startsOutsideViewCls,e.startsOutsideView),se()(a,n.fixedEventCls,!1===t.isDraggable),se()(a,"b-sch-event-resizable-".concat(s),1),se()(a,"b-milestone",t.milestone),se()(a,"b-critical",t.critical),se()(a,"b-task-started",t.percentDone>0),se()(a,"b-task-finished",t.isCompleted),se()(a,"b-task-selected",n.selectedRecords.includes(t)),a));var u=t.eventStyle||n.eventStyle,c=t.eventColor||n.eventColor;if(e.eventColor=c,e.eventStyle=u,n.taskRenderer){var l=n.taskRenderer.call(n.taskRendererThisObj||n,{taskRecord:t,tplData:e,renderData:e});"string"==typeof e.cls&&(e.cls=new Ft(e.cls)),"string"==typeof e.iconCls&&(e.iconCls=new Ft(e.iconCls)),"string"==typeof e.wrapperCls&&(e.wrapperCls=new Ft(e.wrapperCls));var f=null;"string"==typeof l&&l.includes("<")?f={html:l}:"string"==typeof l||"object"===oe()(l)?f=l:null!=l&&(f=String(l)),f&&(i.children.push(f),e.cls.add("b-has-content"))}e.cls["b-sch-event-withicon"]=e.iconCls.length,e.wrapperCls["b-sch-style-".concat(e.eventStyle)]=e.eventStyle,e.eventColor&&e.eventColor.startsWith("#")?e.style="background-color:".concat(e.eventColor,";")+e.style:e.wrapperCls["b-sch-color-".concat(e.eventColor)]=e.eventColor,e.iconCls&&e.iconCls.length&&i.children.unshift({tag:"i",className:e.iconCls}),i.children.length&&e.children.push(i)}e.taskContent=i,e.wrapperChildren=[],n.onTaskDataGenerated(e)}},{key:"renderer",value:function(e){var t=e.row,n=e.record,r=this,i=r.getTaskBox(n);if(i){var o={top:i.top,left:i.left,width:i.width,height:i.height,taskRecord:n,task:n,row:t,children:[]};r.populateTaskRenderData(o,n);var a={className:o.wrapperCls,tabIndex:"0",children:[{className:o.cls,style:(o.internalStyle||"")+(o.style||""),children:o.children,dataset:{taskFeature:"task"},syncOptions:{syncIdField:"taskBarFeature"}}].concat(te()(o.wrapperChildren)),style:{transform:"translate(".concat(o.left,"px, ").concat(o.top,"px)"),height:o.height,width:o.width,zIndex:o.zIndex},dataset:{taskId:o.taskId},elementData:o,syncOptions:{syncIdField:"taskFeature",releaseThreshold:0}};r.gantt.trigger("beforeRenderTask",{renderData:o,domConfig:a}),r.rowMap.set(t,[a].concat(te()(o.extraConfigs)))}else r.rowMap.delete(t)}},{key:"onRenderDone",value:function(){var e=this.gantt,t=Array.from(this.rowMap.values()).flat();Cc.sync({domConfig:{onlyChildren:!0,children:t},targetElement:e.foregroundCanvas,syncIdField:"taskId",callback:function(t){var n=t.action,r=t.domConfig,i=t.lastDomConfig,o=t.element;if("none"!==n&&r&&r.className&&r.className[e.eventCls+"-wrap"]){var a=GI[n];if($I[n]&&i){var s={renderData:i.elementData,taskRecord:i.elementData.taskRecord,element:o};e.trigger("releaseTask",s)}if(a){var u={renderData:r.elementData,taskRecord:r.elementData.taskRecord,element:o};u.reusingElement="reuseElement"===n,e.trigger("renderTask",u)}}}})}},{key:"redraw",value:function(e){var t=this.gantt.rowManager.getRowFor(e);if(t){var n=t.getCell(this.gantt.timeAxisColumn.id);n&&(t.renderCell(n),this.onRenderDone())}}},{key:"visibleDateRange",get:function(){return this._visibleDateRange}}],[{key:"properties",get:function(){return{rowMap:new Map}}}]),n}(U);function UI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}YI._$name="NewTaskRendering";var qI=/-/g;function XI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function KI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var ZI={block:"nearest",edgeOffset:20};function JI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var QI=["barMargin"];function eF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function tF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}function nF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var rF=Le.mergeLocales(VT,{Object:{Save:"Save"},AddNewColumn:{"New Column":"New Column"},CalendarColumn:{Calendar:"Calendar"},EarlyStartDateColumn:{"Early Start":"Early Start"},EarlyEndDateColumn:{"Early End":"Early End"},LateStartDateColumn:{"Late Start":"Late Start"},LateEndDateColumn:{"Late End":"Late End"},TotalSlackColumn:{"Total Slack":"Total Slack"},ConstraintDateColumn:{"Constraint Date":"Constraint Date"},ConstraintTypeColumn:{"Constraint Type":"Constraint Type"},DeadlineDateColumn:{Deadline:"Deadline"},DependencyColumn:{"Invalid dependency found, change is reverted":"Invalid dependency found, change is reverted"},DurationColumn:{Duration:"Duration"},EffortColumn:{Effort:"Effort"},EndDateColumn:{Finish:"Finish"},EventModeColumn:{"Event mode":"Event mode",Manual:"Manual",Auto:"Auto"},ManuallyScheduledColumn:{"Manually scheduled":"Manually scheduled"},MilestoneColumn:{Milestone:"Milestone"},NameColumn:{Name:"Name"},NoteColumn:{Note:"Note"},PercentDoneColumn:{"% Done":"% Done"},PredecessorColumn:{Predecessors:"Predecessors"},ResourceAssignmentColumn:{"Assigned Resources":"Assigned Resources","more resources":"more resources"},RollupColumn:{Rollup:"Rollup"},SchedulingModeColumn:{"Scheduling Mode":"Scheduling Mode"},SequenceColumn:{Sequence:"Sequence"},ShowInTimelineColumn:{"Show in timeline":"Show in timeline"},StartDateColumn:{Start:"Start"},SuccessorColumn:{Successors:"Successors"},WBSColumn:{WBS:"WBS"},ProjectLines:{"Project Start":"Project start","Project End":"Project end"},TaskTooltip:{Start:"Start",End:"End",Duration:"Duration",Complete:"Complete"},AssignmentGrid:{Name:"Resource name",Units:"Units",unitsTpl:function(e){var t=e.value;return t?t+"%":""}},AssignmentEditGrid:{Name:"Resource name",Units:"Units"},Gantt:{Edit:"Edit task",Indent:"Indent",Outdent:"Outdent","Convert to milestone":"Convert to milestone",Add:"Add...","New task":"New task","New milestone":"New milestone","Task above":"Task above","Task below":"Task below","Delete task":"Delete task",Milestone:"Milestone","Sub-task":"Subtask",Successor:"Successor",Predecessor:"Predecessor",changeRejected:"Scheduling engine rejected the changes"},GanttCommon:{dependencyTypes:["SS","SF","FS","FF"]},Indicators:{earlyDates:"Early start/end",lateDates:"Late start/end",Start:"Start",End:"End",deadlineDate:"Deadline"}});Le.trimLocale(rF,{EventEdit:["Repeat"],RecurrenceCombo:{},RecurrenceConfirmationPopup:{},RecurrenceDaysCombo:{},RecurrenceEditor:{},RecurrenceFrequencyCombo:{},RecurrenceLegend:{},RecurrencePositionsCombo:{},RecurrenceStopConditionCombo:{}});function iF(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return oF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oF(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function oF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}_e.registerLocale("En",{desc:"English",locale:rF});var sF=Object.freeze({}),uF=0,cF=function(e){X()(o,e);var t,n,r,i=aF(o);function o(){return E()(this,o),i.apply(this,arguments)}return M()(o,[{key:"construct",value:function(e){var t=this,n=Boolean(e.calendars||e.taskStore||e.dependencyStore||e.resourceStore||e.assignmentStore),r=Boolean(e.calendars||e.tasks||e.dependencies||e.resources||e.assignments);e.features||(e.features={}),"tree"in e.features||(e.features.tree=!0);var i=e.project;if(i&&(n||r))throw new Error("Providing both project and inline data is not supported");i instanceof xA||(i=e.project=new xA(It.assign({calendarsData:e.calendars,eventsData:e.tasks,dependenciesData:e.dependencies,resourcesData:e.resources,assignmentsData:e.assignments,resourceStore:e.resourceStore,eventStore:e.taskStore,assignmentStore:e.assignmentStore,dependencyStore:e.dependencyStore,timeRangeStore:e.timeRangeStore},i)),delete e.resourceStore,delete e.taskStore,delete e.assignmentStore,delete e.dependencyStore,delete e.timeRangeStore,delete e.calendars,delete e.resources,delete e.tasks,delete e.assignments,delete e.dependencies),i.getEventStore().on({add:t.onTaskStoreAddOrRemove,remove:t.onTaskStoreAddOrRemove,prio:-1,thisObj:t}),i.on({eventstorechanged:t.onTaskStoreChange,refresh:t.onProjectRefresh,load:t.onProjectLoad,commit:t.onProjectCommit,prio:1e3,thisObj:t}),e.crudManager=i,ce()(Q()(o.prototype),"construct",this).call(this,e),t.features.cellEdit&&(t.features.cellEdit.addNewAtEnd={name:t.L("L{Gantt.New task}"),startDate:i.startDate,duration:1,durationUnit:t.timeAxis.unit}),t.on("taskclick",t.onTaskBarClick,t)}},{key:"onStoreUpdateRecord",value:function(e){var t,n=this;if(!this.project.isPropagating())return this.runWithTransition(function(){t=ce()(Q()(o.prototype),"onStoreUpdateRecord",n).call(n,e)}),t}},{key:"onProjectCommit",value:function(e){var t=e.records;if(this.isPainted){var n,r=this.rowManager,i=[],o=iF(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(a.isTask&&this.taskStore.isAvailable(a)){var s=r.getRowFor(a);s&&i.push(s)}}}catch(e){o.e(e)}finally{o.f()}i.sort(function(e,t){return e.index-t.index}),this.runWithTransition(function(){r.renderRows(i)})}}},{key:"onTaskStoreAddOrRemove",value:function(e){var t=e.isExpand,n=e.isCollapse;t||n||this.project.stm.isRestoring||this.project.isPropagating()||this.project.propagate()}},{key:"onProjectRefresh",value:function(){this.refreshRows();var e=this.features.dependencies;this.dependencies.forEach(function(t){return e.addToGridCache(t)})}},{key:"onProjectLoad",value:function(){!("startDate"in this.initialConfig)&&this.project.startDate&&(this.startDate=this.project.startDate)}},{key:"onTaskDataGenerated",value:function(){}},{key:"onTaskBarClick",value:function(e){var t=e.taskRecord;t.isLeaf||this.toggleCollapse(t)}},{key:"triggerChangeEvent",value:function(e,t){ce()(Q()(o.prototype),"triggerChangeEvent",this).call(this,e,t);var n=this;function r(e,t){var r=n.getElementFromTaskRecord(e);r&&r.classList[t?"add":"remove"]("b-task-selected")}"row"===e.mode&&(e.selected.map(function(e){return r(e,!0)}),e.deselected.map(function(e){return r(e,!1)}))}},{key:"toggleEmptyText",value:function(){this.bodyContainer&&yn.toggleClasses(this.bodyContainer,"b-grid-empty",!(this.rowManager.rowCount||this.project.isLoadingOrSyncing))}},{key:"getTimeSpanMouseEventParams",value:function(e,t){var n=this.resolveTaskRecord(e);return n?{taskRecord:n,taskElement:e,event:t}:null}},{key:"getScheduleMouseEventParams",value:function(e){return{taskRecord:this.store.getById(e.id)}}},{key:"resolveTimeSpanRecord",value:function(e){return this.resolveTaskRecord(e)}},{key:"repaintEventsForResource",value:function(e){this.taskRendering.redraw(e)}},{key:"addTask",value:(r=ro()(to.a.mark(function e(t){var n,r,i,o,a,s,u,c,l,f,d=arguments;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:sF,r=this,i=n.milestone,o=n.above,a=n.asChild,s=n.asPredecessor,u=n.asSuccessor,c=r.store.getProject(),l=t.parent,(f=t.copy()).name=i?"".concat(r.L("L{Gantt.New milestone}")," ").concat(++uF):"".concat(r.L("L{Gantt.New task}")," ").concat(++uF),a?t.insertChild(f,t.firstChild):o?t.parent.insertChild(f,t):l.insertChild(f,t.nextSibling),!i){e.next=11;break}return e.next=7,c.waitForPropagateCompleted();case 7:return e.next=9,f.convertToMilestone();case 9:e.next=14;break;case 11:if(c.isPropagating()){e.next=14;break}return e.next=14,c.propagate();case 14:if(u?r.dependencyStore.add({fromEvent:t,toEvent:f,type:qb.EndToStart,fromSide:"right",toSide:"left"}):s&&r.dependencyStore.add({fromEvent:f,toEvent:t,type:qb.EndToStart,fromSide:"right",toSide:"left"}),!u&&!s){e.next=18;break}return e.next=18,c.propagate();case 18:return e.abrupt("return",f);case 19:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"addTaskAbove",value:function(e){return this.addTask(e,{above:!0})}},{key:"addTaskBelow",value:function(e){return this.addTask(e)}},{key:"addMilestonBelow",value:function(e){return this.addTask(e,{milestone:!0})}},{key:"addSubtask",value:function(e){var t=this.addTask(e,{asChild:!0});return this.toggleCollapse(e,!1),t}},{key:"addSuccessor",value:function(e){return this.addTask(e,{asSuccessor:!0})}},{key:"addPredecessor",value:function(e){return this.addTask(e,{above:!0,asPredecessor:!0})}},{key:"indent",value:(n=ro()(to.a.mark(function e(t){var n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,n.taskStore.indent(t);case 3:return(r=e.sent)===rS.Canceled&&Qi.show(n.L("L{Gantt.changeRejected}")),e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"outdent",value:(t=ro()(to.a.mark(function e(t){var n,r;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this,e.next=3,n.taskStore.outdent(t);case 3:return(r=e.sent)===rS.Canceled&&Qi.show(n.L("L{Gantt.changeRejected}")),e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"isGantt",get:function(){return!0}},{key:"columns",get:function(){return ce()(Q()(o.prototype),"columns",this)},set:function(e){if(e){var t=e;Array.isArray(e)||(t=e.data,this._thisIsAUsedExpression(this.taskStore)),t.some(function(e){var t=e instanceof Ul?e.constructor:Zl.getColumnClass(e.type)||Ul;return t===IM||t.prototype instanceof IM})||t.unshift({type:"name"})}di()(Q()(o.prototype),"columns",e,this,!0)}},{key:"timeAxisViewModel",set:function(e){di()(Q()(o.prototype),"timeAxisViewModel",e,this,!0),this.taskStore&&(this.timeAxisViewModel.store=this.taskStore)},get:function(){return ce()(Q()(o.prototype),"timeAxisViewModel",this)}},{key:"currentOrientation",get:function(){var e=this;return e._currentOrientation||(e.taskRendering=e._currentOrientation=new YI(e)),e._currentOrientation}}],[{key:"$name",get:function(){return"GanttBase"}},{key:"defaultConfig",get:function(){return{project:null,resourceImageFolderPath:null,defaultResourceImageName:null,calendars:null,resources:null,tasks:null,dependencies:null,assignments:null,eventCls:"b-gantt-task",eventBarTextField:null,eventLayout:"none",eventSelectionDisable:!0,eventColor:null,eventStyle:null,rowHeight:45,scheduledEventName:"task",eventScrollMode:"move",overScheduledEventClass:"b-gantt-task-hover",mode:"horizontal",timeCellCls:"b-sch-timeaxis-cell",timeCellSelector:".b-sch-timeaxis-cell",focusCls:"b-active",durationDisplayPrecision:1,taskRenderer:null}}}]),o}(Uo(Mm).mixes(Up,function(e){return function(e){X()(n,e);var t=UI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"resolveEventRecord",value:function(e){return this.resolveTaskRecord(e)}},{key:"resolveTaskRecord",value:function(e){return(e=yn.up(e,this.eventSelector))?this.taskStore.getById(e.dataset.taskId):null}},{key:"getElementFromTaskRecord",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.taskRendering.getElementFromTaskRecord(e,t)}},{key:"getElementFromEventRecord",value:function(e){return this.getElementFromTaskRecord(e)}},{key:"getEventRenderId",value:function(e){return"".concat(this.id.toString().replace(qI,"_"),"-").concat(e.id)}},{key:"getEventData",value:function(e){var t=this.resolveTimeSpanRecord(e.target);if(t){var r=this.getCell({record:t,column:this.timeAxisColumn}),i=Ns.get(r),o=i.id,a=i.columnId;return{cellElement:r,cellData:i,columnId:a,id:o,record:t,cellSelector:{id:o,columnId:a}}}return ce()(Q()(n.prototype),"getEventData",this).call(this,e)}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=XI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getScheduleRegion",value:function(e,t){var n,r=this,i=r.timeAxisSubGridElement;if(e){var o=r.getElementFromTaskRecord(e);if(n=Wn.from(r.getRowById(e.id).getElement("locked")),o){var a=Wn.from(o,i);n.y=a.y,n.bottom=a.bottom}else n.y=n.y+r.barMargin,n.bottom=n.bottom-r.barMargin}else(n=Wn.from(i).moveTo(null,0)).width=i.scrollWidth,n.y=n.y+r.barMargin,n.bottom=n.bottom-r.barMargin;var s=r.timeAxis.startDate,u=r.timeAxis.endDate,c=r.getDateConstraints(e)||{start:s,end:u},l=n.y,f=n.bottom,d=r.getCoordinateFromDate(xt.max(s,c.start)),h=r.getCoordinateFromDate(xt.min(u,c.end));return t||(d=r.translateToPageCoordinate(d),h=r.translateToPageCoordinate(h)),{top:l,right:Math.max(d,h),bottom:f,left:Math.min(d,h)}}},{key:"translateToPageCoordinate",value:function(e){var t=this.timeAxisSubGridElement;return e+t.getBoundingClientRect().left-t.scrollLeft}},{key:"isRowVisible",value:function(e){return this.store.indexOf(e)>=0}},{key:"getTaskBox",value:function(e){var t;return(t=this.taskRendering).getTaskBox.apply(t,arguments)}},{key:"getSizeAndPosition",value:function(){var e;return(e=this.taskRendering).getSizeAndPosition.apply(e,arguments)}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=KI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"scrollTaskIntoView",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ZI,r=e.startDate,i=e.endDate,o=this;if(null==n.edgeOffset&&(n.edgeOffset=20),!e.isScheduled)return this.scrollRowIntoView(e,n);r=r||i,i=i||r;var a=r<o.timeAxis.startDate|(i>o.timeAxis.endDate)<<1;if(a&&!1!==n.extendTimeAxis){var s,u,c=o.timeAxis.endDate-o.timeAxis.startDate;3===a?o.timeAxis.setTimeSpan(new Date(r.valueOf()-c/2),new Date(i.getTime()+c/2)):(s=o.getCoordinateFromDate(1&a?i:r),1&a?o.timeAxis.setTimeSpan(new Date(r),new Date(r.valueOf()+c)):o.timeAxis.setTimeSpan(new Date(i.valueOf()-c),new Date(i)),u=1&a?o.getCoordinateFromDate(i):o.getCoordinateFromDate(r),o.timeAxisSubGrid.scrollable.scrollBy(u-s))}if(t=o.getElementFromTaskRecord(e)){var l=o.timeAxisSubGrid.scrollable;return l.scrollIntoView(t,It.assign({silent:!0},n))}return o.scrollUnrenderedTaskIntoView(e,n)}},{key:"scrollUnrenderedTaskIntoView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ZI;null==t.edgeOffset&&(t.edgeOffset=20);var n=this,r=n.timeAxisSubGrid.scrollable,i=n.getTaskBox(e),o=r.viewport,a=i.translate(o.x-r.x,o.y-r.y),s=r.scrollIntoView(a,Object.assign({},t,{highlight:!1}));if(t.highlight||t.focus)var u=n.on({renderTask:function(n){var r=n.taskRecord,i=n.element;r===e&&(u(),s=s.then(function(){t.highlight&&yn.highlight(i),t.focus&&i.focus()}))}});else s=Promise.all([s,new Promise(function(t){var r=n.on({renderTask:function(n){n.taskRecord===e&&(r(),t())}})})]);return s}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=JI(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getState",value:function(){var e=It.copyProperties(ce()(Q()(n.prototype),"getState",this).call(this),this,QI);return e.zoomLevel=this.zoomLevel,e.zoomLevelOptions={startDate:this.startDate,endDate:this.endDate,centerDate:this.viewportCenterDate,width:this.tickSize},e}},{key:"applyState",value:function(e){e.zoomLevel&&this.zoomToLevel(e.zoomLevel,e.zoomLevelOptions),It.copyProperties(this,e,QI),ce()(Q()(n.prototype),"applyState",this).call(this,e)}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=eF(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"onTaskStoreChange",value:function(e){var t=this;e.metaMapId=t.id,t.store=t.timeAxisViewModel.store=e,t.dependencyStore=this.project.dependencyStore,t.features.dependencies&&(t.features.dependencies.store=t.dependencyStore),t.currentOrientation.bindTaskStore(e)}},{key:"bindAssignmentStore",value:function(e,t){}},{key:"bindResourceStore",value:function(e,t){}},{key:"project",get:function(){return this._project},set:function(e){this._project=e,this.onTaskStoreChange(e.eventStore)}},{key:"tasks",set:function(e){this.taskStore.data=e}},{key:"eventStore",get:function(){return this.project.eventStore}},{key:"taskStore",get:function(){return this.eventStore}},{key:"assignmentStore",get:function(){return this.project.assignmentStore}},{key:"resourceStore",get:function(){return this.project.resourceStore}},{key:"widgetClass",get:function(){}}]),n}(e||U)},function(e){return function(e){X()(n,e);var t=tF(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getDisplayEndDate",value:function(e,t){return e}},{key:"widgetClass",get:function(){}}]),n}(e||U)},ak,function(e){return function(e){X()(n,e);var t=nF(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"processEvent",value:function(e){var t=yn.up(e.target,this.eventSelector);return!this.navigator.disabled&&t&&(e.taskRecord=e.eventRecord=this.resolveTaskRecord(t),"click"===e.type&&this.selectEvent(e.taskRecord,e.ctrlKey||e.metaKey)),e}},{key:"selectEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.selectRow({record:e.id,column:!1,addToSelection:t})}},{key:"deselectEvent",value:function(e){this.deselectRow(e.id)}},{key:"getNext",value:function(e){for(var t=this.taskStore,n=t.indexOf(e)+1;n<t.count;n++){var r=t.getAt(n);if(this.isInTimeAxis(r))return r}}},{key:"getPrevious",value:function(e){for(var t=this.taskStore,n=t.indexOf(e)-1;n>=0;n--){var r=t.getAt(n);if(this.isInTimeAxis(r))return r}}},{key:"navigateTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;e&&(n.navigator.disabled=!0,n.scrollTaskIntoView(e,{animate:100}).then(function(){n.navigator.disabled=!1,n.activeEvent=e,n.navigator.trigger("navigate",{event:t,item:n.getElementFromTaskRecord(e).parentNode})}))}},{key:"clearEventSelection",value:function(){this.deselectAll()}},{key:"onTaskEnterKey",value:function(){}},{key:"widgetClass",get:function(){}}],[{key:"defaultConfig",get:function(){return{navigator:{inlineFlow:!1,prevKey:"ArrowUp",nextKey:"ArrowDown",keys:{ArrowLeft:function(){},ArrowRight:function(){},Enter:"onTaskEnterKey"}}}}}]),n}(e||U)}));function lF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}cF._$name="GanttBase",ke.register("ganttbase",cF),H.setVersion("gantt","2.1.9");var fF=function(e){X()(r,e);var t,n=lF(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"construct",value:function(e,t){this.gantt=e,this.store=e.taskStore,ce()(Q()(r.prototype),"construct",this).call(this,e,t)}},{key:"isElementDraggable",value:function(e,t){var n=this.gantt,r=yn.up(e,n.eventSelector),i=n.features.taskResize;if(!r)return!1;if(e.matches('[class$="-handle"]'))return!1;var o=n.resolveTaskRecord(r);return!(!o||!o.isDraggable)&&(!(i&&!o.isMilestone&&i.resize.overAnyHandle(t,r))&&!1!==n.trigger("beforeTaskDrag",{taskRecord:o}))}},{key:"triggerEventDrag",value:function(e,t){this.gantt.trigger("taskDrag",{taskRecords:e.draggedRecords,startDate:e.startDate,endDate:e.endDate,dragData:e,changed:e.startDate-t!=0})}},{key:"getProductDragContext",value:function(e){return{valid:!0}}},{key:"setupProductDragData",value:function(e){var t=this.gantt,n=e.element,r=t.resolveTaskRecord(n),i=Wn.from(n),o=this.getRelatedRecords(r)||[],a=t.getDateConstraints(r),s=[n];this.setupConstraints(t.getScheduleRegion(r),i,t.timeAxisViewModel.snapPixelAmount,Boolean(a)),o.forEach(function(e){de.include(s,t.getElementFromTaskRecord(e,!1))});var u=[r].concat(te()(o));return{record:r,dateConstraints:a,eventBarEls:s,draggedRecords:u}}},{key:"getCoordinate",value:function(e,t,n){return n[0]}},{key:"checkDragValidity",value:function(e,t){return this.validatorFn.call(this.validatorFnThisObj||this,e.draggedRecords,e.startDate,e.duration,t)}},{key:"isValidDrop",value:function(e){return!0}},{key:"updateRecords",value:(t=ro()(to.a.mark(function e(t){var n,r,i,o;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.draggedRecords[0],r=n.startDate,i=t.startDate,o=n.setStartDate(i,!0),e.next=3,o;case 3:return n.startDate-r?this.gantt.trigger("taskDrop",{taskRecords:t.draggedRecords}):this.dragData.valid=!1,e.abrupt("return",o);case 5:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})}],[{key:"$name",get:function(){return"TaskDrag"}},{key:"defaultConfig",get:function(){return{validatorFn:function(e,t,n,r){return!0},validatorFnThisObj:null,tooltipCls:"b-gantt-taskdrag-tooltip"}}}]),r}(kg);function dF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}fF._$name="TaskDrag",Ff.registerFeature(fF,!0,"Gantt");var hF=function(e){X()(r,e);var t,n=dF(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"construct",value:function(e,t){this.gantt=e,this.store=e.taskStore,ce()(Q()(r.prototype),"construct",this).call(this,e,t)}},{key:"finalizeDragCreate",value:(t=ro()(to.a.mark(function e(t){var n;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.taskRecord).beginBatch(),n.setStartDate(t.startDate),n.setEndDate(t.endDate),n.endBatch(),e.next=7,this.gantt.project.propagate();case 7:this.gantt.trigger("dragCreateEnd",{taskRecord:n,event:t.event,proxyElement:this.proxy});case 8:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"handleBeforeDragCreate",value:function(e,t){var n=this,r=n.gantt.trigger("beforeDragCreate",{taskRecord:n.createContext.taskRecord,date:e,event:t});if(r){var i=n.gantt.features.scheduleTooltip;i&&i.hoverTip&&i.hoverTip.hide()}return n.dateConstraints=n.gantt.getDateConstraints(n.createContext.rowRecord,e),r}},{key:"checkValidity",value:function(e,t){return e.taskRecord=e.rowRecord,this.validatorFn.call(this.validatorFnThisObj||this,e,t)}},{key:"isRowEmpty",value:function(e){return!e.startDate||!e.endDate}}],[{key:"$name",get:function(){return"TaskDragCreate"}},{key:"defaultConfig",get:function(){return{preventMultiple:!0,validatorFn:function(){}}}}]),r}(zg);function pF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}hF._$name="TaskDragCreate",Ff.registerFeature(hF,!0,"Gantt");var vF=function(e){X()(n,e);var t=pF(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"getTimespanRecord",value:function(e){return e.taskRecord}},{key:"getRowRecord",value:function(e){return e.taskRecord}},{key:"setupProductResizeContext",value:function(e,t){var n=this.client,r=n.resolveTaskRecord(e.element);Object.assign(e,{taskRecord:r,dateConstraints:n.getDateConstraints(r)})}},{key:"internalUpdateRecord",value:function(e,t){var n=t.run("calculateProjectedDuration",e.startDate,e.endDate);return n===t.duration?(e.element.lastDomConfig.style.width=null,!1):(t.setDuration(n),!0)}},{key:"createResizeHelper",value:function(){var e=this,t=e.client;return new qc({name:e.constructor.name,isElementResizable:function(t,n){return e.isElementResizable(t,n)},targetSelector:t.eventSelector,resizingCls:"b-sch-event-resizing",allowResize:e.isElementResizable.bind(e),outerElement:t.timeAxisSubGridElement,scrollManager:t.scrollManager,leftHandle:!1,dragThreshold:0,dynamicHandleSize:!0,reservedSpace:5,listeners:{beforeresizestart:e.onBeforeResizeStart,resizestart:e.onResizeStart,resizing:e.onResizing,resize:e.onFinishResize,cancel:e.onCancelResize,thisObj:e},highlightHandle:function(){var e=yn.up(this.currentElement,this.targetSelector),n=yn.up(this.currentElement,t.eventInnerSelector);n&&(n.classList.add("b-resize-handle"),e.classList.add("b-over-resize-handle"))},unHighlightHandle:function(){var e=yn.up(this.currentElement,this.targetSelector);e&&e.classList.remove("b-over-resize-handle");var n=yn.up(this.currentElement,t.eventInnerSelector);n&&n.classList.remove("b-resize-handle"),this.currentElement=null}})}},{key:"store",get:function(){return this.client.taskStore}}],[{key:"$name",get:function(){return"TaskResize"}}]),n}(Ty);function gF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}vF._$name="TaskResize",Ff.registerFeature(vF,!0,"Gantt");var yF=function(e){X()(n,e);var t=gF(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,null,[{key:"$name",get:function(){return"Gantt"}}]),n}(cF);yF._$name="Gantt",ke.register("gantt",yF);function mF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var kF=function(e){X()(n,e);var t=mF(n);function n(){return E()(this,n),t.apply(this,arguments)}return M()(n,[{key:"afterConfigure",value:function(){ce()(Q()(n.prototype),"afterConfigure",this).call(this);var e=this,t=e.addButton=Ce.getById("assignmenteditgrid-add"),r=e.removeButton=Ce.getById("assignmenteditgrid-remove"),i=e.grid=Ce.getById("assignmenteditgrid-grid").grid;t&&t.on("click",e.onAddClick,e),r&&r.on("click",e.onRemoveClick,e),i.on({rowselect:function(){return r.enable()}})}}],[{key:"$name",get:function(){return"AssignmentEditGrid"}},{key:"defaultConfig",get:function(){return{id:"assignmenteditgrid",cls:"b-assignmenteditgrid",items:[{type:"button",cls:"b-add-button green",icon:"plus",id:"assignmenteditgrid-add"},{type:"button",cls:"b-remove-button red",icon:"trash",disabled:!0,id:"assignmenteditgrid-remove"},{type:"grid",id:"assignmenteditgrid-grid",storeConfig:{modelClass:tA},columns:[{field:"name",text:"L{Name}",flex:1,editor:{type:"combo",textField:"name",valueField:"id"}},{field:"units",text:"L{Units}",width:80}]}]}}}]),n}(Mi);kF._$name="AssignmentEditGrid";function bF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}var wF=function(e){X()(r,e);var t,n=bF(r);function r(){return E()(this,r),n.apply(this,arguments)}return M()(r,[{key:"construct",value:function(e){var t=this;if(t.startDateLabel=document.createElement("label"),t.startDateLabel.className="b-timeline-startdate",t.endDateLabel=document.createElement("label"),t.endDateLabel.className="b-timeline-enddate",ce()(Q()(r.prototype),"construct",this).call(this,e),!t.project)throw new Error("You need to configure the Timeline with a Project");t.project instanceof xA||(t.project=new xA(t.project)),t.taskStore=t.project.taskStore,t.features.timeRanges.store=new Ra,t.fillFromTaskStore(),t.fillFromTaskStore=t.buffer(t.fillFromTaskStore,100),t.taskStore.on({refresh:t.fillFromTaskStore,change:t.onTaskStoreChange,thisObj:t}),t.on({resize:t.onSizeChanged,thisObj:t}),t.bodyContainer.appendChild(t.startDateLabel),t.bodyContainer.appendChild(t.endDateLabel),_e.on({locale:"onLocaleChange",thisObj:t})}},{key:"onSizeChanged",value:function(e){var t=e.width,n=e.oldWidth;this.suspendRefresh(),this.updateRowHeight(),this.resumeRefresh(),t!==n&&this.fitTimeline()}},{key:"updateRowHeight",value:function(){this.rowHeight=this.bodyContainer.offsetHeight}},{key:"fitTimeline",value:function(){this.eventStore.count>0&&this.zoomToFit({leftMargin:50,rightMargin:50}),this.updateStartEndLabels()}},{key:"updateStartEndLabels",value:function(){var e=this;e.startDateLabel.innerHTML=e.getFormattedDate(e.startDate),e.endDateLabel.innerHTML=e.getFormattedDate(e.endDate)}},{key:"onTaskStoreChange",value:(t=ro()(to.a.mark(function e(t){var n,r,i,o,a,s;return to.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=(n=this).eventStore,e.t0=t.action,e.next="add"===e.t0?4:"remove"===e.t0?6:"removeall"===e.t0?8:"update"===e.t0?10:13;break;case 4:return t.records.forEach(function(e){e.showInTimeline&&(r.add(n.cloneTask(e)),i=!0)}),e.abrupt("break",13);case 6:return t.isCollapse||t.records.forEach(function(e){e.showInTimeline&&(r.remove(e.id),i=!0)}),e.abrupt("break",13);case 8:return n.fillFromTaskStore(),e.abrupt("break",13);case 10:return o=t.record,t.changes.showInTimeline?(o.showInTimeline?r.add(n.cloneTask(o)):r.remove(r.getById(o.id)),i=!0):o.showInTimeline&&(a=r.getById(o.id))&&(delete(s=Object.assign({},o.data)).expanded,a.set(s),i=!0),e.abrupt("break",13);case 13:i&&n.fitTimeline();case 14:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"cloneTask",value:function(e){return{id:e.id,resourceId:1,startDate:e.startDate,endDate:e.endDate,duration:e.duration,durationUnit:e.durationUnit,name:e.name}}},{key:"render",value:function(){ce()(Q()(r.prototype),"render",this).call(this),this.updateRowHeight()}},{key:"fillFromTaskStore",value:function(){var e=this,t=[];e.taskStore.traverse(function(n){n.showInTimeline&&n.isScheduled&&t.push(e.cloneTask(n))}),e.suspendRefresh(),e.events=t,e.resumeRefresh(),e.fitTimeline()}},{key:"onLocaleChange",value:function(){this.updateStartEndLabels()}}],[{key:"$name",get:function(){return"Timeline"}},{key:"type",get:function(){return"timeline"}},{key:"defaultConfig",get:function(){return{height:"13em",eventLayout:"pack",barMargin:1,readOnly:!0,forceFit:!0,zoomOnMouseWheel:!1,zoomOnTimeAxisDoubleClick:!1,eventColor:null,eventStyle:null,rowHeight:48,displayDateFormat:"L",features:{columnLines:!1,eventContextMenu:!1,contextMenu:!1,scheduleContextMenu:!1,timeRanges:{showCurrentTimeLine:!0}},resources:[{id:1}],columns:[]}}}]),r}(Yk);function SF(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return DF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DF(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function DF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Q()(e);if(t){var i=Q()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z()(this,n)}}wF._$name="Timeline",ke.register(wF.type,wF);var CF=function(e){X()(n,e);var t=RF(n);function n(){var e;E()(this,n),e=t.call(this);var r,i,o=kf()(e),a=[],s={},u=SF(o.children);try{for(u.s();!(i=u.n()).done;){var c=i.value;if("COLUMN"===c.tagName){var l=parseInt(c.dataset.width),f=parseInt(c.dataset.flex),d={field:c.dataset.field,text:c.innerHTML,type:c.dataset.type};l?d.width=l:d.flex=f||1,a.push(d)}else if("PROJECT"===c.tagName)r=new xA({transport:{load:{url:c.dataset.loadUrl}}});else if("FEATURE"===c.tagName){var h=c.dataset.name,p=Object.assign({},c.dataset);delete p.name,Object.keys(p).length?s[h]=p:s[h]="false"!==c.textContent}}}catch(e){u.e(e)}finally{u.f()}var v=Object.assign({},o.dataset),g=v.theme||"stockholm",y=e.attachShadow({mode:"open"}),m=document.createElement("link");return delete v.theme,m.rel="stylesheet",m.href="../../build/gantt.".concat(g,".css"),m.onload=function(){var e=document.createElement("div");e.id="container",e.style.width="100%",e.style.height="100%",y.appendChild(e),ui(y),Object.assign(v,{appendTo:e,columns:a,features:s,project:r});var t=new yF(v);r instanceof xA&&r.load(),window.gantt||(window.gantt=t)},y.appendChild(m),e}return n}(window.customElements?HTMLElement:Object);try{window.customElements&&window.customElements.define("bryntum-gantt",CF)}catch(e){}CF._$name="GanttTag";window.bryntum||(window.bryntum={})}])});(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s="./docs/browser/app.js")})({"../node_modules/@babel/runtime/helpers/arrayLikeToArray.js":function(module,exports){function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}module.exports=_arrayLikeToArray},"../node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(module,exports){function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}module.exports=_arrayWithHoles},"../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(module,exports,__webpack_require__){var arrayLikeToArray=__webpack_require__("../node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function _arrayWithoutHoles(arr){if(Array.isArray(arr))return arrayLikeToArray(arr)}module.exports=_arrayWithoutHoles},"../node_modules/@babel/runtime/helpers/assertThisInitialized.js":function(module,exports){function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}module.exports=_assertThisInitialized},"../node_modules/@babel/runtime/helpers/classCallCheck.js":function(module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}module.exports=_classCallCheck},"../node_modules/@babel/runtime/helpers/createClass.js":function(module,exports){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}module.exports=_createClass},"../node_modules/@babel/runtime/helpers/get.js":function(module,exports,__webpack_require__){var superPropBase=__webpack_require__("../node_modules/@babel/runtime/helpers/superPropBase.js");function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){module.exports=_get=Reflect.get}else{module.exports=_get=function _get(target,property,receiver){var base=superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}module.exports=_get},"../node_modules/@babel/runtime/helpers/getPrototypeOf.js":function(module,exports){function _getPrototypeOf(o){module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}module.exports=_getPrototypeOf},"../node_modules/@babel/runtime/helpers/inherits.js":function(module,exports,__webpack_require__){var setPrototypeOf=__webpack_require__("../node_modules/@babel/runtime/helpers/setPrototypeOf.js");function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)setPrototypeOf(subClass,superClass)}module.exports=_inherits},"../node_modules/@babel/runtime/helpers/iterableToArray.js":function(module,exports){function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter)}module.exports=_iterableToArray},"../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(module,exports){function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}module.exports=_iterableToArrayLimit},"../node_modules/@babel/runtime/helpers/nonIterableRest.js":function(module,exports){function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=_nonIterableRest},"../node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(module,exports){function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=_nonIterableSpread},"../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js":function(module,exports,__webpack_require__){var _typeof=__webpack_require__("../node_modules/@babel/runtime/helpers/typeof.js");var assertThisInitialized=__webpack_require__("../node_modules/@babel/runtime/helpers/assertThisInitialized.js");function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return assertThisInitialized(self)}module.exports=_possibleConstructorReturn},"../node_modules/@babel/runtime/helpers/setPrototypeOf.js":function(module,exports){function _setPrototypeOf(o,p){module.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}module.exports=_setPrototypeOf},"../node_modules/@babel/runtime/helpers/slicedToArray.js":function(module,exports,__webpack_require__){var arrayWithHoles=__webpack_require__("../node_modules/@babel/runtime/helpers/arrayWithHoles.js");var iterableToArrayLimit=__webpack_require__("../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js");var unsupportedIterableToArray=__webpack_require__("../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js");var nonIterableRest=__webpack_require__("../node_modules/@babel/runtime/helpers/nonIterableRest.js");function _slicedToArray(arr,i){return arrayWithHoles(arr)||iterableToArrayLimit(arr,i)||unsupportedIterableToArray(arr,i)||nonIterableRest()}module.exports=_slicedToArray},"../node_modules/@babel/runtime/helpers/superPropBase.js":function(module,exports,__webpack_require__){var getPrototypeOf=__webpack_require__("../node_modules/@babel/runtime/helpers/getPrototypeOf.js");function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=getPrototypeOf(object);if(object===null)break}return object}module.exports=_superPropBase},"../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js":function(module,exports){function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0)}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}module.exports=_taggedTemplateLiteral},"../node_modules/@babel/runtime/helpers/toConsumableArray.js":function(module,exports,__webpack_require__){var arrayWithoutHoles=__webpack_require__("../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js");var iterableToArray=__webpack_require__("../node_modules/@babel/runtime/helpers/iterableToArray.js");var unsupportedIterableToArray=__webpack_require__("../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js");var nonIterableSpread=__webpack_require__("../node_modules/@babel/runtime/helpers/nonIterableSpread.js");function _toConsumableArray(arr){return arrayWithoutHoles(arr)||iterableToArray(arr)||unsupportedIterableToArray(arr)||nonIterableSpread()}module.exports=_toConsumableArray},"../node_modules/@babel/runtime/helpers/typeof.js":function(module,exports){function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){module.exports=_typeof=function _typeof(obj){return typeof obj}}else{module.exports=_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}module.exports=_typeof},"../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(module,exports,__webpack_require__){var arrayLikeToArray=__webpack_require__("../node_modules/@babel/runtime/helpers/arrayLikeToArray.js");function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return arrayLikeToArray(o,minLen)}module.exports=_unsupportedIterableToArray},"../node_modules/core-js/internals/a-function.js":function(module,exports){module.exports=function(it){if(typeof it!="function"){throw TypeError(String(it)+" is not a function")}return it}},"../node_modules/core-js/internals/a-possible-prototype.js":function(module,exports,__webpack_require__){var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");module.exports=function(it){if(!isObject(it)&&it!==null){throw TypeError("Can't set "+String(it)+" as a prototype")}return it}},"../node_modules/core-js/internals/add-to-unscopables.js":function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var create=__webpack_require__("../node_modules/core-js/internals/object-create.js");var definePropertyModule=__webpack_require__("../node_modules/core-js/internals/object-define-property.js");var UNSCOPABLES=wellKnownSymbol("unscopables");var ArrayPrototype=Array.prototype;if(ArrayPrototype[UNSCOPABLES]==undefined){definePropertyModule.f(ArrayPrototype,UNSCOPABLES,{configurable:true,value:create(null)})}module.exports=function(key){ArrayPrototype[UNSCOPABLES][key]=true}},"../node_modules/core-js/internals/advance-string-index.js":function(module,exports,__webpack_require__){"use strict";var charAt=__webpack_require__("../node_modules/core-js/internals/string-multibyte.js").charAt;module.exports=function(S,index,unicode){return index+(unicode?charAt(S,index).length:1)}},"../node_modules/core-js/internals/an-instance.js":function(module,exports){module.exports=function(it,Constructor,name){if(!(it instanceof Constructor)){throw TypeError("Incorrect "+(name?name+" ":"")+"invocation")}return it}},"../node_modules/core-js/internals/an-object.js":function(module,exports,__webpack_require__){var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");module.exports=function(it){if(!isObject(it)){throw TypeError(String(it)+" is not an object")}return it}},"../node_modules/core-js/internals/array-for-each.js":function(module,exports,__webpack_require__){"use strict";var $forEach=__webpack_require__("../node_modules/core-js/internals/array-iteration.js").forEach;var arrayMethodIsStrict=__webpack_require__("../node_modules/core-js/internals/array-method-is-strict.js");var arrayMethodUsesToLength=__webpack_require__("../node_modules/core-js/internals/array-method-uses-to-length.js");var STRICT_METHOD=arrayMethodIsStrict("forEach");var USES_TO_LENGTH=arrayMethodUsesToLength("forEach");module.exports=!STRICT_METHOD||!USES_TO_LENGTH?function forEach(callbackfn){return $forEach(this,callbackfn,arguments.length>1?arguments[1]:undefined)}:[].forEach},"../node_modules/core-js/internals/array-from.js":function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__("../node_modules/core-js/internals/function-bind-context.js");var toObject=__webpack_require__("../node_modules/core-js/internals/to-object.js");var callWithSafeIterationClosing=__webpack_require__("../node_modules/core-js/internals/call-with-safe-iteration-closing.js");var isArrayIteratorMethod=__webpack_require__("../node_modules/core-js/internals/is-array-iterator-method.js");var toLength=__webpack_require__("../node_modules/core-js/internals/to-length.js");var createProperty=__webpack_require__("../node_modules/core-js/internals/create-property.js");var getIteratorMethod=__webpack_require__("../node_modules/core-js/internals/get-iterator-method.js");module.exports=function from(arrayLike){var O=toObject(arrayLike);var C=typeof this=="function"?this:Array;var argumentsLength=arguments.length;var mapfn=argumentsLength>1?arguments[1]:undefined;var mapping=mapfn!==undefined;var iteratorMethod=getIteratorMethod(O);var index=0;var length,result,step,iterator,next,value;if(mapping)mapfn=bind(mapfn,argumentsLength>2?arguments[2]:undefined,2);if(iteratorMethod!=undefined&&!(C==Array&&isArrayIteratorMethod(iteratorMethod))){iterator=iteratorMethod.call(O);next=iterator.next;result=new C;for(;!(step=next.call(iterator)).done;index++){value=mapping?callWithSafeIterationClosing(iterator,mapfn,[step.value,index],true):step.value;createProperty(result,index,value)}}else{length=toLength(O.length);result=new C(length);for(;length>index;index++){value=mapping?mapfn(O[index],index):O[index];createProperty(result,index,value)}}result.length=index;return result}},"../node_modules/core-js/internals/array-includes.js":function(module,exports,__webpack_require__){var toIndexedObject=__webpack_require__("../node_modules/core-js/internals/to-indexed-object.js");var toLength=__webpack_require__("../node_modules/core-js/internals/to-length.js");var toAbsoluteIndex=__webpack_require__("../node_modules/core-js/internals/to-absolute-index.js");var createMethod=function(IS_INCLUDES){return function($this,el,fromIndex){var O=toIndexedObject($this);var length=toLength(O.length);var index=toAbsoluteIndex(fromIndex,length);var value;if(IS_INCLUDES&&el!=el)while(length>index){value=O[index++];if(value!=value)return true}else for(;length>index;index++){if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0}return!IS_INCLUDES&&-1}};module.exports={includes:createMethod(true),indexOf:createMethod(false)}},"../node_modules/core-js/internals/array-iteration.js":function(module,exports,__webpack_require__){var bind=__webpack_require__("../node_modules/core-js/internals/function-bind-context.js");var IndexedObject=__webpack_require__("../node_modules/core-js/internals/indexed-object.js");var toObject=__webpack_require__("../node_modules/core-js/internals/to-object.js");var toLength=__webpack_require__("../node_modules/core-js/internals/to-length.js");var arraySpeciesCreate=__webpack_require__("../node_modules/core-js/internals/array-species-create.js");var push=[].push;var createMethod=function(TYPE){var IS_MAP=TYPE==1;var IS_FILTER=TYPE==2;var IS_SOME=TYPE==3;var IS_EVERY=TYPE==4;var IS_FIND_INDEX=TYPE==6;var NO_HOLES=TYPE==5||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){var O=toObject($this);var self=IndexedObject(O);var boundFunction=bind(callbackfn,that,3);var length=toLength(self.length);var index=0;var create=specificCreate||arraySpeciesCreate;var target=IS_MAP?create($this,length):IS_FILTER?create($this,0):undefined;var value,result;for(;length>index;index++)if(NO_HOLES||index in self){value=self[index];result=boundFunction(value,index,O);if(TYPE){if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return true;case 5:return value;case 6:return index;case 2:push.call(target,value)}else if(IS_EVERY)return false}}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}};module.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6)}},"../node_modules/core-js/internals/array-last-index-of.js":function(module,exports,__webpack_require__){"use strict";var toIndexedObject=__webpack_require__("../node_modules/core-js/internals/to-indexed-object.js");var toInteger=__webpack_require__("../node_modules/core-js/internals/to-integer.js");var toLength=__webpack_require__("../node_modules/core-js/internals/to-length.js");var arrayMethodIsStrict=__webpack_require__("../node_modules/core-js/internals/array-method-is-strict.js");var arrayMethodUsesToLength=__webpack_require__("../node_modules/core-js/internals/array-method-uses-to-length.js");var min=Math.min;var nativeLastIndexOf=[].lastIndexOf;var NEGATIVE_ZERO=!!nativeLastIndexOf&&1/[1].lastIndexOf(1,-0)<0;var STRICT_METHOD=arrayMethodIsStrict("lastIndexOf");var USES_TO_LENGTH=arrayMethodUsesToLength("indexOf",{ACCESSORS:true,1:0});var FORCED=NEGATIVE_ZERO||!STRICT_METHOD||!USES_TO_LENGTH;module.exports=FORCED?function lastIndexOf(searchElement){if(NEGATIVE_ZERO)return nativeLastIndexOf.apply(this,arguments)||0;var O=toIndexedObject(this);var length=toLength(O.length);var index=length-1;if(arguments.length>1)index=min(index,toInteger(arguments[1]));if(index<0)index=length+index;for(;index>=0;index--)if(index in O&&O[index]===searchElement)return index||0;return-1}:nativeLastIndexOf},"../node_modules/core-js/internals/array-method-has-species-support.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var V8_VERSION=__webpack_require__("../node_modules/core-js/internals/engine-v8-version.js");var SPECIES=wellKnownSymbol("species");module.exports=function(METHOD_NAME){return V8_VERSION>=51||!fails(function(){var array=[];var constructor=array.constructor={};constructor[SPECIES]=function(){return{foo:1}};return array[METHOD_NAME](Boolean).foo!==1})}},"../node_modules/core-js/internals/array-method-is-strict.js":function(module,exports,__webpack_require__){"use strict";var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");module.exports=function(METHOD_NAME,argument){var method=[][METHOD_NAME];return!!method&&fails(function(){method.call(null,argument||function(){throw 1},1)})}},"../node_modules/core-js/internals/array-method-uses-to-length.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("../node_modules/core-js/internals/descriptors.js");var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var has=__webpack_require__("../node_modules/core-js/internals/has.js");var defineProperty=Object.defineProperty;var cache={};var thrower=function(it){throw it};module.exports=function(METHOD_NAME,options){if(has(cache,METHOD_NAME))return cache[METHOD_NAME];if(!options)options={};var method=[][METHOD_NAME];var ACCESSORS=has(options,"ACCESSORS")?options.ACCESSORS:false;var argument0=has(options,0)?options[0]:thrower;var argument1=has(options,1)?options[1]:undefined;return cache[METHOD_NAME]=!!method&&!fails(function(){if(ACCESSORS&&!DESCRIPTORS)return true;var O={length:-1};if(ACCESSORS)defineProperty(O,1,{enumerable:true,get:thrower});else O[1]=1;method.call(O,argument0,argument1)})}},"../node_modules/core-js/internals/array-species-create.js":function(module,exports,__webpack_require__){var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");var isArray=__webpack_require__("../node_modules/core-js/internals/is-array.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var SPECIES=wellKnownSymbol("species");module.exports=function(originalArray,length){var C;if(isArray(originalArray)){C=originalArray.constructor;if(typeof C=="function"&&(C===Array||isArray(C.prototype)))C=undefined;else if(isObject(C)){C=C[SPECIES];if(C===null)C=undefined}}return new(C===undefined?Array:C)(length===0?0:length)}},"../node_modules/core-js/internals/call-with-safe-iteration-closing.js":function(module,exports,__webpack_require__){var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");module.exports=function(iterator,fn,value,ENTRIES){try{return ENTRIES?fn(anObject(value)[0],value[1]):fn(value)}catch(error){var returnMethod=iterator["return"];if(returnMethod!==undefined)anObject(returnMethod.call(iterator));throw error}}},"../node_modules/core-js/internals/check-correctness-of-iteration.js":function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var ITERATOR=wellKnownSymbol("iterator");var SAFE_CLOSING=false;try{var called=0;var iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=true}};iteratorWithReturn[ITERATOR]=function(){return this};Array.from(iteratorWithReturn,function(){throw 2})}catch(error){}module.exports=function(exec,SKIP_CLOSING){if(!SKIP_CLOSING&&!SAFE_CLOSING)return false;var ITERATION_SUPPORT=false;try{var object={};object[ITERATOR]=function(){return{next:function(){return{done:ITERATION_SUPPORT=true}}}};exec(object)}catch(error){}return ITERATION_SUPPORT}},"../node_modules/core-js/internals/classof-raw.js":function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},"../node_modules/core-js/internals/classof.js":function(module,exports,__webpack_require__){var TO_STRING_TAG_SUPPORT=__webpack_require__("../node_modules/core-js/internals/to-string-tag-support.js");var classofRaw=__webpack_require__("../node_modules/core-js/internals/classof-raw.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var TO_STRING_TAG=wellKnownSymbol("toStringTag");var CORRECT_ARGUMENTS=classofRaw(function(){return arguments}())=="Arguments";var tryGet=function(it,key){try{return it[key]}catch(error){}};module.exports=TO_STRING_TAG_SUPPORT?classofRaw:function(it){var O,tag,result;return it===undefined?"Undefined":it===null?"Null":typeof(tag=tryGet(O=Object(it),TO_STRING_TAG))=="string"?tag:CORRECT_ARGUMENTS?classofRaw(O):(result=classofRaw(O))=="Object"&&typeof O.callee=="function"?"Arguments":result}},"../node_modules/core-js/internals/copy-constructor-properties.js":function(module,exports,__webpack_require__){var has=__webpack_require__("../node_modules/core-js/internals/has.js");var ownKeys=__webpack_require__("../node_modules/core-js/internals/own-keys.js");var getOwnPropertyDescriptorModule=__webpack_require__("../node_modules/core-js/internals/object-get-own-property-descriptor.js");var definePropertyModule=__webpack_require__("../node_modules/core-js/internals/object-define-property.js");module.exports=function(target,source){var keys=ownKeys(source);var defineProperty=definePropertyModule.f;var getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f;for(var i=0;i<keys.length;i++){var key=keys[i];if(!has(target,key))defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},"../node_modules/core-js/internals/correct-is-regexp-logic.js":function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var MATCH=wellKnownSymbol("match");module.exports=function(METHOD_NAME){var regexp=/./;try{"/./"[METHOD_NAME](regexp)}catch(e){try{regexp[MATCH]=false;return"/./"[METHOD_NAME](regexp)}catch(f){}}return false}},"../node_modules/core-js/internals/correct-prototype-getter.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");module.exports=!fails(function(){function F(){}F.prototype.constructor=null;return Object.getPrototypeOf(new F)!==F.prototype})},"../node_modules/core-js/internals/create-iterator-constructor.js":function(module,exports,__webpack_require__){"use strict";var IteratorPrototype=__webpack_require__("../node_modules/core-js/internals/iterators-core.js").IteratorPrototype;var create=__webpack_require__("../node_modules/core-js/internals/object-create.js");var createPropertyDescriptor=__webpack_require__("../node_modules/core-js/internals/create-property-descriptor.js");var setToStringTag=__webpack_require__("../node_modules/core-js/internals/set-to-string-tag.js");var Iterators=__webpack_require__("../node_modules/core-js/internals/iterators.js");var returnThis=function(){return this};module.exports=function(IteratorConstructor,NAME,next){var TO_STRING_TAG=NAME+" Iterator";IteratorConstructor.prototype=create(IteratorPrototype,{next:createPropertyDescriptor(1,next)});setToStringTag(IteratorConstructor,TO_STRING_TAG,false,true);Iterators[TO_STRING_TAG]=returnThis;return IteratorConstructor}},"../node_modules/core-js/internals/create-non-enumerable-property.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("../node_modules/core-js/internals/descriptors.js");var definePropertyModule=__webpack_require__("../node_modules/core-js/internals/object-define-property.js");var createPropertyDescriptor=__webpack_require__("../node_modules/core-js/internals/create-property-descriptor.js");module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){object[key]=value;return object}},"../node_modules/core-js/internals/create-property-descriptor.js":function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value:value}}},"../node_modules/core-js/internals/create-property.js":function(module,exports,__webpack_require__){"use strict";var toPrimitive=__webpack_require__("../node_modules/core-js/internals/to-primitive.js");var definePropertyModule=__webpack_require__("../node_modules/core-js/internals/object-define-property.js");var createPropertyDescriptor=__webpack_require__("../node_modules/core-js/internals/create-property-descriptor.js");module.exports=function(object,key,value){var propertyKey=toPrimitive(key);if(propertyKey in object)definePropertyModule.f(object,propertyKey,createPropertyDescriptor(0,value));else object[propertyKey]=value}},"../node_modules/core-js/internals/define-iterator.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var createIteratorConstructor=__webpack_require__("../node_modules/core-js/internals/create-iterator-constructor.js");var getPrototypeOf=__webpack_require__("../node_modules/core-js/internals/object-get-prototype-of.js");var setPrototypeOf=__webpack_require__("../node_modules/core-js/internals/object-set-prototype-of.js");var setToStringTag=__webpack_require__("../node_modules/core-js/internals/set-to-string-tag.js");var createNonEnumerableProperty=__webpack_require__("../node_modules/core-js/internals/create-non-enumerable-property.js");var redefine=__webpack_require__("../node_modules/core-js/internals/redefine.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var IS_PURE=__webpack_require__("../node_modules/core-js/internals/is-pure.js");var Iterators=__webpack_require__("../node_modules/core-js/internals/iterators.js");var IteratorsCore=__webpack_require__("../node_modules/core-js/internals/iterators-core.js");var IteratorPrototype=IteratorsCore.IteratorPrototype;var BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS;var ITERATOR=wellKnownSymbol("iterator");var KEYS="keys";var VALUES="values";var ENTRIES="entries";var returnThis=function(){return this};module.exports=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case KEYS:return function keys(){return new IteratorConstructor(this,KIND)};case VALUES:return function values(){return new IteratorConstructor(this,KIND)};case ENTRIES:return function entries(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}};var TO_STRING_TAG=NAME+" Iterator";var INCORRECT_VALUES_NAME=false;var IterablePrototype=Iterable.prototype;var nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT];var defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT);var anyNativeIterator=NAME=="Array"?IterablePrototype.entries||nativeIterator:nativeIterator;var CurrentIteratorPrototype,methods,KEY;if(anyNativeIterator){CurrentIteratorPrototype=getPrototypeOf(anyNativeIterator.call(new Iterable));if(IteratorPrototype!==Object.prototype&&CurrentIteratorPrototype.next){if(!IS_PURE&&getPrototypeOf(CurrentIteratorPrototype)!==IteratorPrototype){if(setPrototypeOf){setPrototypeOf(CurrentIteratorPrototype,IteratorPrototype)}else if(typeof CurrentIteratorPrototype[ITERATOR]!="function"){createNonEnumerableProperty(CurrentIteratorPrototype,ITERATOR,returnThis)}}setToStringTag(CurrentIteratorPrototype,TO_STRING_TAG,true,true);if(IS_PURE)Iterators[TO_STRING_TAG]=returnThis}}if(DEFAULT==VALUES&&nativeIterator&&nativeIterator.name!==VALUES){INCORRECT_VALUES_NAME=true;defaultIterator=function values(){return nativeIterator.call(this)}}if((!IS_PURE||FORCED)&&IterablePrototype[ITERATOR]!==defaultIterator){createNonEnumerableProperty(IterablePrototype,ITERATOR,defaultIterator)}Iterators[NAME]=defaultIterator;if(DEFAULT){methods={values:getIterationMethod(VALUES),keys:IS_SET?defaultIterator:getIterationMethod(KEYS),entries:getIterationMethod(ENTRIES)};if(FORCED)for(KEY in methods){if(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype)){redefine(IterablePrototype,KEY,methods[KEY])}}else $({target:NAME,proto:true,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods)}return methods}},"../node_modules/core-js/internals/define-well-known-symbol.js":function(module,exports,__webpack_require__){var path=__webpack_require__("../node_modules/core-js/internals/path.js");var has=__webpack_require__("../node_modules/core-js/internals/has.js");var wrappedWellKnownSymbolModule=__webpack_require__("../node_modules/core-js/internals/well-known-symbol-wrapped.js");var defineProperty=__webpack_require__("../node_modules/core-js/internals/object-define-property.js").f;module.exports=function(NAME){var Symbol=path.Symbol||(path.Symbol={});if(!has(Symbol,NAME))defineProperty(Symbol,NAME,{value:wrappedWellKnownSymbolModule.f(NAME)})}},"../node_modules/core-js/internals/descriptors.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");module.exports=!fails(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},"../node_modules/core-js/internals/document-create-element.js":function(module,exports,__webpack_require__){var global=__webpack_require__("../node_modules/core-js/internals/global.js");var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");var document=global.document;var EXISTS=isObject(document)&&isObject(document.createElement);module.exports=function(it){return EXISTS?document.createElement(it):{}}},"../node_modules/core-js/internals/dom-iterables.js":function(module,exports){module.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},"../node_modules/core-js/internals/engine-user-agent.js":function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__("../node_modules/core-js/internals/get-built-in.js");module.exports=getBuiltIn("navigator","userAgent")||""},"../node_modules/core-js/internals/engine-v8-version.js":function(module,exports,__webpack_require__){var global=__webpack_require__("../node_modules/core-js/internals/global.js");var userAgent=__webpack_require__("../node_modules/core-js/internals/engine-user-agent.js");var process=global.process;var versions=process&&process.versions;var v8=versions&&versions.v8;var match,version;if(v8){match=v8.split(".");version=match[0]+match[1]}else if(userAgent){match=userAgent.match(/Edge\/(\d+)/);if(!match||match[1]>=74){match=userAgent.match(/Chrome\/(\d+)/);if(match)version=match[1]}}module.exports=version&&+version},"../node_modules/core-js/internals/enum-bug-keys.js":function(module,exports){module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"../node_modules/core-js/internals/export.js":function(module,exports,__webpack_require__){var global=__webpack_require__("../node_modules/core-js/internals/global.js");var getOwnPropertyDescriptor=__webpack_require__("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f;var createNonEnumerableProperty=__webpack_require__("../node_modules/core-js/internals/create-non-enumerable-property.js");var redefine=__webpack_require__("../node_modules/core-js/internals/redefine.js");var setGlobal=__webpack_require__("../node_modules/core-js/internals/set-global.js");var copyConstructorProperties=__webpack_require__("../node_modules/core-js/internals/copy-constructor-properties.js");var isForced=__webpack_require__("../node_modules/core-js/internals/is-forced.js");module.exports=function(options,source){var TARGET=options.target;var GLOBAL=options.global;var STATIC=options.stat;var FORCED,target,key,targetProperty,sourceProperty,descriptor;if(GLOBAL){target=global}else if(STATIC){target=global[TARGET]||setGlobal(TARGET,{})}else{target=(global[TARGET]||{}).prototype}if(target)for(key in source){sourceProperty=source[key];if(options.noTargetGet){descriptor=getOwnPropertyDescriptor(target,key);targetProperty=descriptor&&descriptor.value}else targetProperty=target[key];FORCED=isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced);if(!FORCED&&targetProperty!==undefined){if(typeof sourceProperty===typeof targetProperty)continue;copyConstructorProperties(sourceProperty,targetProperty)}if(options.sham||targetProperty&&targetProperty.sham){createNonEnumerableProperty(sourceProperty,"sham",true)}redefine(target,key,sourceProperty,options)}}},"../node_modules/core-js/internals/fails.js":function(module,exports){module.exports=function(exec){try{return!!exec()}catch(error){return true}}},"../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("../node_modules/core-js/modules/es.regexp.exec.js");var redefine=__webpack_require__("../node_modules/core-js/internals/redefine.js");var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var regexpExec=__webpack_require__("../node_modules/core-js/internals/regexp-exec.js");var createNonEnumerableProperty=__webpack_require__("../node_modules/core-js/internals/create-non-enumerable-property.js");var SPECIES=wellKnownSymbol("species");var REPLACE_SUPPORTS_NAMED_GROUPS=!fails(function(){var re=/./;re.exec=function(){var result=[];result.groups={a:"7"};return result};return"".replace(re,"$<a>")!=="7"});var REPLACE_KEEPS_$0=function(){return"a".replace(/./,"$0")==="$0"}();var REPLACE=wellKnownSymbol("replace");var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=function(){if(/./[REPLACE]){return/./[REPLACE]("a","$0")===""}return false}();var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=!fails(function(){var re=/(?:)/;var originalExec=re.exec;re.exec=function(){return originalExec.apply(this,arguments)};var result="ab".split(re);return result.length!==2||result[0]!=="a"||result[1]!=="b"});module.exports=function(KEY,length,exec,sham){var SYMBOL=wellKnownSymbol(KEY);var DELEGATES_TO_SYMBOL=!fails(function(){var O={};O[SYMBOL]=function(){return 7};return""[KEY](O)!=7});var DELEGATES_TO_EXEC=DELEGATES_TO_SYMBOL&&!fails(function(){var execCalled=false;var re=/a/;if(KEY==="split"){re={};re.constructor={};re.constructor[SPECIES]=function(){return re};re.flags="";re[SYMBOL]=/./[SYMBOL]}re.exec=function(){execCalled=true;return null};re[SYMBOL]("");return!execCalled});if(!DELEGATES_TO_SYMBOL||!DELEGATES_TO_EXEC||KEY==="replace"&&!(REPLACE_SUPPORTS_NAMED_GROUPS&&REPLACE_KEEPS_$0&&!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE)||KEY==="split"&&!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC){var nativeRegExpMethod=/./[SYMBOL];var methods=exec(SYMBOL,""[KEY],function(nativeMethod,regexp,str,arg2,forceStringMethod){if(regexp.exec===regexpExec){if(DELEGATES_TO_SYMBOL&&!forceStringMethod){return{done:true,value:nativeRegExpMethod.call(regexp,str,arg2)}}return{done:true,value:nativeMethod.call(str,regexp,arg2)}}return{done:false}},{REPLACE_KEEPS_$0:REPLACE_KEEPS_$0,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE});var stringMethod=methods[0];var regexMethod=methods[1];redefine(String.prototype,KEY,stringMethod);redefine(RegExp.prototype,SYMBOL,length==2?function(string,arg){return regexMethod.call(string,this,arg)}:function(string){return regexMethod.call(string,this)})}if(sham)createNonEnumerableProperty(RegExp.prototype[SYMBOL],"sham",true)}},"../node_modules/core-js/internals/function-bind-context.js":function(module,exports,__webpack_require__){var aFunction=__webpack_require__("../node_modules/core-js/internals/a-function.js");module.exports=function(fn,that,length){aFunction(fn);if(that===undefined)return fn;switch(length){case 0:return function(){return fn.call(that)};case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},"../node_modules/core-js/internals/function-bind.js":function(module,exports,__webpack_require__){"use strict";var aFunction=__webpack_require__("../node_modules/core-js/internals/a-function.js");var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");var slice=[].slice;var factories={};var construct=function(C,argsLength,args){if(!(argsLength in factories)){for(var list=[],i=0;i<argsLength;i++)list[i]="a["+i+"]";factories[argsLength]=Function("C,a","return new C("+list.join(",")+")")}return factories[argsLength](C,args)};module.exports=Function.bind||function bind(that){var fn=aFunction(this);var partArgs=slice.call(arguments,1);var boundFunction=function bound(){var args=partArgs.concat(slice.call(arguments));return this instanceof boundFunction?construct(fn,args.length,args):fn.apply(that,args)};if(isObject(fn.prototype))boundFunction.prototype=fn.prototype;return boundFunction}},"../node_modules/core-js/internals/get-built-in.js":function(module,exports,__webpack_require__){var path=__webpack_require__("../node_modules/core-js/internals/path.js");var global=__webpack_require__("../node_modules/core-js/internals/global.js");var aFunction=function(variable){return typeof variable=="function"?variable:undefined};module.exports=function(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(global[namespace]):path[namespace]&&path[namespace][method]||global[namespace]&&global[namespace][method]}},"../node_modules/core-js/internals/get-iterator-method.js":function(module,exports,__webpack_require__){var classof=__webpack_require__("../node_modules/core-js/internals/classof.js");var Iterators=__webpack_require__("../node_modules/core-js/internals/iterators.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var ITERATOR=wellKnownSymbol("iterator");module.exports=function(it){if(it!=undefined)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},"../node_modules/core-js/internals/get-iterator.js":function(module,exports,__webpack_require__){var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var getIteratorMethod=__webpack_require__("../node_modules/core-js/internals/get-iterator-method.js");module.exports=function(it){var iteratorMethod=getIteratorMethod(it);if(typeof iteratorMethod!="function"){throw TypeError(String(it)+" is not iterable")}return anObject(iteratorMethod.call(it))}},"../node_modules/core-js/internals/global.js":function(module,exports,__webpack_require__){(function(global){var check=function(it){return it&&it.Math==Math&&it};module.exports=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof global=="object"&&global)||Function("return this")()}).call(this,__webpack_require__("../node_modules/webpack/buildin/global.js"))},"../node_modules/core-js/internals/has.js":function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},"../node_modules/core-js/internals/hidden-keys.js":function(module,exports){module.exports={}},"../node_modules/core-js/internals/html.js":function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__("../node_modules/core-js/internals/get-built-in.js");module.exports=getBuiltIn("document","documentElement")},"../node_modules/core-js/internals/ie8-dom-define.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("../node_modules/core-js/internals/descriptors.js");var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var createElement=__webpack_require__("../node_modules/core-js/internals/document-create-element.js");module.exports=!DESCRIPTORS&&!fails(function(){return Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a!=7})},"../node_modules/core-js/internals/indexed-object.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var classof=__webpack_require__("../node_modules/core-js/internals/classof-raw.js");var split="".split;module.exports=fails(function(){return!Object("z").propertyIsEnumerable(0)})?function(it){return classof(it)=="String"?split.call(it,""):Object(it)}:Object},"../node_modules/core-js/internals/inspect-source.js":function(module,exports,__webpack_require__){var store=__webpack_require__("../node_modules/core-js/internals/shared-store.js");var functionToString=Function.toString;if(typeof store.inspectSource!="function"){store.inspectSource=function(it){return functionToString.call(it)}}module.exports=store.inspectSource},"../node_modules/core-js/internals/internal-state.js":function(module,exports,__webpack_require__){var NATIVE_WEAK_MAP=__webpack_require__("../node_modules/core-js/internals/native-weak-map.js");var global=__webpack_require__("../node_modules/core-js/internals/global.js");var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");var createNonEnumerableProperty=__webpack_require__("../node_modules/core-js/internals/create-non-enumerable-property.js");var objectHas=__webpack_require__("../node_modules/core-js/internals/has.js");var sharedKey=__webpack_require__("../node_modules/core-js/internals/shared-key.js");var hiddenKeys=__webpack_require__("../node_modules/core-js/internals/hidden-keys.js");var WeakMap=global.WeakMap;var set,get,has;var enforce=function(it){return has(it)?get(it):set(it,{})};var getterFor=function(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE){throw TypeError("Incompatible receiver, "+TYPE+" required")}return state}};if(NATIVE_WEAK_MAP){var store=new WeakMap;var wmget=store.get;var wmhas=store.has;var wmset=store.set;set=function(it,metadata){wmset.call(store,it,metadata);return metadata};get=function(it){return wmget.call(store,it)||{}};has=function(it){return wmhas.call(store,it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=true;set=function(it,metadata){createNonEnumerableProperty(it,STATE,metadata);return metadata};get=function(it){return objectHas(it,STATE)?it[STATE]:{}};has=function(it){return objectHas(it,STATE)}}module.exports={set:set,get:get,has:has,enforce:enforce,getterFor:getterFor}},"../node_modules/core-js/internals/is-array-iterator-method.js":function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var Iterators=__webpack_require__("../node_modules/core-js/internals/iterators.js");var ITERATOR=wellKnownSymbol("iterator");var ArrayPrototype=Array.prototype;module.exports=function(it){return it!==undefined&&(Iterators.Array===it||ArrayPrototype[ITERATOR]===it)}},"../node_modules/core-js/internals/is-array.js":function(module,exports,__webpack_require__){var classof=__webpack_require__("../node_modules/core-js/internals/classof-raw.js");module.exports=Array.isArray||function isArray(arg){return classof(arg)=="Array"}},"../node_modules/core-js/internals/is-forced.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var replacement=/#|\.prototype\./;var isForced=function(feature,detection){var value=data[normalize(feature)];return value==POLYFILL?true:value==NATIVE?false:typeof detection=="function"?fails(detection):!!detection};var normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()};var data=isForced.data={};var NATIVE=isForced.NATIVE="N";var POLYFILL=isForced.POLYFILL="P";module.exports=isForced},"../node_modules/core-js/internals/is-object.js":function(module,exports){module.exports=function(it){return typeof it==="object"?it!==null:typeof it==="function"}},"../node_modules/core-js/internals/is-pure.js":function(module,exports){module.exports=false},"../node_modules/core-js/internals/is-regexp.js":function(module,exports,__webpack_require__){var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");var classof=__webpack_require__("../node_modules/core-js/internals/classof-raw.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var MATCH=wellKnownSymbol("match");module.exports=function(it){var isRegExp;return isObject(it)&&((isRegExp=it[MATCH])!==undefined?!!isRegExp:classof(it)=="RegExp")}},"../node_modules/core-js/internals/iterators-core.js":function(module,exports,__webpack_require__){"use strict";var getPrototypeOf=__webpack_require__("../node_modules/core-js/internals/object-get-prototype-of.js");var createNonEnumerableProperty=__webpack_require__("../node_modules/core-js/internals/create-non-enumerable-property.js");var has=__webpack_require__("../node_modules/core-js/internals/has.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var IS_PURE=__webpack_require__("../node_modules/core-js/internals/is-pure.js");var ITERATOR=wellKnownSymbol("iterator");var BUGGY_SAFARI_ITERATORS=false;var returnThis=function(){return this};var IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator;if([].keys){arrayIterator=[].keys();if(!("next"in arrayIterator))BUGGY_SAFARI_ITERATORS=true;else{PrototypeOfArrayIteratorPrototype=getPrototypeOf(getPrototypeOf(arrayIterator));if(PrototypeOfArrayIteratorPrototype!==Object.prototype)IteratorPrototype=PrototypeOfArrayIteratorPrototype}}if(IteratorPrototype==undefined)IteratorPrototype={};if(!IS_PURE&&!has(IteratorPrototype,ITERATOR)){createNonEnumerableProperty(IteratorPrototype,ITERATOR,returnThis)}module.exports={IteratorPrototype:IteratorPrototype,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS}},"../node_modules/core-js/internals/iterators.js":function(module,exports){module.exports={}},"../node_modules/core-js/internals/native-symbol.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");module.exports=!!Object.getOwnPropertySymbols&&!fails(function(){return!String(Symbol())})},"../node_modules/core-js/internals/native-url.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var IS_PURE=__webpack_require__("../node_modules/core-js/internals/is-pure.js");var ITERATOR=wellKnownSymbol("iterator");module.exports=!fails(function(){var url=new URL("b?a=1&b=2&c=3","http://a");var searchParams=url.searchParams;var result="";url.pathname="c%20d";searchParams.forEach(function(value,key){searchParams["delete"]("b");result+=key+value});return IS_PURE&&!url.toJSON||!searchParams.sort||url.href!=="http://a/c%20d?a=1&c=3"||searchParams.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!searchParams[ITERATOR]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://Ñ‚ĞµÑÑ‚").host!=="xn--e1aybc"||new URL("http://a#Ğ±").hash!=="#%D0%B1"||result!=="a1c3"||new URL("http://x",undefined).host!=="x"})},"../node_modules/core-js/internals/native-weak-map.js":function(module,exports,__webpack_require__){var global=__webpack_require__("../node_modules/core-js/internals/global.js");var inspectSource=__webpack_require__("../node_modules/core-js/internals/inspect-source.js");var WeakMap=global.WeakMap;module.exports=typeof WeakMap==="function"&&/native code/.test(inspectSource(WeakMap))},"../node_modules/core-js/internals/not-a-regexp.js":function(module,exports,__webpack_require__){var isRegExp=__webpack_require__("../node_modules/core-js/internals/is-regexp.js");module.exports=function(it){if(isRegExp(it)){throw TypeError("The method doesn't accept regular expressions")}return it}},"../node_modules/core-js/internals/object-assign.js":function(module,exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__("../node_modules/core-js/internals/descriptors.js");var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var objectKeys=__webpack_require__("../node_modules/core-js/internals/object-keys.js");var getOwnPropertySymbolsModule=__webpack_require__("../node_modules/core-js/internals/object-get-own-property-symbols.js");var propertyIsEnumerableModule=__webpack_require__("../node_modules/core-js/internals/object-property-is-enumerable.js");var toObject=__webpack_require__("../node_modules/core-js/internals/to-object.js");var IndexedObject=__webpack_require__("../node_modules/core-js/internals/indexed-object.js");var nativeAssign=Object.assign;var defineProperty=Object.defineProperty;module.exports=!nativeAssign||fails(function(){if(DESCRIPTORS&&nativeAssign({b:1},nativeAssign(defineProperty({},"a",{enumerable:true,get:function(){defineProperty(this,"b",{value:3,enumerable:false})}}),{b:2})).b!==1)return true;var A={};var B={};var symbol=Symbol();var alphabet="abcdefghijklmnopqrst";A[symbol]=7;alphabet.split("").forEach(function(chr){B[chr]=chr});return nativeAssign({},A)[symbol]!=7||objectKeys(nativeAssign({},B)).join("")!=alphabet})?function assign(target,source){var T=toObject(target);var argumentsLength=arguments.length;var index=1;var getOwnPropertySymbols=getOwnPropertySymbolsModule.f;var propertyIsEnumerable=propertyIsEnumerableModule.f;while(argumentsLength>index){var S=IndexedObject(arguments[index++]);var keys=getOwnPropertySymbols?objectKeys(S).concat(getOwnPropertySymbols(S)):objectKeys(S);var length=keys.length;var j=0;var key;while(length>j){key=keys[j++];if(!DESCRIPTORS||propertyIsEnumerable.call(S,key))T[key]=S[key]}}return T}:nativeAssign},"../node_modules/core-js/internals/object-create.js":function(module,exports,__webpack_require__){var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var defineProperties=__webpack_require__("../node_modules/core-js/internals/object-define-properties.js");var enumBugKeys=__webpack_require__("../node_modules/core-js/internals/enum-bug-keys.js");var hiddenKeys=__webpack_require__("../node_modules/core-js/internals/hidden-keys.js");var html=__webpack_require__("../node_modules/core-js/internals/html.js");var documentCreateElement=__webpack_require__("../node_modules/core-js/internals/document-create-element.js");var sharedKey=__webpack_require__("../node_modules/core-js/internals/shared-key.js");var GT=">";var LT="<";var PROTOTYPE="prototype";var SCRIPT="script";var IE_PROTO=sharedKey("IE_PROTO");var EmptyConstructor=function(){};var scriptTag=function(content){return LT+SCRIPT+GT+content+LT+"/"+SCRIPT+GT};var NullProtoObjectViaActiveX=function(activeXDocument){activeXDocument.write(scriptTag(""));activeXDocument.close();var temp=activeXDocument.parentWindow.Object;activeXDocument=null;return temp};var NullProtoObjectViaIFrame=function(){var iframe=documentCreateElement("iframe");var JS="java"+SCRIPT+":";var iframeDocument;iframe.style.display="none";html.appendChild(iframe);iframe.src=String(JS);iframeDocument=iframe.contentWindow.document;iframeDocument.open();iframeDocument.write(scriptTag("document.F=Object"));iframeDocument.close();return iframeDocument.F};var activeXDocument;var NullProtoObject=function(){try{activeXDocument=document.domain&&new ActiveXObject("htmlfile")}catch(error){}NullProtoObject=activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame();var length=enumBugKeys.length;while(length--)delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];return NullProtoObject()};hiddenKeys[IE_PROTO]=true;module.exports=Object.create||function create(O,Properties){var result;if(O!==null){EmptyConstructor[PROTOTYPE]=anObject(O);result=new EmptyConstructor;EmptyConstructor[PROTOTYPE]=null;result[IE_PROTO]=O}else result=NullProtoObject();return Properties===undefined?result:defineProperties(result,Properties)}},"../node_modules/core-js/internals/object-define-properties.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("../node_modules/core-js/internals/descriptors.js");var definePropertyModule=__webpack_require__("../node_modules/core-js/internals/object-define-property.js");var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var objectKeys=__webpack_require__("../node_modules/core-js/internals/object-keys.js");module.exports=DESCRIPTORS?Object.defineProperties:function defineProperties(O,Properties){anObject(O);var keys=objectKeys(Properties);var length=keys.length;var index=0;var key;while(length>index)definePropertyModule.f(O,key=keys[index++],Properties[key]);return O}},"../node_modules/core-js/internals/object-define-property.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("../node_modules/core-js/internals/descriptors.js");var IE8_DOM_DEFINE=__webpack_require__("../node_modules/core-js/internals/ie8-dom-define.js");var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var toPrimitive=__webpack_require__("../node_modules/core-js/internals/to-primitive.js");var nativeDefineProperty=Object.defineProperty;exports.f=DESCRIPTORS?nativeDefineProperty:function defineProperty(O,P,Attributes){anObject(O);P=toPrimitive(P,true);anObject(Attributes);if(IE8_DOM_DEFINE)try{return nativeDefineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported");if("value"in Attributes)O[P]=Attributes.value;return O}},"../node_modules/core-js/internals/object-get-own-property-descriptor.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("../node_modules/core-js/internals/descriptors.js");var propertyIsEnumerableModule=__webpack_require__("../node_modules/core-js/internals/object-property-is-enumerable.js");var createPropertyDescriptor=__webpack_require__("../node_modules/core-js/internals/create-property-descriptor.js");var toIndexedObject=__webpack_require__("../node_modules/core-js/internals/to-indexed-object.js");var toPrimitive=__webpack_require__("../node_modules/core-js/internals/to-primitive.js");var has=__webpack_require__("../node_modules/core-js/internals/has.js");var IE8_DOM_DEFINE=__webpack_require__("../node_modules/core-js/internals/ie8-dom-define.js");var nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?nativeGetOwnPropertyDescriptor:function getOwnPropertyDescriptor(O,P){O=toIndexedObject(O);P=toPrimitive(P,true);if(IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(O,P)}catch(error){}if(has(O,P))return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O,P),O[P])}},"../node_modules/core-js/internals/object-get-own-property-names-external.js":function(module,exports,__webpack_require__){var toIndexedObject=__webpack_require__("../node_modules/core-js/internals/to-indexed-object.js");var nativeGetOwnPropertyNames=__webpack_require__("../node_modules/core-js/internals/object-get-own-property-names.js").f;var toString={}.toString;var windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var getWindowNames=function(it){try{return nativeGetOwnPropertyNames(it)}catch(error){return windowNames.slice()}};module.exports.f=function getOwnPropertyNames(it){return windowNames&&toString.call(it)=="[object Window]"?getWindowNames(it):nativeGetOwnPropertyNames(toIndexedObject(it))}},"../node_modules/core-js/internals/object-get-own-property-names.js":function(module,exports,__webpack_require__){var internalObjectKeys=__webpack_require__("../node_modules/core-js/internals/object-keys-internal.js");var enumBugKeys=__webpack_require__("../node_modules/core-js/internals/enum-bug-keys.js");var hiddenKeys=enumBugKeys.concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return internalObjectKeys(O,hiddenKeys)}},"../node_modules/core-js/internals/object-get-own-property-symbols.js":function(module,exports){exports.f=Object.getOwnPropertySymbols},"../node_modules/core-js/internals/object-get-prototype-of.js":function(module,exports,__webpack_require__){var has=__webpack_require__("../node_modules/core-js/internals/has.js");var toObject=__webpack_require__("../node_modules/core-js/internals/to-object.js");var sharedKey=__webpack_require__("../node_modules/core-js/internals/shared-key.js");var CORRECT_PROTOTYPE_GETTER=__webpack_require__("../node_modules/core-js/internals/correct-prototype-getter.js");var IE_PROTO=sharedKey("IE_PROTO");var ObjectPrototype=Object.prototype;module.exports=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(O){O=toObject(O);if(has(O,IE_PROTO))return O[IE_PROTO];if(typeof O.constructor=="function"&&O instanceof O.constructor){return O.constructor.prototype}return O instanceof Object?ObjectPrototype:null}},"../node_modules/core-js/internals/object-keys-internal.js":function(module,exports,__webpack_require__){var has=__webpack_require__("../node_modules/core-js/internals/has.js");var toIndexedObject=__webpack_require__("../node_modules/core-js/internals/to-indexed-object.js");var indexOf=__webpack_require__("../node_modules/core-js/internals/array-includes.js").indexOf;var hiddenKeys=__webpack_require__("../node_modules/core-js/internals/hidden-keys.js");module.exports=function(object,names){var O=toIndexedObject(object);var i=0;var result=[];var key;for(key in O)!has(hiddenKeys,key)&&has(O,key)&&result.push(key);while(names.length>i)if(has(O,key=names[i++])){~indexOf(result,key)||result.push(key)}return result}},"../node_modules/core-js/internals/object-keys.js":function(module,exports,__webpack_require__){var internalObjectKeys=__webpack_require__("../node_modules/core-js/internals/object-keys-internal.js");var enumBugKeys=__webpack_require__("../node_modules/core-js/internals/enum-bug-keys.js");module.exports=Object.keys||function keys(O){return internalObjectKeys(O,enumBugKeys)}},"../node_modules/core-js/internals/object-property-is-enumerable.js":function(module,exports,__webpack_require__){"use strict";var nativePropertyIsEnumerable={}.propertyIsEnumerable;var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;var NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function propertyIsEnumerable(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:nativePropertyIsEnumerable},"../node_modules/core-js/internals/object-set-prototype-of.js":function(module,exports,__webpack_require__){var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var aPossiblePrototype=__webpack_require__("../node_modules/core-js/internals/a-possible-prototype.js");module.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var CORRECT_SETTER=false;var test={};var setter;try{setter=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;setter.call(test,[]);CORRECT_SETTER=test instanceof Array}catch(error){}return function setPrototypeOf(O,proto){anObject(O);aPossiblePrototype(proto);if(CORRECT_SETTER)setter.call(O,proto);else O.__proto__=proto;return O}}():undefined)},"../node_modules/core-js/internals/object-to-array.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("../node_modules/core-js/internals/descriptors.js");var objectKeys=__webpack_require__("../node_modules/core-js/internals/object-keys.js");var toIndexedObject=__webpack_require__("../node_modules/core-js/internals/to-indexed-object.js");var propertyIsEnumerable=__webpack_require__("../node_modules/core-js/internals/object-property-is-enumerable.js").f;var createMethod=function(TO_ENTRIES){return function(it){var O=toIndexedObject(it);var keys=objectKeys(O);var length=keys.length;var i=0;var result=[];var key;while(length>i){key=keys[i++];if(!DESCRIPTORS||propertyIsEnumerable.call(O,key)){result.push(TO_ENTRIES?[key,O[key]]:O[key])}}return result}};module.exports={entries:createMethod(true),values:createMethod(false)}},"../node_modules/core-js/internals/object-to-string.js":function(module,exports,__webpack_require__){"use strict";var TO_STRING_TAG_SUPPORT=__webpack_require__("../node_modules/core-js/internals/to-string-tag-support.js");var classof=__webpack_require__("../node_modules/core-js/internals/classof.js");module.exports=TO_STRING_TAG_SUPPORT?{}.toString:function toString(){return"[object "+classof(this)+"]"}},"../node_modules/core-js/internals/own-keys.js":function(module,exports,__webpack_require__){var getBuiltIn=__webpack_require__("../node_modules/core-js/internals/get-built-in.js");var getOwnPropertyNamesModule=__webpack_require__("../node_modules/core-js/internals/object-get-own-property-names.js");var getOwnPropertySymbolsModule=__webpack_require__("../node_modules/core-js/internals/object-get-own-property-symbols.js");var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");module.exports=getBuiltIn("Reflect","ownKeys")||function ownKeys(it){var keys=getOwnPropertyNamesModule.f(anObject(it));var getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?keys.concat(getOwnPropertySymbols(it)):keys}},"../node_modules/core-js/internals/path.js":function(module,exports,__webpack_require__){var global=__webpack_require__("../node_modules/core-js/internals/global.js");module.exports=global},"../node_modules/core-js/internals/redefine-all.js":function(module,exports,__webpack_require__){var redefine=__webpack_require__("../node_modules/core-js/internals/redefine.js");module.exports=function(target,src,options){for(var key in src)redefine(target,key,src[key],options);return target}},"../node_modules/core-js/internals/redefine.js":function(module,exports,__webpack_require__){var global=__webpack_require__("../node_modules/core-js/internals/global.js");var createNonEnumerableProperty=__webpack_require__("../node_modules/core-js/internals/create-non-enumerable-property.js");var has=__webpack_require__("../node_modules/core-js/internals/has.js");var setGlobal=__webpack_require__("../node_modules/core-js/internals/set-global.js");var inspectSource=__webpack_require__("../node_modules/core-js/internals/inspect-source.js");var InternalStateModule=__webpack_require__("../node_modules/core-js/internals/internal-state.js");var getInternalState=InternalStateModule.get;var enforceInternalState=InternalStateModule.enforce;var TEMPLATE=String(String).split("String");(module.exports=function(O,key,value,options){var unsafe=options?!!options.unsafe:false;var simple=options?!!options.enumerable:false;var noTargetGet=options?!!options.noTargetGet:false;if(typeof value=="function"){if(typeof key=="string"&&!has(value,"name"))createNonEnumerableProperty(value,"name",key);enforceInternalState(value).source=TEMPLATE.join(typeof key=="string"?key:"")}if(O===global){if(simple)O[key]=value;else setGlobal(key,value);return}else if(!unsafe){delete O[key]}else if(!noTargetGet&&O[key]){simple=true}if(simple)O[key]=value;else createNonEnumerableProperty(O,key,value)})(Function.prototype,"toString",function toString(){return typeof this=="function"&&getInternalState(this).source||inspectSource(this)})},"../node_modules/core-js/internals/regexp-exec-abstract.js":function(module,exports,__webpack_require__){var classof=__webpack_require__("../node_modules/core-js/internals/classof-raw.js");var regexpExec=__webpack_require__("../node_modules/core-js/internals/regexp-exec.js");module.exports=function(R,S){var exec=R.exec;if(typeof exec==="function"){var result=exec.call(R,S);if(typeof result!=="object"){throw TypeError("RegExp exec method returned something other than an Object or null")}return result}if(classof(R)!=="RegExp"){throw TypeError("RegExp#exec called on incompatible receiver")}return regexpExec.call(R,S)}},"../node_modules/core-js/internals/regexp-exec.js":function(module,exports,__webpack_require__){"use strict";var regexpFlags=__webpack_require__("../node_modules/core-js/internals/regexp-flags.js");var stickyHelpers=__webpack_require__("../node_modules/core-js/internals/regexp-sticky-helpers.js");var nativeExec=RegExp.prototype.exec;var nativeReplace=String.prototype.replace;var patchedExec=nativeExec;var UPDATES_LAST_INDEX_WRONG=function(){var re1=/a/;var re2=/b*/g;nativeExec.call(re1,"a");nativeExec.call(re2,"a");return re1.lastIndex!==0||re2.lastIndex!==0}();var UNSUPPORTED_Y=stickyHelpers.UNSUPPORTED_Y||stickyHelpers.BROKEN_CARET;var NPCG_INCLUDED=/()??/.exec("")[1]!==undefined;var PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y;if(PATCH){patchedExec=function exec(str){var re=this;var lastIndex,reCopy,match,i;var sticky=UNSUPPORTED_Y&&re.sticky;var flags=regexpFlags.call(re);var source=re.source;var charsAdded=0;var strCopy=str;if(sticky){flags=flags.replace("y","");if(flags.indexOf("g")===-1){flags+="g"}strCopy=String(str).slice(re.lastIndex);if(re.lastIndex>0&&(!re.multiline||re.multiline&&str[re.lastIndex-1]!=="\n")){source="(?: "+source+")";strCopy=" "+strCopy;charsAdded++}reCopy=new RegExp("^(?:"+source+")",flags)}if(NPCG_INCLUDED){reCopy=new RegExp("^"+source+"$(?!\\s)",flags)}if(UPDATES_LAST_INDEX_WRONG)lastIndex=re.lastIndex;match=nativeExec.call(sticky?reCopy:re,strCopy);if(sticky){if(match){match.input=match.input.slice(charsAdded);match[0]=match[0].slice(charsAdded);match.index=re.lastIndex;re.lastIndex+=match[0].length}else re.lastIndex=0}else if(UPDATES_LAST_INDEX_WRONG&&match){re.lastIndex=re.global?match.index+match[0].length:lastIndex}if(NPCG_INCLUDED&&match&&match.length>1){nativeReplace.call(match[0],reCopy,function(){for(i=1;i<arguments.length-2;i++){if(arguments[i]===undefined)match[i]=undefined}})}return match}}module.exports=patchedExec},"../node_modules/core-js/internals/regexp-flags.js":function(module,exports,__webpack_require__){"use strict";var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");module.exports=function(){var that=anObject(this);var result="";if(that.global)result+="g";if(that.ignoreCase)result+="i";if(that.multiline)result+="m";if(that.dotAll)result+="s";if(that.unicode)result+="u";if(that.sticky)result+="y";return result}},"../node_modules/core-js/internals/regexp-sticky-helpers.js":function(module,exports,__webpack_require__){"use strict";var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");function RE(s,f){return RegExp(s,f)}exports.UNSUPPORTED_Y=fails(function(){var re=RE("a","y");re.lastIndex=2;return re.exec("abcd")!=null});exports.BROKEN_CARET=fails(function(){var re=RE("^r","gy");re.lastIndex=2;return re.exec("str")!=null})},"../node_modules/core-js/internals/require-object-coercible.js":function(module,exports){module.exports=function(it){if(it==undefined)throw TypeError("Can't call method on "+it);return it}},"../node_modules/core-js/internals/same-value.js":function(module,exports){module.exports=Object.is||function is(x,y){return x===y?x!==0||1/x===1/y:x!=x&&y!=y}},"../node_modules/core-js/internals/set-global.js":function(module,exports,__webpack_require__){var global=__webpack_require__("../node_modules/core-js/internals/global.js");var createNonEnumerableProperty=__webpack_require__("../node_modules/core-js/internals/create-non-enumerable-property.js");module.exports=function(key,value){try{createNonEnumerableProperty(global,key,value)}catch(error){global[key]=value}return value}},"../node_modules/core-js/internals/set-to-string-tag.js":function(module,exports,__webpack_require__){var defineProperty=__webpack_require__("../node_modules/core-js/internals/object-define-property.js").f;var has=__webpack_require__("../node_modules/core-js/internals/has.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var TO_STRING_TAG=wellKnownSymbol("toStringTag");module.exports=function(it,TAG,STATIC){if(it&&!has(it=STATIC?it:it.prototype,TO_STRING_TAG)){defineProperty(it,TO_STRING_TAG,{configurable:true,value:TAG})}}},"../node_modules/core-js/internals/shared-key.js":function(module,exports,__webpack_require__){var shared=__webpack_require__("../node_modules/core-js/internals/shared.js");var uid=__webpack_require__("../node_modules/core-js/internals/uid.js");var keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},"../node_modules/core-js/internals/shared-store.js":function(module,exports,__webpack_require__){var global=__webpack_require__("../node_modules/core-js/internals/global.js");var setGlobal=__webpack_require__("../node_modules/core-js/internals/set-global.js");var SHARED="__core-js_shared__";var store=global[SHARED]||setGlobal(SHARED,{});module.exports=store},"../node_modules/core-js/internals/shared.js":function(module,exports,__webpack_require__){var IS_PURE=__webpack_require__("../node_modules/core-js/internals/is-pure.js");var store=__webpack_require__("../node_modules/core-js/internals/shared-store.js");(module.exports=function(key,value){return store[key]||(store[key]=value!==undefined?value:{})})("versions",[]).push({version:"3.6.5",mode:IS_PURE?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},"../node_modules/core-js/internals/species-constructor.js":function(module,exports,__webpack_require__){var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var aFunction=__webpack_require__("../node_modules/core-js/internals/a-function.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var SPECIES=wellKnownSymbol("species");module.exports=function(O,defaultConstructor){var C=anObject(O).constructor;var S;return C===undefined||(S=anObject(C)[SPECIES])==undefined?defaultConstructor:aFunction(S)}},"../node_modules/core-js/internals/string-multibyte.js":function(module,exports,__webpack_require__){var toInteger=__webpack_require__("../node_modules/core-js/internals/to-integer.js");var requireObjectCoercible=__webpack_require__("../node_modules/core-js/internals/require-object-coercible.js");var createMethod=function(CONVERT_TO_STRING){return function($this,pos){var S=String(requireObjectCoercible($this));var position=toInteger(pos);var size=S.length;var first,second;if(position<0||position>=size)return CONVERT_TO_STRING?"":undefined;first=S.charCodeAt(position);return first<55296||first>56319||position+1===size||(second=S.charCodeAt(position+1))<56320||second>57343?CONVERT_TO_STRING?S.charAt(position):first:CONVERT_TO_STRING?S.slice(position,position+2):(first-55296<<10)+(second-56320)+65536}};module.exports={codeAt:createMethod(false),charAt:createMethod(true)}},"../node_modules/core-js/internals/string-punycode-to-ascii.js":function(module,exports,__webpack_require__){"use strict";var maxInt=2147483647;var base=36;var tMin=1;var tMax=26;var skew=38;var damp=700;var initialBias=72;var initialN=128;var delimiter="-";var regexNonASCII=/[^\0-\u007E]/;var regexSeparators=/[.\u3002\uFF0E\uFF61]/g;var OVERFLOW_ERROR="Overflow: input needs wider integers to process";var baseMinusTMin=base-tMin;var floor=Math.floor;var stringFromCharCode=String.fromCharCode;var ucs2decode=function(string){var output=[];var counter=0;var length=string.length;while(counter<length){var value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){var extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output};var digitToBasic=function(digit){return digit+22+75*(digit<26)};var adapt=function(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))};var encode=function(input){var output=[];input=ucs2decode(input);var inputLength=input.length;var n=initialN;var delta=0;var bias=initialBias;var i,currentValue;for(i=0;i<input.length;i++){currentValue=input[i];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}var basicLength=output.length;var handledCPCount=basicLength;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){var m=maxInt;for(i=0;i<input.length;i++){currentValue=input[i];if(currentValue>=n&&currentValue<m){m=currentValue}}var handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){throw RangeError(OVERFLOW_ERROR)}delta+=(m-n)*handledCPCountPlusOne;n=m;for(i=0;i<input.length;i++){currentValue=input[i];if(currentValue<n&&++delta>maxInt){throw RangeError(OVERFLOW_ERROR)}if(currentValue==n){var q=delta;for(var k=base;;k+=base){var t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t)break;var qMinusT=q-t;var baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")};module.exports=function(input){var encoded=[];var labels=input.toLowerCase().replace(regexSeparators,".").split(".");var i,label;for(i=0;i<labels.length;i++){label=labels[i];encoded.push(regexNonASCII.test(label)?"xn--"+encode(label):label)}return encoded.join(".")}},"../node_modules/core-js/internals/string-trim-forced.js":function(module,exports,__webpack_require__){var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var whitespaces=__webpack_require__("../node_modules/core-js/internals/whitespaces.js");var non="â€‹Â…á ";module.exports=function(METHOD_NAME){return fails(function(){return!!whitespaces[METHOD_NAME]()||non[METHOD_NAME]()!=non||whitespaces[METHOD_NAME].name!==METHOD_NAME})}},"../node_modules/core-js/internals/string-trim.js":function(module,exports,__webpack_require__){var requireObjectCoercible=__webpack_require__("../node_modules/core-js/internals/require-object-coercible.js");var whitespaces=__webpack_require__("../node_modules/core-js/internals/whitespaces.js");var whitespace="["+whitespaces+"]";var ltrim=RegExp("^"+whitespace+whitespace+"*");var rtrim=RegExp(whitespace+whitespace+"*$");var createMethod=function(TYPE){return function($this){var string=String(requireObjectCoercible($this));if(TYPE&1)string=string.replace(ltrim,"");if(TYPE&2)string=string.replace(rtrim,"");return string}};module.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},"../node_modules/core-js/internals/to-absolute-index.js":function(module,exports,__webpack_require__){var toInteger=__webpack_require__("../node_modules/core-js/internals/to-integer.js");var max=Math.max;var min=Math.min;module.exports=function(index,length){var integer=toInteger(index);return integer<0?max(integer+length,0):min(integer,length)}},"../node_modules/core-js/internals/to-indexed-object.js":function(module,exports,__webpack_require__){var IndexedObject=__webpack_require__("../node_modules/core-js/internals/indexed-object.js");var requireObjectCoercible=__webpack_require__("../node_modules/core-js/internals/require-object-coercible.js");module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},"../node_modules/core-js/internals/to-integer.js":function(module,exports){var ceil=Math.ceil;var floor=Math.floor;module.exports=function(argument){return isNaN(argument=+argument)?0:(argument>0?floor:ceil)(argument)}},"../node_modules/core-js/internals/to-length.js":function(module,exports,__webpack_require__){var toInteger=__webpack_require__("../node_modules/core-js/internals/to-integer.js");var min=Math.min;module.exports=function(argument){return argument>0?min(toInteger(argument),9007199254740991):0}},"../node_modules/core-js/internals/to-object.js":function(module,exports,__webpack_require__){var requireObjectCoercible=__webpack_require__("../node_modules/core-js/internals/require-object-coercible.js");module.exports=function(argument){return Object(requireObjectCoercible(argument))}},"../node_modules/core-js/internals/to-primitive.js":function(module,exports,__webpack_require__){var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");module.exports=function(input,PREFERRED_STRING){if(!isObject(input))return input;var fn,val;if(PREFERRED_STRING&&typeof(fn=input.toString)=="function"&&!isObject(val=fn.call(input)))return val;if(typeof(fn=input.valueOf)=="function"&&!isObject(val=fn.call(input)))return val;if(!PREFERRED_STRING&&typeof(fn=input.toString)=="function"&&!isObject(val=fn.call(input)))return val;throw TypeError("Can't convert object to primitive value")}},"../node_modules/core-js/internals/to-string-tag-support.js":function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var TO_STRING_TAG=wellKnownSymbol("toStringTag");var test={};test[TO_STRING_TAG]="z";module.exports=String(test)==="[object z]"},"../node_modules/core-js/internals/uid.js":function(module,exports){var id=0;var postfix=Math.random();module.exports=function(key){return"Symbol("+String(key===undefined?"":key)+")_"+(++id+postfix).toString(36)}},"../node_modules/core-js/internals/use-symbol-as-uid.js":function(module,exports,__webpack_require__){var NATIVE_SYMBOL=__webpack_require__("../node_modules/core-js/internals/native-symbol.js");module.exports=NATIVE_SYMBOL&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},"../node_modules/core-js/internals/well-known-symbol-wrapped.js":function(module,exports,__webpack_require__){var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");exports.f=wellKnownSymbol},"../node_modules/core-js/internals/well-known-symbol.js":function(module,exports,__webpack_require__){var global=__webpack_require__("../node_modules/core-js/internals/global.js");var shared=__webpack_require__("../node_modules/core-js/internals/shared.js");var has=__webpack_require__("../node_modules/core-js/internals/has.js");var uid=__webpack_require__("../node_modules/core-js/internals/uid.js");var NATIVE_SYMBOL=__webpack_require__("../node_modules/core-js/internals/native-symbol.js");var USE_SYMBOL_AS_UID=__webpack_require__("../node_modules/core-js/internals/use-symbol-as-uid.js");var WellKnownSymbolsStore=shared("wks");var Symbol=global.Symbol;var createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol:Symbol&&Symbol.withoutSetter||uid;module.exports=function(name){if(!has(WellKnownSymbolsStore,name)){if(NATIVE_SYMBOL&&has(Symbol,name))WellKnownSymbolsStore[name]=Symbol[name];else WellKnownSymbolsStore[name]=createWellKnownSymbol("Symbol."+name)}return WellKnownSymbolsStore[name]}},"../node_modules/core-js/internals/whitespaces.js":function(module,exports){module.exports="\t\n\v\f\r Â áš€â€€â€â€‚â€ƒâ€„â€…â€†â€‡â€ˆâ€‰â€Šâ€¯âŸã€€\u2028\u2029\ufeff"},"../node_modules/core-js/modules/es.array.concat.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var isArray=__webpack_require__("../node_modules/core-js/internals/is-array.js");var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");var toObject=__webpack_require__("../node_modules/core-js/internals/to-object.js");var toLength=__webpack_require__("../node_modules/core-js/internals/to-length.js");var createProperty=__webpack_require__("../node_modules/core-js/internals/create-property.js");var arraySpeciesCreate=__webpack_require__("../node_modules/core-js/internals/array-species-create.js");var arrayMethodHasSpeciesSupport=__webpack_require__("../node_modules/core-js/internals/array-method-has-species-support.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var V8_VERSION=__webpack_require__("../node_modules/core-js/internals/engine-v8-version.js");var IS_CONCAT_SPREADABLE=wellKnownSymbol("isConcatSpreadable");var MAX_SAFE_INTEGER=9007199254740991;var MAXIMUM_ALLOWED_INDEX_EXCEEDED="Maximum allowed index exceeded";var IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails(function(){var array=[];array[IS_CONCAT_SPREADABLE]=false;return array.concat()[0]!==array});var SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("concat");var isConcatSpreadable=function(O){if(!isObject(O))return false;var spreadable=O[IS_CONCAT_SPREADABLE];return spreadable!==undefined?!!spreadable:isArray(O)};var FORCED=!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT;$({target:"Array",proto:true,forced:FORCED},{concat:function concat(arg){var O=toObject(this);var A=arraySpeciesCreate(O,0);var n=0;var i,k,length,len,E;for(i=-1,length=arguments.length;i<length;i++){E=i===-1?O:arguments[i];if(isConcatSpreadable(E)){len=toLength(E.length);if(n+len>MAX_SAFE_INTEGER)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);for(k=0;k<len;k++,n++)if(k in E)createProperty(A,n,E[k])}else{if(n>=MAX_SAFE_INTEGER)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);createProperty(A,n++,E)}}A.length=n;return A}})},"../node_modules/core-js/modules/es.array.filter.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var $filter=__webpack_require__("../node_modules/core-js/internals/array-iteration.js").filter;var arrayMethodHasSpeciesSupport=__webpack_require__("../node_modules/core-js/internals/array-method-has-species-support.js");var arrayMethodUsesToLength=__webpack_require__("../node_modules/core-js/internals/array-method-uses-to-length.js");var HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("filter");var USES_TO_LENGTH=arrayMethodUsesToLength("filter");$({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT||!USES_TO_LENGTH},{filter:function filter(callbackfn){return $filter(this,callbackfn,arguments.length>1?arguments[1]:undefined)}})},"../node_modules/core-js/modules/es.array.find-index.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var $findIndex=__webpack_require__("../node_modules/core-js/internals/array-iteration.js").findIndex;var addToUnscopables=__webpack_require__("../node_modules/core-js/internals/add-to-unscopables.js");var arrayMethodUsesToLength=__webpack_require__("../node_modules/core-js/internals/array-method-uses-to-length.js");var FIND_INDEX="findIndex";var SKIPS_HOLES=true;var USES_TO_LENGTH=arrayMethodUsesToLength(FIND_INDEX);if(FIND_INDEX in[])Array(1)[FIND_INDEX](function(){SKIPS_HOLES=false});$({target:"Array",proto:true,forced:SKIPS_HOLES||!USES_TO_LENGTH},{findIndex:function findIndex(callbackfn){return $findIndex(this,callbackfn,arguments.length>1?arguments[1]:undefined)}});addToUnscopables(FIND_INDEX)},"../node_modules/core-js/modules/es.array.find.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var $find=__webpack_require__("../node_modules/core-js/internals/array-iteration.js").find;var addToUnscopables=__webpack_require__("../node_modules/core-js/internals/add-to-unscopables.js");var arrayMethodUsesToLength=__webpack_require__("../node_modules/core-js/internals/array-method-uses-to-length.js");var FIND="find";var SKIPS_HOLES=true;var USES_TO_LENGTH=arrayMethodUsesToLength(FIND);if(FIND in[])Array(1)[FIND](function(){SKIPS_HOLES=false});$({target:"Array",proto:true,forced:SKIPS_HOLES||!USES_TO_LENGTH},{find:function find(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:undefined)}});addToUnscopables(FIND)},"../node_modules/core-js/modules/es.array.for-each.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var forEach=__webpack_require__("../node_modules/core-js/internals/array-for-each.js");$({target:"Array",proto:true,forced:[].forEach!=forEach},{forEach:forEach})},"../node_modules/core-js/modules/es.array.from.js":function(module,exports,__webpack_require__){var $=__webpack_require__("../node_modules/core-js/internals/export.js");var from=__webpack_require__("../node_modules/core-js/internals/array-from.js");var checkCorrectnessOfIteration=__webpack_require__("../node_modules/core-js/internals/check-correctness-of-iteration.js");var INCORRECT_ITERATION=!checkCorrectnessOfIteration(function(iterable){Array.from(iterable)});$({target:"Array",stat:true,forced:INCORRECT_ITERATION},{from:from})},"../node_modules/core-js/modules/es.array.includes.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var $includes=__webpack_require__("../node_modules/core-js/internals/array-includes.js").includes;var addToUnscopables=__webpack_require__("../node_modules/core-js/internals/add-to-unscopables.js");var arrayMethodUsesToLength=__webpack_require__("../node_modules/core-js/internals/array-method-uses-to-length.js");var USES_TO_LENGTH=arrayMethodUsesToLength("indexOf",{ACCESSORS:true,1:0});$({target:"Array",proto:true,forced:!USES_TO_LENGTH},{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:undefined)}});addToUnscopables("includes")},"../node_modules/core-js/modules/es.array.index-of.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var $indexOf=__webpack_require__("../node_modules/core-js/internals/array-includes.js").indexOf;var arrayMethodIsStrict=__webpack_require__("../node_modules/core-js/internals/array-method-is-strict.js");var arrayMethodUsesToLength=__webpack_require__("../node_modules/core-js/internals/array-method-uses-to-length.js");var nativeIndexOf=[].indexOf;var NEGATIVE_ZERO=!!nativeIndexOf&&1/[1].indexOf(1,-0)<0;var STRICT_METHOD=arrayMethodIsStrict("indexOf");var USES_TO_LENGTH=arrayMethodUsesToLength("indexOf",{ACCESSORS:true,1:0});$({target:"Array",proto:true,forced:NEGATIVE_ZERO||!STRICT_METHOD||!USES_TO_LENGTH},{indexOf:function indexOf(searchElement){return NEGATIVE_ZERO?nativeIndexOf.apply(this,arguments)||0:$indexOf(this,searchElement,arguments.length>1?arguments[1]:undefined)}})},"../node_modules/core-js/modules/es.array.iterator.js":function(module,exports,__webpack_require__){"use strict";var toIndexedObject=__webpack_require__("../node_modules/core-js/internals/to-indexed-object.js");var addToUnscopables=__webpack_require__("../node_modules/core-js/internals/add-to-unscopables.js");var Iterators=__webpack_require__("../node_modules/core-js/internals/iterators.js");var InternalStateModule=__webpack_require__("../node_modules/core-js/internals/internal-state.js");var defineIterator=__webpack_require__("../node_modules/core-js/internals/define-iterator.js");var ARRAY_ITERATOR="Array Iterator";var setInternalState=InternalStateModule.set;var getInternalState=InternalStateModule.getterFor(ARRAY_ITERATOR);module.exports=defineIterator(Array,"Array",function(iterated,kind){setInternalState(this,{type:ARRAY_ITERATOR,target:toIndexedObject(iterated),index:0,kind:kind})},function(){var state=getInternalState(this);var target=state.target;var kind=state.kind;var index=state.index++;if(!target||index>=target.length){state.target=undefined;return{value:undefined,done:true}}if(kind=="keys")return{value:index,done:false};if(kind=="values")return{value:target[index],done:false};return{value:[index,target[index]],done:false}},"values");Iterators.Arguments=Iterators.Array;addToUnscopables("keys");addToUnscopables("values");addToUnscopables("entries")},"../node_modules/core-js/modules/es.array.join.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var IndexedObject=__webpack_require__("../node_modules/core-js/internals/indexed-object.js");var toIndexedObject=__webpack_require__("../node_modules/core-js/internals/to-indexed-object.js");var arrayMethodIsStrict=__webpack_require__("../node_modules/core-js/internals/array-method-is-strict.js");var nativeJoin=[].join;var ES3_STRINGS=IndexedObject!=Object;var STRICT_METHOD=arrayMethodIsStrict("join",",");$({target:"Array",proto:true,forced:ES3_STRINGS||!STRICT_METHOD},{join:function join(separator){return nativeJoin.call(toIndexedObject(this),separator===undefined?",":separator)}})},"../node_modules/core-js/modules/es.array.last-index-of.js":function(module,exports,__webpack_require__){var $=__webpack_require__("../node_modules/core-js/internals/export.js");var lastIndexOf=__webpack_require__("../node_modules/core-js/internals/array-last-index-of.js");$({target:"Array",proto:true,forced:lastIndexOf!==[].lastIndexOf},{lastIndexOf:lastIndexOf})},"../node_modules/core-js/modules/es.array.map.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var $map=__webpack_require__("../node_modules/core-js/internals/array-iteration.js").map;var arrayMethodHasSpeciesSupport=__webpack_require__("../node_modules/core-js/internals/array-method-has-species-support.js");var arrayMethodUsesToLength=__webpack_require__("../node_modules/core-js/internals/array-method-uses-to-length.js");var HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("map");var USES_TO_LENGTH=arrayMethodUsesToLength("map");$({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT||!USES_TO_LENGTH},{map:function map(callbackfn){return $map(this,callbackfn,arguments.length>1?arguments[1]:undefined)}})},"../node_modules/core-js/modules/es.array.slice.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");var isArray=__webpack_require__("../node_modules/core-js/internals/is-array.js");var toAbsoluteIndex=__webpack_require__("../node_modules/core-js/internals/to-absolute-index.js");var toLength=__webpack_require__("../node_modules/core-js/internals/to-length.js");var toIndexedObject=__webpack_require__("../node_modules/core-js/internals/to-indexed-object.js");var createProperty=__webpack_require__("../node_modules/core-js/internals/create-property.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var arrayMethodHasSpeciesSupport=__webpack_require__("../node_modules/core-js/internals/array-method-has-species-support.js");var arrayMethodUsesToLength=__webpack_require__("../node_modules/core-js/internals/array-method-uses-to-length.js");var HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("slice");var USES_TO_LENGTH=arrayMethodUsesToLength("slice",{ACCESSORS:true,0:0,1:2});var SPECIES=wellKnownSymbol("species");var nativeSlice=[].slice;var max=Math.max;$({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT||!USES_TO_LENGTH},{slice:function slice(start,end){var O=toIndexedObject(this);var length=toLength(O.length);var k=toAbsoluteIndex(start,length);var fin=toAbsoluteIndex(end===undefined?length:end,length);var Constructor,result,n;if(isArray(O)){Constructor=O.constructor;if(typeof Constructor=="function"&&(Constructor===Array||isArray(Constructor.prototype))){Constructor=undefined}else if(isObject(Constructor)){Constructor=Constructor[SPECIES];if(Constructor===null)Constructor=undefined}if(Constructor===Array||Constructor===undefined){return nativeSlice.call(O,k,fin)}}result=new(Constructor===undefined?Array:Constructor)(max(fin-k,0));for(n=0;k<fin;k++,n++)if(k in O)createProperty(result,n,O[k]);result.length=n;return result}})},"../node_modules/core-js/modules/es.array.some.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var $some=__webpack_require__("../node_modules/core-js/internals/array-iteration.js").some;var arrayMethodIsStrict=__webpack_require__("../node_modules/core-js/internals/array-method-is-strict.js");var arrayMethodUsesToLength=__webpack_require__("../node_modules/core-js/internals/array-method-uses-to-length.js");var STRICT_METHOD=arrayMethodIsStrict("some");var USES_TO_LENGTH=arrayMethodUsesToLength("some");$({target:"Array",proto:true,forced:!STRICT_METHOD||!USES_TO_LENGTH},{some:function some(callbackfn){return $some(this,callbackfn,arguments.length>1?arguments[1]:undefined)}})},"../node_modules/core-js/modules/es.array.splice.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var toAbsoluteIndex=__webpack_require__("../node_modules/core-js/internals/to-absolute-index.js");var toInteger=__webpack_require__("../node_modules/core-js/internals/to-integer.js");var toLength=__webpack_require__("../node_modules/core-js/internals/to-length.js");var toObject=__webpack_require__("../node_modules/core-js/internals/to-object.js");var arraySpeciesCreate=__webpack_require__("../node_modules/core-js/internals/array-species-create.js");var createProperty=__webpack_require__("../node_modules/core-js/internals/create-property.js");var arrayMethodHasSpeciesSupport=__webpack_require__("../node_modules/core-js/internals/array-method-has-species-support.js");var arrayMethodUsesToLength=__webpack_require__("../node_modules/core-js/internals/array-method-uses-to-length.js");var HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("splice");var USES_TO_LENGTH=arrayMethodUsesToLength("splice",{ACCESSORS:true,0:0,1:2});var max=Math.max;var min=Math.min;var MAX_SAFE_INTEGER=9007199254740991;var MAXIMUM_ALLOWED_LENGTH_EXCEEDED="Maximum allowed length exceeded";$({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT||!USES_TO_LENGTH},{splice:function splice(start,deleteCount){var O=toObject(this);var len=toLength(O.length);var actualStart=toAbsoluteIndex(start,len);var argumentsLength=arguments.length;var insertCount,actualDeleteCount,A,k,from,to;if(argumentsLength===0){insertCount=actualDeleteCount=0}else if(argumentsLength===1){insertCount=0;actualDeleteCount=len-actualStart}else{insertCount=argumentsLength-2;actualDeleteCount=min(max(toInteger(deleteCount),0),len-actualStart)}if(len+insertCount-actualDeleteCount>MAX_SAFE_INTEGER){throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED)}A=arraySpeciesCreate(O,actualDeleteCount);for(k=0;k<actualDeleteCount;k++){from=actualStart+k;if(from in O)createProperty(A,k,O[from])}A.length=actualDeleteCount;if(insertCount<actualDeleteCount){for(k=actualStart;k<len-actualDeleteCount;k++){from=k+actualDeleteCount;to=k+insertCount;if(from in O)O[to]=O[from];else delete O[to]}for(k=len;k>len-actualDeleteCount+insertCount;k--)delete O[k-1]}else if(insertCount>actualDeleteCount){for(k=len-actualDeleteCount;k>actualStart;k--){from=k+actualDeleteCount-1;to=k+insertCount-1;if(from in O)O[to]=O[from];else delete O[to]}}for(k=0;k<insertCount;k++){O[k+actualStart]=arguments[k+2]}O.length=len-actualDeleteCount+insertCount;return A}})},"../node_modules/core-js/modules/es.function.name.js":function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__("../node_modules/core-js/internals/descriptors.js");var defineProperty=__webpack_require__("../node_modules/core-js/internals/object-define-property.js").f;var FunctionPrototype=Function.prototype;var FunctionPrototypeToString=FunctionPrototype.toString;var nameRE=/^\s*function ([^ (]*)/;var NAME="name";if(DESCRIPTORS&&!(NAME in FunctionPrototype)){defineProperty(FunctionPrototype,NAME,{configurable:true,get:function(){try{return FunctionPrototypeToString.call(this).match(nameRE)[1]}catch(error){return""}}})}},"../node_modules/core-js/modules/es.object.assign.js":function(module,exports,__webpack_require__){var $=__webpack_require__("../node_modules/core-js/internals/export.js");var assign=__webpack_require__("../node_modules/core-js/internals/object-assign.js");$({target:"Object",stat:true,forced:Object.assign!==assign},{assign:assign})},"../node_modules/core-js/modules/es.object.entries.js":function(module,exports,__webpack_require__){var $=__webpack_require__("../node_modules/core-js/internals/export.js");var $entries=__webpack_require__("../node_modules/core-js/internals/object-to-array.js").entries;$({target:"Object",stat:true},{entries:function entries(O){return $entries(O)}})},"../node_modules/core-js/modules/es.object.to-string.js":function(module,exports,__webpack_require__){var TO_STRING_TAG_SUPPORT=__webpack_require__("../node_modules/core-js/internals/to-string-tag-support.js");var redefine=__webpack_require__("../node_modules/core-js/internals/redefine.js");var toString=__webpack_require__("../node_modules/core-js/internals/object-to-string.js");if(!TO_STRING_TAG_SUPPORT){redefine(Object.prototype,"toString",toString,{unsafe:true})}},"../node_modules/core-js/modules/es.reflect.construct.js":function(module,exports,__webpack_require__){var $=__webpack_require__("../node_modules/core-js/internals/export.js");var getBuiltIn=__webpack_require__("../node_modules/core-js/internals/get-built-in.js");var aFunction=__webpack_require__("../node_modules/core-js/internals/a-function.js");var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");var create=__webpack_require__("../node_modules/core-js/internals/object-create.js");var bind=__webpack_require__("../node_modules/core-js/internals/function-bind.js");var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var nativeConstruct=getBuiltIn("Reflect","construct");var NEW_TARGET_BUG=fails(function(){function F(){}return!(nativeConstruct(function(){},[],F)instanceof F)});var ARGS_BUG=!fails(function(){nativeConstruct(function(){})});var FORCED=NEW_TARGET_BUG||ARGS_BUG;$({target:"Reflect",stat:true,forced:FORCED,sham:FORCED},{construct:function construct(Target,args){aFunction(Target);anObject(args);var newTarget=arguments.length<3?Target:aFunction(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return nativeConstruct(Target,args,newTarget);if(Target==newTarget){switch(args.length){case 0:return new Target;case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3])}var $args=[null];$args.push.apply($args,args);return new(bind.apply(Target,$args))}var proto=newTarget.prototype;var instance=create(isObject(proto)?proto:Object.prototype);var result=Function.apply.call(Target,instance,args);return isObject(result)?result:instance}})},"../node_modules/core-js/modules/es.regexp.exec.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var exec=__webpack_require__("../node_modules/core-js/internals/regexp-exec.js");$({target:"RegExp",proto:true,forced:/./.exec!==exec},{exec:exec})},"../node_modules/core-js/modules/es.regexp.to-string.js":function(module,exports,__webpack_require__){"use strict";var redefine=__webpack_require__("../node_modules/core-js/internals/redefine.js");var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var flags=__webpack_require__("../node_modules/core-js/internals/regexp-flags.js");var TO_STRING="toString";var RegExpPrototype=RegExp.prototype;var nativeToString=RegExpPrototype[TO_STRING];var NOT_GENERIC=fails(function(){return nativeToString.call({source:"a",flags:"b"})!="/a/b"});var INCORRECT_NAME=nativeToString.name!=TO_STRING;if(NOT_GENERIC||INCORRECT_NAME){redefine(RegExp.prototype,TO_STRING,function toString(){var R=anObject(this);var p=String(R.source);var rf=R.flags;var f=String(rf===undefined&&R instanceof RegExp&&!("flags"in RegExpPrototype)?flags.call(R):rf);return"/"+p+"/"+f},{unsafe:true})}},"../node_modules/core-js/modules/es.string.ends-with.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var getOwnPropertyDescriptor=__webpack_require__("../node_modules/core-js/internals/object-get-own-property-descriptor.js").f;var toLength=__webpack_require__("../node_modules/core-js/internals/to-length.js");var notARegExp=__webpack_require__("../node_modules/core-js/internals/not-a-regexp.js");var requireObjectCoercible=__webpack_require__("../node_modules/core-js/internals/require-object-coercible.js");var correctIsRegExpLogic=__webpack_require__("../node_modules/core-js/internals/correct-is-regexp-logic.js");var IS_PURE=__webpack_require__("../node_modules/core-js/internals/is-pure.js");var nativeEndsWith="".endsWith;var min=Math.min;var CORRECT_IS_REGEXP_LOGIC=correctIsRegExpLogic("endsWith");var MDN_POLYFILL_BUG=!IS_PURE&&!CORRECT_IS_REGEXP_LOGIC&&!!function(){var descriptor=getOwnPropertyDescriptor(String.prototype,"endsWith");return descriptor&&!descriptor.writable}();$({target:"String",proto:true,forced:!MDN_POLYFILL_BUG&&!CORRECT_IS_REGEXP_LOGIC},{endsWith:function endsWith(searchString){var that=String(requireObjectCoercible(this));notARegExp(searchString);var endPosition=arguments.length>1?arguments[1]:undefined;var len=toLength(that.length);var end=endPosition===undefined?len:min(toLength(endPosition),len);var search=String(searchString);return nativeEndsWith?nativeEndsWith.call(that,search,end):that.slice(end-search.length,end)===search}})},"../node_modules/core-js/modules/es.string.includes.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var notARegExp=__webpack_require__("../node_modules/core-js/internals/not-a-regexp.js");var requireObjectCoercible=__webpack_require__("../node_modules/core-js/internals/require-object-coercible.js");var correctIsRegExpLogic=__webpack_require__("../node_modules/core-js/internals/correct-is-regexp-logic.js");$({target:"String",proto:true,forced:!correctIsRegExpLogic("includes")},{includes:function includes(searchString){return!!~String(requireObjectCoercible(this)).indexOf(notARegExp(searchString),arguments.length>1?arguments[1]:undefined)}})},"../node_modules/core-js/modules/es.string.iterator.js":function(module,exports,__webpack_require__){"use strict";var charAt=__webpack_require__("../node_modules/core-js/internals/string-multibyte.js").charAt;var InternalStateModule=__webpack_require__("../node_modules/core-js/internals/internal-state.js");var defineIterator=__webpack_require__("../node_modules/core-js/internals/define-iterator.js");var STRING_ITERATOR="String Iterator";var setInternalState=InternalStateModule.set;var getInternalState=InternalStateModule.getterFor(STRING_ITERATOR);defineIterator(String,"String",function(iterated){setInternalState(this,{type:STRING_ITERATOR,string:String(iterated),index:0})},function next(){var state=getInternalState(this);var string=state.string;var index=state.index;var point;if(index>=string.length)return{value:undefined,done:true};point=charAt(string,index);state.index+=point.length;return{value:point,done:false}})},"../node_modules/core-js/modules/es.string.match.js":function(module,exports,__webpack_require__){"use strict";var fixRegExpWellKnownSymbolLogic=__webpack_require__("../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js");var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var toLength=__webpack_require__("../node_modules/core-js/internals/to-length.js");var requireObjectCoercible=__webpack_require__("../node_modules/core-js/internals/require-object-coercible.js");var advanceStringIndex=__webpack_require__("../node_modules/core-js/internals/advance-string-index.js");var regExpExec=__webpack_require__("../node_modules/core-js/internals/regexp-exec-abstract.js");fixRegExpWellKnownSymbolLogic("match",1,function(MATCH,nativeMatch,maybeCallNative){return[function match(regexp){var O=requireObjectCoercible(this);var matcher=regexp==undefined?undefined:regexp[MATCH];return matcher!==undefined?matcher.call(regexp,O):new RegExp(regexp)[MATCH](String(O))},function(regexp){var res=maybeCallNative(nativeMatch,regexp,this);if(res.done)return res.value;var rx=anObject(regexp);var S=String(this);if(!rx.global)return regExpExec(rx,S);var fullUnicode=rx.unicode;rx.lastIndex=0;var A=[];var n=0;var result;while((result=regExpExec(rx,S))!==null){var matchStr=String(result[0]);A[n]=matchStr;if(matchStr==="")rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode);n++}return n===0?null:A}]})},"../node_modules/core-js/modules/es.string.replace.js":function(module,exports,__webpack_require__){"use strict";var fixRegExpWellKnownSymbolLogic=__webpack_require__("../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js");var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var toObject=__webpack_require__("../node_modules/core-js/internals/to-object.js");var toLength=__webpack_require__("../node_modules/core-js/internals/to-length.js");var toInteger=__webpack_require__("../node_modules/core-js/internals/to-integer.js");var requireObjectCoercible=__webpack_require__("../node_modules/core-js/internals/require-object-coercible.js");var advanceStringIndex=__webpack_require__("../node_modules/core-js/internals/advance-string-index.js");var regExpExec=__webpack_require__("../node_modules/core-js/internals/regexp-exec-abstract.js");var max=Math.max;var min=Math.min;var floor=Math.floor;var SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d\d?|<[^>]*>)/g;var SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d\d?)/g;var maybeToString=function(it){return it===undefined?it:String(it)};fixRegExpWellKnownSymbolLogic("replace",2,function(REPLACE,nativeReplace,maybeCallNative,reason){var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;var REPLACE_KEEPS_$0=reason.REPLACE_KEEPS_$0;var UNSAFE_SUBSTITUTE=REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE?"$":"$0";return[function replace(searchValue,replaceValue){var O=requireObjectCoercible(this);var replacer=searchValue==undefined?undefined:searchValue[REPLACE];return replacer!==undefined?replacer.call(searchValue,O,replaceValue):nativeReplace.call(String(O),searchValue,replaceValue)},function(regexp,replaceValue){if(!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE&&REPLACE_KEEPS_$0||typeof replaceValue==="string"&&replaceValue.indexOf(UNSAFE_SUBSTITUTE)===-1){var res=maybeCallNative(nativeReplace,regexp,this,replaceValue);if(res.done)return res.value}var rx=anObject(regexp);var S=String(this);var functionalReplace=typeof replaceValue==="function";if(!functionalReplace)replaceValue=String(replaceValue);var global=rx.global;if(global){var fullUnicode=rx.unicode;rx.lastIndex=0}var results=[];while(true){var result=regExpExec(rx,S);if(result===null)break;results.push(result);if(!global)break;var matchStr=String(result[0]);if(matchStr==="")rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode)}var accumulatedResult="";var nextSourcePosition=0;for(var i=0;i<results.length;i++){result=results[i];var matched=String(result[0]);var position=max(min(toInteger(result.index),S.length),0);var captures=[];for(var j=1;j<result.length;j++)captures.push(maybeToString(result[j]));var namedCaptures=result.groups;if(functionalReplace){var replacerArgs=[matched].concat(captures,position,S);if(namedCaptures!==undefined)replacerArgs.push(namedCaptures);var replacement=String(replaceValue.apply(undefined,replacerArgs))}else{replacement=getSubstitution(matched,S,position,captures,namedCaptures,replaceValue)}if(position>=nextSourcePosition){accumulatedResult+=S.slice(nextSourcePosition,position)+replacement;nextSourcePosition=position+matched.length}}return accumulatedResult+S.slice(nextSourcePosition)}];function getSubstitution(matched,str,position,captures,namedCaptures,replacement){var tailPos=position+matched.length;var m=captures.length;var symbols=SUBSTITUTION_SYMBOLS_NO_NAMED;if(namedCaptures!==undefined){namedCaptures=toObject(namedCaptures);symbols=SUBSTITUTION_SYMBOLS}return nativeReplace.call(replacement,symbols,function(match,ch){var capture;switch(ch.charAt(0)){case"$":return"$";case"&":return matched;case"`":return str.slice(0,position);case"'":return str.slice(tailPos);case"<":capture=namedCaptures[ch.slice(1,-1)];break;default:var n=+ch;if(n===0)return match;if(n>m){var f=floor(n/10);if(f===0)return match;if(f<=m)return captures[f-1]===undefined?ch.charAt(1):captures[f-1]+ch.charAt(1);return match}capture=captures[n-1]}return capture===undefined?"":capture})}})},"../node_modules/core-js/modules/es.string.search.js":function(module,exports,__webpack_require__){"use strict";var fixRegExpWellKnownSymbolLogic=__webpack_require__("../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js");var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var requireObjectCoercible=__webpack_require__("../node_modules/core-js/internals/require-object-coercible.js");var sameValue=__webpack_require__("../node_modules/core-js/internals/same-value.js");var regExpExec=__webpack_require__("../node_modules/core-js/internals/regexp-exec-abstract.js");fixRegExpWellKnownSymbolLogic("search",1,function(SEARCH,nativeSearch,maybeCallNative){return[function search(regexp){var O=requireObjectCoercible(this);var searcher=regexp==undefined?undefined:regexp[SEARCH];return searcher!==undefined?searcher.call(regexp,O):new RegExp(regexp)[SEARCH](String(O))},function(regexp){var res=maybeCallNative(nativeSearch,regexp,this);if(res.done)return res.value;var rx=anObject(regexp);var S=String(this);var previousLastIndex=rx.lastIndex;if(!sameValue(previousLastIndex,0))rx.lastIndex=0;var result=regExpExec(rx,S);if(!sameValue(rx.lastIndex,previousLastIndex))rx.lastIndex=previousLastIndex;return result===null?-1:result.index}]})},"../node_modules/core-js/modules/es.string.split.js":function(module,exports,__webpack_require__){"use strict";var fixRegExpWellKnownSymbolLogic=__webpack_require__("../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js");var isRegExp=__webpack_require__("../node_modules/core-js/internals/is-regexp.js");var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var requireObjectCoercible=__webpack_require__("../node_modules/core-js/internals/require-object-coercible.js");var speciesConstructor=__webpack_require__("../node_modules/core-js/internals/species-constructor.js");var advanceStringIndex=__webpack_require__("../node_modules/core-js/internals/advance-string-index.js");var toLength=__webpack_require__("../node_modules/core-js/internals/to-length.js");var callRegExpExec=__webpack_require__("../node_modules/core-js/internals/regexp-exec-abstract.js");var regexpExec=__webpack_require__("../node_modules/core-js/internals/regexp-exec.js");var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var arrayPush=[].push;var min=Math.min;var MAX_UINT32=4294967295;var SUPPORTS_Y=!fails(function(){return!RegExp(MAX_UINT32,"y")});fixRegExpWellKnownSymbolLogic("split",2,function(SPLIT,nativeSplit,maybeCallNative){var internalSplit;if("abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length){internalSplit=function(separator,limit){var string=String(requireObjectCoercible(this));var lim=limit===undefined?MAX_UINT32:limit>>>0;if(lim===0)return[];if(separator===undefined)return[string];if(!isRegExp(separator)){return nativeSplit.call(string,separator,lim)}var output=[];var flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":"");var lastLastIndex=0;var separatorCopy=new RegExp(separator.source,flags+"g");var match,lastIndex,lastLength;while(match=regexpExec.call(separatorCopy,string)){lastIndex=separatorCopy.lastIndex;if(lastIndex>lastLastIndex){output.push(string.slice(lastLastIndex,match.index));if(match.length>1&&match.index<string.length)arrayPush.apply(output,match.slice(1));lastLength=match[0].length;lastLastIndex=lastIndex;if(output.length>=lim)break}if(separatorCopy.lastIndex===match.index)separatorCopy.lastIndex++}if(lastLastIndex===string.length){if(lastLength||!separatorCopy.test(""))output.push("")}else output.push(string.slice(lastLastIndex));return output.length>lim?output.slice(0,lim):output}}else if("0".split(undefined,0).length){internalSplit=function(separator,limit){return separator===undefined&&limit===0?[]:nativeSplit.call(this,separator,limit)}}else internalSplit=nativeSplit;return[function split(separator,limit){var O=requireObjectCoercible(this);var splitter=separator==undefined?undefined:separator[SPLIT];return splitter!==undefined?splitter.call(separator,O,limit):internalSplit.call(String(O),separator,limit)},function(regexp,limit){var res=maybeCallNative(internalSplit,regexp,this,limit,internalSplit!==nativeSplit);if(res.done)return res.value;var rx=anObject(regexp);var S=String(this);var C=speciesConstructor(rx,RegExp);var unicodeMatching=rx.unicode;var flags=(rx.ignoreCase?"i":"")+(rx.multiline?"m":"")+(rx.unicode?"u":"")+(SUPPORTS_Y?"y":"g");var splitter=new C(SUPPORTS_Y?rx:"^(?:"+rx.source+")",flags);var lim=limit===undefined?MAX_UINT32:limit>>>0;if(lim===0)return[];if(S.length===0)return callRegExpExec(splitter,S)===null?[S]:[];var p=0;var q=0;var A=[];while(q<S.length){splitter.lastIndex=SUPPORTS_Y?q:0;var z=callRegExpExec(splitter,SUPPORTS_Y?S:S.slice(q));var e;if(z===null||(e=min(toLength(splitter.lastIndex+(SUPPORTS_Y?0:q)),S.length))===p){q=advanceStringIndex(S,q,unicodeMatching)}else{A.push(S.slice(p,q));if(A.length===lim)return A;for(var i=1;i<=z.length-1;i++){A.push(z[i]);if(A.length===lim)return A}q=p=e}}A.push(S.slice(p));return A}]},!SUPPORTS_Y)},"../node_modules/core-js/modules/es.string.trim.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var $trim=__webpack_require__("../node_modules/core-js/internals/string-trim.js").trim;var forcedStringTrimMethod=__webpack_require__("../node_modules/core-js/internals/string-trim-forced.js");$({target:"String",proto:true,forced:forcedStringTrimMethod("trim")},{trim:function trim(){return $trim(this)}})},"../node_modules/core-js/modules/es.symbol.description.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var DESCRIPTORS=__webpack_require__("../node_modules/core-js/internals/descriptors.js");var global=__webpack_require__("../node_modules/core-js/internals/global.js");var has=__webpack_require__("../node_modules/core-js/internals/has.js");var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");var defineProperty=__webpack_require__("../node_modules/core-js/internals/object-define-property.js").f;var copyConstructorProperties=__webpack_require__("../node_modules/core-js/internals/copy-constructor-properties.js");var NativeSymbol=global.Symbol;if(DESCRIPTORS&&typeof NativeSymbol=="function"&&(!("description"in NativeSymbol.prototype)||NativeSymbol().description!==undefined)){var EmptyStringDescriptionStore={};var SymbolWrapper=function Symbol(){var description=arguments.length<1||arguments[0]===undefined?undefined:String(arguments[0]);var result=this instanceof SymbolWrapper?new NativeSymbol(description):description===undefined?NativeSymbol():NativeSymbol(description);if(description==="")EmptyStringDescriptionStore[result]=true;return result};copyConstructorProperties(SymbolWrapper,NativeSymbol);var symbolPrototype=SymbolWrapper.prototype=NativeSymbol.prototype;symbolPrototype.constructor=SymbolWrapper;var symbolToString=symbolPrototype.toString;var native=String(NativeSymbol("test"))=="Symbol(test)";var regexp=/^Symbol\((.*)\)[^)]+$/;defineProperty(symbolPrototype,"description",{configurable:true,get:function description(){var symbol=isObject(this)?this.valueOf():this;var string=symbolToString.call(symbol);if(has(EmptyStringDescriptionStore,symbol))return"";var desc=native?string.slice(7,-1):string.replace(regexp,"$1");return desc===""?undefined:desc}});$({global:true,forced:true},{Symbol:SymbolWrapper})}},"../node_modules/core-js/modules/es.symbol.iterator.js":function(module,exports,__webpack_require__){var defineWellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/define-well-known-symbol.js");defineWellKnownSymbol("iterator")},"../node_modules/core-js/modules/es.symbol.js":function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__("../node_modules/core-js/internals/export.js");var global=__webpack_require__("../node_modules/core-js/internals/global.js");var getBuiltIn=__webpack_require__("../node_modules/core-js/internals/get-built-in.js");var IS_PURE=__webpack_require__("../node_modules/core-js/internals/is-pure.js");var DESCRIPTORS=__webpack_require__("../node_modules/core-js/internals/descriptors.js");var NATIVE_SYMBOL=__webpack_require__("../node_modules/core-js/internals/native-symbol.js");var USE_SYMBOL_AS_UID=__webpack_require__("../node_modules/core-js/internals/use-symbol-as-uid.js");var fails=__webpack_require__("../node_modules/core-js/internals/fails.js");var has=__webpack_require__("../node_modules/core-js/internals/has.js");var isArray=__webpack_require__("../node_modules/core-js/internals/is-array.js");var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var toObject=__webpack_require__("../node_modules/core-js/internals/to-object.js");var toIndexedObject=__webpack_require__("../node_modules/core-js/internals/to-indexed-object.js");var toPrimitive=__webpack_require__("../node_modules/core-js/internals/to-primitive.js");var createPropertyDescriptor=__webpack_require__("../node_modules/core-js/internals/create-property-descriptor.js");var nativeObjectCreate=__webpack_require__("../node_modules/core-js/internals/object-create.js");var objectKeys=__webpack_require__("../node_modules/core-js/internals/object-keys.js");var getOwnPropertyNamesModule=__webpack_require__("../node_modules/core-js/internals/object-get-own-property-names.js");var getOwnPropertyNamesExternal=__webpack_require__("../node_modules/core-js/internals/object-get-own-property-names-external.js");var getOwnPropertySymbolsModule=__webpack_require__("../node_modules/core-js/internals/object-get-own-property-symbols.js");var getOwnPropertyDescriptorModule=__webpack_require__("../node_modules/core-js/internals/object-get-own-property-descriptor.js");var definePropertyModule=__webpack_require__("../node_modules/core-js/internals/object-define-property.js");var propertyIsEnumerableModule=__webpack_require__("../node_modules/core-js/internals/object-property-is-enumerable.js");var createNonEnumerableProperty=__webpack_require__("../node_modules/core-js/internals/create-non-enumerable-property.js");var redefine=__webpack_require__("../node_modules/core-js/internals/redefine.js");var shared=__webpack_require__("../node_modules/core-js/internals/shared.js");var sharedKey=__webpack_require__("../node_modules/core-js/internals/shared-key.js");var hiddenKeys=__webpack_require__("../node_modules/core-js/internals/hidden-keys.js");var uid=__webpack_require__("../node_modules/core-js/internals/uid.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var wrappedWellKnownSymbolModule=__webpack_require__("../node_modules/core-js/internals/well-known-symbol-wrapped.js");var defineWellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/define-well-known-symbol.js");var setToStringTag=__webpack_require__("../node_modules/core-js/internals/set-to-string-tag.js");var InternalStateModule=__webpack_require__("../node_modules/core-js/internals/internal-state.js");var $forEach=__webpack_require__("../node_modules/core-js/internals/array-iteration.js").forEach;var HIDDEN=sharedKey("hidden");var SYMBOL="Symbol";var PROTOTYPE="prototype";var TO_PRIMITIVE=wellKnownSymbol("toPrimitive");var setInternalState=InternalStateModule.set;var getInternalState=InternalStateModule.getterFor(SYMBOL);var ObjectPrototype=Object[PROTOTYPE];var $Symbol=global.Symbol;var $stringify=getBuiltIn("JSON","stringify");var nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f;var nativeDefineProperty=definePropertyModule.f;var nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f;var nativePropertyIsEnumerable=propertyIsEnumerableModule.f;var AllSymbols=shared("symbols");var ObjectPrototypeSymbols=shared("op-symbols");var StringToSymbolRegistry=shared("string-to-symbol-registry");var SymbolToStringRegistry=shared("symbol-to-string-registry");var WellKnownSymbolsStore=shared("wks");var QObject=global.QObject;var USE_SETTER=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild;var setSymbolDescriptor=DESCRIPTORS&&fails(function(){return nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a!=7})?function(O,P,Attributes){var ObjectPrototypeDescriptor=nativeGetOwnPropertyDescriptor(ObjectPrototype,P);if(ObjectPrototypeDescriptor)delete ObjectPrototype[P];nativeDefineProperty(O,P,Attributes);if(ObjectPrototypeDescriptor&&O!==ObjectPrototype){nativeDefineProperty(ObjectPrototype,P,ObjectPrototypeDescriptor)}}:nativeDefineProperty;var wrap=function(tag,description){var symbol=AllSymbols[tag]=nativeObjectCreate($Symbol[PROTOTYPE]);setInternalState(symbol,{type:SYMBOL,tag:tag,description:description});if(!DESCRIPTORS)symbol.description=description;return symbol};var isSymbol=USE_SYMBOL_AS_UID?function(it){return typeof it=="symbol"}:function(it){return Object(it)instanceof $Symbol};var $defineProperty=function defineProperty(O,P,Attributes){if(O===ObjectPrototype)$defineProperty(ObjectPrototypeSymbols,P,Attributes);anObject(O);var key=toPrimitive(P,true);anObject(Attributes);if(has(AllSymbols,key)){if(!Attributes.enumerable){if(!has(O,HIDDEN))nativeDefineProperty(O,HIDDEN,createPropertyDescriptor(1,{}));O[HIDDEN][key]=true}else{if(has(O,HIDDEN)&&O[HIDDEN][key])O[HIDDEN][key]=false;Attributes=nativeObjectCreate(Attributes,{enumerable:createPropertyDescriptor(0,false)})}return setSymbolDescriptor(O,key,Attributes)}return nativeDefineProperty(O,key,Attributes)};var $defineProperties=function defineProperties(O,Properties){anObject(O);var properties=toIndexedObject(Properties);var keys=objectKeys(properties).concat($getOwnPropertySymbols(properties));$forEach(keys,function(key){if(!DESCRIPTORS||$propertyIsEnumerable.call(properties,key))$defineProperty(O,key,properties[key])});return O};var $create=function create(O,Properties){return Properties===undefined?nativeObjectCreate(O):$defineProperties(nativeObjectCreate(O),Properties)};var $propertyIsEnumerable=function propertyIsEnumerable(V){var P=toPrimitive(V,true);var enumerable=nativePropertyIsEnumerable.call(this,P);if(this===ObjectPrototype&&has(AllSymbols,P)&&!has(ObjectPrototypeSymbols,P))return false;return enumerable||!has(this,P)||!has(AllSymbols,P)||has(this,HIDDEN)&&this[HIDDEN][P]?enumerable:true};var $getOwnPropertyDescriptor=function getOwnPropertyDescriptor(O,P){var it=toIndexedObject(O);var key=toPrimitive(P,true);if(it===ObjectPrototype&&has(AllSymbols,key)&&!has(ObjectPrototypeSymbols,key))return;var descriptor=nativeGetOwnPropertyDescriptor(it,key);if(descriptor&&has(AllSymbols,key)&&!(has(it,HIDDEN)&&it[HIDDEN][key])){descriptor.enumerable=true}return descriptor};var $getOwnPropertyNames=function getOwnPropertyNames(O){var names=nativeGetOwnPropertyNames(toIndexedObject(O));var result=[];$forEach(names,function(key){if(!has(AllSymbols,key)&&!has(hiddenKeys,key))result.push(key)});return result};var $getOwnPropertySymbols=function getOwnPropertySymbols(O){var IS_OBJECT_PROTOTYPE=O===ObjectPrototype;var names=nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE?ObjectPrototypeSymbols:toIndexedObject(O));var result=[];$forEach(names,function(key){if(has(AllSymbols,key)&&(!IS_OBJECT_PROTOTYPE||has(ObjectPrototype,key))){result.push(AllSymbols[key])}});return result};if(!NATIVE_SYMBOL){$Symbol=function Symbol(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor");var description=!arguments.length||arguments[0]===undefined?undefined:String(arguments[0]);var tag=uid(description);var setter=function(value){if(this===ObjectPrototype)setter.call(ObjectPrototypeSymbols,value);if(has(this,HIDDEN)&&has(this[HIDDEN],tag))this[HIDDEN][tag]=false;setSymbolDescriptor(this,tag,createPropertyDescriptor(1,value))};if(DESCRIPTORS&&USE_SETTER)setSymbolDescriptor(ObjectPrototype,tag,{configurable:true,set:setter});return wrap(tag,description)};redefine($Symbol[PROTOTYPE],"toString",function toString(){return getInternalState(this).tag});redefine($Symbol,"withoutSetter",function(description){return wrap(uid(description),description)});propertyIsEnumerableModule.f=$propertyIsEnumerable;definePropertyModule.f=$defineProperty;getOwnPropertyDescriptorModule.f=$getOwnPropertyDescriptor;getOwnPropertyNamesModule.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames;getOwnPropertySymbolsModule.f=$getOwnPropertySymbols;wrappedWellKnownSymbolModule.f=function(name){return wrap(wellKnownSymbol(name),name)};if(DESCRIPTORS){nativeDefineProperty($Symbol[PROTOTYPE],"description",{configurable:true,get:function description(){return getInternalState(this).description}});if(!IS_PURE){redefine(ObjectPrototype,"propertyIsEnumerable",$propertyIsEnumerable,{unsafe:true})}}}$({global:true,wrap:true,forced:!NATIVE_SYMBOL,sham:!NATIVE_SYMBOL},{Symbol:$Symbol});$forEach(objectKeys(WellKnownSymbolsStore),function(name){defineWellKnownSymbol(name)});$({target:SYMBOL,stat:true,forced:!NATIVE_SYMBOL},{for:function(key){var string=String(key);if(has(StringToSymbolRegistry,string))return StringToSymbolRegistry[string];var symbol=$Symbol(string);StringToSymbolRegistry[string]=symbol;SymbolToStringRegistry[symbol]=string;return symbol},keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol");if(has(SymbolToStringRegistry,sym))return SymbolToStringRegistry[sym]},useSetter:function(){USE_SETTER=true},useSimple:function(){USE_SETTER=false}});$({target:"Object",stat:true,forced:!NATIVE_SYMBOL,sham:!DESCRIPTORS},{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor});$({target:"Object",stat:true,forced:!NATIVE_SYMBOL},{getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});$({target:"Object",stat:true,forced:fails(function(){getOwnPropertySymbolsModule.f(1)})},{getOwnPropertySymbols:function getOwnPropertySymbols(it){return getOwnPropertySymbolsModule.f(toObject(it))}});if($stringify){var FORCED_JSON_STRINGIFY=!NATIVE_SYMBOL||fails(function(){var symbol=$Symbol();return $stringify([symbol])!="[null]"||$stringify({a:symbol})!="{}"||$stringify(Object(symbol))!="{}"});$({target:"JSON",stat:true,forced:FORCED_JSON_STRINGIFY},{stringify:function stringify(it,replacer,space){var args=[it];var index=1;var $replacer;while(arguments.length>index)args.push(arguments[index++]);$replacer=replacer;if(!isObject(replacer)&&it===undefined||isSymbol(it))return;if(!isArray(replacer))replacer=function(key,value){if(typeof $replacer=="function")value=$replacer.call(this,key,value);if(!isSymbol(value))return value};args[1]=replacer;return $stringify.apply(null,args)}})}if(!$Symbol[PROTOTYPE][TO_PRIMITIVE]){createNonEnumerableProperty($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf)}setToStringTag($Symbol,SYMBOL);hiddenKeys[HIDDEN]=true},"../node_modules/core-js/modules/web.dom-collections.for-each.js":function(module,exports,__webpack_require__){var global=__webpack_require__("../node_modules/core-js/internals/global.js");var DOMIterables=__webpack_require__("../node_modules/core-js/internals/dom-iterables.js");var forEach=__webpack_require__("../node_modules/core-js/internals/array-for-each.js");var createNonEnumerableProperty=__webpack_require__("../node_modules/core-js/internals/create-non-enumerable-property.js");for(var COLLECTION_NAME in DOMIterables){var Collection=global[COLLECTION_NAME];var CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype&&CollectionPrototype.forEach!==forEach)try{createNonEnumerableProperty(CollectionPrototype,"forEach",forEach)}catch(error){CollectionPrototype.forEach=forEach}}},"../node_modules/core-js/modules/web.dom-collections.iterator.js":function(module,exports,__webpack_require__){var global=__webpack_require__("../node_modules/core-js/internals/global.js");var DOMIterables=__webpack_require__("../node_modules/core-js/internals/dom-iterables.js");var ArrayIteratorMethods=__webpack_require__("../node_modules/core-js/modules/es.array.iterator.js");var createNonEnumerableProperty=__webpack_require__("../node_modules/core-js/internals/create-non-enumerable-property.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var ITERATOR=wellKnownSymbol("iterator");var TO_STRING_TAG=wellKnownSymbol("toStringTag");var ArrayValues=ArrayIteratorMethods.values;for(var COLLECTION_NAME in DOMIterables){var Collection=global[COLLECTION_NAME];var CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype){if(CollectionPrototype[ITERATOR]!==ArrayValues)try{createNonEnumerableProperty(CollectionPrototype,ITERATOR,ArrayValues)}catch(error){CollectionPrototype[ITERATOR]=ArrayValues}if(!CollectionPrototype[TO_STRING_TAG]){createNonEnumerableProperty(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME)}if(DOMIterables[COLLECTION_NAME])for(var METHOD_NAME in ArrayIteratorMethods){if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{createNonEnumerableProperty(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch(error){CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}}}},"../node_modules/core-js/modules/web.url-search-params.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("../node_modules/core-js/modules/es.array.iterator.js");var $=__webpack_require__("../node_modules/core-js/internals/export.js");var getBuiltIn=__webpack_require__("../node_modules/core-js/internals/get-built-in.js");var USE_NATIVE_URL=__webpack_require__("../node_modules/core-js/internals/native-url.js");var redefine=__webpack_require__("../node_modules/core-js/internals/redefine.js");var redefineAll=__webpack_require__("../node_modules/core-js/internals/redefine-all.js");var setToStringTag=__webpack_require__("../node_modules/core-js/internals/set-to-string-tag.js");var createIteratorConstructor=__webpack_require__("../node_modules/core-js/internals/create-iterator-constructor.js");var InternalStateModule=__webpack_require__("../node_modules/core-js/internals/internal-state.js");var anInstance=__webpack_require__("../node_modules/core-js/internals/an-instance.js");var hasOwn=__webpack_require__("../node_modules/core-js/internals/has.js");var bind=__webpack_require__("../node_modules/core-js/internals/function-bind-context.js");var classof=__webpack_require__("../node_modules/core-js/internals/classof.js");var anObject=__webpack_require__("../node_modules/core-js/internals/an-object.js");var isObject=__webpack_require__("../node_modules/core-js/internals/is-object.js");var create=__webpack_require__("../node_modules/core-js/internals/object-create.js");var createPropertyDescriptor=__webpack_require__("../node_modules/core-js/internals/create-property-descriptor.js");var getIterator=__webpack_require__("../node_modules/core-js/internals/get-iterator.js");var getIteratorMethod=__webpack_require__("../node_modules/core-js/internals/get-iterator-method.js");var wellKnownSymbol=__webpack_require__("../node_modules/core-js/internals/well-known-symbol.js");var $fetch=getBuiltIn("fetch");var Headers=getBuiltIn("Headers");var ITERATOR=wellKnownSymbol("iterator");var URL_SEARCH_PARAMS="URLSearchParams";var URL_SEARCH_PARAMS_ITERATOR=URL_SEARCH_PARAMS+"Iterator";var setInternalState=InternalStateModule.set;var getInternalParamsState=InternalStateModule.getterFor(URL_SEARCH_PARAMS);var getInternalIteratorState=InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);var plus=/\+/g;var sequences=Array(4);var percentSequence=function(bytes){return sequences[bytes-1]||(sequences[bytes-1]=RegExp("((?:%[\\da-f]{2}){"+bytes+"})","gi"))};var percentDecode=function(sequence){try{return decodeURIComponent(sequence)}catch(error){return sequence}};var deserialize=function(it){var result=it.replace(plus," ");var bytes=4;try{return decodeURIComponent(result)}catch(error){while(bytes){result=result.replace(percentSequence(bytes--),percentDecode)}return result}};var find=/[!'()~]|%20/g;var replace={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"};var replacer=function(match){return replace[match]};var serialize=function(it){return encodeURIComponent(it).replace(find,replacer)};var parseSearchParams=function(result,query){if(query){var attributes=query.split("&");var index=0;var attribute,entry;while(index<attributes.length){attribute=attributes[index++];if(attribute.length){entry=attribute.split("=");result.push({key:deserialize(entry.shift()),value:deserialize(entry.join("="))})}}}};var updateSearchParams=function(query){this.entries.length=0;parseSearchParams(this.entries,query)};var validateArgumentsLength=function(passed,required){if(passed<required)throw TypeError("Not enough arguments")};var URLSearchParamsIterator=createIteratorConstructor(function Iterator(params,kind){setInternalState(this,{type:URL_SEARCH_PARAMS_ITERATOR,iterator:getIterator(getInternalParamsState(params).entries),kind:kind})},"Iterator",function next(){var state=getInternalIteratorState(this);var kind=state.kind;var step=state.iterator.next();var entry=step.value;if(!step.done){step.value=kind==="keys"?entry.key:kind==="values"?entry.value:[entry.key,entry.value]}return step});var URLSearchParamsConstructor=function URLSearchParams(){anInstance(this,URLSearchParamsConstructor,URL_SEARCH_PARAMS);var init=arguments.length>0?arguments[0]:undefined;var that=this;var entries=[];var iteratorMethod,iterator,next,step,entryIterator,entryNext,first,second,key;setInternalState(that,{type:URL_SEARCH_PARAMS,entries:entries,updateURL:function(){},updateSearchParams:updateSearchParams});if(init!==undefined){if(isObject(init)){iteratorMethod=getIteratorMethod(init);if(typeof iteratorMethod==="function"){iterator=iteratorMethod.call(init);next=iterator.next;while(!(step=next.call(iterator)).done){entryIterator=getIterator(anObject(step.value));entryNext=entryIterator.next;if((first=entryNext.call(entryIterator)).done||(second=entryNext.call(entryIterator)).done||!entryNext.call(entryIterator).done)throw TypeError("Expected sequence with length 2");entries.push({key:first.value+"",value:second.value+""})}}else for(key in init)if(hasOwn(init,key))entries.push({key:key,value:init[key]+""})}else{parseSearchParams(entries,typeof init==="string"?init.charAt(0)==="?"?init.slice(1):init:init+"")}}};var URLSearchParamsPrototype=URLSearchParamsConstructor.prototype;redefineAll(URLSearchParamsPrototype,{append:function append(name,value){validateArgumentsLength(arguments.length,2);var state=getInternalParamsState(this);state.entries.push({key:name+"",value:value+""});state.updateURL()},delete:function(name){validateArgumentsLength(arguments.length,1);var state=getInternalParamsState(this);var entries=state.entries;var key=name+"";var index=0;while(index<entries.length){if(entries[index].key===key)entries.splice(index,1);else index++}state.updateURL()},get:function get(name){validateArgumentsLength(arguments.length,1);var entries=getInternalParamsState(this).entries;var key=name+"";var index=0;for(;index<entries.length;index++){if(entries[index].key===key)return entries[index].value}return null},getAll:function getAll(name){validateArgumentsLength(arguments.length,1);var entries=getInternalParamsState(this).entries;var key=name+"";var result=[];var index=0;for(;index<entries.length;index++){if(entries[index].key===key)result.push(entries[index].value)}return result},has:function has(name){validateArgumentsLength(arguments.length,1);var entries=getInternalParamsState(this).entries;var key=name+"";var index=0;while(index<entries.length){if(entries[index++].key===key)return true}return false},set:function set(name,value){validateArgumentsLength(arguments.length,1);var state=getInternalParamsState(this);var entries=state.entries;var found=false;var key=name+"";var val=value+"";var index=0;var entry;for(;index<entries.length;index++){entry=entries[index];if(entry.key===key){if(found)entries.splice(index--,1);else{found=true;entry.value=val}}}if(!found)entries.push({key:key,value:val});state.updateURL()},sort:function sort(){var state=getInternalParamsState(this);var entries=state.entries;var slice=entries.slice();var entry,entriesIndex,sliceIndex;entries.length=0;for(sliceIndex=0;sliceIndex<slice.length;sliceIndex++){entry=slice[sliceIndex];for(entriesIndex=0;entriesIndex<sliceIndex;entriesIndex++){if(entries[entriesIndex].key>entry.key){entries.splice(entriesIndex,0,entry);break}}if(entriesIndex===sliceIndex)entries.push(entry)}state.updateURL()},forEach:function forEach(callback){var entries=getInternalParamsState(this).entries;var boundFunction=bind(callback,arguments.length>1?arguments[1]:undefined,3);var index=0;var entry;while(index<entries.length){entry=entries[index++];boundFunction(entry.value,entry.key,this)}},keys:function keys(){return new URLSearchParamsIterator(this,"keys")},values:function values(){return new URLSearchParamsIterator(this,"values")},entries:function entries(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:true});redefine(URLSearchParamsPrototype,ITERATOR,URLSearchParamsPrototype.entries);redefine(URLSearchParamsPrototype,"toString",function toString(){var entries=getInternalParamsState(this).entries;var result=[];var index=0;var entry;while(index<entries.length){entry=entries[index++];result.push(serialize(entry.key)+"="+serialize(entry.value))}return result.join("&")},{enumerable:true});setToStringTag(URLSearchParamsConstructor,URL_SEARCH_PARAMS);$({global:true,forced:!USE_NATIVE_URL},{URLSearchParams:URLSearchParamsConstructor});if(!USE_NATIVE_URL&&typeof $fetch=="function"&&typeof Headers=="function"){$({global:true,enumerable:true,forced:true},{fetch:function fetch(input){var args=[input];var init,body,headers;if(arguments.length>1){init=arguments[1];if(isObject(init)){body=init.body;if(classof(body)===URL_SEARCH_PARAMS){headers=init.headers?new Headers(init.headers):new Headers;if(!headers.has("content-type")){headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}init=create(init,{body:createPropertyDescriptor(0,String(body)),headers:createPropertyDescriptor(0,headers)})}}args.push(init)}return $fetch.apply(this,args)}})}module.exports={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState}},"../node_modules/core-js/modules/web.url.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("../node_modules/core-js/modules/es.string.iterator.js");var $=__webpack_require__("../node_modules/core-js/internals/export.js");var DESCRIPTORS=__webpack_require__("../node_modules/core-js/internals/descriptors.js");var USE_NATIVE_URL=__webpack_require__("../node_modules/core-js/internals/native-url.js");var global=__webpack_require__("../node_modules/core-js/internals/global.js");var defineProperties=__webpack_require__("../node_modules/core-js/internals/object-define-properties.js");var redefine=__webpack_require__("../node_modules/core-js/internals/redefine.js");var anInstance=__webpack_require__("../node_modules/core-js/internals/an-instance.js");var has=__webpack_require__("../node_modules/core-js/internals/has.js");var assign=__webpack_require__("../node_modules/core-js/internals/object-assign.js");var arrayFrom=__webpack_require__("../node_modules/core-js/internals/array-from.js");var codeAt=__webpack_require__("../node_modules/core-js/internals/string-multibyte.js").codeAt;var toASCII=__webpack_require__("../node_modules/core-js/internals/string-punycode-to-ascii.js");var setToStringTag=__webpack_require__("../node_modules/core-js/internals/set-to-string-tag.js");var URLSearchParamsModule=__webpack_require__("../node_modules/core-js/modules/web.url-search-params.js");var InternalStateModule=__webpack_require__("../node_modules/core-js/internals/internal-state.js");var NativeURL=global.URL;var URLSearchParams=URLSearchParamsModule.URLSearchParams;var getInternalSearchParamsState=URLSearchParamsModule.getState;var setInternalState=InternalStateModule.set;var getInternalURLState=InternalStateModule.getterFor("URL");var floor=Math.floor;var pow=Math.pow;var INVALID_AUTHORITY="Invalid authority";var INVALID_SCHEME="Invalid scheme";var INVALID_HOST="Invalid host";var INVALID_PORT="Invalid port";var ALPHA=/[A-Za-z]/;var ALPHANUMERIC=/[\d+-.A-Za-z]/;var DIGIT=/\d/;var HEX_START=/^(0x|0X)/;var OCT=/^[0-7]+$/;var DEC=/^\d+$/;var HEX=/^[\dA-Fa-f]+$/;var FORBIDDEN_HOST_CODE_POINT=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/;var FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/;var LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g;var TAB_AND_NEW_LINE=/[\u0009\u000A\u000D]/g;var EOF;var parseHost=function(url,input){var result,codePoints,index;if(input.charAt(0)=="["){if(input.charAt(input.length-1)!="]")return INVALID_HOST;result=parseIPv6(input.slice(1,-1));if(!result)return INVALID_HOST;url.host=result}else if(!isSpecial(url)){if(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input))return INVALID_HOST;result="";codePoints=arrayFrom(input);for(index=0;index<codePoints.length;index++){result+=percentEncode(codePoints[index],C0ControlPercentEncodeSet)}url.host=result}else{input=toASCII(input);if(FORBIDDEN_HOST_CODE_POINT.test(input))return INVALID_HOST;result=parseIPv4(input);if(result===null)return INVALID_HOST;url.host=result}};var parseIPv4=function(input){var parts=input.split(".");var partsLength,numbers,index,part,radix,number,ipv4;if(parts.length&&parts[parts.length-1]==""){parts.pop()}partsLength=parts.length;if(partsLength>4)return input;numbers=[];for(index=0;index<partsLength;index++){part=parts[index];if(part=="")return input;radix=10;if(part.length>1&&part.charAt(0)=="0"){radix=HEX_START.test(part)?16:8;part=part.slice(radix==8?1:2)}if(part===""){number=0}else{if(!(radix==10?DEC:radix==8?OCT:HEX).test(part))return input;number=parseInt(part,radix)}numbers.push(number)}for(index=0;index<partsLength;index++){number=numbers[index];if(index==partsLength-1){if(number>=pow(256,5-partsLength))return null}else if(number>255)return null}ipv4=numbers.pop();for(index=0;index<numbers.length;index++){ipv4+=numbers[index]*pow(256,3-index)}return ipv4};var parseIPv6=function(input){var address=[0,0,0,0,0,0,0,0];var pieceIndex=0;var compress=null;var pointer=0;var value,length,numbersSeen,ipv4Piece,number,swaps,swap;var char=function(){return input.charAt(pointer)};if(char()==":"){if(input.charAt(1)!=":")return;pointer+=2;pieceIndex++;compress=pieceIndex}while(char()){if(pieceIndex==8)return;if(char()==":"){if(compress!==null)return;pointer++;pieceIndex++;compress=pieceIndex;continue}value=length=0;while(length<4&&HEX.test(char())){value=value*16+parseInt(char(),16);pointer++;length++}if(char()=="."){if(length==0)return;pointer-=length;if(pieceIndex>6)return;numbersSeen=0;while(char()){ipv4Piece=null;if(numbersSeen>0){if(char()=="."&&numbersSeen<4)pointer++;else return}if(!DIGIT.test(char()))return;while(DIGIT.test(char())){number=parseInt(char(),10);if(ipv4Piece===null)ipv4Piece=number;else if(ipv4Piece==0)return;else ipv4Piece=ipv4Piece*10+number;if(ipv4Piece>255)return;pointer++}address[pieceIndex]=address[pieceIndex]*256+ipv4Piece;numbersSeen++;if(numbersSeen==2||numbersSeen==4)pieceIndex++}if(numbersSeen!=4)return;break}else if(char()==":"){pointer++;if(!char())return}else if(char())return;address[pieceIndex++]=value}if(compress!==null){swaps=pieceIndex-compress;pieceIndex=7;while(pieceIndex!=0&&swaps>0){swap=address[pieceIndex];address[pieceIndex--]=address[compress+swaps-1];address[compress+--swaps]=swap}}else if(pieceIndex!=8)return;return address};var findLongestZeroSequence=function(ipv6){var maxIndex=null;var maxLength=1;var currStart=null;var currLength=0;var index=0;for(;index<8;index++){if(ipv6[index]!==0){if(currLength>maxLength){maxIndex=currStart;maxLength=currLength}currStart=null;currLength=0}else{if(currStart===null)currStart=index;++currLength}}if(currLength>maxLength){maxIndex=currStart;maxLength=currLength}return maxIndex};var serializeHost=function(host){var result,index,compress,ignore0;if(typeof host=="number"){result=[];for(index=0;index<4;index++){result.unshift(host%256);host=floor(host/256)}return result.join(".")}else if(typeof host=="object"){result="";compress=findLongestZeroSequence(host);for(index=0;index<8;index++){if(ignore0&&host[index]===0)continue;if(ignore0)ignore0=false;if(compress===index){result+=index?":":"::";ignore0=true}else{result+=host[index].toString(16);if(index<7)result+=":"}}return"["+result+"]"}return host};var C0ControlPercentEncodeSet={};var fragmentPercentEncodeSet=assign({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1});var pathPercentEncodeSet=assign({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1});var userinfoPercentEncodeSet=assign({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1});var percentEncode=function(char,set){var code=codeAt(char,0);return code>32&&code<127&&!has(set,char)?char:encodeURIComponent(char)};var specialSchemes={ftp:21,file:null,http:80,https:443,ws:80,wss:443};var isSpecial=function(url){return has(specialSchemes,url.scheme)};var includesCredentials=function(url){return url.username!=""||url.password!=""};var cannotHaveUsernamePasswordPort=function(url){return!url.host||url.cannotBeABaseURL||url.scheme=="file"};var isWindowsDriveLetter=function(string,normalized){var second;return string.length==2&&ALPHA.test(string.charAt(0))&&((second=string.charAt(1))==":"||!normalized&&second=="|")};var startsWithWindowsDriveLetter=function(string){var third;return string.length>1&&isWindowsDriveLetter(string.slice(0,2))&&(string.length==2||((third=string.charAt(2))==="/"||third==="\\"||third==="?"||third==="#"))};var shortenURLsPath=function(url){var path=url.path;var pathSize=path.length;if(pathSize&&(url.scheme!="file"||pathSize!=1||!isWindowsDriveLetter(path[0],true))){path.pop()}};var isSingleDot=function(segment){return segment==="."||segment.toLowerCase()==="%2e"};var isDoubleDot=function(segment){segment=segment.toLowerCase();return segment===".."||segment==="%2e."||segment===".%2e"||segment==="%2e%2e"};var SCHEME_START={};var SCHEME={};var NO_SCHEME={};var SPECIAL_RELATIVE_OR_AUTHORITY={};var PATH_OR_AUTHORITY={};var RELATIVE={};var RELATIVE_SLASH={};var SPECIAL_AUTHORITY_SLASHES={};var SPECIAL_AUTHORITY_IGNORE_SLASHES={};var AUTHORITY={};var HOST={};var HOSTNAME={};var PORT={};var FILE={};var FILE_SLASH={};var FILE_HOST={};var PATH_START={};var PATH={};var CANNOT_BE_A_BASE_URL_PATH={};var QUERY={};var FRAGMENT={};var parseURL=function(url,input,stateOverride,base){var state=stateOverride||SCHEME_START;var pointer=0;var buffer="";var seenAt=false;var seenBracket=false;var seenPasswordToken=false;var codePoints,char,bufferCodePoints,failure;if(!stateOverride){url.scheme="";url.username="";url.password="";url.host=null;url.port=null;url.path=[];url.query=null;url.fragment=null;url.cannotBeABaseURL=false;input=input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE,"")}input=input.replace(TAB_AND_NEW_LINE,"");codePoints=arrayFrom(input);while(pointer<=codePoints.length){char=codePoints[pointer];switch(state){case SCHEME_START:if(char&&ALPHA.test(char)){buffer+=char.toLowerCase();state=SCHEME}else if(!stateOverride){state=NO_SCHEME;continue}else return INVALID_SCHEME;break;case SCHEME:if(char&&(ALPHANUMERIC.test(char)||char=="+"||char=="-"||char==".")){buffer+=char.toLowerCase()}else if(char==":"){if(stateOverride&&(isSpecial(url)!=has(specialSchemes,buffer)||buffer=="file"&&(includesCredentials(url)||url.port!==null)||url.scheme=="file"&&!url.host))return;url.scheme=buffer;if(stateOverride){if(isSpecial(url)&&specialSchemes[url.scheme]==url.port)url.port=null;return}buffer="";if(url.scheme=="file"){state=FILE}else if(isSpecial(url)&&base&&base.scheme==url.scheme){state=SPECIAL_RELATIVE_OR_AUTHORITY}else if(isSpecial(url)){state=SPECIAL_AUTHORITY_SLASHES}else if(codePoints[pointer+1]=="/"){state=PATH_OR_AUTHORITY;pointer++}else{url.cannotBeABaseURL=true;url.path.push("");state=CANNOT_BE_A_BASE_URL_PATH}}else if(!stateOverride){buffer="";state=NO_SCHEME;pointer=0;continue}else return INVALID_SCHEME;break;case NO_SCHEME:if(!base||base.cannotBeABaseURL&&char!="#")return INVALID_SCHEME;if(base.cannotBeABaseURL&&char=="#"){url.scheme=base.scheme;url.path=base.path.slice();url.query=base.query;url.fragment="";url.cannotBeABaseURL=true;state=FRAGMENT;break}state=base.scheme=="file"?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if(char=="/"&&codePoints[pointer+1]=="/"){state=SPECIAL_AUTHORITY_IGNORE_SLASHES;pointer++}else{state=RELATIVE;continue}break;case PATH_OR_AUTHORITY:if(char=="/"){state=AUTHORITY;break}else{state=PATH;continue}case RELATIVE:url.scheme=base.scheme;if(char==EOF){url.username=base.username;url.password=base.password;url.host=base.host;url.port=base.port;url.path=base.path.slice();url.query=base.query}else if(char=="/"||char=="\\"&&isSpecial(url)){state=RELATIVE_SLASH}else if(char=="?"){url.username=base.username;url.password=base.password;url.host=base.host;url.port=base.port;url.path=base.path.slice();url.query="";state=QUERY}else if(char=="#"){url.username=base.username;url.password=base.password;url.host=base.host;url.port=base.port;url.path=base.path.slice();url.query=base.query;url.fragment="";state=FRAGMENT}else{url.username=base.username;url.password=base.password;url.host=base.host;url.port=base.port;url.path=base.path.slice();url.path.pop();state=PATH;continue}break;case RELATIVE_SLASH:if(isSpecial(url)&&(char=="/"||char=="\\")){state=SPECIAL_AUTHORITY_IGNORE_SLASHES}else if(char=="/"){state=AUTHORITY}else{url.username=base.username;url.password=base.password;url.host=base.host;url.port=base.port;state=PATH;continue}break;case SPECIAL_AUTHORITY_SLASHES:state=SPECIAL_AUTHORITY_IGNORE_SLASHES;if(char!="/"||buffer.charAt(pointer+1)!="/")continue;pointer++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if(char!="/"&&char!="\\"){state=AUTHORITY;continue}break;case AUTHORITY:if(char=="@"){if(seenAt)buffer="%40"+buffer;seenAt=true;bufferCodePoints=arrayFrom(buffer);for(var i=0;i<bufferCodePoints.length;i++){var codePoint=bufferCodePoints[i];if(codePoint==":"&&!seenPasswordToken){seenPasswordToken=true;continue}var encodedCodePoints=percentEncode(codePoint,userinfoPercentEncodeSet);if(seenPasswordToken)url.password+=encodedCodePoints;else url.username+=encodedCodePoints}buffer=""}else if(char==EOF||char=="/"||char=="?"||char=="#"||char=="\\"&&isSpecial(url)){if(seenAt&&buffer=="")return INVALID_AUTHORITY;pointer-=arrayFrom(buffer).length+1;buffer="";state=HOST}else buffer+=char;break;case HOST:case HOSTNAME:if(stateOverride&&url.scheme=="file"){state=FILE_HOST;continue}else if(char==":"&&!seenBracket){if(buffer=="")return INVALID_HOST;failure=parseHost(url,buffer);if(failure)return failure;buffer="";state=PORT;if(stateOverride==HOSTNAME)return}else if(char==EOF||char=="/"||char=="?"||char=="#"||char=="\\"&&isSpecial(url)){if(isSpecial(url)&&buffer=="")return INVALID_HOST;if(stateOverride&&buffer==""&&(includesCredentials(url)||url.port!==null))return;failure=parseHost(url,buffer);if(failure)return failure;buffer="";state=PATH_START;if(stateOverride)return;continue}else{if(char=="[")seenBracket=true;else if(char=="]")seenBracket=false;buffer+=char}break;case PORT:if(DIGIT.test(char)){buffer+=char}else if(char==EOF||char=="/"||char=="?"||char=="#"||char=="\\"&&isSpecial(url)||stateOverride){if(buffer!=""){var port=parseInt(buffer,10);if(port>65535)return INVALID_PORT;url.port=isSpecial(url)&&port===specialSchemes[url.scheme]?null:port;buffer=""}if(stateOverride)return;state=PATH_START;continue}else return INVALID_PORT;break;case FILE:url.scheme="file";if(char=="/"||char=="\\")state=FILE_SLASH;else if(base&&base.scheme=="file"){if(char==EOF){url.host=base.host;url.path=base.path.slice();url.query=base.query}else if(char=="?"){url.host=base.host;url.path=base.path.slice();url.query="";state=QUERY}else if(char=="#"){url.host=base.host;url.path=base.path.slice();url.query=base.query;url.fragment="";state=FRAGMENT}else{if(!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))){url.host=base.host;url.path=base.path.slice();shortenURLsPath(url)}state=PATH;continue}}else{state=PATH;continue}break;case FILE_SLASH:if(char=="/"||char=="\\"){state=FILE_HOST;break}if(base&&base.scheme=="file"&&!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))){if(isWindowsDriveLetter(base.path[0],true))url.path.push(base.path[0]);else url.host=base.host}state=PATH;continue;case FILE_HOST:if(char==EOF||char=="/"||char=="\\"||char=="?"||char=="#"){if(!stateOverride&&isWindowsDriveLetter(buffer)){state=PATH}else if(buffer==""){url.host="";if(stateOverride)return;state=PATH_START}else{failure=parseHost(url,buffer);if(failure)return failure;if(url.host=="localhost")url.host="";if(stateOverride)return;buffer="";state=PATH_START}continue}else buffer+=char;break;case PATH_START:if(isSpecial(url)){state=PATH;if(char!="/"&&char!="\\")continue}else if(!stateOverride&&char=="?"){url.query="";state=QUERY}else if(!stateOverride&&char=="#"){url.fragment="";state=FRAGMENT}else if(char!=EOF){state=PATH;if(char!="/")continue}break;case PATH:if(char==EOF||char=="/"||char=="\\"&&isSpecial(url)||!stateOverride&&(char=="?"||char=="#")){if(isDoubleDot(buffer)){shortenURLsPath(url);if(char!="/"&&!(char=="\\"&&isSpecial(url))){url.path.push("")}}else if(isSingleDot(buffer)){if(char!="/"&&!(char=="\\"&&isSpecial(url))){url.path.push("")}}else{if(url.scheme=="file"&&!url.path.length&&isWindowsDriveLetter(buffer)){if(url.host)url.host="";buffer=buffer.charAt(0)+":"}url.path.push(buffer)}buffer="";if(url.scheme=="file"&&(char==EOF||char=="?"||char=="#")){while(url.path.length>1&&url.path[0]===""){url.path.shift()}}if(char=="?"){url.query="";state=QUERY}else if(char=="#"){url.fragment="";state=FRAGMENT}}else{buffer+=percentEncode(char,pathPercentEncodeSet)}break;case CANNOT_BE_A_BASE_URL_PATH:if(char=="?"){url.query="";state=QUERY}else if(char=="#"){url.fragment="";state=FRAGMENT}else if(char!=EOF){url.path[0]+=percentEncode(char,C0ControlPercentEncodeSet)}break;case QUERY:if(!stateOverride&&char=="#"){url.fragment="";state=FRAGMENT}else if(char!=EOF){if(char=="'"&&isSpecial(url))url.query+="%27";else if(char=="#")url.query+="%23";else url.query+=percentEncode(char,C0ControlPercentEncodeSet)}break;case FRAGMENT:if(char!=EOF)url.fragment+=percentEncode(char,fragmentPercentEncodeSet);break}pointer++}};var URLConstructor=function URL(url){var that=anInstance(this,URLConstructor,"URL");var base=arguments.length>1?arguments[1]:undefined;var urlString=String(url);var state=setInternalState(that,{type:"URL"});var baseState,failure;if(base!==undefined){if(base instanceof URLConstructor)baseState=getInternalURLState(base);else{failure=parseURL(baseState={},String(base));if(failure)throw TypeError(failure)}}failure=parseURL(state,urlString,null,baseState);if(failure)throw TypeError(failure);var searchParams=state.searchParams=new URLSearchParams;var searchParamsState=getInternalSearchParamsState(searchParams);searchParamsState.updateSearchParams(state.query);searchParamsState.updateURL=function(){state.query=String(searchParams)||null};if(!DESCRIPTORS){that.href=serializeURL.call(that);that.origin=getOrigin.call(that);that.protocol=getProtocol.call(that);that.username=getUsername.call(that);that.password=getPassword.call(that);that.host=getHost.call(that);that.hostname=getHostname.call(that);that.port=getPort.call(that);that.pathname=getPathname.call(that);that.search=getSearch.call(that);that.searchParams=getSearchParams.call(that);that.hash=getHash.call(that)}};var URLPrototype=URLConstructor.prototype;var serializeURL=function(){var url=getInternalURLState(this);var scheme=url.scheme;var username=url.username;var password=url.password;var host=url.host;var port=url.port;var path=url.path;var query=url.query;var fragment=url.fragment;var output=scheme+":";if(host!==null){output+="//";if(includesCredentials(url)){output+=username+(password?":"+password:"")+"@"}output+=serializeHost(host);if(port!==null)output+=":"+port}else if(scheme=="file")output+="//";output+=url.cannotBeABaseURL?path[0]:path.length?"/"+path.join("/"):"";if(query!==null)output+="?"+query;if(fragment!==null)output+="#"+fragment;return output};var getOrigin=function(){var url=getInternalURLState(this);var scheme=url.scheme;var port=url.port;if(scheme=="blob")try{return new URL(scheme.path[0]).origin}catch(error){return"null"}if(scheme=="file"||!isSpecial(url))return"null";return scheme+"://"+serializeHost(url.host)+(port!==null?":"+port:"")};var getProtocol=function(){return getInternalURLState(this).scheme+":"};var getUsername=function(){return getInternalURLState(this).username};var getPassword=function(){return getInternalURLState(this).password};var getHost=function(){var url=getInternalURLState(this);var host=url.host;var port=url.port;return host===null?"":port===null?serializeHost(host):serializeHost(host)+":"+port};var getHostname=function(){var host=getInternalURLState(this).host;return host===null?"":serializeHost(host)};var getPort=function(){var port=getInternalURLState(this).port;return port===null?"":String(port)};var getPathname=function(){var url=getInternalURLState(this);var path=url.path;return url.cannotBeABaseURL?path[0]:path.length?"/"+path.join("/"):""};var getSearch=function(){var query=getInternalURLState(this).query;return query?"?"+query:""};var getSearchParams=function(){return getInternalURLState(this).searchParams};var getHash=function(){var fragment=getInternalURLState(this).fragment;return fragment?"#"+fragment:""};var accessorDescriptor=function(getter,setter){return{get:getter,set:setter,configurable:true,enumerable:true}};if(DESCRIPTORS){defineProperties(URLPrototype,{href:accessorDescriptor(serializeURL,function(href){var url=getInternalURLState(this);var urlString=String(href);var failure=parseURL(url,urlString);if(failure)throw TypeError(failure);getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query)}),origin:accessorDescriptor(getOrigin),protocol:accessorDescriptor(getProtocol,function(protocol){var url=getInternalURLState(this);parseURL(url,String(protocol)+":",SCHEME_START)}),username:accessorDescriptor(getUsername,function(username){var url=getInternalURLState(this);var codePoints=arrayFrom(String(username));if(cannotHaveUsernamePasswordPort(url))return;url.username="";for(var i=0;i<codePoints.length;i++){url.username+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}}),password:accessorDescriptor(getPassword,function(password){var url=getInternalURLState(this);var codePoints=arrayFrom(String(password));if(cannotHaveUsernamePasswordPort(url))return;url.password="";for(var i=0;i<codePoints.length;i++){url.password+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}}),host:accessorDescriptor(getHost,function(host){var url=getInternalURLState(this);if(url.cannotBeABaseURL)return;parseURL(url,String(host),HOST)}),hostname:accessorDescriptor(getHostname,function(hostname){var url=getInternalURLState(this);if(url.cannotBeABaseURL)return;parseURL(url,String(hostname),HOSTNAME)}),port:accessorDescriptor(getPort,function(port){var url=getInternalURLState(this);if(cannotHaveUsernamePasswordPort(url))return;port=String(port);if(port=="")url.port=null;else parseURL(url,port,PORT)}),pathname:accessorDescriptor(getPathname,function(pathname){var url=getInternalURLState(this);if(url.cannotBeABaseURL)return;url.path=[];parseURL(url,pathname+"",PATH_START)}),search:accessorDescriptor(getSearch,function(search){var url=getInternalURLState(this);search=String(search);if(search==""){url.query=null}else{if("?"==search.charAt(0))search=search.slice(1);url.query="";parseURL(url,search,QUERY)}getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query)}),searchParams:accessorDescriptor(getSearchParams),hash:accessorDescriptor(getHash,function(hash){var url=getInternalURLState(this);hash=String(hash);if(hash==""){url.fragment=null;return}if("#"==hash.charAt(0))hash=hash.slice(1);url.fragment="";parseURL(url,hash,FRAGMENT)})})}redefine(URLPrototype,"toJSON",function toJSON(){return serializeURL.call(this)},{enumerable:true});redefine(URLPrototype,"toString",function toString(){return serializeURL.call(this)},{enumerable:true});if(NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL;var nativeRevokeObjectURL=NativeURL.revokeObjectURL;if(nativeCreateObjectURL)redefine(URLConstructor,"createObjectURL",function createObjectURL(blob){return nativeCreateObjectURL.apply(NativeURL,arguments)});if(nativeRevokeObjectURL)redefine(URLConstructor,"revokeObjectURL",function revokeObjectURL(url){return nativeRevokeObjectURL.apply(NativeURL,arguments)})}setToStringTag(URLConstructor,"URL");$({global:true,forced:!USE_NATIVE_URL,sham:!DESCRIPTORS},{URL:URLConstructor})},"../node_modules/webpack/buildin/global.js":function(module,exports){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if(typeof window==="object")g=window}module.exports=g},"./docs/browser/app.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.symbol.js");var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.symbol.description.js");var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.symbol.iterator.js");var core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.array.concat.js");var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_3__);var core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/core-js/modules/es.array.filter.js");var core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_4__);var core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/core-js/modules/es.array.find.js");var core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_5__);var core_js_modules_es_array_find_index__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/core-js/modules/es.array.find-index.js");var core_js_modules_es_array_find_index__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_find_index__WEBPACK_IMPORTED_MODULE_6__);var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/core-js/modules/es.array.for-each.js");var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_7__);var core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../node_modules/core-js/modules/es.array.from.js");var core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_8__);var core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../node_modules/core-js/modules/es.array.includes.js");var core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_9__);var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../node_modules/core-js/modules/es.array.index-of.js");var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_10__);var core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../node_modules/core-js/modules/es.array.iterator.js");var core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_11__);var core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../node_modules/core-js/modules/es.array.last-index-of.js");var core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_12__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_13__);var core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../node_modules/core-js/modules/es.array.slice.js");var core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_14__);var core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../node_modules/core-js/modules/es.array.splice.js");var core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_15__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_16__);var core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../node_modules/core-js/modules/es.object.assign.js");var core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_17__);var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../node_modules/core-js/modules/es.object.to-string.js");var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_18__);var core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../node_modules/core-js/modules/es.reflect.construct.js");var core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_19__);var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../node_modules/core-js/modules/es.regexp.exec.js");var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_20__);var core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../node_modules/core-js/modules/es.regexp.to-string.js");var core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_21__);var core_js_modules_es_string_ends_with__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../node_modules/core-js/modules/es.string.ends-with.js");var core_js_modules_es_string_ends_with__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_string_ends_with__WEBPACK_IMPORTED_MODULE_22__);var core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../node_modules/core-js/modules/es.string.includes.js");var core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_23__);var core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("../node_modules/core-js/modules/es.string.iterator.js");var core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_24__);var core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("../node_modules/core-js/modules/es.string.match.js");var core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_25__);var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("../node_modules/core-js/modules/es.string.replace.js");var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_26__);var core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("../node_modules/core-js/modules/es.string.search.js");var core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_27__);var core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("../node_modules/core-js/modules/es.string.split.js");var core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_28__);var core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("../node_modules/core-js/modules/es.string.trim.js");var core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(core_js_modules_es_string_trim__WEBPACK_IMPORTED_MODULE_29__);var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("../node_modules/core-js/modules/web.dom-collections.for-each.js");var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_30__);var core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("../node_modules/core-js/modules/web.dom-collections.iterator.js");var core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_31__);var core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("../node_modules/core-js/modules/web.url.js");var core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_32___default=__webpack_require__.n(core_js_modules_web_url__WEBPACK_IMPORTED_MODULE_32__);var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("../node_modules/@babel/runtime/helpers/toConsumableArray.js");var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_33___default=__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_33__);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("../node_modules/@babel/runtime/helpers/classCallCheck.js");var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_34___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_34__);var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("../node_modules/@babel/runtime/helpers/assertThisInitialized.js");var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_35__);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("../node_modules/@babel/runtime/helpers/createClass.js");var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_36___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_36__);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("../node_modules/@babel/runtime/helpers/inherits.js");var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_37___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_37__);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_38___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_38__);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("../node_modules/@babel/runtime/helpers/getPrototypeOf.js");var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_39___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_39__);var _lib_NavigationTree_js__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("./docs/browser/lib/NavigationTree.js");var _lib_Tools_js__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__("./docs/browser/lib/Tools.js");var _lib_MemberTooltip_js__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__("./docs/browser/lib/MemberTooltip.js");var _lib_SectionTooltip_js__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__("./docs/browser/lib/SectionTooltip.js");var _lib_templates_ContentTemplate_js__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__("./docs/browser/lib/templates/ContentTemplate.js");var _lib_templates_ApiOverviewTemplate_js__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__("./docs/browser/lib/templates/ApiOverviewTemplate.js");var _lib_templates_MissingItemTemplate_js__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__("./docs/browser/lib/templates/MissingItemTemplate.js");function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_39___default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_39___default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_38___default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,badgeText={PRIVATE:"This member should not be used outside of the class it is defined in",INTERNAL:"This member should not be used by non-framework code",READONLY:"This member cannot be set",ABSTRACT:"This class cannot be instantiated, it serves as a base for concrete classes",CALCULATED:"This member is calculated and should not be set manually",PROPAGATING:"This method triggers a change propagation process for dependent tasks"};if(!ns)throw new Error("Neither grid nor scheduler included on page");ns.WidgetHelper.adapter=ns.BryntumWidgetAdapter;for(var className in ns){window[className]=ns[className]}var startHash="guides/readme.md",highlightCls="highlight-hit",assertDescriptionPresent=function assertDescriptionPresent(member,cls){if(!member.description){if(!member.access){var fullName=cls===member?cls.name:"".concat(cls.name,"#").concat(member.name);console.error(fullName+" missing description")}member.description=member.description||""}};var DocsBrowser=function(_Delayable){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_37___default()(DocsBrowser,_Delayable);var _super=_createSuper(DocsBrowser);_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_36___default()(DocsBrowser,[{key:"guidePaths",get:function get(){return window.guides}}]);function DocsBrowser(){var _this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_34___default()(this,DocsBrowser);_this=_super.call(this);var me=_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_35___default()(_this);if("URLSearchParams"in window){var urlParams=new URLSearchParams(window.location.search);if(urlParams.has("page")){document.location.hash=urlParams.get("page")}}if(BrowserHelper.isIE11){document.body.classList.add("b-ie11")}me.categorySorter=me.categorySorter.bind(me);me.stickyHeaderHeight=0;me.contentEl=document.getElementById("content");me.scrollable=new ns.Scroller({element:me.contentEl});me.animateScroll=true;document.getElementById("app").classList.add("ready");me.contentEl.addEventListener("mousedown",me.onContentAreaMouseDown.bind(me));me.contentEl.addEventListener("click",me.onContentAreaClick.bind(me));window.onhashchange=me.onHashChange.bind(me);me.filterMembersByAccess=me.filterMembersByAccess.bind(me);me.settings=localStorage.getItem("bryntum-docs-settings");var product="grid";if(window.bryntum.gantt){product="gantt"}else if(window.bryntum.scheduler){product="scheduler"}else if(window.bryntum.schedulerpro){product="schedulerpro"}me.product=product;me.apiVersion=VersionHelper.getVersion(product);me.defaultSettings={showPublic:true,showInternal:false,showPrivate:false,showInherited:true,groupMembers:true};if(me.settings){me.settings=JSON.parse(me.settings)}else{me.settings=Object.assign({},me.defaultSettings)}var tree=document.getElementById("tree");tree.innerHTML="";var stateKey="b-".concat(me.product,"-docs-state"),navigationTree=me.navigationTree=new _lib_NavigationTree_js__WEBPACK_IMPORTED_MODULE_40__["default"]({id:"tree",adopt:"tree",guides:me.guidePaths,product:me.product}),state=JSON.parse(BrowserHelper.getLocalStorageItem(stateKey));if(state){delete state.store;navigationTree.state=state}new Splitter({id:"splitter",insertBefore:document.getElementById("content"),onEnd:function onEnd(){BrowserHelper.setLocalStorageItem(stateKey,JSON.stringify(navigationTree.state));me.updateExpandable()}});var updater=me.createOnFrame(function(){return me.updateExpandable()});EventHelper.on({element:window,resize:function resize(){updater()}});me.contentTemplate=_lib_templates_ContentTemplate_js__WEBPACK_IMPORTED_MODULE_44__["default"];me.apiOverviewTemplate=_lib_templates_ApiOverviewTemplate_js__WEBPACK_IMPORTED_MODULE_45__["default"];me.missingItemTemplate=_lib_templates_MissingItemTemplate_js__WEBPACK_IMPORTED_MODULE_46__["default"];me.tools=new _lib_Tools_js__WEBPACK_IMPORTED_MODULE_41__["default"]({renderTo:document.getElementById("tools"),settings:me.settings,listeners:{settingschange:me.onSettingsChange,thisObj:me}});me.badgeTooltip=new ns.Tooltip({textContent:true,scrollAction:"realign",forElement:me.contentEl,forSelector:".badge",getHtml:function getHtml(_ref){var tip=_ref.tip;return badgeText[tip.activeTarget.innerText]}});me.memberTooltip=new _lib_MemberTooltip_js__WEBPACK_IMPORTED_MODULE_42__["default"]({store:navigationTree.store});me.sectionTooltip=new _lib_SectionTooltip_js__WEBPACK_IMPORTED_MODULE_43__["default"]({textContent:true,scrollAction:"realign"});me.memberFilter=new TextField({id:"memberFilter",placeholder:"Filter",clearable:true,keyStrokeChangeDelay:100,listeners:{change:me.onMemberFilterChange,clear:me.onMemberFilterChange,thisObj:me}});if(location.search.match(/[\\?&]reset/)){me.resetSettings()}document.getElementById("versionId").innerHTML=me.apiVersion;me.onDocsDataLoaded();me.initRootCause();return _this}_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_36___default()(DocsBrowser,[{key:"loadResource",value:function loadResource(url){var appendVersion=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var parseJson=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return AjaxHelper.get(url+(appendVersion?"?version="+this.apiVersion:""),{parseJson:parseJson})}},{key:"filterMembersByAccess",value:function filterMembersByAccess(member){var me=this;if(me.settings.showPublic&&(member.access&&member.access==="public"||!member.access))return true;if(me.settings.showInternal&&member.access==="internal")return true;if(me.settings.showPrivate&&member.access==="private")return true;return false}},{key:"onDocsDataLoaded",value:function onDocsDataLoaded(){var me=this,preparedDocs={classes:[],components:[]};me.processLoadedSymbols(window.docsJson,preparedDocs);me.navigationTree.buildDocsTree(preparedDocs);var guides=me.navigationTree.store.query(function(item){return item.data.isGuide&&item.isLeaf});me.tools.generateSearchItems(preparedDocs,guides,me.settings);me.onHashChange();me.trigger("load")}},{key:"processLoadedSymbols",value:function processLoadedSymbols(json,preparedDocs){var me=this;function fixArrayParam(string){var parts=string?string instanceof Array?string:string.split("/"):[];return parts.map(function(str){if(str.indexOf("Array.<")===0){str=str.substring(7,str.length-1)+"[]"}return str})}if(json.classes){preparedDocs.classes.push.apply(preparedDocs.classes,json.classes.map(function(cls){var preparedCls=Object.assign({},cls);cls.path=cls.path.replace(/\\/gm,"/");var isPublic=cls.access==="public"||!cls.access;if(cls.access==="private"&&me.settings.showPrivate||cls.access==="internal"&&me.settings.showInternal||isPublic&&me.settings.showPublic){var folder=cls.path.match(/lib\/(.*)/);preparedCls.folder=folder&&folder[1];if(isPublic&&!cls.classDescription){assertDescriptionPresent(cls,cls)}if(cls.name.indexOf("module:")===0){preparedCls.modulePath=cls.name.split(":")[1];preparedCls.name=preparedCls.modulePath.substring(preparedCls.modulePath.lastIndexOf("/")+1)}if(cls.classDescription){if(cls.description){preparedCls.constructor.description=cls.description}preparedCls.description=cls.classDescription}preparedCls.description=(preparedCls.description||"").replace(/\n\n/g,"<br/><br/>");preparedCls.id=preparedCls.fullName=preparedCls.folder+"/"+preparedCls.name;preparedCls.href="#"+preparedCls.id;if(cls.constructor){preparedCls.functions=[];if(cls.constructor.description)preparedCls.functions.push(cls.constructor)}if(cls.functions){preparedCls.functions=cls.functions.filter(me.filterMembersByAccess);preparedCls.functions.sort(me.functionSorter.bind(me));preparedCls.functions.forEach(function(fn){assertDescriptionPresent(fn,cls);fn.expandable=fn.description.split("</p>").length>2;if(fn.parameters&&fn.parameters.length){fn.expandable=true;fn.parameters.forEach(function(param){param.type=fixArrayParam(param.type)})}if(fn.returns&&fn.returns.type){fn.expandable=true;fn.returns.type=fixArrayParam(fn.returns.type)}})}preparedCls.mixins=cls.mixes&&cls.mixes.map(function(mixin){var parts=mixin.split("/");return{fullName:mixin,name:parts[parts.length-1]}});if(cls.properties){preparedCls.properties=cls.properties.filter(me.filterMembersByAccess);preparedCls.properties.sort(me.categorySorter);preparedCls.properties.forEach(function(property){assertDescriptionPresent(property,cls);property.expandable=property.description.split("</p>").length>2;if(property.description.includes("<pre")){property.expandable=true}if(property.type&&property.type.names){property.type=property.type.names[0]}if(property.properties&&property.properties[0]&&property.properties[0].type){property.type=property.properties[0].type.names[0]}if(property.properties&&property.properties.length>1){property.expandable=true}if(property.returns&&property.returns[0]&&property.returns[0].type&&property.returns[0].type.names){property.type=property.returns[0].type.names[0]}if(property.type){property.type=fixArrayParam(property.type)}})}if(cls.configs){preparedCls.configs=cls.configs.filter(me.filterMembersByAccess);preparedCls.configs.sort(me.categorySorter);preparedCls.configs.forEach(function(config){assertDescriptionPresent(config,cls);config.expandable=config.description.split("</p>").length>2;if(config.description.includes("<pre")){config.expandable=true}if(config.type&&config.type.names){config.type=config.type.names[0]}if(config.properties&&config.properties[0]&&config.properties[0].type){config.type=config.properties[0].type.names[0]}if(config.parameters&&config.parameters.length){config.expandable=true;config.parameters.forEach(function(param){param.type=fixArrayParam(param.type)})}if(config.returns&&config.returns.type){config.returns.type=fixArrayParam(config.returns.type)}if(config.type){config.type=fixArrayParam(config.type)}})}if(cls.fields){preparedCls.fields=cls.fields.filter(me.filterMembersByAccess);preparedCls.fields.sort(me.sorter("name"));preparedCls.fields.forEach(function(field){assertDescriptionPresent(field,cls);field.expandable=field.description.split("</p>").length>2;if(field.type&&field.type.names){field.type=field.type.names[0]}if(field.properties&&field.properties[0]&&field.properties[0].type){field.type=field.properties[0].type.names[0]}if(field.returns&&field.returns[0].type.names){field.type=field.returns[0].type.names[0]}if(field.type){field.type=fixArrayParam(field.type)}})}if(cls.events){preparedCls.events=cls.events.filter(me.filterMembersByAccess);preparedCls.events.sort(me.sorter("name"));preparedCls.events.forEach(function(evt){assertDescriptionPresent(evt,cls);evt.expandable=evt.description.split("</p>").length>2;if(evt.parameters){evt.expandable=true;evt.parameters.forEach(function(param){param.type=fixArrayParam(param.type)})}})}if(cls.mixin){preparedCls.mixin=true}}return preparedCls}));preparedDocs.classes.sort(me.sorter("fullName"))}if(json.components){json.components.forEach(function(component){component.props&&component.props.sort(function(a,b){var categorySort=me.sorter("category")(a,b);if(categorySort!==0)return categorySort;return me.sorter("name")(a,b)})});preparedDocs.components=json.components}}},{key:"sorter",value:function sorter(field){return function(a,b){var valA=a[field],valB=b[field];if(valA==null&&valB!=null)return-1;if(valB==null&&valA!=null)return 1;if(valA<valB)return-1;if(valA>valB)return 1;return 0}}},{key:"categorySorter",value:function categorySorter(a,b){if(this.settings.groupMembers){var categorySort=this.sorter("category")(a,b);if(categorySort!==0)return categorySort}return this.sorter("name")(a,b)}},{key:"functionSorter",value:function functionSorter(a,b){if(a.name==="constructor")return-1;if(b.name==="constructor")return 1;return this.categorySorter(a,b)}},{key:"buildInheritedJson",value:function buildInheritedJson(json){var result=arguments.length>1&&arguments[1]!==undefined?arguments[1]:json;if(!json.extends&&!json.mixes)return json;var me=this,parents=json.extends||[],mixins=json.mixes||[],copyFrom=[];copyFrom.push.apply(copyFrom,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_33___default()(parents));copyFrom.push.apply(copyFrom,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_33___default()(mixins));copyFrom.forEach(function(id){var isMixin=mixins.includes(id),record=me.navigationTree.store.getById(id);if(!record)return;var data=record.data;function copy(what,sorterFn){if(data[what]&&data[what].length){if(!result[what])result[what]=[];var resultData=result[what];data[what].forEach(function(obj){var rec=resultData.find(function(conf){return conf.name===obj.name});if(!rec||rec.inheritedFrom&&isMixin){var existingIndex=resultData.findIndex(function(conf){return conf.name===obj.name});if(existingIndex>=0)resultData.splice(existingIndex,1);var clone=ObjectHelper.clone(obj);clone.inheritedFrom=id;if(!clone.category){var parts=id.split("/");clone.category=parts[parts.length-1]}resultData.push(clone)}});resultData.sort(sorterFn)}}copy("configs",me.categorySorter);copy("properties",me.categorySorter);copy("events",me.sorter("name"));copy("fields",me.sorter("name"));copy("functions",me.functionSorter.bind(me));me.buildInheritedJson(data,result)});return result}},{key:"onSettingsChange",value:function onSettingsChange(_ref2){var settings=_ref2.settings;var me=this;Object.assign(me.settings,settings);localStorage.setItem("bryntum-docs-settings",JSON.stringify(me.settings));if(window.docsJson){me.onDocsDataLoaded()}}},{key:"resetSettings",value:function resetSettings(){this.onSettingsChange({settings:this.defaultSettings})}},{key:"loadGuide",value:function loadGuide(record){var me=this;if(record.data.content){me.setContent(record)}else{if(me._loadPromise){me._loadPromise.abort()}if(!me.contentEl.classList.contains("loading")){var spinner=document.createElement("i");me.contentEl.classList.add("loading");spinner.className="b-icon b-icon-spinner";me.contentEl.insertBefore(spinner,me.contentEl.firstChild)}me._loadPromise=me.loadResource(record.id);me._loadPromise.then(function(response){response.text().then(function(text){record.data.content=text;me.setContent(record);me._loadPromise=null})}).catch(function(e){me._loadPromise=null;if(e.name!=="AbortError"){me.onPathNotFound(record.name)}})}}},{key:"onHashChange",value:function onHashChange(){var me=this,hash=document.location.hash!=="#"&&document.location.hash||"#"+startHash,parts=hash.split("#"),id=parts[1],docRecord=me.navigationTree.store.getById(id);var classMemberNodeId;me.tools.resetSearchField();me.contentEl.classList.remove("b-docs-loaded");if(parts.length>2){classMemberNodeId=parts.length===4?parts[2]+"-"+parts[3]:parts[2]}if(docRecord){if(docRecord.isLeaf){me.navigationTree.features.tree.expandTo(id);me.navigationTree.selectCell({column:"id",id:docRecord.id},false,false,true);if(docRecord.data.isGuide){me.loadGuide(docRecord)}else if(docRecord.id!=="demos"){if(docRecord!==me.currentRecord){var data=docRecord.data;if(me.settings.groupMembers){data.isNewCategory=function(fnData){if(fnData.category&&fnData.category!==data.currentCategory){data.currentCategory=fnData.category;return true}return false}}else{data.isNewCategory=function(fnData){return false}}var completeData=me.settings.showInherited?me.buildInheritedJson(data):data;Object.assign(docRecord.data,completeData);me.setContent(docRecord)}if(classMemberNodeId&&!me.skipScrollIntoView){var targetNode=document.getElementById(classMemberNodeId);if(targetNode){me.scrollMemberIntoView(targetNode);if(targetNode.classList.contains("expandable")){me.toggleNodeExpanded(targetNode,true)}}}}}else if(docRecord.name==="API docs"){me.setContent(docRecord)}}else if(me.navigationTree.store.count>0){me.onPathNotFound(id)}}},{key:"scrollMemberIntoView",value:function scrollMemberIntoView(scrollToEl){var me=this;if(scrollToEl){var stickyHeader=ns.DomHelper.getChild(scrollToEl.parentNode,".categoryHeader");me.stickyHeaderHeight=stickyHeader?stickyHeader.offsetHeight:0;var scroller=me.contentScrollable||me.scrollable;scroller.scrollIntoView(scrollToEl,{animate:me.animateScroll,block:"start",x:false}).then(function(){me.stickyHeaderHeight=0;ns.DomHelper.forEachSelector(".member.".concat(highlightCls),function(el){return el.classList.remove(highlightCls)});if(!me.preventHighlight){scrollToEl.classList.add(highlightCls)}})}}},{key:"onPathNotFound",value:function onPathNotFound(path){var me=this,contentEl=me.contentEl;contentEl.className="";contentEl.innerHTML=this.missingItemTemplate({path:path})}},{key:"setContent",value:function setContent(record){var me=this,filterEl=me.memberFilter.element,contentEl=me.contentEl;var html,cls;if(record===me.currentRecord)return;if(/^(www\.)?bryntum\.com/.test(window.location.host)){var replacement="$1/examples/"+me.product,findRe=/(href="|src="|]\()\.\.\/examples/gm;if(record.data.content){record.data.content=record.data.content.replace(findRe,replacement)}if(record.data.description){record.data.description=record.data.description.replace(findRe,replacement)}if(record.data.classDescription){record.data.classDescription=record.data.classDescription.replace(findRe,replacement)}}if(record.data.isGuide){html=new showdown.Converter({tables:true}).makeHtml(record.data.content);cls="guide"}else if(record.name==="API docs"){html=me.apiOverviewTemplate(record);cls="apioverview"}else{html=me.contentTemplate(record.data);cls="api"}filterEl.remove();me.removeExternalExamples();contentEl.className=cls;contentEl.innerHTML=html;if(cls==="api"){contentEl.querySelector(".content-header").appendChild(filterEl);var contentBodyEl=contentEl.querySelector(".content-body");me.badgeTooltip.clippedTo=contentBodyEl;me.sectionTooltip.clippedTo=contentBodyEl;if(me.contentScrollable){me.contentScrollable.element=contentBodyEl}else{me.contentScrollable=new ns.Scroller({element:contentBodyEl,listeners:{scroll:function scroll(event){var scrollTop=event.target.scrollTop,header=event.target.previousElementSibling;if(header){if(scrollTop>0){header.classList.add("shrink")}else{header.classList.remove("shrink")}}}}});Object.defineProperty(me.contentScrollable,"viewport",{get:function get(){var result=ns.Rectangle.from(this.element);result.adjust(0,me.stickyHeaderHeight||0,0,-me.stickyHeaderHeight);return result}})}}me.initExternalExamples(cls==="guide");Array.from(contentEl.querySelectorAll("pre code")).forEach(function(el){return hljs.highlightBlock(el)});me.updateExpandable();me.currentRecord=record;document.title=(record.data.isGuide||!record.data.fullName?record.name:record.data.fullName)+" | Bryntum "+me.product[0].toUpperCase()+me.product.slice(1);contentEl.scrollTop=0;if(window.logger&&logger.recorder&&logger.recorder.active&&document.querySelectorAll("*").length>3e3){logger.recorder.stop()}}},{key:"updateExpandable",value:function updateExpandable(){var contentEl=this.contentEl,overflowing=[];Array.from(contentEl.querySelectorAll(".overflowing")).forEach(function(el){el.classList.remove("overflowing")});Array.from(contentEl.querySelectorAll(".member:not(.expandable) .description")).forEach(function(el){if(el.scrollHeight>el.offsetHeight+5){overflowing.push(el)}});overflowing.forEach(function(el){return el.parentElement.classList.add("overflowing")})}},{key:"onContentAreaMouseDown",value:function onContentAreaMouseDown(event){var _this2=this;var target=event.target;if(target.tagName.toLowerCase()==="a"&&target.parentElement.matches(".name")&&target.parentElement.firstElementChild===target){this.skipScrollIntoView=true;this.setTimeout(function(){return _this2.skipScrollIntoView=false},500)}this.lastMouseDownEvent=event}},{key:"onContentAreaClick",value:function onContentAreaClick(event){var me=this,target=event.target;if(event.target.matches(".b-icon-code")){var codeContainer;if(event.target.matches(".b-inline-example")){codeContainer=event.target.parentElement.querySelector(".external-code-container")}else{codeContainer=me.contentEl.querySelector(".external-example .external-code-container")}codeContainer&&codeContainer.classList.toggle("hide-code")}else if(me.lastMouseDownEvent&&EventHelper.getDistanceBetween(event,me.lastMouseDownEvent)<=10){var memberEl=(target.tagName.toLowerCase()!=="a"||target.closest(".name"))&&target.closest(".member");me.preventHighlight=true;me.toggleNodeExpanded(memberEl||event.target);setTimeout(function(){me.preventHighlight=false},200)}}},{key:"toggleNodeExpanded",value:function toggleNodeExpanded(element,forceExpand){var me=this,isClassMemberEl=element.classList.contains("member");var collapseTarget,collapseIconTarget;if(isClassMemberEl){var _iterator=_createForOfIteratorHelper(me.contentEl.getElementsByClassName(highlightCls)),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var el=_step.value;el.classList.remove(highlightCls)}}catch(err){_iterator.e(err)}finally{_iterator.f()}collapseIconTarget=element;if(element.classList.contains("expandable")||element.classList.contains("overflowing")){collapseTarget=element.querySelector(".description")}else{collapseTarget=null}}else{collapseTarget=element.nodeName.toLowerCase()==="h2"&&element.closest(".collapsible");collapseIconTarget=collapseTarget}if(collapseTarget){collapseIconTarget.classList.toggle("expanded");if(forceExpand||!collapseTarget.style.maxHeight){collapseTarget.style.maxHeight=collapseTarget.scrollHeight+"px";if(isClassMemberEl){if(me.animateScroll){setTimeout(function(){(me.contentScrollable||me.scrollable).scrollIntoView(element,{animate:true,x:false})},300)}else{(me.contentScrollable||me.scrollable).scrollIntoView(element,{animate:false,x:false})}}}else{collapseTarget.style.maxHeight=""}}}},{key:"onMemberFilterChange",value:function onMemberFilterChange(_ref3){var value=_ref3.value;var me=this;if(value){value=value.trim().toLowerCase().replace(/[^a-zA-Z]+/g,"")}DomHelper.forEachSelector(".filter-hit",function(element){return element.classList.remove("filter-hit")});if(value){var hits=me.contentEl.querySelectorAll(".member[name*=".concat(value,"]"));me.contentEl.classList.add("filtered");Array.from(hits).forEach(function(node){node.classList.add("filter-hit");node.parentElement.parentElement.classList.add("filter-hit");while(node=node.previousElementSibling){if(node.matches(".categoryHeader")){node.classList.add("filter-hit");break}}});if(!hits.length){document.querySelector(".no-results").classList.add("filter-hit")}}else{me.contentEl.classList.remove("filtered")}}},{key:"removeExternalExamples",value:function removeExternalExamples(){var scriptTags=document.querySelectorAll("script[data-external-example=true]"),sampleContainers=this.contentEl.querySelectorAll("div[data-file]"),widgets=this.contentEl.querySelectorAll("div.external-example .external-target > .b-widget:not(.b-mask), div.external-example > .b-widget:not(.b-mask)");Array.from(scriptTags).forEach(function(tag){return tag.remove()});Array.from(sampleContainers).forEach(function(tag){return WidgetHelper.unmask(tag)});Array.from(widgets).forEach(function(widgetNode){WidgetHelper.getById(widgetNode.id).destroy()});Array.from(sampleContainers).forEach(function(tag){return tag.remove()})}},{key:"supportsES6",value:function supportsES6(){var supported=true;var str='class à² _à²  extends Array {constructor(j = "a", ...c) {const q = (({u: e}) => {return { [`s${c}`]: Symbol(j) };})({});super(j, q, ...c);}}'+'new Promise((f) => {const a = function* (){return "ğ ®·".match(/./u)[0].length === 2 || true;};for (let vre of a()) {'+"const [uw, as, he, re] = [new Set(), new WeakSet(), new Map(), new WeakMap()];break;}f(new Proxy({}, {get: (han, h) => h in han ? han[h] "+': "42".repeat(0o10)}));}).then(bi => new à² _à² (bi.rd));';try{eval(str)}catch(e){supported=false}return supported}},{key:"initExternalExamples",value:function initExternalExamples(){var _this3=this;var skipSrc=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var me=this,examples=Array.from(me.contentEl.querySelectorAll("div.external-example")).map(function(tag){return tag.dataset.file});if(examples.length===0){me.contentEl.classList.add("b-docs-loaded")}else{examples.forEach(function(example){var url=example,isHtml=true;if(example.endsWith(".js")){var externalElement=document.querySelector('div[data-file="'.concat(example,'"]')),script=document.createElement("script");script.dataset.externalExample=true;url="examples/"+example+"?version="+_this3.apiVersion;WidgetHelper.mask({element:externalElement,text:"Loading example...",mode:"bright"});script.src=!me.supportsES6()?url.replace(/\.js/,".umd.js"):url;script.onload=function(){WidgetHelper.unmask(externalElement);var exampleElement=externalElement.querySelector(".external-target");if(exampleElement){exampleElement.style.height="auto";exampleElement.style.maxHeight="1000px"}};document.head.appendChild(script);isHtml=false}if(!skipSrc){me.loadResource(url,false).then(function(response){response.text().then(function(code){var codeWrapEl=document.querySelector('div.external-example[data-file="'.concat(example,'"] .external-code'));if(codeWrapEl){var container=codeWrapEl.parentElement,cutFrom=code.indexOf("//START"),codeEl=codeWrapEl.querySelector("code");var cutTo=code.indexOf("//END");if(cutTo===-1)cutTo=code.length;if(cutFrom>-1)code=code.substring(cutFrom+8,cutTo);if(isHtml){codeEl.classList.add("html")}else{codeEl.classList.add("javascript")}codeEl.innerText=code;codeEl.innerHTML=codeEl.innerHTML.replace(/<br>/g,"\n");hljs.highlightBlock(codeEl);container.style.height=codeWrapEl.offsetHeight+"px";container.classList.add("hide-code")}me.contentEl.classList.add("b-docs-loaded")})}).catch(function(result){throw new Error("Failed to load example ".concat(url,", ").concat(result))})}else{me.contentEl.classList.add("b-docs-loaded")}})}}},{key:"initRootCause",value:function initRootCause(){var isOnline=/^(www\.)?bryntum\.com/.test(location.host),isRootCauseReplay=function(){try{var a=window.top.location.href}catch(e){return true}return false}();if(isOnline||isRootCauseReplay){var script=document.createElement("script");script.async=true;script.crossOrigin="anonymous";script.src="https://app.therootcause.io/rootcause-full.js";script.addEventListener("load",this.startRootCause.bind(this));document.head.appendChild(script)}}},{key:"startRootCause",value:function startRootCause(){var appId="457b99e11a8e92da82ed6e1743dfae4fac71ea3d",recordVideo=location.search.includes("video=1");if(!window.RC){console.log("ERROR: RootCause not initialized");return}window.logger=new RC.Logger({captureScreenshot:true,recordUserActions:true,applicationId:appId,autoStart:true,treatFailedAjaxAsError:true,treatResourceLoadFailureAsError:true,version:this.apiVersion,recordSessionVideo:recordVideo,ignoreErrorMessageRe:/Script error|Unexpected token var|ResizeObserver/i,ignoreFileRe:/^((?!bryntum).)*$/,onBeforeLog:function onBeforeLog(data){if(data.isJsError&&(!data.file||!data.file.includes(".js")||data.file.includes("chrome-extension"))){return false}},recorderConfig:{shouldIgnoreDomElementId:function shouldIgnoreDomElementId(id){return/^(b_|b-)/.test(id)},ignoreCssClasses:["b-sch-event-hover","b-contains-focus","b-hover","b-dirty","b-focused"]}})}},{key:"animateScroll",set:function set(animate){this._animateScroll=animate;document.body.classList[animate?"remove":"add"]("prevent-animations")},get:function get(){return this._animateScroll}}]);return DocsBrowser}(Delayable(Events()));window.DocsBrowserInstance=new DocsBrowser;window.DocsBrowser=DocsBrowser},"./docs/browser/lib/MemberTooltip.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return SummaryTooltip});var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.object.to-string.js");var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.reflect.construct.js");var core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.regexp.exec.js");var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_3__);var core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/core-js/modules/es.regexp.to-string.js");var core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_4__);var core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/core-js/modules/es.string.split.js");var core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_5__);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/@babel/runtime/helpers/classCallCheck.js");var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/@babel/runtime/helpers/createClass.js");var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__);var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../node_modules/@babel/runtime/helpers/get.js");var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_8__);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../node_modules/@babel/runtime/helpers/inherits.js");var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9__);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_10__);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../node_modules/@babel/runtime/helpers/getPrototypeOf.js");var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_11__);var _templates_SummaryItemsTemplate_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./docs/browser/lib/templates/SummaryItemsTemplate.js");function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_11___default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_11___default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_10___default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,typeMap={configs:"config",properties:"property",functions:"function",events:"event",fields:"field"};var SummaryTooltip=function(_ns$Tooltip){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_9___default()(SummaryTooltip,_ns$Tooltip);var _super=_createSuper(SummaryTooltip);function SummaryTooltip(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6___default()(this,SummaryTooltip);return _super.apply(this,arguments)}_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7___default()(SummaryTooltip,[{key:"construct",value:function construct(){_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_8___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_11___default()(SummaryTooltip.prototype),"construct",this).apply(this,arguments);ns.EventHelper.on({element:this.element,click:"hide",thisObj:this})}},{key:"onBeforeShow",value:function onBeforeShow(){var triggerElement=this.activeTarget,hash=document.location.hash.split("#"),record=this.store.getById(hash[1]),type=triggerElement.id.substring("summary-".length);this.populate(record,type)}},{key:"populate",value:function populate(record,type){var me=this,recordData=record.data,data={recordData:recordData,data:recordData[type].sort(function(a,b){return a.name<b.name?-1:1}),type:type,prefix:typeMap[type],title:type.substring(0,1).toUpperCase()+type.substring(1)},headerElement=me.headerElement;headerElement.classList.remove(me.contentType);headerElement.classList.add(data.type);me.contentType=data.type;me.titleElement.innerHTML=data.title;me.html=Object(_templates_SummaryItemsTemplate_js__WEBPACK_IMPORTED_MODULE_12__["default"])(data)}}],[{key:"defaultConfig",get:function get(){return{textContent:false,forElement:document.getElementById("content"),forSelector:".summary > .summary-icon:not(.none)",allowOver:true,cls:"summary-tooltip",scrollable:{overflowY:true},header:{dock:"top",cls:"summary-title",titleAlign:"center"},scrollAction:"realign"}}}]);return SummaryTooltip}(ns.Tooltip)},"./docs/browser/lib/NavigationTree.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return NavigationTree});var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.symbol.js");var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.symbol.description.js");var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.symbol.iterator.js");var core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.array.find.js");var core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_3__);var core_js_modules_es_array_find_index__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/core-js/modules/es.array.find-index.js");var core_js_modules_es_array_find_index__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_find_index__WEBPACK_IMPORTED_MODULE_4__);var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/core-js/modules/es.array.for-each.js");var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_5__);var core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/core-js/modules/es.array.from.js");var core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_6__);var core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/core-js/modules/es.array.iterator.js");var core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_7__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_8__);var core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../node_modules/core-js/modules/es.array.slice.js");var core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_9__);var core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../node_modules/core-js/modules/es.array.splice.js");var core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_10__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_11__);var core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../node_modules/core-js/modules/es.object.assign.js");var core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_12__);var core_js_modules_es_object_entries__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../node_modules/core-js/modules/es.object.entries.js");var core_js_modules_es_object_entries__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_object_entries__WEBPACK_IMPORTED_MODULE_13__);var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../node_modules/core-js/modules/es.object.to-string.js");var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_14__);var core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../node_modules/core-js/modules/es.reflect.construct.js");var core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_15__);var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../node_modules/core-js/modules/es.regexp.exec.js");var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_16__);var core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../node_modules/core-js/modules/es.regexp.to-string.js");var core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_17__);var core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../node_modules/core-js/modules/es.string.iterator.js");var core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_18__);var core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../node_modules/core-js/modules/es.string.split.js");var core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_19__);var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../node_modules/core-js/modules/web.dom-collections.for-each.js");var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_20__);var core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../node_modules/core-js/modules/web.dom-collections.iterator.js");var core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_21__);var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../node_modules/@babel/runtime/helpers/slicedToArray.js");var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_22__);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../node_modules/@babel/runtime/helpers/classCallCheck.js");var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_23__);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("../node_modules/@babel/runtime/helpers/createClass.js");var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_24__);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("../node_modules/@babel/runtime/helpers/inherits.js");var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_25__);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_26__);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("../node_modules/@babel/runtime/helpers/getPrototypeOf.js");var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_27__);function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_27___default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_27___default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_26___default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt;var NavigationTree=function(_ns$TreeGrid){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_25___default()(NavigationTree,_ns$TreeGrid);var _super=_createSuper(NavigationTree);_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_24___default()(NavigationTree,null,[{key:"defaults",get:function get(){return{rowHeight:35}}}]);function NavigationTree(config,store){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_23___default()(this,NavigationTree);Object.assign(config,{hideHeaders:true,readOnly:true,emptyText:"",features:{cellEdit:false,tree:{expandOnCellClick:true},quickFind:{mode:"grid"}},store:{fields:["access","classDescription","extends","private","constructor","filename","path","folder","modulePath","description","fullName","href","functions","mixins"],sorters:[{field:"name",ascending:true,fn:function fn(lhs,rhs){if(!lhs.childLevel&&!rhs.childLevel)return 0;var lhsIsLeaf=lhs.isLeaf,rhsIsLeaf=rhs.isLeaf;if(lhsIsLeaf===rhsIsLeaf){return null}return!lhsIsLeaf?-1:1}}]},columns:[{text:"Name",field:"name",width:150,type:"tree",collapsedFolderIconCls:"b-icon b-icon-tree-folder",expandedFolderIconCls:"b-icon b-icon-tree-folder-open",renderer:function renderer(_ref){var record=_ref.record,cellElement=_ref.cellElement,rowElement=_ref.rowElement;if(record.data.mixin){cellElement.classList.add("mixin")}if(record.data.access==="private"){rowElement.classList.add("private")}return record.name}}]});return _super.apply(this,arguments)}_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_24___default()(NavigationTree,[{key:"buildDocsTree",value:function buildDocsTree(docsJson){var me=this;var rows=[{id:"guides",name:"Guides",expanded:true,children:me.buildGuideTree(me.guides),isGuide:true,cls:"guide"},{id:"demos",name:"Demos",target:"_blank",cls:"external-link",href:/^(www\.)?bryntum\.com/.test(window.location.host)?"/examples/".concat(me.product):"../examples"},{id:"react",name:"React components",expanded:false,cls:"react",children:[]},{id:"api",name:"API docs",expanded:false,cls:"api",href:"#api",children:[]}],parents={},apiDocsData=rows.find(function(cfg){return cfg.id==="api"}),reactComponentsData=rows.find(function(cfg){return cfg.id==="react"});if(me.product==="gantt"||me.product==="schedulerpro"){rows.splice(2,0,{id:"engineDocs",name:"Scheduling Engine API Docs",href:"./engine/",cls:"external-link"})}if(docsJson.classes){apiDocsData.expanded=true;var _iterator=_createForOfIteratorHelper(docsJson.classes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var cls=_step.value;var parent=me.getParent(parents,apiDocsData.children,cls.folder);parent&&parent.children.push(cls)}}catch(err){_iterator.e(err)}finally{_iterator.f()}}if(docsJson.components){reactComponentsData.expanded=true;apiDocsData.expanded=false;var _iterator2=_createForOfIteratorHelper(docsJson.components),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var component=_step2.value;var _parent=me.getParent(parents,reactComponentsData.children,component.folder);_parent&&_parent.children.push(component)}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}}if(!docsJson.components||!docsJson.components.length){rows.splice(rows.findIndex(function(cfg){return cfg.id==="react"}),1)}me.store.data=rows}},{key:"getParent",value:function getParent(parents,rows,path){if(!path)return null;if(parents[path])return parents[path];var parts=path.split("/"),cur="",parent;parts.forEach(function(part,i){cur+=part;var found=parents[cur];if(!found){found=parents[cur]={id:cur,name:part,children:[]};if(parent)parent.children.push(found);if(i===0)rows.push(found)}parent=found;cur+="/"});return parent}},{key:"buildGuideTree",value:function buildGuideTree(guides){var _this=this;return Object.entries(guides).map(function(_ref2){var _ref3=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_22___default()(_ref2,2),title=_ref3[0],data=_ref3[1];if(typeof data==="string"){return{id:data,isGuide:true,name:title,fullName:data,cls:"guide",href:"#"+data}}else{return{name:title,children:_this.buildGuideTree(data),cls:"guide-parent"}}})}}]);return NavigationTree}(ns.TreeGrid)},"./docs/browser/lib/SectionTooltip.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return SectionTooltip});var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.object.to-string.js");var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.reflect.construct.js");var core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.regexp.to-string.js");var core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/@babel/runtime/helpers/classCallCheck.js");var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/@babel/runtime/helpers/createClass.js");var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__);var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/@babel/runtime/helpers/get.js");var _babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_5__);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/@babel/runtime/helpers/inherits.js");var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7__);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../node_modules/@babel/runtime/helpers/getPrototypeOf.js");var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8__);function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_7___default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt;var SectionTooltip=function(_ns$Tooltip){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(SectionTooltip,_ns$Tooltip);var _super=_createSuper(SectionTooltip);function SectionTooltip(){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this,SectionTooltip);return _super.apply(this,arguments)}_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(SectionTooltip,[{key:"construct",value:function construct(){_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_5___default()(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_8___default()(SectionTooltip.prototype),"construct",this).apply(this,arguments);ns.EventHelper.on({element:this.element,click:"hide",thisObj:this})}},{key:"onBeforeShow",value:function onBeforeShow(tip){var triggerElement=this.activeTarget;this.html=triggerElement.dataset.tooltip}}],[{key:"defaultConfig",get:function get(){return{forElement:document.getElementById("content"),forSelector:".sectionHeader i"}}}]);return SectionTooltip}(ns.Tooltip)},"./docs/browser/lib/Tools.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"default",function(){return Tools});var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.symbol.js");var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.symbol.description.js");var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.symbol.iterator.js");var core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_symbol_iterator__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.array.for-each.js");var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_3__);var core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/core-js/modules/es.array.from.js");var core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_4__);var core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/core-js/modules/es.array.iterator.js");var core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_5__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_6__);var core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/core-js/modules/es.array.slice.js");var core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_7__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_8__);var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../node_modules/core-js/modules/es.object.to-string.js");var core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_9__);var core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../node_modules/core-js/modules/es.reflect.construct.js");var core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_reflect_construct__WEBPACK_IMPORTED_MODULE_10__);var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../node_modules/core-js/modules/es.regexp.exec.js");var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_11__);var core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../node_modules/core-js/modules/es.regexp.to-string.js");var core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_12__);var core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../node_modules/core-js/modules/es.string.iterator.js");var core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_13__);var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("../node_modules/core-js/modules/es.string.replace.js");var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_14__);var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("../node_modules/core-js/modules/web.dom-collections.for-each.js");var core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_15__);var core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("../node_modules/core-js/modules/web.dom-collections.iterator.js");var core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_16__);var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("../node_modules/@babel/runtime/helpers/slicedToArray.js");var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_17__);var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("../node_modules/@babel/runtime/helpers/classCallCheck.js");var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_18__);var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("../node_modules/@babel/runtime/helpers/assertThisInitialized.js");var _babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_19__);var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("../node_modules/@babel/runtime/helpers/createClass.js");var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_20__);var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("../node_modules/@babel/runtime/helpers/inherits.js");var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_21__);var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js");var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_22__);var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("../node_modules/@babel/runtime/helpers/getPrototypeOf.js");var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_23__);var _templates_SearchResultTemplate_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./docs/browser/lib/templates/SearchResultTemplate.js");function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();normalCompletion=step.done;return step},e:function e(_e2){didErr=true;err=_e2},f:function f(){try{if(!normalCompletion&&it.return!=null)it.return()}finally{if(didErr)throw err}}}}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i]}return arr2}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_23___default()(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_23___default()(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_22___default()(this,result)}}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt;var symbolSorter=function symbolSorter(item1,item2,phrase){phrase=phrase.toLowerCase();if(item1.type==="class"&&item2.type!=="class"){return-1}else if(item1.type!=="class"&&item2.type==="class"){return 1}if(phrase===item1.name.toLowerCase()&&phrase!==item2.name.toLowerCase())return-1;if(phrase===item2.name.toLowerCase()&&phrase!==item1.name.toLowerCase())return 1;return item1.fullName<item2.fullName?-1:1};var Tools=function(_ns$Events){_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_21___default()(Tools,_ns$Events);var _super=_createSuper(Tools);_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_20___default()(Tools,null,[{key:"defaultConfig",get:function get(){return{renderTo:null,searchField:null,menuButton:null,settings:null}}}]);function Tools(config){var _this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_18___default()(this,Tools);_this=_super.apply(this,arguments);var me=_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_19___default()(_this);var _ns$WidgetHelper$appe=ns.WidgetHelper.append([{id:"search-combo",type:"combo",cls:"b-bright search-box",listCls:"search-results",changeOnKeyStroke:true,displayField:"fullName",valueField:"hash",clearable:true,items:[],icon:null,minChars:3,pickerWidth:400,keyStrokeFilterDelay:300,filterOperator:"*",listItemTpl:_templates_SearchResultTemplate_js__WEBPACK_IMPORTED_MODULE_24__["default"],label:'<i class="b-icon b-icon-search"></i>',onAction:me.onSearch.bind(me),validateFilter:false},{type:"button",id:"menu-button",cls:"b-white",icon:"b-fa b-fa-bars",style:"margin-left: .5rem",onClick:me.onMenuButtonClick.bind(me)}],me.renderTo);var _ns$WidgetHelper$appe2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_17___default()(_ns$WidgetHelper$appe,2);me.searchField=_ns$WidgetHelper$appe2[0];me.menuButton=_ns$WidgetHelper$appe2[1];var store=me.searchField.store;store.on({filter:function filter(){store.sort({fn:function fn(a,b){return symbolSorter(b,a,me.searchField.input.value)},ascending:false})}});var apiButton=document.getElementById("api-button");apiButton.addEventListener("click",function(){return me.onApiButtonClick(apiButton)});return _this}_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_20___default()(Tools,[{key:"generateSearchItems",value:function generateSearchItems(json,guides,settings){var me=this;var symbols=[];var _iterator=_createForOfIteratorHelper(json.classes),_step;try{var _loop=function _loop(){var cls=_step.value;if(cls.access==="private"&&settings.showPrivate||cls.access==="internal"&&settings.showInternal||(cls.access==="public"||!cls.access)&&settings.showPublic){var clsFullName=cls.fullName.replace(/\//g,".");symbols.push({type:"class",data:cls,name:cls.name,fullName:clsFullName,hash:cls.fullName});if(cls.functions){symbols.push.apply(symbols,cls.functions.map(function(fn){var hash=cls.fullName+"#function-"+fn.name+(fn.scope==="static"?"-static":"");return{type:"function",data:cls,name:fn.name,fullName:clsFullName+"."+fn.name,scope:fn.scope,hash:hash}}))}if(cls.configs){symbols.push.apply(symbols,cls.configs.map(function(config){var hash=cls.fullName+"#config-"+config.name;return{type:"config",data:cls,name:config.name,fullName:clsFullName+"."+config.name,hash:hash}}))}if(cls.fields){symbols.push.apply(symbols,cls.fields.map(function(field){var hash=cls.fullName+"#field-"+field.name;return{type:"field",data:cls,name:field.name,fullName:clsFullName+"."+field.name,hash:hash}}))}if(cls.properties){symbols.push.apply(symbols,cls.properties.map(function(property){var hash=cls.fullName+"#property-"+property.name+(property.scope==="static"?"-static":"");return{type:"property",data:cls,name:property.name,fullName:clsFullName+"."+property.name,scope:property.scope,hash:hash}}))}if(cls.events){symbols.push.apply(symbols,cls.events.map(function(event){return{type:"event",data:cls,name:event.name,fullName:clsFullName+"."+event.name,hash:cls.fullName+"#event-"+event.name}}))}}};for(_iterator.s();!(_step=_iterator.n()).done;){_loop()}}catch(err){_iterator.e(err)}finally{_iterator.f()}symbols.push.apply(symbols,guides.map(function(guide){return{type:"guide",data:guide,cls:"b-fa b-fa-book",name:"Guide: "+guide.name,fullName:guide.name,hash:guide.data.fullName}}));var searchPhrase=me.searchField.input.value;symbols.sort(function(a,b){return symbolSorter(a,b,searchPhrase)});me.searchField.store.data=symbols}},{key:"onSearch",value:function onSearch(_ref){var value=_ref.value;if(value){location.hash=value;this.resetSearchField()}else{this.onSearchClear()}}},{key:"resetSearchField",value:function resetSearchField(){var searchField=this.searchField;searchField.suspendEvents();searchField.clear();searchField.resumeEvents()}},{key:"onMenuButtonClick",value:function onMenuButtonClick(){var me=this,menu=new Menu({forElement:me.menuButton.element,width:250,items:[{name:"showPublic",checked:me.settings.showPublic,text:"Show public members"},{name:"showInternal",checked:me.settings.showInternal,text:"Show internal members"},{name:"showPrivate",checked:me.settings.showPrivate,text:"Show private members"},{name:"showInherited",cls:"b-separator",checked:me.settings.showInherited,text:"Show inherited members",separator:true},{name:"groupMembers",cls:"b-separator",checked:me.settings.groupMembers,text:"Group members",separator:true}],onToggle:function onToggle(_ref2){var source=_ref2.menu;var settings={};menu.items.forEach(function(item){settings[item.name]=item.checked});me.trigger("settingsChange",{settings:settings})}})}},{key:"onApiButtonClick",value:function onApiButtonClick(buttonEl){var me=this,items=me.searchField.store.query(function(item){return item.type==="class"||item.type==="guide"});new Menu({forElement:buttonEl,width:250,items:items.map(function(item){return{text:item.name,href:"#"+item.hash}}).sort(function(a,b){return a.text<b.text?-1:1})})}}]);return Tools}(ns.Events(ns.Base))},"./docs/browser/lib/templates/ApiOverviewTemplate.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.array.concat.js");var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.array.join.js");var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__);var _UnorderedList_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./docs/browser/lib/templates/UnorderedList.js");function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()(['\n<h1>API Overview</h1>\n<div class="content-body">\n    ',"\n</div>\n"]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper,getRootNodes=function getRootNodes(record){var nodes=[];record.traverse(function(node){if(!node.isLeaf&&node.childLevel===2){nodes.push(node)}});return nodes};__webpack_exports__["default"]=function(record){return TH.docsTpl(_templateObject(),record.children.map(function(rootNamespaceNode){return'<div class="rootnamespace"><h2>'.concat(rootNamespaceNode.name,'</h2><div class="namespace-child-wrap">').concat(getRootNodes(rootNamespaceNode).map(function(node){return"<section>".concat(Object(_UnorderedList_js__WEBPACK_IMPORTED_MODULE_5__["default"])(node),"</section>")}).join(""),"</div></div>")}).join(""))}},"./docs/browser/lib/templates/ContentTemplate.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.symbol.js");var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.symbol.description.js");var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.array.concat.js");var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.array.last-index-of.js");var core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_3__);var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/core-js/modules/es.regexp.exec.js");var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4__);var core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/core-js/modules/es.string.match.js");var core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_5__);var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/core-js/modules/es.string.replace.js");var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_6__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7__);var _content_Fields_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./docs/browser/lib/templates/content/Fields.js");var _content_Mixins_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./docs/browser/lib/templates/content/Mixins.js");var _content_Snippets_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./docs/browser/lib/templates/content/Snippets.js");var _content_ExternalExamples_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./docs/browser/lib/templates/content/ExternalExamples.js");var _content_Configs_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./docs/browser/lib/templates/content/Configs.js");var _content_ReactProps_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./docs/browser/lib/templates/content/ReactProps.js");var _content_Properties_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./docs/browser/lib/templates/content/Properties.js");var _content_Functions_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./docs/browser/lib/templates/content/Functions.js");var _content_Events_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./docs/browser/lib/templates/content/Events.js");function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()(['\n<header class="content-header">\n    <div class="column">\n        <h1 class="title ','">\n            <span class="title-text">',"</span>\n            ","\n            ",'\n        </h1>\n        <div class="extends">\n        ',"\n        ",'\n        </div>\n    </div>\n    <div class="summary">\n        ',"\n        ",'\n    </div>\n</header>\n<div class="content-body">\n<section class="description">',"</section>\n\n    ","\n\n    ","\n\n    ",'\n\n    <div class="no-results">No results</div>\n\n    ',"\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n\n    ","\n</div>\n"]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper,product=window.bryntum.gantt?"gantt":window.bryntum.scheduler?"scheduler":"grid",isOnline=/^(www\.)?bryntum\.com/.test(document.location.host);__webpack_exports__["default"]=function(data){return TH.docsTpl(_templateObject(),data.mixin?"mixin":"",data.fullName.replace(/\//g,"."),data.access==="private"?'<div class="badge access private">'.concat(data.access,"</div>"):"",data.virtual?'<div class="badge access virtual">ABSTRACT</div>':"",data.extends&&data.extends[0]?'extends <a href="#'.concat(data.extends[0],'">').concat(data.extends[0].substring(data.extends[0].lastIndexOf("/")+1),"</a>"):"",data.classType?'<div class="badge classType">'.concat(data.fullName.match(/\/feature\//)?"id":"type",": ").concat(data.classType,"</div>"):"",data.demo?'<a id="demo-link" href="'.concat(isOnline?"/examples/".concat(data.demo.product):"../".concat(data.demo.product!==product?"../".concat(data.demo.product,"/"):"","examples"),"/").concat(data.demo.demo,'" target="_blank"></a>'):"",data.props?'<a id="summary-props" class="summary-icon summary-props '.concat(!data.props||data.props.length===0?"none":"",'"></a>'):'<a href="#'.concat(data.fullName,'#fields" id="summary-fields" class="summary-icon summary-field ').concat(!data.fields||data.fields.length===0?"none":"",'"></a>\n     <a href="#').concat(data.fullName,'#configs" id="summary-configs" class="summary-icon summary-config ').concat(!data.configs||data.configs.length===0?"none":"",'"></a>\n     <a href="#').concat(data.fullName,'#properties" id="summary-properties" class="summary-icon summary-property ').concat(!data.properties||data.properties.length===0?"none":"",'"></a>\n     <a href="#').concat(data.fullName,'#functions" id="summary-functions" class="summary-icon summary-function ').concat(!data.functions||data.functions.length===0?"none":"",'"></a>\n     <a href="#').concat(data.fullName,'#events" id="summary-events" class="summary-icon summary-event ').concat(!data.events||data.events.length===0?"none":"",'"></a>'),data.description,Object(_content_ExternalExamples_js__WEBPACK_IMPORTED_MODULE_11__["default"])(data),Object(_content_Snippets_js__WEBPACK_IMPORTED_MODULE_10__["default"])(data),Object(_content_Mixins_js__WEBPACK_IMPORTED_MODULE_9__["default"])(data),Object(_content_ReactProps_js__WEBPACK_IMPORTED_MODULE_13__["default"])(data),Object(_content_Fields_js__WEBPACK_IMPORTED_MODULE_8__["default"])(data),Object(_content_Configs_js__WEBPACK_IMPORTED_MODULE_12__["default"])(data),Object(_content_Properties_js__WEBPACK_IMPORTED_MODULE_14__["default"])(data),Object(_content_Functions_js__WEBPACK_IMPORTED_MODULE_15__["default"])(data),Object(_content_Events_js__WEBPACK_IMPORTED_MODULE_16__["default"])(data))}},"./docs/browser/lib/templates/MissingItemTemplate.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__);function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()(['\n<h1 class="path-not-found b-fa b-fa-frown">\n    Oops, we could not find this resource.\n</h1>\n<div class="path-not-found-description">\n    <strong>','</strong> could be not found. <a href="#">Click here to go back to the docs.</a>\n</div>\n']);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;__webpack_exports__["default"]=function(data){return TH.docsTpl(_templateObject(),data.path)}},"./docs/browser/lib/templates/SearchResultTemplate.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_0__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__);function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1___default()(['\n    <div class="search-hit '," "," ",'" data-hash="','">\n        <dl>\n            <dt>',"</dt>\n            <dd>","</span>\n        </dl>\n    </div>\n"]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;__webpack_exports__["default"]=function(docsItem){return TH.docsTpl(_templateObject(),docsItem.data.type,docsItem.data.cls||"",docsItem.data.scope==="static"?"static":"",docsItem.data.hash,docsItem.data.name,docsItem.data.fullName)}},"./docs/browser/lib/templates/SummaryItemsTemplate.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.array.concat.js");var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_2__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__);var _content_Badges_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./docs/browser/lib/templates/content/Badges.js");function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3___default()(['\n<div class="summary-items ','">\n    ',"\n</div>"]);_templateObject=function _templateObject(){return data};return data}__webpack_exports__["default"]=function(data){return TemplateHelper.docsTpl(_templateObject(),data.title,data.data.map(function(item){return'\n         <a class="summary-item" href="#'.concat(data.recordData.fullName,"#").concat(data.prefix,"-").concat(item.name).concat(item.scope==="static"?"-static":"",'">\n             <label class="name">').concat(item.name,"</label>\n            ").concat(Object(_content_Badges_js__WEBPACK_IMPORTED_MODULE_4__["default"])(item),"\n        </a>\n    ")}))}},"./docs/browser/lib/templates/UnorderedList.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.array.concat.js");var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.array.join.js");var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__);var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/core-js/modules/es.regexp.exec.js");var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_4__);var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/core-js/modules/es.string.replace.js");var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_5__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_6__);function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_6___default()(["\n    ","\n"]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;var listTpl=function listTpl(node){return TH.docsTpl(_templateObject(),node.isLeaf?'<li><a href="#'.concat(node.data.fullName,'">').concat(node.name,"</a></li>"):'<li class="namespace"><i class="b-fa b-fa-folder"></i><span>'.concat(node.id.replace(/\//g,"."),"</span><ul>").concat(node.children.map(listTpl).join(""),"</ul></li>"))};__webpack_exports__["default"]=listTpl},"./docs/browser/lib/templates/content/Badges.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.array.concat.js");var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__);function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1___default()(["\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n    "]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;__webpack_exports__["default"]=function(member){return TH.docsTpl(_templateObject(),member.access?'<div class="badge access '.concat(member.access,'">').concat(member.access,"</div>"):"",member.async?'<div class="badge async">ASYNC</div>':"",member.calculated?'<div class="badge calculated">CALCULATED</div>':"",member.deprecated?'<div class="badge deprecated">DEPRECATED</div>':"",member.preventable?'<div class="badge preventable" title="Preventable: You can return false to prevent the operation">PREVENTABLE</div>':"",member.propagating?'<div class="badge propagating">PROPAGATING</div>':"",member.readonly?'<div class="badge access readonly">READONLY</div>':"",member.scope==="static"?'<div class="badge scope '.concat(member.scope,'">').concat(member.scope,"</div>"):"")}},"./docs/browser/lib/templates/content/Configs.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.symbol.js");var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.symbol.description.js");var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__);var _TypeLink_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./docs/browser/lib/templates/content/TypeLink.js");var _InheritLink_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./docs/browser/lib/templates/content/InheritLink.js");var _SubParameters_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./docs/browser/lib/templates/content/SubParameters.js");var _Badges_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./docs/browser/lib/templates/content/Badges.js");function _templateObject4(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()(["\n                                ",'\n                                <div class="description">',"</div>\n                            "]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()(['\n                        <h3>Returns</h3>\n                        <div class="returns">\n                            ',"\n                        </div>\n                        "]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()(["\n            ",'\n            <li name="','" id="config-','" class="member config '," "," ",'">\n                <div class="name">\n                    <a href="#',"#config-",'">',"</a>\n                    ","\n                    ",'\n                    <div class="filler"></div>\n                        ','\n                    <div class="scope ','"></div>\n                    ','\n                </div>\n                <div class="description">\n                    ','\n                    <div class="config-body">\n                        ',"\n                        ","\n                        ","\n                    </div>\n                </div>\n            </li>\n        "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()(['\n        <section id="configs" class="configs">\n        <h2 class="sectionHeader">Configs<i class="b-fa b-fa-question-circle" data-tooltip="Configs are options you supply in a configuration object when creating an instance of this class"></i></h2>\n        <ul>\n        ',"\n        </ul>\n    </section>\n    "]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;__webpack_exports__["default"]=function(data){if(!data.configs||!data.configs.length)return"";return TH.docsTpl(_templateObject(),data.configs.map(function(config){return TH.docsTpl(_templateObject2(),data.isNewCategory(config)?'<h3 class="categoryHeader">'.concat(config.category,"</h3>"):"",config.name.toLowerCase(),config.name,config.expandable?"expandable":"",config.access,config.deprecated?"deprecated":"",data.fullName,config.name,config.name,config.type?Object(_TypeLink_js__WEBPACK_IMPORTED_MODULE_5__["default"])(config.type):"",config.defaultvalue!=null?'<span class="default">'.concat(config.defaultvalue,"</span>"):"",Object(_Badges_js__WEBPACK_IMPORTED_MODULE_8__["default"])(config),config.scope,Object(_InheritLink_js__WEBPACK_IMPORTED_MODULE_6__["default"])(config),config.description,Object(_SubParameters_js__WEBPACK_IMPORTED_MODULE_7__["default"])(config.parameters),config.returns?TH.docsTpl(_templateObject3(),(config.returns.length?config.returns:[config.returns]).map(function(returnType){return TH.docsTpl(_templateObject4(),Object(_TypeLink_js__WEBPACK_IMPORTED_MODULE_5__["default"])(returnType.type,false,Boolean(returnType.description)),returnType.description)})):"",Object(_SubParameters_js__WEBPACK_IMPORTED_MODULE_7__["default"])(config.properties,""))}))}},"./docs/browser/lib/templates/content/Events.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.symbol.js");var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.symbol.description.js");var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.array.join.js");var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_3__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5__);var _InheritLink_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./docs/browser/lib/templates/content/InheritLink.js");var _Badges_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./docs/browser/lib/templates/content/Badges.js");var _SubParameters_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./docs/browser/lib/templates/content/SubParameters.js");function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5___default()(['\n                <li name="','" id="event-','" class="member event '," "," ",'">\n                    <div class="name">\n                       <a href="#',"#event-",'">','</a>\n                        <div class="filler"></div>                       \n                        ',"\n                        ",'\n                    </div>\n                    <div class="description">','\n                    <div class="event-body">\n                        ',"\n                    </div>\n                    </li>\n                "]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;__webpack_exports__["default"]=function(data){return data.events&&data.events.length?'\n                <section id="events" class="events">\n                <h2 class="sectionHeader">Events<i  class="b-fa b-fa-question-circle" data-tooltip="Events are triggered for certain actions in this class and can be listened for to react to those actions in your code"></i></h2>\n                <ul>\n            '.concat(data.events.map(function(event){return TH.docsTpl(_templateObject(),event.name.toLowerCase(),event.name,event.expandable?"expandable":"",event.access,event.deprecated?"deprecated":"",data.fullName,event.name,event.name,Object(_Badges_js__WEBPACK_IMPORTED_MODULE_7__["default"])(event),Object(_InheritLink_js__WEBPACK_IMPORTED_MODULE_6__["default"])(event),event.description,Object(_SubParameters_js__WEBPACK_IMPORTED_MODULE_8__["default"])(event.parameters))}).join(""),"\n            </ul>\n            </section>\n        "):""}},"./docs/browser/lib/templates/content/ExternalExamples.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.array.concat.js");var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_string_ends_with__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.string.ends-with.js");var core_js_modules_es_string_ends_with__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_string_ends_with__WEBPACK_IMPORTED_MODULE_2__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__);function _templateObject2(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3___default()(['\n                <div class="external-example" data-file="','">\n                    <div class="external-code-container">\n                        <div class="external-code example">\n                            <pre><code>\n                            </code></pre>\n                        </div>\n                    </div>\n                    <div class="external-target"></div>\n                </div>\n            ']);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3___default()(['\n        <section class="external-examples">\n             <h2 class="external-example-heading">Example','<i class="b-icon b-icon-code"></i></h2>\n            ',"\n        </section>\n    "]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;__webpack_exports__["default"]=function(data){return data.externalExamples&&data.externalExamples.length?TH.docsTpl(_templateObject(),data.externalExamples.length>1?"s":"",data.externalExamples.map(function(example){return example.endsWith(".js")?TH.docsTpl(_templateObject2(),example):'\n                <div class="external-example html loading" data-file="'.concat(example,'">\n                    <div class="external-code-container">\n                        <div class="external-code example">\n                            <pre><code>\n                            </code></pre>\n                        </div>\n                    </div>\n                    <iframe src="').concat(example,'"></iframe>\n                </div>\n            ')})):""};window.updateIframeHeight=function(){var iframe=document.querySelector(".external-example iframe");if(iframe){document.querySelector(".external-example").classList.remove("loading");iframe.style.height=iframe.contentWindow.document.body.scrollHeight+"px"}}},"./docs/browser/lib/templates/content/Fields.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.symbol.js");var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.symbol.description.js");var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__);var _InheritLink_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./docs/browser/lib/templates/content/InheritLink.js");var _TypeLink_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./docs/browser/lib/templates/content/TypeLink.js");var _Badges_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./docs/browser/lib/templates/content/Badges.js");function _templateObject2(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()(['\n            <li name="','" id="field-','" class="member field '," "," ",'">\n                <div class="name">\n                    <a href="#',"#field-",'">',"</a>\n                    ","\n                    ",'\n                    <div class="filler"></div>\n                    <div class="scope ','"></div>\n                    ',"\n\n                    ",'\n              </div>\n                <div class="description">',"</div>\n            </li>\n        "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()(['\n        <section id="fields" class="fields">\n        <h2 class="sectionHeader">Fields<i class="b-fa b-fa-question-circle" data-tooltip="Fields belong to a Model class and define the Model data structure"></i></h2>\n        <ul>\n        ',"\n        </ul>\n        </section>\n        "]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;__webpack_exports__["default"]=function(data){return data.fields&&data.fields.length?TH.docsTpl(_templateObject(),data.fields.map(function(field){return TH.docsTpl(_templateObject2(),field.name.toLowerCase(),field.name,field.expandable?"expandable":"",field.access,field.deprecated?"deprecated":"",data.fullName,field.name,field.name,field.type?Object(_TypeLink_js__WEBPACK_IMPORTED_MODULE_6__["default"])(field.type):"",field.defaultvalue!=null?'<span class="default">'.concat(field.defaultvalue,"</span>"):"",field.scope,Object(_Badges_js__WEBPACK_IMPORTED_MODULE_7__["default"])(field),Object(_InheritLink_js__WEBPACK_IMPORTED_MODULE_5__["default"])(field),field.description)})):""}},"./docs/browser/lib/templates/content/Functions.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.symbol.js");var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.symbol.description.js");var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.array.concat.js");var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.array.filter.js");var core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_3__);var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/core-js/modules/es.array.join.js");var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_4__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_5__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_6__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7__);var _Badges_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./docs/browser/lib/templates/content/Badges.js");var _TypeLink_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./docs/browser/lib/templates/content/TypeLink.js");var _InheritLink_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./docs/browser/lib/templates/content/InheritLink.js");var _SubParameters_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./docs/browser/lib/templates/content/SubParameters.js");function _templateObject4(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()(['\n             <section id="functions" class="functions">\n                 <h2 class="sectionHeader">Functions<i  class="b-fa b-fa-question-circle" data-tooltip="Functions are methods available for calling on the class"></i></h2>\n                 <ul class="functions static-header','">\n                     ','\n                 </ul>\n                 <ul class="functions instance-header','">\n                     ',"\n                 </ul>\n            </section>"]);_templateObject4=function _templateObject4(){return data};return data}function _templateObject3(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()(['\n                            <div class="example">\n                                <pre><code class="javascript">',"</code></pre>\n                            </div>\n                        "]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()(["\n                    ","","","\n                "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_7___default()(["\n      ",'\n              <li name="','" id="','" class="member function '," ","  ",'">\n                <div class="name"><a href="#',"#",'">','</a>(\n                <span class="function-name-parameters">\n                ',"\n                </span>\n                )\n                ",'\n                <div class="filler"></div>\n                ',"\n                ",'\n                </div>\n                <div class="description">','\n                    <div class="function-body">\n                        ',"\n                        ","\n                        ","\n                    </div>\n                </div>\n            </li>\n"]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;var innerTpl=function innerTpl(fn,data){var id="function-".concat(fn.name).concat(fn.scope==="static"?"-static":"");return TH.docsTpl(_templateObject(),data.isNewCategory(fn)?'<h3 class="categoryHeader">'.concat(fn.category,"</h3>"):"",fn.name.toLowerCase(),id,fn.expandable?"expandable":"",fn.access,fn.deprecated?"deprecated":"",data.fullName,id,fn.name,(fn.parameters||[]).filter(function(p){return!p.isSubParam}).map(function(param,i){return TH.docsTpl(_templateObject2(),param.isRestParam?"...":"",param.name,"default"in param?'<span class="default">'.concat(param.default,"</span>"):"")}).join(", "),fn.returns?'<div class="returns">'.concat(Object(_TypeLink_js__WEBPACK_IMPORTED_MODULE_9__["default"])(fn.returns.type),"</div>"):"",Object(_Badges_js__WEBPACK_IMPORTED_MODULE_8__["default"])(fn),Object(_InheritLink_js__WEBPACK_IMPORTED_MODULE_10__["default"])(fn),fn.description,fn.examples?fn.examples.map(function(example){return TH.docsTpl(_templateObject3(),example)}):"",Object(_SubParameters_js__WEBPACK_IMPORTED_MODULE_11__["default"])(fn.parameters),fn.returns?'\n                        <h3>Returns</h3>\n                           <div class="returns">\n                                '.concat(Object(_TypeLink_js__WEBPACK_IMPORTED_MODULE_9__["default"])(fn.returns.type,false,Boolean(fn.returns.description)),"\n                                ").concat(fn.returns.description?'<div class="description">'.concat(fn.returns.description,"</div>"):"","\n                           </div>\n                        "):"")};__webpack_exports__["default"]=function(data){if(data.functions&&data.functions.length){var instances=data.functions.filter(function(fn){return fn.scope!=="static"});var statics=data.functions.filter(function(fn){return fn.scope==="static"});return TH.docsTpl(_templateObject4(),!statics.length?" hidden":"",statics.map(function(fn){return fn.scope==="static"?innerTpl(fn,data):""}),!instances.length||!statics.length?" hidden":"",instances.map(function(fn){return fn.scope!=="static"||!fn.scope?innerTpl(fn,data):""}))}return""}},"./docs/browser/lib/templates/content/InheritLink.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.array.concat.js");var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.regexp.exec.js");var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.string.split.js");var core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2__);__webpack_exports__["default"]=function(data){if(!data.inheritedFrom)return"";var parts=data.inheritedFrom.split("/"),inheritTitle=parts[parts.length-1];return'<a href="#'.concat(data.inheritedFrom,'" class="inherited" title="Defined in ').concat(data.inheritedFrom,'">').concat(inheritTitle,"</a>")}},"./docs/browser/lib/templates/content/Mixins.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.array.join.js");var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_2__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3__);function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_3___default()(['<li class="mixin"><a href="#','">',"</a></li>"]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;__webpack_exports__["default"]=function(data){return data.mixins&&data.mixins.length?'<section class="mixins">\n        <h2 class="sectionHeader">Mixins<i  class="b-fa b-fa-question-circle" data-tooltip="Mixins add more functionality to this class, click on a mixin to open the documentation for it"></i></h2>\n        <ul>\n            '.concat(data.mixins.map(function(mixin){return TH.docsTpl(_templateObject(),mixin.fullName,mixin.name)}).join(""),"\n        </ul>\n    </section>"):""}},"./docs/browser/lib/templates/content/Properties.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.symbol.js");var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.symbol.description.js");var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.array.concat.js");var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.array.filter.js");var core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_3__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_4__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_5__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_6__);var _TypeLink_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./docs/browser/lib/templates/content/TypeLink.js");var _InheritLink_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./docs/browser/lib/templates/content/InheritLink.js");var _SubParameters_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./docs/browser/lib/templates/content/SubParameters.js");var _Badges_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./docs/browser/lib/templates/content/Badges.js");function _templateObject2(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_6___default()(['\n                    <section id="properties" class="properties">\n                        <h2 class="sectionHeader">Properties<i  class="b-fa b-fa-question-circle" data-tooltip="Properties are getters/setters or publicly accessible variables on this class"></i></h2>\n\n                        <ul class="properties static-header','">\n                             ','\n                        </ul>\n                        <ul class="properties instance-header','">\n                             ',"\n                        </ul>\n                    </section>"]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_6___default()(["\n     ",'\n     <li name="','" id="','" class="member property '," "," ",'">\n        <div class="name">\n            <a href="#',"#",'">',"</a>\n            ","\n            ",'\n            <div class="filler"></div>\n            ',"\n            ",'\n        </div>\n        <div class="description">\n            ',"\n            ","\n        </div>\n    </li>\n"]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;var innerTpl=function innerTpl(data,property){var id="property-".concat(property.name).concat(property.scope==="static"?"-static":"");return TH.docsTpl(_templateObject(),data.isNewCategory(property)?'<h3 class="categoryHeader">'.concat(property.category,"</h3>"):"",property.name.toLowerCase(),id,property.expandable?"expandable":"",property.access,property.deprecated?"deprecated":"",data.fullName,id,property.name,property.type?Object(_TypeLink_js__WEBPACK_IMPORTED_MODULE_7__["default"])(property.type):"",property.defaultvalue!=null?'<span class="default">'.concat(property.defaultvalue,"</span>"):"",Object(_Badges_js__WEBPACK_IMPORTED_MODULE_10__["default"])(property),Object(_InheritLink_js__WEBPACK_IMPORTED_MODULE_8__["default"])(property),property.description,Object(_SubParameters_js__WEBPACK_IMPORTED_MODULE_9__["default"])(property.properties,"",true))};__webpack_exports__["default"]=function(data){if(data.properties&&data.properties.length){var instances=data.properties.filter(function(property){return property.scope!=="static"});var statics=data.properties.filter(function(property){return property.scope==="static"});return TH.docsTpl(_templateObject2(),!statics.length?" hidden":"",statics.map(function(property){return innerTpl(data,property)}),!instances.length||!statics.length?" hidden":"",instances.map(function(property){return innerTpl(data,property)}))}return""}},"./docs/browser/lib/templates/content/ReactProps.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.symbol.js");var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.symbol.description.js");var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_3__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__);var _TypeLink_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./docs/browser/lib/templates/content/TypeLink.js");var _Badges_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./docs/browser/lib/templates/content/Badges.js");function _templateObject3(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()(['\n                        <div class="prop-property ','>\n                            <div class="name">'," ",'</div>\n                            <div class="filler"></div>                            \n                            ','\n                            <div class="description">',"</div>\n                        </div>\n                    "]);_templateObject3=function _templateObject3(){return data};return data}function _templateObject2(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()(["\n            ",'\n            <li name="','" id="','" class="member prop">\n                <div class="name">'," "," ",'<div class="scope ','"></div>','</div>\n                    <div class="description">',"</div>\n                    ","\n            </li>\n        "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4___default()(['\n        <section class="props">\n        <h2 class="sectionHeader">Props</h2>\n        <ul>\n        ',"\n        </ul>\n    </section>\n    "]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;__webpack_exports__["default"]=function(data){return data.props&&data.props.length?TH.docsTpl(_templateObject(),data.props.map(function(property){return TH.docsTpl(_templateObject2(),data.isNewCategory(property)?"<h3>".concat(property.category,"</h3>"):"",property.name.toLowerCase(),property.name,property.name,property.type?Object(_TypeLink_js__WEBPACK_IMPORTED_MODULE_5__["default"])(property.type):"",property.defaultvalue!=null?'<div class="default">'.concat(property.defaultvalue,"</div>"):"",property.scope,property.readonly?'<div class="access readonly"></div>':"",property.description,property.properties?property.properties.map(function(prop){return!prop.name?"":TH.docsTpl(_templateObject3(),prop.deprecated?"deprecated":"",prop.name,prop.type&&prop.type.names?prop.type.names.map(_TypeLink_js__WEBPACK_IMPORTED_MODULE_5__["default"]):"",Object(_Badges_js__WEBPACK_IMPORTED_MODULE_6__["default"])(prop),prop.description)}):"")})):""}},"./docs/browser/lib/templates/content/Snippets.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_0__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1__);function _templateObject2(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1___default()(['\n            <div class="example">\n                <pre><code class="javascript">',"</code></pre>\n            </div>\n        </section>\n    "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_1___default()(['\n        <section class="snippets">\n            <h2 class="examples-heading">Snippet',"</h2>\n            ","\n    "]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;__webpack_exports__["default"]=function(data){return data.examples&&data.examples.length?TH.docsTpl(_templateObject(),data.examples.length>1?"s":"",data.examples.map(function(example){return TH.docsTpl(_templateObject2(),example)})):""}},"./docs/browser/lib/templates/content/SubParameters.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.symbol.js");var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.symbol.description.js");var core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.array.concat.js");var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_3__);var core_js_modules_es_array_some__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/core-js/modules/es.array.some.js");var core_js_modules_es_array_some__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_some__WEBPACK_IMPORTED_MODULE_4__);var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/core-js/modules/es.function.name.js");var core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_5__);var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../node_modules/core-js/modules/es.regexp.exec.js");var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_6__);var core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../node_modules/core-js/modules/es.string.split.js");var core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_7__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_8__);var _TypeLink_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./docs/browser/lib/templates/content/TypeLink.js");function _templateObject2(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_8___default()(["\n            ","\n        "]);_templateObject2=function _templateObject2(){return data};return data}function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_8___default()(["\n        ",'\n        <ul class="parameters">\n        ',"\n        </ul>\n    "]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper;__webpack_exports__["default"]=function(parameters){var name=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Parameters";var onlySubparams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!parameters||!parameters.length||onlySubparams&&!parameters.some(function(param){return param.isSubParam})){return""}return TH.docsTpl(_templateObject(),name?"<h3>".concat(name,"</h3>"):"",parameters.map(function(param){return TH.docsTpl(_templateObject2(),onlySubparams&&!param.isSubParam?"":'\n            <li class="parameter '.concat(param.isSubParam?"subparameter-"+(param.name.split(".").length-1):"",'">\n                <span class="name">').concat(param.isSubParam?param.name.split(".").pop():param.name,"\n                    <span>").concat(param.type?Object(_TypeLink_js__WEBPACK_IMPORTED_MODULE_9__["default"])(param.type,true,false,param.isRestParam):"","</span>\n                </span>\n                ").concat("default"in param?'<span class="default">'.concat(param.default,"</span>"):"","\n                ").concat("optional"in param?'<span class="optional"></span>':"","\n                ").concat(param.description?'<div class="description">'.concat(param.description,"</div>"):"","\n            </li>\n           "))}))}},"./docs/browser/lib/templates/content/TypeLink.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/core-js/modules/es.array.index-of.js");var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../node_modules/core-js/modules/es.array.join.js");var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__);var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../node_modules/core-js/modules/es.array.map.js");var core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__);var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../node_modules/core-js/modules/es.regexp.exec.js");var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_3__);var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../node_modules/core-js/modules/es.string.replace.js");var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_4__);var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js");var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5__);function _templateObject(){var data=_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_5___default()(["\n       <a ",' class="type" ',">","","</a>\n"]);_templateObject=function _templateObject(){return data};return data}var ns=window.bryntum.grid||window.bryntum.scheduler||window.bryntum.schedulerpro||window.bryntum.gantt,TH=ns.TemplateHelper,separator="/",mdnGlobalPath="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/",mdnWebPath="https://developer.mozilla.org/en-US/docs/Web/API/",globals=["Boolean","Date","Function","Number","Object","Promise","String","Symbol","null","undefined","Error"];var tpl=function tpl(type,isRestParam){var link="";if(type instanceof Object){return type.names&&type.names.map(tpl).join(separator)}type=type.replace(/\(\)/g,"");if(type.indexOf(".")>=0){link="#"+type.replace(/\./g,"/")}else if(type==="Class"){link="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes"}else if(type!=="*"){if(type!=="null"&&type!=="undefined"){type=type[0].toUpperCase()+type.substr(1)}link=(globals.indexOf(type.replace("[]",""))>=0?mdnGlobalPath:mdnWebPath)+type}link=link.replace("[]","");return TH.docsTpl(_templateObject(),type!=="*"&&type.indexOf(".")<0?'target="_blank"':"",link?'href="'.concat(link,'"'):"",isRestParam?"...":"",type)};__webpack_exports__["default"]=function(types){var prefixWithColon=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var suffixWithColon=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var isRestParam=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(!types||types.length===0){return""}return(prefixWithColon?": ":"")+(types instanceof Array?types:[types]).map(function(type){return tpl(type,isRestParam)}).join(separator)+(suffixWithColon?'<div class="suffix">:</div>':"")}}});